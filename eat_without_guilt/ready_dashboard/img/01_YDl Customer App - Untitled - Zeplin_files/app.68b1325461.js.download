!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=718)}([,function(e,t,n){"use strict";n.r(t),n.d(t,"render",(function(){return L})),n.d(t,"hydrate",(function(){return U})),n.d(t,"createElement",(function(){return m})),n.d(t,"h",(function(){return m})),n.d(t,"Fragment",(function(){return S})),n.d(t,"createRef",(function(){return y})),n.d(t,"isValidElement",(function(){return r})),n.d(t,"Component",(function(){return v})),n.d(t,"cloneElement",(function(){return M})),n.d(t,"createContext",(function(){return B})),n.d(t,"toChildArray",(function(){return k})),n.d(t,"_unmount",(function(){return x})),n.d(t,"options",(function(){return i}));var i,r,o,s,a,l,c,d,u={},h=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function f(e,t){for(var n in t)e[n]=t[n];return e}function g(e){var t=e.parentNode;t&&t.removeChild(e)}function m(e,t,n){var i,r=arguments,o={};for(i in t)"key"!==i&&"ref"!==i&&(o[i]=t[i]);if(arguments.length>3)for(n=[n],i=3;i<arguments.length;i++)n.push(r[i]);if(null!=n&&(o.children=n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===o[i]&&(o[i]=e.defaultProps[i]);return b(e,o,t&&t.key,t&&t.ref)}function b(e,t,n,r){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0};return i.vnode&&i.vnode(o),o}function y(){return{}}function S(e){return e.children}function v(e,t){this.props=e,this.context=t}function C(e,t){if(null==t)return e.__?C(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?C(e):null}function O(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return O(e)}}function E(e){(!e.__d&&(e.__d=!0)&&o.push(e)&&!s++||l!==i.debounceRendering)&&((l=i.debounceRendering)||a)(T)}function T(){for(var e;s=o.length;)e=o.sort((function(e,t){return e.__v.__b-t.__v.__b})),o=[],e.some((function(e){var t,n,i,r,o,s;e.__d&&(o=(r=(t=e).__v).__e,(s=t.__P)&&(n=[],i=P(s,r,f({},r),t.__n,void 0!==s.ownerSVGElement,null,n,null==o?C(r):o),R(n,r),i!=o&&O(r)))}))}function D(e,t,n,i,r,o,s,a,l){var c,d,p,f,m,b,y,S=n&&n.__k||h,v=S.length;if(a==u&&(a=null!=o?o[0]:v?C(n,0):null),c=0,t.__k=k(t.__k,(function(n){if(null!=n){if(n.__=t,n.__b=t.__b+1,null===(p=S[c])||p&&n.key==p.key&&n.type===p.type)S[c]=void 0;else for(d=0;d<v;d++){if((p=S[d])&&n.key==p.key&&n.type===p.type){S[d]=void 0;break}p=null}if(f=P(e,n,p=p||u,i,r,o,s,a,l),(d=n.ref)&&p.ref!=d&&(y||(y=[]),p.ref&&y.push(p.ref,null,n),y.push(d,n.__c||f,n)),null!=f){var h;if(null==b&&(b=f),void 0!==n.__d)h=n.__d,n.__d=void 0;else if(o==p||f!=a||null==f.parentNode){e:if(null==a||a.parentNode!==e)e.appendChild(f),h=null;else{for(m=a,d=0;(m=m.nextSibling)&&d<v;d+=2)if(m==f)break e;e.insertBefore(f,a),h=a}"option"==t.type&&(e.value="")}a=void 0!==h?h:f.nextSibling,"function"==typeof t.type&&(t.__d=a)}else a&&p.__e==a&&a.parentNode!=e&&(a=C(p))}return c++,n})),t.__e=b,null!=o&&"function"!=typeof t.type)for(c=o.length;c--;)null!=o[c]&&g(o[c]);for(c=v;c--;)null!=S[c]&&x(S[c],S[c]);if(y)for(c=0;c<y.length;c++)A(y[c],y[++c],y[++c])}function k(e,t,n){if(null==n&&(n=[]),null==e||"boolean"==typeof e)t&&n.push(t(null));else if(Array.isArray(e))for(var i=0;i<e.length;i++)k(e[i],t,n);else n.push(t?t("string"==typeof e||"number"==typeof e?b(null,e,null,null):null!=e.__e||null!=e.__c?b(e.type,e.props,e.key,null):e):e);return n}function w(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]="number"==typeof n&&!1===p.test(t)?n+"px":null==n?"":n}function _(e,t,n,i,r){var o,s,a,l,c;if(r?"className"===t&&(t="class"):"class"===t&&(t="className"),"key"===t||"children"===t);else if("style"===t)if(o=e.style,"string"==typeof n)o.cssText=n;else{if("string"==typeof i&&(o.cssText="",i=null),i)for(s in i)n&&s in n||w(o,s,"");if(n)for(a in n)i&&n[a]===i[a]||w(o,a,n[a])}else"o"===t[0]&&"n"===t[1]?(l=t!==(t=t.replace(/Capture$/,"")),c=t.toLowerCase(),t=(c in e?c:t).slice(2),n?(i||e.addEventListener(t,j,l),(e.l||(e.l={}))[t]=n):e.removeEventListener(t,j,l)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!r&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function j(e){this.l[e.type](i.event?i.event(e):e)}function P(e,t,n,r,o,s,a,l,c){var d,u,h,p,g,m,b,y,C,O,E=t.type;if(void 0!==t.constructor)return null;(d=i.__b)&&d(t);try{e:if("function"==typeof E){if(y=t.props,C=(d=E.contextType)&&r[d.__c],O=d?C?C.props.value:d.__:r,n.__c?b=(u=t.__c=n.__c).__=u.__E:("prototype"in E&&E.prototype.render?t.__c=u=new E(y,O):(t.__c=u=new v(y,O),u.constructor=E,u.render=N),C&&C.sub(u),u.props=y,u.state||(u.state={}),u.context=O,u.__n=r,h=u.__d=!0,u.__h=[]),null==u.__s&&(u.__s=u.state),null!=E.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=f({},u.__s)),f(u.__s,E.getDerivedStateFromProps(y,u.__s))),p=u.props,g=u.state,h)null==E.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==E.getDerivedStateFromProps&&y!==p&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(y,O),!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(y,u.__s,O)){for(u.props=y,u.state=u.__s,u.__d=!1,u.__v=t,t.__e=n.__e,t.__k=n.__k,u.__h.length&&a.push(u),d=0;d<t.__k.length;d++)t.__k[d]&&(t.__k[d].__=t);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(y,u.__s,O),null!=u.componentDidUpdate&&u.__h.push((function(){u.componentDidUpdate(p,g,m)}))}u.context=O,u.props=y,u.state=u.__s,(d=i.__r)&&d(t),u.__d=!1,u.__v=t,u.__P=e,d=u.render(u.props,u.state,u.context),t.__k=null!=d&&d.type==S&&null==d.key?d.props.children:Array.isArray(d)?d:[d],null!=u.getChildContext&&(r=f(f({},r),u.getChildContext())),h||null==u.getSnapshotBeforeUpdate||(m=u.getSnapshotBeforeUpdate(p,g)),D(e,t,n,r,o,s,a,l,c),u.base=t.__e,u.__h.length&&a.push(u),b&&(u.__E=u.__=null),u.__e=!1}else t.__e=I(n.__e,t,n,r,o,s,a,c);(d=i.diffed)&&d(t)}catch(e){i.__e(e,t,n)}return t.__e}function R(e,t){i.__c&&i.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){i.__e(e,t.__v)}}))}function I(e,t,n,i,r,o,s,a){var l,c,d,p,f,g=n.props,m=t.props;if(r="svg"===t.type||r,null!=o)for(l=0;l<o.length;l++)if(null!=(c=o[l])&&((null===t.type?3===c.nodeType:c.localName===t.type)||e==c)){e=c,o[l]=null;break}if(null==e){if(null===t.type)return document.createTextNode(m);e=r?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,m.is&&{is:m.is}),o=null}if(null===t.type)g!==m&&e.data!=m&&(e.data=m);else if(t!==n){if(null!=o&&(o=h.slice.call(e.childNodes)),d=(g=n.props||u).dangerouslySetInnerHTML,p=m.dangerouslySetInnerHTML,!a){if(g===u)for(g={},f=0;f<e.attributes.length;f++)g[e.attributes[f].name]=e.attributes[f].value;(p||d)&&(p&&d&&p.__html==d.__html||(e.innerHTML=p&&p.__html||""))}(function(e,t,n,i,r){var o;for(o in n)o in t||_(e,o,null,n[o],i);for(o in t)r&&"function"!=typeof t[o]||"value"===o||"checked"===o||n[o]===t[o]||_(e,o,t[o],n[o],i)})(e,m,g,r,a),t.__k=t.props.children,p||D(e,t,n,i,"foreignObject"!==t.type&&r,o,s,u,a),a||("value"in m&&void 0!==m.value&&m.value!==e.value&&(e.value=null==m.value?"":m.value),"checked"in m&&void 0!==m.checked&&m.checked!==e.checked&&(e.checked=m.checked))}return e}function A(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){i.__e(e,n)}}function x(e,t,n){var r,o,s;if(i.unmount&&i.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||A(r,null,t)),n||"function"==typeof e.type||(n=null!=(o=e.__e)),e.__e=e.__d=void 0,null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){i.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(s=0;s<r.length;s++)r[s]&&x(r[s],t,n);null!=o&&g(o)}function N(e,t,n){return this.constructor(e,n)}function L(e,t,n){var r,o,s;i.__&&i.__(e,t),o=(r=n===c)?null:n&&n.__k||t.__k,e=m(S,null,[e]),s=[],P(t,(r?t:n||t).__k=e,o||u,u,void 0!==t.ownerSVGElement,n&&!r?[n]:o?null:h.slice.call(t.childNodes),s,n||u,r),R(s,e)}function U(e,t){L(e,t,c)}function M(e,t){return t=f(f({},e.props),t),arguments.length>2&&(t.children=h.slice.call(arguments,2)),b(e.type,t,t.key||e.key,t.ref||e.ref)}function B(e){var t={},n={__c:"__cC"+d++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var i,r=this;return this.getChildContext||(i=[],this.getChildContext=function(){return t[n.__c]=r,t},this.shouldComponentUpdate=function(t){e.value!==t.value&&i.some((function(e){e.context=t.value,E(e)}))},this.sub=function(e){i.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){i.splice(i.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Consumer.contextType=n,n}i={__e:function(e,t){for(var n,i;t=t.__;)if((n=t.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError&&(i=!0,n.setState(n.constructor.getDerivedStateFromError(e))),null!=n.componentDidCatch&&(i=!0,n.componentDidCatch(e)),i)return E(n.__E=n)}catch(t){e=t}throw e}},r=function(e){return null!=e&&void 0===e.constructor},v.prototype.setState=function(e,t){var n;n=this.__s!==this.state?this.__s:this.__s=f({},this.state),"function"==typeof e&&(e=e(n,this.props)),e&&f(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),E(this))},v.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),E(this))},v.prototype.render=S,o=[],s=0,a="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,c=u,d=0},,,,,function(e,t,n){e.exports=n(7)()},function(e,t,n){"use strict";var i=n(8);function r(){}e.exports=function(){function e(e,t,n,r,o,s){if(s!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var i=n(10);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(11);n(12);function a(e){const{children:t,baseRef:n,class:r,style:o,type:a,disabled:l,inverted:c,ninja:d,primary:u,secondary:h,warning:p,onClick:f,onMouseEnter:g,onMouseLeave:m,"data-testid":b}=e,y=Object(s.default)("button",r,{inverted:!!c,ninja:!!d,primary:!!u,secondary:!!h,warning:!!p});return i.h("button",{style:o,ref:n,type:a,disabled:l,onClick:f,onMouseEnter:g,onMouseLeave:m,class:y},t)}a.propTypes={class:o.a.string,style:o.a.object,disabled:o.a.bool,children:o.a.node,onClick:o.a.func,primary:o.a.bool,secondary:o.a.bool},a.defaultProps={type:"button"},t.default=a},function(e,t,n){"use strict";function i(){var e=[];return Array.from(arguments).forEach((function(t){t&&(Array.isArray(t)?e=e.concat(t):"string"==typeof t?e.push(t):"object"==typeof t&&(e=e.concat(Object.keys(t).filter((function(e){return!0===t[e]})))))})),e.join(" ")}n.r(t),n.d(t,"default",(function(){return i}))},function(e,t){},,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"imageUrl",(function(){return o})),n.d(t,"emotarUrl",(function(){return a})),n.d(t,"srcset",(function(){return s})),n.d(t,"cropImage",(function(){return l})),n.d(t,"getResizedImageSources",(function(){return c})),n.d(t,"isLight",(function(){return d})),n.d(t,"getImageProperties",(function(){return h})),n.d(t,"getDominantColorOfImage",(function(){return p}));var i=n(19),r=n(20);function o(e){return new URL(e,location.origin).href}function s(e,t=["2x","3x"]){const n=e.match(/(.*)\.([^.]+)/);if(n&&3===n.length)return t.map(e=>`${n[1]}@${e}.${n[2]} ${e}`).join(", ")}function a(e){if("random"===e)return o("/img/emotars/icRandom.svg");return o(`/img/emotars/emotar${Object(i.uppercaseFirst)(e.replace(/_\w/g,e=>e.charAt(1).toUpperCase()))}.png`)}function l(e,t){return new Promise(n=>{const i=document.createElement("canvas");i.width=t.width,i.height=t.height;const r=i.getContext("2d");r.webkitImageSmoothingEnabled=!0,r.mozImageSmoothingEnabled=!0,r.msImageSmoothingEnabled=!0,r.imageSmoothingEnabled=!0,r.imageSmoothingQuality="medium";const o=document.createElement("img");let s,a,l;o.crossOrigin="anonymous";let c=1,d=0,u=0;o.addEventListener("load",e=>{o.width<=i.width?(s=o.width,d=(i.width-o.width)/2):(c=i.width/o.width,s=i.width),t.height||(i.height=i.width*o.height/o.width),l=c*o.height,l<=i.height?(a=o.height,u=(i.height-l)/2):(a=i.height/c,l=i.height),r.drawImage(o,0,0,o.width,a,d,u,s,l),i.toBlob(e=>{n(URL.createObjectURL(e))})}),o.addEventListener("error",t=>{n(e)}),o.src=e})}function c(e,{width:t,height:n}){const i=`${Zeplin.urls.imgURL}/${encodeURIComponent(e)}`;let r="?w="+t,o="?w="+2*t;return n&&(r+=`&cropTop=0&cropLeft=0&cropWidth=${t}&cropHeight=${n}`,o+=`&cropTop=0&cropLeft=0&cropWidth=${2*t}&cropHeight=${2*n}`),{src:`${i}${r}`,srcset:`${i}${o} 2x`}}function d(e){for(let t=0;t<e.length;t+=4){const n=e[t+0],i=e[t+1],r=e[t+2];if(e[t+3]>=55&&(n<200||i<200||r<200))return!1}return!0}const u={};function h(e){return new Promise((t,n)=>{const i="string"==typeof e?e:e.src;if(i in u)t(u[i]);else{const r="string"==typeof e?document.createElement("img"):e;r.crossOrigin="anonymous",r.addEventListener("load",(function e(){r.removeEventListener("load",e);const n=document.createElement("canvas"),o=n.getContext("2d");n.width=r.width,n.height=r.height,o.drawImage(r,0,0);const s=d(o.getImageData(0,0,n.width,n.height).data)?"light":"dark",a={size:{width:r.width,height:r.height},lightness:s};u[i]=a,t(a)})),r.addEventListener("error",(function e(t){r.removeEventListener("error",e),n(t)})),"string"==typeof e&&(r.src=e)}})}function p(e){if(!e)return null;const t=document.createElement("canvas"),n=t.getContext("2d");let i;t.height=e.naturalHeight||e.offsetHeight||e.height,t.width=e.naturalWidth||e.offsetWidth||e.width,n.drawImage(e,0,0);try{i=n.getImageData(0,0,t.width,t.height).data}catch(l){return null}const o=i.length,s={};for(let c=0;c<o;c+=4){const e=i[c],t=i[c+1],n=i[c+2];if(0===i[c+3])continue;if(e===t&&t===n)continue;const o="#"+[e,t,n].map(r.default.componentToHex).join("");s[o]?s[o]++:s[o]=1}const a=Object.keys(s);return a.length?a.reduce((e,t)=>s[e]>s[t]?e:t):null}},function(e,t,n){"use strict";n.r(t),n.d(t,"pluralize",(function(){return o})),n.d(t,"lowercaseFirst",(function(){return s})),n.d(t,"uppercaseFirst",(function(){return a})),n.d(t,"getRandomString",(function(){return l})),n.d(t,"anyWordStartsWith",(function(){return c})),n.d(t,"getFirstWhitespaceIndex",(function(){return d})),n.d(t,"getFilenameWithoutExtensionFromPath",(function(){return u})),n.d(t,"getFileExtensionFromPath",(function(){return h}));const i=/\W/,r=/[\W_]/;function o(e,t,{suffix:n="s",one:i=1}={}){return`${1===e?i:e} ${t}${1!==e?n:""}`}function s(e){return e.charAt(0).toLowerCase()+e.substring(1)}function a(e){return e.charAt(0).toUpperCase()+e.substring(1)}function l(e=1/0){return Math.random().toString(36).substr(2,e)}function c(e,t){return e.split(r).some(e=>e.startsWith(t))}function d(e,t){return t?e.length-e.split("").reverse().join("").search(i)-1:e.search(/\W/)}function u(e){return e.split("/").pop().split(".")[0]}function h(e){const t=e.split("/").pop();if(t.indexOf(".")>-1){const e=t.split(".");return e[e.length-1]}return null}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Color}));var i=n(21),r=n(22),o=n(23);const s=Object.freeze({android:"snakeCase",ios:"camelCase",osx:"camelCase",web:"kebabCase",base:"kebabCase"}),a=new Intl.NumberFormat("en-US",{useGrouping:!1,maximumFractionDigits:2});function l(e){const t=Math.trunc(e+e/255);return Math.max(0,Math.min(t,255))}function c(e,t,n,i){return t||i?(e*t+n*i*(1-t))/(t+i*(1-t)):0}function d(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}class Color extends o.default{constructor(e){if(e instanceof Color)return e;super();const{_id:t,id:n,name:i,r:r,g:o,b:s,a:a=1}=e;var c;this.id=t||n,this.r=l(r),this.g=l(o),this.b=l(s),this.a=(c=a,Math.max(0,Math.min(c,1))),this.name=i}static get NAMED_COLORS(){return r.CSS_NAMED_COLORS}static fromHex(e){let t=e.replace("#","");3!==t.length&&4!==t.length||(t=t.replace(/(.)/g,"$1$1"));const n=parseInt(t,16);let i=8*(t.length/2-1);const r=n>>i&255;i-=8;const o=n>>i&255;i-=8;const s=n>>i&255;i-=8;return new Color({r:r,g:o,b:s,a:i<0?1:(n>>i&255)/255})}static fromHSLA(e,t,n,i=1){let r,o,s;if(0===t)r=n,o=n,s=n;else{const i=n<.5?n*(1+t):n+t-n*t,a=2*n-i;r=d(a,i,e+1/3),o=d(a,i,e),s=d(a,i,e-1/3)}return r*=255,o*=255,s*=255,new Color({r:r,g:o,b:s,a:i})}formatName(e){return Object(i.default)(this.name,s[e])}toObject(){return{r:this.r,g:this.g,b:this.b,a:this.a,name:this.name}}equals(e){const t=new Color(e);return this.r===t.r&&this.g===t.g&&this.b===t.b&&a.format(this.a)===a.format(t.a)}blend(e){const t=new Color(e);return new Color({r:c(this.r,this.a,t.r,t.a),g:c(this.g,this.a,t.g,t.a),b:c(this.b,this.a,t.b,t.a),a:this.a+t.a*(1-this.a)})}static blendAll(e){let t=new Color(Color.NAMED_COLORS.transparent);for(const n of e)if(n.a&&(t=t.blend(n),1===t.a))break;return t}static componentToHex(e){const t=Math.max(0,Math.min(e,255));return(t<16?"0":"")+t.toString(16)}hexBase(){return this.constructor.componentToHex(this.r)+this.constructor.componentToHex(this.g)+this.constructor.componentToHex(this.b)}toHexString(e){let t=this.hexBase();if(this.a<1){const n=255*this.a,i=this.constructor.componentToHex(Math.trunc(n+n/255));t=e?i+t:t+i}return"#"+t}toRGBABase(){const e=`${this.r} ${this.g} ${this.b}`;return this.a<1?`rgba ${e}, ${a.format(this.a)}`:"rgb "+e}toRGBString(){return`rgb ${this.r} ${this.g} ${this.b}`}toRGBAString(){const e=`${this.r}, ${this.g}, ${this.b}`;return this.a<1?`rgba(${e}, ${a.format(this.a)})`:`rgb(${e})`}_toHSL(){const e=this.r/255,t=this.g/255,n=this.b/255,i=Math.max(e,t,n),r=Math.min(e,t,n),o=(i+r)/2;let s,a;if(i===r)s=0,a=0;else{const l=i-r;switch(a=o>.5?l/(2-i-r):l/(i+r),i){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4}s/=6}return{h:s,s:a,l:o}}toHSLAString(){const e=this._toHSL(),t=`${Math.round(360*e.h)}, ${Math.round(100*e.s)}%, ${Math.round(100*e.l)}%`;return this.a<1?`hsla(${t}, ${a.format(this.a)})`:`hsl(${t})`}toPlatformString(e,t){switch(e){case"android":return this.toHexString(!0);case"web":return this.toCSS(t);case"base":case"ios":case"osx":default:return this.toRGBABase()}}toCSS(e){switch(e){case"hex":return this.toHexString();case"rgb":return this.toRGBAString();case"hsl":return this.toHSLAString();case"default":default:return this.a<1?this.toRGBAString():this.toHexString()}}generateName(e){let t=0,n=-1,o=-1;for(let a=0;a<r.colorNames.length;a++){const l=new Color(r.colorNames[a]);if(this.r===l.r&&this.g===l.g&&this.b===l.b)return Object(i.default)(l.name,s[e]);const c=this._toHSL();Object.keys(c).forEach(e=>c[e]*=255);const d=l._toHSL();Object.keys(d).forEach(e=>d[e]*=255),t=Math.pow(this.r-l.r,2)+Math.pow(this.g-l.g,2)+Math.pow(this.b-l.b,2)+2*(Math.pow(c.h-d.h,2)+Math.pow(c.s-d.s,2)+Math.pow(c.l-d.l,2)),(o<0||t<o)&&(o=t,n=a)}return Object(i.default)(r.colorNames[n].name,s[e])}}},function(e,t,n){"use strict";n.r(t);var i=n(19);var r=/\d+|[a-z]+|[A-Z]+(?![a-z])|[A-Z][a-z]+/g;t.default=function(e,t){return function(e,t){if("camelCase"===t||"upperCamelCase"===t){var n=e.map(i.uppercaseFirst).join("");return"camelCase"===t?Object(i.lowercaseFirst)(n):n}return"snakeCase"===t?e.join("_"):e.join("-")}((n=e.match(r))?n.map((function(e){return e.toLowerCase()})):["invalid","name"],t);var n}},function(e,t,n){"use strict";n.r(t),n.d(t,"CSS_NAMED_COLORS",(function(){return i})),n.d(t,"colorNames",(function(){return r}));var i=Object.freeze({transparent:{name:"transparent",r:0,g:0,b:0,a:0},white:{name:"white",r:255,g:255,b:255,a:1}}),r=Object.freeze([{r:0,g:0,b:0,name:"black"},{r:0,g:1,b:51,name:"very dark blue"},{r:0,g:2,b:46,name:"dark navy blue"},{r:0,g:3,b:91,name:"dark blue"},{r:0,g:4,b:53,name:"dark navy"},{r:0,g:17,b:70,name:"navy blue"},{r:0,g:45,b:4,name:"dark forest green"},{r:0,g:69,b:119,name:"prussian blue"},{r:0,g:82,b:73,name:"dark blue green"},{r:0,g:85,b:90,name:"deep teal"},{r:0,g:95,b:106,name:"petrol"},{r:0,g:147,b:55,name:"kelley green"},{r:0,g:251,b:176,name:"greenish turquoise"},{r:0,g:255,b:255,name:"cyan"},{r:1,g:15,b:204,name:"true blue"},{r:1,g:21,b:62,name:"navy"},{r:1,g:56,b:106,name:"marine blue"},{r:1,g:65,b:130,name:"darkish blue"},{r:1,g:70,b:0,name:"racing green"},{r:1,g:77,b:78,name:"dark teal"},{r:1,g:84,b:130,name:"deep sea blue"},{r:1,g:101,b:252,name:"bright blue"},{r:1,g:103,b:149,name:"peacock blue"},{r:1,g:115,b:113,name:"dark aquamarine"},{r:1,g:115,b:116,name:"deep turquoise"},{r:1,g:122,b:121,name:"bluegreen"},{r:1,g:123,b:146,name:"ocean"},{r:1,g:136,b:159,name:"teal blue"},{r:1,g:149,b:41,name:"irish green"},{r:1,g:160,b:73,name:"emerald"},{r:1,g:180,b:76,name:"shamrock"},{r:1,g:192,b:141,name:"green blue"},{r:1,g:249,b:198,name:"bright teal"},{r:1,g:255,b:7,name:"bright green"},{r:2,g:0,b:53,name:"midnight blue"},{r:2,g:3,b:226,name:"pure blue"},{r:2,g:6,b:111,name:"dark royal blue"},{r:2,g:27,b:249,name:"rich blue"},{r:2,g:89,b:15,name:"deep green"},{r:2,g:143,b:30,name:"emerald green"},{r:2,g:147,b:134,name:"teal"},{r:2,g:171,b:46,name:"kelly green"},{r:2,g:193,b:77,name:"shamrock green"},{r:2,g:204,b:254,name:"bright sky blue"},{r:2,g:216,b:233,name:"aqua blue"},{r:3,g:1,b:45,name:"midnight"},{r:3,g:7,b:100,name:"darkblue"},{r:3,g:10,b:167,name:"cobalt blue"},{r:3,g:53,b:0,name:"dark green"},{r:3,g:57,b:248,name:"vibrant blue"},{r:3,g:67,b:223,name:"blue"},{r:3,g:113,b:156,name:"ocean blue"},{r:4,g:2,b:115,name:"deep blue"},{r:4,g:3,b:72,name:"night blue"},{r:4,g:46,b:96,name:"marine"},{r:4,g:74,b:5,name:"bottle green"},{r:4,g:92,b:90,name:"dark turquoise"},{r:4,g:116,b:149,name:"sea blue"},{r:4,g:130,b:67,name:"jungle green"},{r:4,g:133,b:209,name:"cerulean"},{r:4,g:216,b:178,name:"aquamarine"},{r:4,g:217,b:255,name:"neon blue"},{r:4,g:244,b:137,name:"turquoise green"},{r:5,g:4,b:170,name:"royal blue"},{r:5,g:71,b:42,name:"evergreen"},{r:5,g:72,b:13,name:"british racing green"},{r:5,g:73,b:7,name:"darkgreen"},{r:5,g:105,b:107,name:"dark aqua"},{r:5,g:110,b:238,name:"cerulean blue"},{r:5,g:255,b:166,name:"bright sea green"},{r:6,g:46,b:3,name:"very dark green"},{r:6,g:71,b:12,name:"forest green"},{r:6,g:82,b:255,name:"electric blue"},{r:6,g:154,b:243,name:"azure"},{r:6,g:177,b:196,name:"turquoise blue"},{r:6,g:180,b:139,name:"green blue"},{r:6,g:194,b:172,name:"turquoise"},{r:7,g:13,b:13,name:"almost black"},{r:8,g:4,b:249,name:"primary blue"},{r:8,g:120,b:127,name:"deep aqua"},{r:8,g:148,b:4,name:"true green"},{r:8,g:255,b:8,name:"fluorescent green"},{r:10,g:67,b:122,name:"twilight blue"},{r:10,g:72,b:30,name:"pine green"},{r:10,g:95,b:56,name:"spruce"},{r:10,g:136,b:138,name:"dark cyan"},{r:10,g:221,b:8,name:"vibrant green"},{r:10,g:255,b:2,name:"fluro green"},{r:11,g:64,b:8,name:"hunter green"},{r:11,g:85,b:9,name:"forest"},{r:11,g:139,b:135,name:"greenish blue"},{r:11,g:247,b:125,name:"minty green"},{r:11,g:249,b:234,name:"bright aqua"},{r:12,g:6,b:247,name:"strong blue"},{r:12,g:23,b:147,name:"royal"},{r:12,g:181,b:119,name:"green teal"},{r:12,g:220,b:115,name:"tealish green"},{r:12,g:255,b:12,name:"neon green"},{r:13,g:117,b:248,name:"deep sky blue"},{r:14,g:135,b:204,name:"water blue"},{r:15,g:155,b:142,name:"blue green"},{r:15,g:254,b:249,name:"bright turquoise"},{r:16,g:122,b:176,name:"nice blue"},{r:16,g:166,b:116,name:"bluish green"},{r:17,g:135,b:93,name:"dark sea green"},{r:18,g:225,b:147,name:"aqua green"},{r:19,g:126,b:109,name:"blue green"},{r:19,g:187,b:175,name:"topaz"},{r:19,g:234,b:201,name:"aqua"},{r:21,g:46,b:255,name:"vivid blue"},{r:21,g:68,b:6,name:"forrest green"},{r:21,g:80,b:132,name:"light navy"},{r:21,g:176,b:26,name:"green"},{r:24,g:5,b:219,name:"ultramarine blue"},{r:24,g:209,b:123,name:"seaweed"},{r:27,g:36,b:49,name:"dark"},{r:27,g:252,b:6,name:"highlighter green"},{r:29,g:2,b:0,name:"very dark brown"},{r:29,g:93,b:236,name:"azul"},{r:30,g:72,b:143,name:"cobalt"},{r:30,g:145,b:103,name:"viridian"},{r:30,g:248,b:118,name:"spearmint"},{r:31,g:9,b:84,name:"dark indigo"},{r:31,g:59,b:77,name:"dark blue grey"},{r:31,g:99,b:87,name:"dark green blue"},{r:31,g:167,b:116,name:"jade"},{r:31,g:181,b:122,name:"dark seafoam"},{r:32,g:0,b:177,name:"ultramarine"},{r:32,g:192,b:115,name:"dark mint green"},{r:32,g:249,b:134,name:"wintergreen"},{r:33,g:56,b:171,name:"sapphire"},{r:33,g:71,b:97,name:"dark slate blue"},{r:33,g:195,b:111,name:"algae green"},{r:33,g:252,b:13,name:"electric green"},{r:34,g:66,b:199,name:"blue blue"},{r:35,g:196,b:139,name:"greenblue"},{r:36,g:122,b:253,name:"clear blue"},{r:36,g:188,b:168,name:"tealish"},{r:37,g:163,b:111,name:"teal green"},{r:37,g:255,b:41,name:"hot green"},{r:38,g:83,b:141,name:"dusk blue"},{r:38,g:247,b:253,name:"bright light blue"},{r:39,g:106,b:179,name:"mid blue"},{r:40,g:1,b:55,name:"midnight purple"},{r:40,g:124,b:55,name:"darkish green"},{r:41,g:70,b:91,name:"dark grey blue"},{r:41,g:118,b:187,name:"bluish"},{r:42,g:1,b:52,name:"very dark purple"},{r:42,g:126,b:25,name:"tree green"},{r:42,g:254,b:183,name:"greenish cyan"},{r:43,g:93,b:52,name:"pine"},{r:43,g:175,b:106,name:"jade green"},{r:43,g:177,b:121,name:"bluey green"},{r:44,g:111,b:187,name:"medium blue"},{r:44,g:250,b:31,name:"radioactive green"},{r:45,g:254,b:84,name:"bright light green"},{r:46,g:90,b:136,name:"light navy blue"},{r:46,g:232,b:187,name:"aqua marine"},{r:47,g:239,b:16,name:"vivid green"},{r:49,g:102,b:138,name:"ugly blue"},{r:50,g:191,b:132,name:"greenish teal"},{r:51,g:184,b:100,name:"cool green"},{r:52,g:1,b:63,name:"dark violet"},{r:52,g:28,b:2,name:"dark brown"},{r:52,g:56,b:55,name:"charcoal"},{r:53,g:6,b:62,name:"dark purple"},{r:53,g:83,b:10,name:"navy green"},{r:53,g:173,b:107,name:"seaweed green"},{r:54,g:1,b:63,name:"deep purple"},{r:54,g:55,b:55,name:"dark grey"},{r:55,g:62,b:2,name:"dark olive"},{r:55,g:120,b:191,name:"windows blue"},{r:56,g:2,b:130,name:"indigo"},{r:56,g:8,b:53,name:"eggplant"},{r:56,g:128,b:4,name:"dark grass green"},{r:57,g:173,b:72,name:"medium green"},{r:58,g:24,b:177,name:"indigo blue"},{r:58,g:46,b:254,name:"light royal blue"},{r:58,g:229,b:127,name:"weird green"},{r:59,g:91,b:146,name:"denim blue"},{r:59,g:99,b:140,name:"denim"},{r:59,g:113,b:159,name:"muted blue"},{r:60,g:0,b:8,name:"dark maroon"},{r:60,g:65,b:66,name:"charcoal grey"},{r:60,g:77,b:3,name:"dark olive green"},{r:60,g:115,b:168,name:"flat blue"},{r:60,g:153,b:146,name:"sea"},{r:61,g:7,b:52,name:"aubergine"},{r:61,g:28,b:2,name:"chocolate"},{r:61,g:122,b:253,name:"lightish blue"},{r:61,g:153,b:115,name:"ocean green"},{r:62,g:130,b:252,name:"dodger blue"},{r:62,g:175,b:118,name:"dark seafoam green"},{r:63,g:1,b:44,name:"dark plum"},{r:63,g:130,b:157,name:"dirty blue"},{r:63,g:155,b:11,name:"grass green"},{r:64,g:163,b:104,name:"greenish"},{r:64,g:253,b:20,name:"poison green"},{r:65,g:2,b:0,name:"deep brown"},{r:65,g:25,b:0,name:"chocolate brown"},{r:65,g:156,b:3,name:"grassy green"},{r:65,g:253,b:254,name:"bright cyan"},{r:66,g:179,b:149,name:"greeny blue"},{r:67,g:5,b:65,name:"eggplant purple"},{r:67,g:107,b:173,name:"french blue"},{r:68,g:142,b:228,name:"dark sky blue"},{r:70,g:65,b:150,name:"blueberry"},{r:71,g:95,b:148,name:"dusky blue"},{r:72,g:192,b:114,name:"dark mint"},{r:73,g:6,b:72,name:"deep violet"},{r:73,g:117,b:156,name:"dull blue"},{r:73,g:132,b:184,name:"cool blue"},{r:74,g:1,b:0,name:"mahogany"},{r:75,g:0,b:110,name:"royal purple"},{r:75,g:1,b:1,name:"dried blood"},{r:75,g:87,b:219,name:"warm blue"},{r:75,g:93,b:22,name:"army green"},{r:75,g:97,b:19,name:"camouflage green"},{r:76,g:144,b:133,name:"dusty teal"},{r:77,g:164,b:9,name:"lawn green"},{r:78,g:5,b:80,name:"plum purple"},{r:78,g:81,b:139,name:"twilight"},{r:78,g:84,b:129,name:"dusk"},{r:78,g:116,b:150,name:"cadet blue"},{r:78,g:253,b:84,name:"light neon green"},{r:79,g:115,b:142,name:"metallic blue"},{r:79,g:145,b:83,name:"light forest green"},{r:80,g:123,b:156,name:"stormy blue"},{r:80,g:167,b:71,name:"mid green"},{r:81,g:10,b:201,name:"violet blue"},{r:81,g:101,b:114,name:"slate"},{r:81,g:112,b:215,name:"cornflower blue"},{r:81,g:183,b:59,name:"leafy green"},{r:82,g:101,b:37,name:"camo green"},{r:83,g:60,b:198,name:"blue with a hint of purple"},{r:83,g:98,b:103,name:"gunmetal"},{r:83,g:252,b:161,name:"sea green"},{r:83,g:254,b:92,name:"light bright green"},{r:84,g:78,b:3,name:"green brown"},{r:84,g:141,b:68,name:"fern green"},{r:84,g:172,b:104,name:"algae"},{r:85,g:57,b:204,name:"blurple"},{r:86,g:132,b:174,name:"off blue"},{r:86,g:174,b:87,name:"dark pastel green"},{r:86,g:252,b:162,name:"light green blue"},{r:87,g:41,b:206,name:"blue purple"},{r:88,g:15,b:65,name:"plum"},{r:88,g:188,b:8,name:"frog green"},{r:89,g:101,b:109,name:"slate grey"},{r:89,g:133,b:86,name:"dark sage"},{r:90,g:6,b:239,name:"blue purple"},{r:90,g:125,b:154,name:"steel blue"},{r:90,g:134,b:173,name:"dusty blue"},{r:91,g:124,b:153,name:"slate blue"},{r:92,g:139,b:21,name:"sap green"},{r:92,g:169,b:4,name:"leaf green"},{r:92,g:172,b:45,name:"grass"},{r:92,g:178,b:0,name:"kermit green"},{r:93,g:6,b:233,name:"blue violet"},{r:93,g:20,b:81,name:"grape purple"},{r:93,g:33,b:208,name:"purple blue"},{r:94,g:129,b:157,name:"greyish blue"},{r:94,g:155,b:138,name:"grey teal"},{r:94,g:220,b:31,name:"green apple"},{r:95,g:52,b:231,name:"purpley blue"},{r:95,g:158,b:143,name:"dull teal"},{r:95,g:160,b:82,name:"muted green"},{r:96,g:30,b:249,name:"purplish blue"},{r:96,g:70,b:15,name:"mud brown"},{r:96,g:102,b:2,name:"mud green"},{r:96,g:124,b:142,name:"blue grey"},{r:97,g:0,b:35,name:"burgundy"},{r:97,g:64,b:239,name:"purpleish blue"},{r:97,g:222,b:42,name:"toxic green"},{r:97,g:225,b:96,name:"lightish green"},{r:98,g:65,b:199,name:"bluey purple"},{r:98,g:88,b:196,name:"iris"},{r:99,g:45,b:233,name:"purple blue"},{r:99,g:139,b:39,name:"mossy green"},{r:99,g:169,b:80,name:"fern"},{r:99,g:179,b:101,name:"boring green"},{r:99,g:247,b:180,name:"light greenish blue"},{r:100,g:84,b:3,name:"olive brown"},{r:100,g:125,b:142,name:"grey blue"},{r:100,g:136,b:234,name:"soft blue"},{r:101,g:0,b:33,name:"maroon"},{r:101,g:55,b:0,name:"brown"},{r:101,g:116,b:50,name:"muddy green"},{r:101,g:139,b:56,name:"moss green"},{r:101,g:140,b:187,name:"faded blue"},{r:101,g:141,b:109,name:"slate green"},{r:101,g:171,b:124,name:"tea"},{r:101,g:254,b:8,name:"bright lime green"},{r:102,g:26,b:238,name:"purply blue"},{r:102,g:95,b:209,name:"dark periwinkle"},{r:102,g:124,b:62,name:"military green"},{r:102,g:126,b:44,name:"dirty green"},{r:103,g:58,b:63,name:"purple brown"},{r:103,g:122,b:4,name:"olive green"},{r:104,g:0,b:24,name:"claret"},{r:104,g:50,b:227,name:"burple"},{r:105,g:96,b:6,name:"greeny brown"},{r:105,g:97,b:18,name:"greenish brown"},{r:105,g:131,b:57,name:"swamp"},{r:105,g:157,b:76,name:"flat green"},{r:105,g:216,b:79,name:"fresh green"},{r:106,g:110,b:9,name:"brownish green"},{r:106,g:121,b:247,name:"cornflower"},{r:107,g:66,b:71,name:"purplish brown"},{r:107,g:124,b:133,name:"battleship grey"},{r:107,g:139,b:164,name:"grey blue"},{r:107,g:163,b:83,name:"off green"},{r:108,g:52,b:97,name:"grape"},{r:108,g:122,b:14,name:"murky green"},{r:109,g:90,b:207,name:"light indigo"},{r:109,g:237,b:253,name:"robins egg"},{r:110,g:16,b:5,name:"reddy brown"},{r:110,g:117,b:14,name:"olive"},{r:110,g:203,b:60,name:"apple"},{r:111,g:108,b:10,name:"browny green"},{r:111,g:118,b:50,name:"olive drab"},{r:111,g:124,b:0,name:"poop green"},{r:111,g:130,b:138,name:"steel grey"},{r:111,g:194,b:118,name:"soft green"},{r:112,g:59,b:231,name:"bluish purple"},{r:112,g:108,b:17,name:"brown green"},{r:112,g:178,b:63,name:"nasty green"},{r:113,g:159,b:145,name:"greyish teal"},{r:113,g:170,b:52,name:"leaf"},{r:114,g:0,b:88,name:"rich purple"},{r:114,g:134,b:57,name:"khaki green"},{r:114,g:143,b:2,name:"dark yellow green"},{r:115,g:0,b:57,name:"merlot"},{r:115,g:74,b:101,name:"dirty purple"},{r:115,g:92,b:18,name:"mud"},{r:115,g:133,b:149,name:"steel"},{r:116,g:40,b:2,name:"chestnut"},{r:116,g:133,b:0,name:"swamp green"},{r:116,g:139,b:151,name:"bluish grey"},{r:116,g:149,b:81,name:"drab green"},{r:116,g:166,b:98,name:"dull green"},{r:117,g:8,b:81,name:"velvet"},{r:117,g:25,b:115,name:"darkish purple"},{r:117,g:128,b:0,name:"shit green"},{r:117,g:141,b:163,name:"blue grey"},{r:117,g:184,b:79,name:"turtle green"},{r:117,g:187,b:253,name:"sky blue"},{r:117,g:253,b:99,name:"lighter green"},{r:118,g:66,b:78,name:"brownish purple"},{r:118,g:153,b:88,name:"moss"},{r:118,g:169,b:115,name:"dusty green"},{r:118,g:205,b:38,name:"apple green"},{r:118,g:253,b:168,name:"light bluish green"},{r:118,g:255,b:123,name:"lightgreen"},{r:119,g:0,b:1,name:"blood"},{r:119,g:146,b:111,name:"green grey"},{r:119,g:161,b:181,name:"greyblue"},{r:119,g:171,b:86,name:"asparagus"},{r:120,g:155,b:115,name:"grey green"},{r:120,g:209,b:182,name:"seafoam blue"},{r:122,g:89,b:1,name:"poop brown"},{r:122,g:104,b:127,name:"purplish grey"},{r:122,g:106,b:79,name:"greyish brown"},{r:122,g:151,b:3,name:"ugly green"},{r:122,g:249,b:171,name:"seafoam green"},{r:123,g:0,b:44,name:"bordeaux"},{r:123,g:3,b:35,name:"wine red"},{r:123,g:88,b:4,name:"shit brown"},{r:123,g:178,b:116,name:"faded green"},{r:123,g:200,b:246,name:"lightblue"},{r:123,g:242,b:218,name:"tiffany blue"},{r:123,g:253,b:199,name:"light aquamarine"},{r:125,g:113,b:3,name:"ugly brown"},{r:125,g:127,b:124,name:"medium grey"},{r:126,g:30,b:156,name:"purple"},{r:126,g:64,b:113,name:"bruise"},{r:126,g:160,b:122,name:"greeny grey"},{r:126,g:189,b:1,name:"dark lime green"},{r:126,g:244,b:204,name:"light turquoise"},{r:126,g:251,b:179,name:"light blue green"},{r:127,g:43,b:10,name:"reddish brown"},{r:127,g:78,b:30,name:"milk chocolate"},{r:127,g:81,b:18,name:"medium brown"},{r:127,g:94,b:0,name:"poop"},{r:127,g:95,b:0,name:"shit"},{r:127,g:104,b:78,name:"dark taupe"},{r:127,g:112,b:83,name:"grey brown"},{r:127,g:143,b:78,name:"camo"},{r:128,g:1,b:63,name:"wine"},{r:128,g:91,b:135,name:"muted purple"},{r:128,g:249,b:173,name:"seafoam"},{r:130,g:7,b:71,name:"red purple"},{r:130,g:95,b:135,name:"dusty purple"},{r:130,g:109,b:140,name:"grey purple"},{r:130,g:131,b:68,name:"drab"},{r:130,g:166,b:125,name:"greyish green"},{r:130,g:202,b:252,name:"sky"},{r:130,g:203,b:178,name:"pale teal"},{r:131,g:101,b:57,name:"dirt brown"},{r:132,g:0,b:0,name:"dark red"},{r:132,g:89,b:126,name:"dull purple"},{r:132,g:183,b:1,name:"dark lime"},{r:133,g:14,b:4,name:"indian red"},{r:133,g:103,b:152,name:"dark lavender"},{r:133,g:163,b:178,name:"bluegrey"},{r:134,g:111,b:133,name:"purple grey"},{r:134,g:119,b:95,name:"brownish grey"},{r:134,g:161,b:125,name:"grey green"},{r:135,g:76,b:98,name:"dark mauve"},{r:135,g:86,b:228,name:"purpley"},{r:135,g:95,b:66,name:"cocoa"},{r:135,g:110,b:75,name:"dull brown"},{r:135,g:169,b:34,name:"avocado green"},{r:135,g:174,b:115,name:"sage"},{r:135,g:253,b:5,name:"bright lime"},{r:136,g:95,b:1,name:"poo brown"},{r:136,g:104,b:6,name:"muddy brown"},{r:136,g:113,b:145,name:"greyish purple"},{r:136,g:151,b:23,name:"baby shit green"},{r:136,g:179,b:120,name:"sage green"},{r:137,g:69,b:133,name:"light eggplant"},{r:137,g:91,b:123,name:"dusky purple"},{r:137,g:160,b:176,name:"bluey grey"},{r:137,g:162,b:3,name:"vomit green"},{r:137,g:254,b:5,name:"lime green"},{r:138,g:110,b:69,name:"dirt"},{r:138,g:184,b:254,name:"carolina blue"},{r:138,g:241,b:254,name:"robin egg blue"},{r:139,g:46,b:22,name:"red brown"},{r:139,g:49,b:3,name:"rust brown"},{r:139,g:136,b:248,name:"lavender blue"},{r:140,g:0,b:15,name:"crimson"},{r:140,g:0,b:52,name:"red wine"},{r:140,g:253,b:126,name:"easter green"},{r:140,g:255,b:158,name:"baby green"},{r:140,g:255,b:219,name:"light aqua"},{r:141,g:94,b:183,name:"deep lavender"},{r:141,g:132,b:104,name:"brown grey"},{r:142,g:118,b:24,name:"hazel"},{r:142,g:130,b:254,name:"periwinkle"},{r:142,g:171,b:18,name:"pea green"},{r:142,g:229,b:63,name:"kiwi green"},{r:143,g:20,b:2,name:"brick red"},{r:143,g:115,b:3,name:"poo"},{r:143,g:140,b:231,name:"perrywinkle"},{r:143,g:152,b:5,name:"baby poop green"},{r:143,g:153,b:251,name:"periwinkle blue"},{r:143,g:174,b:34,name:"icky green"},{r:143,g:182,b:123,name:"lichen"},{r:143,g:254,b:9,name:"acid green"},{r:143,g:255,b:159,name:"mint green"},{r:144,g:177,b:52,name:"avocado"},{r:144,g:228,b:193,name:"light teal"},{r:144,g:253,b:169,name:"foam green"},{r:145,g:9,b:81,name:"reddish purple"},{r:145,g:110,b:153,name:"faded purple"},{r:146,g:10,b:78,name:"mulberry"},{r:146,g:43,b:5,name:"brown red"},{r:146,g:149,b:145,name:"grey"},{r:146,g:153,b:1,name:"pea soup"},{r:147,g:124,b:0,name:"baby poop"},{r:148,g:86,b:140,name:"purplish"},{r:148,g:119,b:6,name:"puke brown"},{r:148,g:126,b:148,name:"purpley grey"},{r:148,g:166,b:23,name:"pea soup green"},{r:148,g:172,b:2,name:"barf green"},{r:148,g:178,b:28,name:"sickly green"},{r:149,g:46,b:143,name:"warm purple"},{r:149,g:163,b:166,name:"cool grey"},{r:149,g:208,b:252,name:"light blue"},{r:150,g:0,b:86,name:"dark magenta"},{r:150,g:78,b:2,name:"warm brown"},{r:150,g:110,b:189,name:"deep lilac"},{r:150,g:174,b:141,name:"greenish grey"},{r:150,g:180,b:3,name:"booger green"},{r:150,g:249,b:123,name:"light green"},{r:151,g:138,b:132,name:"warm grey"},{r:152,g:0,b:2,name:"blood red"},{r:152,g:63,b:178,name:"purply"},{r:152,g:86,b:141,name:"purpleish"},{r:152,g:94,b:43,name:"sepia"},{r:152,g:239,b:249,name:"robins egg blue"},{r:152,g:246,b:176,name:"light sea green"},{r:153,g:0,b:250,name:"vivid purple"},{r:153,g:1,b:71,name:"purple red"},{r:153,g:15,b:75,name:"berry"},{r:153,g:117,b:112,name:"reddish grey"},{r:153,g:204,b:4,name:"slime green"},{r:154,g:2,b:0,name:"deep red"},{r:154,g:14,b:234,name:"violet"},{r:154,g:48,b:1,name:"auburn"},{r:154,g:98,b:0,name:"raw sienna"},{r:154,g:174,b:7,name:"puke green"},{r:154,g:247,b:100,name:"light grass green"},{r:155,g:95,b:192,name:"amethyst"},{r:155,g:122,b:1,name:"yellowish brown"},{r:155,g:143,b:85,name:"dark khaki"},{r:155,g:181,b:60,name:"booger"},{r:155,g:229,b:170,name:"hospital green"},{r:156,g:109,b:87,name:"brownish"},{r:156,g:109,b:165,name:"dark lilac"},{r:156,g:187,b:4,name:"bright olive"},{r:156,g:239,b:67,name:"kiwi"},{r:157,g:2,b:22,name:"carmine"},{r:157,g:7,b:89,name:"dark fuchsia"},{r:157,g:87,b:131,name:"light plum"},{r:157,g:118,b:81,name:"mocha"},{r:157,g:185,b:44,name:"sick green"},{r:157,g:188,b:212,name:"light grey blue"},{r:157,g:193,b:0,name:"snot green"},{r:157,g:255,b:0,name:"bright yellow green"},{r:158,g:0,b:58,name:"cranberry"},{r:158,g:1,b:104,name:"red violet"},{r:158,g:54,b:35,name:"brownish red"},{r:158,g:67,b:162,name:"medium purple"},{r:159,g:35,b:5,name:"burnt red"},{r:159,g:131,b:3,name:"diarrhea"},{r:159,g:254,b:176,name:"mint"},{r:160,g:2,b:92,name:"deep magenta"},{r:160,g:4,b:152,name:"barney purple"},{r:160,g:54,b:35,name:"brick"},{r:160,g:69,b:14,name:"burnt umber"},{r:160,g:191,b:22,name:"gross green"},{r:160,g:254,b:191,name:"light seafoam"},{r:161,g:57,b:5,name:"russet"},{r:162,g:72,b:87,name:"light maroon"},{r:162,g:101,b:62,name:"earth"},{r:162,g:164,b:21,name:"vomit"},{r:162,g:191,b:254,name:"pastel blue"},{r:162,g:207,b:254,name:"baby blue"},{r:164,g:66,b:160,name:"ugly purple"},{r:164,g:132,b:172,name:"heather"},{r:164,g:190,b:92,name:"light olive green"},{r:164,g:191,b:32,name:"pea"},{r:165,g:0,b:85,name:"violet red"},{r:165,g:82,b:230,name:"lightish purple"},{r:165,g:90,b:244,name:"lighter purple"},{r:165,g:126,b:82,name:"puce"},{r:165,g:163,b:145,name:"cement"},{r:165,g:165,b:2,name:"puke"},{r:165,g:251,b:213,name:"pale turquoise"},{r:166,g:111,b:181,name:"soft purple"},{r:166,g:129,b:76,name:"coffee"},{r:166,g:200,b:117,name:"light moss green"},{r:166,g:251,b:178,name:"light mint green"},{r:167,g:94,b:9,name:"raw umber"},{r:167,g:255,b:181,name:"light seafoam green"},{r:168,g:60,b:9,name:"rust"},{r:168,g:65,b:91,name:"light burgundy"},{r:168,g:121,b:0,name:"bronze"},{r:168,g:125,b:194,name:"wisteria"},{r:168,g:137,b:5,name:"dark mustard"},{r:168,g:143,b:89,name:"dark sand"},{r:168,g:164,b:149,name:"greyish"},{r:168,g:181,b:4,name:"mustard green"},{r:168,g:255,b:4,name:"electric lime"},{r:169,g:3,b:8,name:"darkish red"},{r:169,g:86,b:30,name:"sienna"},{r:169,g:190,b:112,name:"tan green"},{r:169,g:249,b:113,name:"spring green"},{r:170,g:35,b:255,name:"electric purple"},{r:170,g:39,b:4,name:"rust red"},{r:170,g:166,b:98,name:"khaki"},{r:170,g:255,b:50,name:"lime"},{r:171,g:18,b:57,name:"rouge"},{r:171,g:126,b:76,name:"tan brown"},{r:171,g:144,b:4,name:"baby poo"},{r:172,g:29,b:184,name:"barney"},{r:172,g:79,b:6,name:"cinnamon"},{r:172,g:116,b:52,name:"leather"},{r:172,g:126,b:4,name:"mustard brown"},{r:172,g:134,b:168,name:"dusty lavender"},{r:172,g:147,b:98,name:"dark beige"},{r:172,g:187,b:13,name:"snot"},{r:172,g:191,b:105,name:"light olive"},{r:172,g:194,b:217,name:"cloudy blue"},{r:172,g:255,b:252,name:"light cyan"},{r:173,g:3,b:222,name:"vibrant purple"},{r:173,g:10,b:253,name:"bright violet"},{r:173,g:129,b:80,name:"light brown"},{r:173,g:144,b:13,name:"baby shit brown"},{r:173,g:165,b:135,name:"stone"},{r:173,g:248,b:2,name:"lemon green"},{r:174,g:113,b:129,name:"mauve"},{r:174,g:139,b:12,name:"yellowy brown"},{r:174,g:253,b:108,name:"light lime"},{r:174,g:255,b:110,name:"key lime"},{r:175,g:47,b:13,name:"rusty red"},{r:175,g:111,b:9,name:"caramel"},{r:175,g:136,b:74,name:"dark tan"},{r:175,g:168,b:139,name:"bland"},{r:176,g:1,b:73,name:"raspberry"},{r:176,g:5,b:75,name:"purplish red"},{r:176,g:78,b:15,name:"burnt sienna"},{r:176,g:221,b:22,name:"yellowish green"},{r:176,g:255,b:157,name:"pastel green"},{r:177,g:96,b:2,name:"orangey brown"},{r:177,g:114,b:97,name:"pinkish brown"},{r:177,g:145,b:110,name:"pale brown"},{r:177,g:209,b:252,name:"powder blue"},{r:177,g:210,b:123,name:"pale olive green"},{r:177,g:252,b:153,name:"pale light green"},{r:177,g:255,b:101,name:"pale lime green"},{r:178,g:95,b:3,name:"orangish brown"},{r:178,g:100,b:0,name:"umber"},{r:178,g:113,b:61,name:"clay brown"},{r:178,g:122,b:1,name:"golden brown"},{r:178,g:151,b:5,name:"brown yellow"},{r:178,g:153,b:110,name:"dust"},{r:178,g:251,b:165,name:"light pastel green"},{r:179,g:111,b:246,name:"light urple"},{r:181,g:72,b:93,name:"dark rose"},{r:181,g:148,b:16,name:"dark gold"},{r:181,g:195,b:6,name:"bile"},{r:181,g:206,b:8,name:"green yellow"},{r:182,g:99,b:37,name:"copper"},{r:182,g:106,b:80,name:"clay"},{r:182,g:196,b:6,name:"baby puke green"},{r:182,g:255,b:187,name:"light mint"},{r:183,g:82,b:3,name:"burnt siena"},{r:183,g:144,b:212,name:"pale purple"},{r:183,g:148,b:0,name:"yellow brown"},{r:183,g:201,b:226,name:"light blue grey"},{r:183,g:225,b:161,name:"light grey green"},{r:183,g:255,b:250,name:"pale cyan"},{r:184,g:255,b:235,name:"pale aqua"},{r:185,g:72,b:78,name:"dusty red"},{r:185,g:105,b:2,name:"brown orange"},{r:185,g:162,b:129,name:"taupe"},{r:185,g:204,b:129,name:"pale olive"},{r:185,g:255,b:102,name:"light lime green"},{r:186,g:104,b:115,name:"dusky rose"},{r:186,g:158,b:136,name:"mushroom"},{r:187,g:63,b:63,name:"dull red"},{r:187,g:249,b:15,name:"yellowgreen"},{r:188,g:19,b:254,name:"neon purple"},{r:188,g:203,b:122,name:"greenish tan"},{r:188,g:236,b:172,name:"light sage"},{r:188,g:245,b:166,name:"washed out green"},{r:189,g:108,b:72,name:"adobe"},{r:189,g:246,b:254,name:"pale sky blue"},{r:189,g:248,b:163,name:"tea green"},{r:190,g:1,b:25,name:"scarlet"},{r:190,g:1,b:60,name:"rose red"},{r:190,g:3,b:253,name:"bright purple"},{r:190,g:100,b:0,name:"orange brown"},{r:190,g:174,b:138,name:"putty"},{r:190,g:253,b:115,name:"pale lime"},{r:190,g:253,b:183,name:"celadon"},{r:191,g:119,b:246,name:"light purple"},{r:191,g:144,b:5,name:"ochre"},{r:191,g:155,b:12,name:"ocher"},{r:191,g:172,b:5,name:"muddy yellow"},{r:191,g:241,b:40,name:"yellowy green"},{r:191,g:254,b:40,name:"lemon lime"},{r:192,g:2,b:47,name:"lipstick red"},{r:192,g:78,b:1,name:"burnt orange"},{r:192,g:113,b:254,name:"easter purple"},{r:192,g:115,b:122,name:"dusty rose"},{r:192,g:250,b:139,name:"pistachio"},{r:192,g:251,b:45,name:"yellow green"},{r:193,g:74,b:9,name:"brick orange"},{r:193,g:198,b:252,name:"light periwinkle"},{r:193,g:248,b:10,name:"chartreuse"},{r:193,g:253,b:149,name:"celery"},{r:194,g:0,b:120,name:"magenta"},{r:194,g:126,b:121,name:"brownish pink"},{r:194,g:146,b:161,name:"light mauve"},{r:194,g:183,b:9,name:"olive yellow"},{r:194,g:190,b:14,name:"puke yellow"},{r:194,g:255,b:137,name:"light yellowish green"},{r:195,g:144,b:155,name:"grey pink"},{r:195,g:251,b:244,name:"duck egg blue"},{r:196,g:66,b:64,name:"reddish"},{r:196,g:85,b:8,name:"rust orange"},{r:196,g:142,b:253,name:"liliac"},{r:196,g:166,b:97,name:"sandy brown"},{r:196,g:254,b:130,name:"light pea green"},{r:196,g:255,b:247,name:"eggshell blue"},{r:197,g:201,b:199,name:"silver"},{r:198,g:81,b:2,name:"dark orange"},{r:198,g:156,b:4,name:"ocre"},{r:198,g:159,b:89,name:"camel"},{r:198,g:248,b:8,name:"greeny yellow"},{r:198,g:252,b:255,name:"light sky blue"},{r:199,g:71,b:103,name:"deep rose"},{r:199,g:96,b:255,name:"bright lavender"},{r:199,g:121,b:134,name:"old pink"},{r:199,g:159,b:239,name:"lavender"},{r:199,g:172,b:125,name:"toupe"},{r:199,g:193,b:12,name:"vomit yellow"},{r:199,g:253,b:181,name:"pale green"},{r:200,g:60,b:185,name:"purpley pink"},{r:200,g:90,b:83,name:"dark salmon"},{r:200,g:117,b:196,name:"orchid"},{r:200,g:118,b:6,name:"dirty orange"},{r:200,g:127,b:137,name:"old rose"},{r:200,g:141,b:148,name:"greyish pink"},{r:200,g:172,b:169,name:"pinkish grey"},{r:200,g:253,b:61,name:"yellow green"},{r:200,g:255,b:176,name:"light light green"},{r:201,g:76,b:190,name:"pinky purple"},{r:201,g:94,b:251,name:"bright lilac"},{r:201,g:100,b:59,name:"terra cotta"},{r:201,g:174,b:116,name:"sandstone"},{r:201,g:176,b:3,name:"brownish yellow"},{r:201,g:209,b:121,name:"greenish beige"},{r:201,g:255,b:39,name:"green yellow"},{r:202,g:1,b:71,name:"ruby"},{r:202,g:102,b:65,name:"terracotta"},{r:202,g:107,b:2,name:"browny orange"},{r:202,g:123,b:128,name:"dirty pink"},{r:202,g:155,b:247,name:"baby purple"},{r:202,g:160,b:255,name:"pastel purple"},{r:202,g:255,b:251,name:"light light blue"},{r:203,g:0,b:245,name:"hot purple"},{r:203,g:1,b:98,name:"deep pink"},{r:203,g:65,b:107,name:"dark pink"},{r:203,g:104,b:67,name:"terracota"},{r:203,g:119,b:35,name:"brownish orange"},{r:203,g:157,b:6,name:"yellow ochre"},{r:203,g:165,b:96,name:"sand brown"},{r:203,g:248,b:95,name:"pear"},{r:204,g:122,b:139,name:"dusky pink"},{r:204,g:173,b:96,name:"desert"},{r:204,g:253,b:127,name:"light yellow green"},{r:205,g:89,b:9,name:"rusty orange"},{r:205,g:117,b:132,name:"ugly pink"},{r:205,g:197,b:10,name:"dirty yellow"},{r:205,g:253,b:2,name:"greenish yellow"},{r:206,g:93,b:174,name:"purplish pink"},{r:206,g:162,b:253,name:"lilac"},{r:206,g:174,b:250,name:"pale violet"},{r:206,g:179,b:1,name:"mustard"},{r:207,g:2,b:52,name:"cherry"},{r:207,g:82,b:78,name:"dark coral"},{r:207,g:98,b:117,name:"rose"},{r:207,g:175,b:123,name:"fawn"},{r:207,g:253,b:188,name:"very pale green"},{r:207,g:255,b:4,name:"neon yellow"},{r:208,g:193,b:1,name:"ugly yellow"},{r:208,g:228,b:41,name:"sickly yellow"},{r:208,g:254,b:29,name:"lime yellow"},{r:208,g:254,b:254,name:"pale blue"},{r:209,g:118,b:143,name:"muted pink"},{r:209,g:178,b:111,name:"tan"},{r:209,g:255,b:189,name:"very light green"},{r:210,g:189,b:10,name:"mustard yellow"},{r:211,g:73,b:78,name:"faded red"},{r:211,g:182,b:131,name:"very light brown"},{r:212,g:106,b:126,name:"pinkish"},{r:212,g:255,b:255,name:"really light blue"},{r:213,g:23,b:78,name:"lipstick"},{r:213,g:134,b:157,name:"dull pink"},{r:213,g:138,b:148,name:"dusty pink"},{r:213,g:171,b:9,name:"burnt yellow"},{r:213,g:182,b:10,name:"dark yellow"},{r:213,g:255,b:255,name:"very light blue"},{r:214,g:72,b:215,name:"pinkish purple"},{r:214,g:180,b:252,name:"light violet"},{r:214,g:255,b:250,name:"ice"},{r:214,g:255,b:254,name:"very pale blue"},{r:215,g:37,b:222,name:"purple pink"},{r:215,g:103,b:173,name:"pale magenta"},{r:215,g:255,b:254,name:"ice blue"},{r:216,g:134,b:59,name:"dull orange"},{r:216,g:220,b:214,name:"light grey"},{r:217,g:1,b:102,name:"dark hot pink"},{r:217,g:79,b:245,name:"heliotrope"},{r:217,g:84,b:77,name:"pale red"},{r:217,g:155,b:130,name:"pinkish tan"},{r:218,g:70,b:125,name:"darkish pink"},{r:219,g:75,b:218,name:"pink purple"},{r:219,g:88,b:86,name:"pastel red"},{r:219,g:180,b:12,name:"gold"},{r:220,g:77,b:1,name:"deep orange"},{r:221,g:133,b:215,name:"lavender pink"},{r:221,g:214,b:24,name:"piss yellow"},{r:222,g:12,b:98,name:"cerise"},{r:222,g:126,b:93,name:"dark peach"},{r:222,g:157,b:172,name:"faded pink"},{r:223,g:78,b:200,name:"purpleish pink"},{r:223,g:197,b:254,name:"light lavender"},{r:224,g:63,b:216,name:"purple pink"},{r:225,g:119,b:1,name:"pumpkin"},{r:226,g:202,b:118,name:"sand"},{r:228,g:203,b:255,name:"pale lilac"},{r:229,g:0,b:0,name:"red"},{r:230,g:218,b:166,name:"beige"},{r:230,g:242,b:162,name:"light khaki"},{r:231,g:142,b:165,name:"pig pink"},{r:236,g:45,b:1,name:"tomato red"},{r:237,g:13,b:217,name:"fuchsia"},{r:237,g:200,b:255,name:"light lilac"},{r:238,g:207,b:254,name:"pale lavender"},{r:238,g:220,b:91,name:"dull yellow"},{r:239,g:29,b:231,name:"pink purple"},{r:239,g:64,b:38,name:"tomato"},{r:239,g:180,b:53,name:"macaroni and cheese"},{r:239,g:192,b:254,name:"light lavendar"},{r:240,g:117,b:230,name:"purply pink"},{r:240,g:131,b:58,name:"dusty orange"},{r:240,g:148,b:77,name:"faded orange"},{r:241,g:12,b:69,name:"pinkish red"},{r:241,g:218,b:122,name:"sandy"},{r:241,g:243,b:63,name:"off yellow"},{r:242,g:158,b:142,name:"blush"},{r:242,g:171,b:21,name:"squash"},{r:243,g:97,b:150,name:"medium pink"},{r:244,g:50,b:12,name:"vermillion"},{r:244,g:54,b:5,name:"orangish red"},{r:244,g:208,b:84,name:"maize"},{r:245,g:4,b:201,name:"hot magenta"},{r:245,g:5,b:79,name:"pink red"},{r:245,g:191,b:3,name:"golden"},{r:246,g:104,b:142,name:"rosy pink"},{r:246,g:206,b:252,name:"very light purple"},{r:247,g:2,b:42,name:"cherry red"},{r:247,g:135,b:154,name:"rose pink"},{r:247,g:213,b:96,name:"light mustard"},{r:248,g:72,b:28,name:"reddish orange"},{r:249,g:115,b:6,name:"orange"},{r:249,g:188,b:8,name:"golden rod"},{r:250,g:42,b:85,name:"red pink"},{r:250,g:66,b:36,name:"orangey red"},{r:250,g:95,b:247,name:"light magenta"},{r:250,g:194,b:5,name:"goldenrod"},{r:250,g:238,b:102,name:"yellowish"},{r:250,g:254,b:75,name:"banana yellow"},{r:251,g:41,b:67,name:"strawberry"},{r:251,g:85,b:129,name:"warm pink"},{r:251,g:95,b:252,name:"violet pink"},{r:251,g:125,b:7,name:"pumpkin orange"},{r:251,g:221,b:126,name:"wheat"},{r:251,g:238,b:172,name:"light tan"},{r:252,g:38,b:71,name:"pinky red"},{r:252,g:90,b:80,name:"coral"},{r:252,g:130,b:74,name:"orangish"},{r:252,g:134,b:170,name:"pinky"},{r:252,g:176,b:1,name:"yellow orange"},{r:252,g:192,b:6,name:"marigold"},{r:252,g:225,b:102,name:"sand yellow"},{r:252,g:246,b:121,name:"straw"},{r:252,g:252,b:129,name:"yellowish tan"},{r:253,g:60,b:6,name:"red orange"},{r:253,g:65,b:30,name:"orange red"},{r:253,g:70,b:89,name:"watermelon"},{r:253,g:89,b:86,name:"grapefruit"},{r:253,g:121,b:143,name:"carnation"},{r:253,g:141,b:73,name:"orangeish"},{r:253,g:170,b:72,name:"light orange"},{r:253,g:176,b:192,name:"soft pink"},{r:253,g:177,b:71,name:"butterscotch"},{r:253,g:185,b:21,name:"orangey yellow"},{r:253,g:193,b:197,name:"pale rose"},{r:253,g:220,b:92,name:"light gold"},{r:253,g:222,b:108,name:"pale gold"},{r:253,g:238,b:115,name:"sandy yellow"},{r:253,g:253,b:254,name:"pale grey"},{r:253,g:255,b:56,name:"lemon yellow"},{r:253,g:255,b:82,name:"lemon"},{r:253,g:255,b:99,name:"canary"},{r:254,g:0,b:2,name:"fire engine red"},{r:254,g:1,b:154,name:"neon pink"},{r:254,g:1,b:177,name:"bright pink"},{r:254,g:2,b:162,name:"shocking pink"},{r:254,g:44,b:84,name:"reddish pink"},{r:254,g:47,b:74,name:"lightish red"},{r:254,g:66,b:15,name:"orangered"},{r:254,g:70,b:165,name:"barbie pink"},{r:254,g:75,b:3,name:"blood orange"},{r:254,g:123,b:124,name:"salmon pink"},{r:254,g:130,b:140,name:"blush pink"},{r:254,g:131,b:204,name:"bubblegum pink"},{r:254,g:134,b:164,name:"rosa"},{r:254,g:169,b:147,name:"light salmon"},{r:254,g:178,b:9,name:"saffron"},{r:254,g:179,b:8,name:"amber"},{r:254,g:198,b:21,name:"golden yellow"},{r:254,g:208,b:252,name:"pale mauve"},{r:254,g:223,b:8,name:"dandelion"},{r:254,g:246,b:158,name:"buff"},{r:254,g:252,b:175,name:"parchment"},{r:254,g:255,b:127,name:"faded yellow"},{r:254,g:255,b:202,name:"ecru"},{r:255,g:0,b:13,name:"bright red"},{r:255,g:2,b:141,name:"hot pink"},{r:255,g:4,b:144,name:"electric pink"},{r:255,g:7,b:58,name:"neon red"},{r:255,g:7,b:137,name:"strong pink"},{r:255,g:8,b:232,name:"bright magenta"},{r:255,g:71,b:76,name:"light red"},{r:255,g:91,b:0,name:"bright orange"},{r:255,g:97,b:99,name:"coral pink"},{r:255,g:99,b:233,name:"candy pink"},{r:255,g:105,b:175,name:"bubble gum pink"},{r:255,g:108,b:181,name:"bubblegum"},{r:255,g:111,b:82,name:"orange pink"},{r:255,g:114,b:76,name:"pinkish orange"},{r:255,g:120,b:85,name:"melon"},{r:255,g:121,b:108,name:"salmon"},{r:255,g:127,b:167,name:"carnation pink"},{r:255,g:129,b:192,name:"pink"},{r:255,g:148,b:8,name:"tangerine"},{r:255,g:150,b:79,name:"pastel orange"},{r:255,g:154,b:138,name:"peachy pink"},{r:255,g:166,b:43,name:"mango"},{r:255,g:167,b:86,name:"pale orange"},{r:255,g:171,b:15,name:"yellowish orange"},{r:255,g:173,b:1,name:"orange yellow"},{r:255,g:176,b:124,name:"peach"},{r:255,g:177,b:109,name:"apricot"},{r:255,g:177,b:154,name:"pale salmon"},{r:255,g:178,b:208,name:"powder pink"},{r:255,g:183,b:206,name:"baby pink"},{r:255,g:186,b:205,name:"pastel pink"},{r:255,g:197,b:18,name:"sunflower"},{r:255,g:197,b:203,name:"light rose"},{r:255,g:207,b:220,name:"pale pink"},{r:255,g:209,b:223,name:"light pink"},{r:255,g:216,b:177,name:"light peach"},{r:255,g:218,b:3,name:"sunflower yellow"},{r:255,g:223,b:34,name:"sun yellow"},{r:255,g:227,b:110,name:"yellow tan"},{r:255,g:229,b:173,name:"pale peach"},{r:255,g:243,b:154,name:"dark cream"},{r:255,g:244,b:242,name:"very light pink"},{r:255,g:249,b:23,name:"sunny yellow"},{r:255,g:249,b:208,name:"pale"},{r:255,g:250,b:134,name:"manilla"},{r:255,g:252,b:196,name:"egg shell"},{r:255,g:253,b:1,name:"bright yellow"},{r:255,g:253,b:55,name:"sunshine yellow"},{r:255,g:253,b:116,name:"butter yellow"},{r:255,g:253,b:120,name:"custard"},{r:255,g:254,b:64,name:"canary yellow"},{r:255,g:254,b:113,name:"pastel yellow"},{r:255,g:254,b:122,name:"light yellow"},{r:255,g:254,b:182,name:"light beige"},{r:255,g:255,b:20,name:"yellow"},{r:255,g:255,b:126,name:"banana"},{r:255,g:255,b:129,name:"butter"},{r:255,g:255,b:132,name:"pale yellow"},{r:255,g:255,b:182,name:"creme"},{r:255,g:255,b:194,name:"cream"},{r:255,g:255,b:203,name:"ivory"},{r:255,g:255,b:212,name:"eggshell"},{r:255,g:255,b:228,name:"off white"},{r:255,g:255,b:255,name:"white"}])},function(e,t,n){"use strict";function i(){}n.r(t),i.prototype.toObject=function(){return{}},i.prototype.serialize=function(){return{model:this.constructor.name,data:this.toObject()}},t.default=i},function(e,t,n){"use strict";function i(e,t,n="nodeRefs"){n in e||(e[n]={}),"refHandlers"in e||(e.refHandlers={});const{[n]:i,refHandlers:r}=e;return"function"!=typeof r[t]&&(r[t]=e=>{i[t]=e}),r[t]}n.r(t),n.d(t,"default",(function(){return i}))},,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"WEB_URL",(function(){return i})),n.d(t,"APP_URL",(function(){return r})),n.d(t,"BASE_URL",(function(){return o})),n.d(t,"IMG_URL",(function(){return s})),n.d(t,"CDN_URL",(function(){return a})),n.d(t,"SCENE_URL",(function(){return l})),n.d(t,"EXTENSIONS_WEB_URL",(function(){return c})),n.d(t,"PUSHER_URL",(function(){return d})),n.d(t,"CLI_CLIENT_ID",(function(){return u})),n.d(t,"ZEM_CLIENT_ID",(function(){return h})),n.d(t,"TRELLO_CLIENT_ID",(function(){return p})),n.d(t,"JIRA_CLOUD_CLIENT_ID",(function(){return f})),n.d(t,"JIRA_SERVER_CLIENT_ID",(function(){return g})),n.d(t,"JIRA_ATL_ORIGIN_TOKEN",(function(){return m})),n.d(t,"VSCODE_CLIENT_ID",(function(){return b})),n.d(t,"FIGMA_CLIENT_ID",(function(){return y})),n.d(t,"ZPL_PROTOCOL",(function(){return S})),n.d(t,"INTERCOM_APP_ID",(function(){return v})),n.d(t,"GOOGLE_CLIENT_ID",(function(){return C})),n.d(t,"GOOGLE_AUTH_LOGIN_REDIRECT_URI",(function(){return O})),n.d(t,"GOOGLE_AUTH_SIGNUP_REDIRECT_URI",(function(){return E})),n.d(t,"GOOGLE_AUTH_UNLINK_REDIRECT_URI",(function(){return T})),n.d(t,"GOOGLE_AUTH_SETUP_SSO_REDIRECT_URI",(function(){return D})),n.d(t,"FIREBASE_API_KEY",(function(){return k})),n.d(t,"FIREBASE_PROJECT_ID",(function(){return w})),n.d(t,"FIREBASE_APP_ID",(function(){return _})),n.d(t,"FIREBASE_MESSAGING_SENDER_ID",(function(){return j})),n.d(t,"MIXPANEL_WEBAPP_API_TOKEN",(function(){return P})),n.d(t,"MIXPANEL_MASTER_API_TOKEN",(function(){return R})),n.d(t,"GA_LEGACY_TRACKING_ID",(function(){return I})),n.d(t,"GA_TRACKING_ID",(function(){return A})),n.d(t,"STRIPE_PUBLISHABLE_KEY",(function(){return x})),n.d(t,"SENTRY_DSN",(function(){return N})),n.d(t,"SENTRY_ENVIRONMENT",(function(){return L})),n.d(t,"SENTRY_RELEASE",(function(){return U})),n.d(t,"PUSHER_ACCESS_KEY",(function(){return M})),n.d(t,"USER_CHANNEL_PREFIX",(function(){return B})),n.d(t,"PROJECT_CHANNEL_PREFIX",(function(){return z})),n.d(t,"STYLEGUIDE_CHANNEL_PREFIX",(function(){return F})),n.d(t,"ORGANIZATION_CHANNEL_PREFIX",(function(){return H})),n.d(t,"ANNOUNCEMENT_CHANNEL",(function(){return W})),n.d(t,"SECURE_COOKIE",(function(){return V})),n.d(t,"WEBAPP_VERSION",(function(){return G})),n.d(t,"FLAG_REMOVE_TEST_ID",(function(){return q})),n.d(t,"FLAG_USE_CONSOLE_LOGGER",(function(){return $}));const i="https://zeplin.io",r="https://app.zeplin.io",o="https://api.zeplin.io",s="https://img.zeplin.io",a="https://cdn.zeplin.io",l="https://scene.zeplin.io",c="https://extensions.zeplin.io",d="https://pusher.zeplin.io/v1/auth",u="5dd27af376f8bf5094f6ebe6",h="5bbc983af6c410493afb03f1",p="59dfedff7c722575736b3e8d",f="5dc3d464b94b22000d3834d0",g="",m="eyJpIjoiZThlMzc5Y2FhZjQ4NDhhYzk3ZDgxMGY5ZDhmYTExNTkiLCJwIjoiamlyYS16ZXBsaW4taW50In0",b="5dc51cd876f8bf00163de1e5",y="5f16c22ce92f41f029ff9593",S="zpl:",v="41ycdg94",C="572614822654-ghfhpjmi208r3tcia7ff0tu8p0fg7vdh.apps.googleusercontent.com",O="https://app.zeplin.io/auth/google/login",E="https://app.zeplin.io/auth/google/signup",T="https://app.zeplin.io/auth/google/unlink",D="https://app.zeplin.io/auth/google/setupsso",k="AIzaSyAJ7h6d1DnbtYRlODr_FZhw8loCsu7n9H8",w="zeplin-8d650",_="1:290381624317:web:0f6a4fd50c15b00d401f94",j="290381624317",P="8e2050dc40d37740b8825eebb37415a9",R="26bd4a3dcc47c8a293c60fa00656fb81",I="UA-51352708-4",A="UA-51352708-8",x="pk_live_XfHC5uYDKaZYEOC1m9FlXwtq",N="https://005c26d193b24ce099639f75fb5fbc85@app.getsentry.com/83039",L="production",U="10.8.0",M="12ddd9afec9f9b421244",B="private-user@",z="private-project@",F="private-styleguide@",H="private-organization@",W="announcement",V="secure",G="10.8.0",q="true",$="false"},,function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return s}));var i=n(43);n.d(t,"polyfill",(function(){return i.default}));var r=n(40);function o(e){const t=document.createElement("dialog"),n=document.createElement("h1"),i=document.createElement("div"),o=document.createElement("form"),s=document.createElement("button"),a=document.createElement("div"),l=document.createElement("div");if(e&&e.img){const n=document.createElement("div");n.classList.add("iconContainer"),a.appendChild(n),function(e,t){let n=t.querySelector("img");n?(n.src=e.src,n.srcset=e.srcset||""):(n=document.createElement("img"),n.src=e.src,n.srcset=e.srcset||"",t.querySelector(".iconContainer").appendChild(n))}(e.img,t)}if(!r.FLAG_REMOVE_TEST_ID&&e&&e.testid&&(t.dataset.testid=e.testid),n.classList.add("title"),a.appendChild(n),i.classList.add("message"),a.appendChild(i),e&&e.input){a.classList.add("inputDialogContainer");const t=document.createElement("div"),n=document.createElement("span"),i=document.createElement("input");t.classList.add("inputContainer"),n.classList.add("subtitle"),n.textContent=e.input.title,i.type=e.input.type,t.appendChild(n),t.appendChild(i),o.appendChild(t)}if(e&&e.cancel){const t=document.createElement("button");t.classList.add("cancel"),t.type="submit",t.textContent=e.cancel.name||"CANCEL",e.cancel.cb&&t.addEventListener("click",e.cancel.cb),l.appendChild(t)}return s.classList.add("done"),s.type="submit",s.autofocus=!0,s.textContent=e&&e.done&&e.done.name||"OK",e&&e.done&&e.done.cb&&s.addEventListener("click",e.done.cb),l.appendChild(s),l.classList.add("buttonContainer"),o.appendChild(l),o.setAttribute("method","dialog"),a.appendChild(o),t.appendChild(a),document.querySelector("body").appendChild(t),t}function s(e,t){if(document.querySelector("dialog.generic")&&!e)return;const n=e&&e.title||"",r=e&&e.message||"We're experiencing a problem here, our developers are on the case. Please try it later.";let s=!1;if(t&&"defer"in t&&(s=t.defer),s)return void sessionStorage.setItem("deferredDialog",JSON.stringify({title:n,message:r}));const a=o(e);i.default.registerDialog(a),a.querySelector(".title").textContent=n;const l=a.querySelector(".message"),{contentType:c="text"}=t||{};switch(c){case"html":l.innerHTML=r;break;case"text":default:l.textContent=r}t&&t.hideMessage&&a.querySelector(".message").classList.add("hidden"),a.addEventListener("click",e=>{e.stopPropagation()}),a.addEventListener("close",()=>{a.remove()}),e||a.classList.add("generic"),a.showModal()}const a=JSON.parse(sessionStorage.getItem("deferredDialog"));a&&(sessionStorage.removeItem("deferredDialog"),s(a))},function(e,t,n){"use strict";n.r(t);var i=window.CustomEvent;function r(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement}return null}function o(e){for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;e&&e.blur&&e!==document.body&&e.blur()}function s(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1}function a(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function l(e){return e.isConnected||document.body.contains(e)}function c(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]})}else{var t,n=!1,i=function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}.bind(this),r=function(r){if(r.target===e){var o="DOMNodeRemoved";n|=r.type.substr(0,o.length)===o,window.clearTimeout(t),t=window.setTimeout(i,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(t){e.addEventListener(t,r)}))}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}i&&"object"!=typeof i||((i=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),n}).prototype=window.Event.prototype),c.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&l(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),d.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var t=document.createElement("div");this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var n=document.createEvent("MouseEvents");n.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(n),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),e||(e=function e(t){var n=["button","input","keygen","select","textarea"].map((function(e){return e+":not([disabled])"}));n.push('[tabindex]:not([disabled]):not([tabindex=""])');var i=t.querySelector(n.join(", "));if(!i&&"attachShadow"in Element.prototype)for(var r=t.querySelectorAll("*"),o=0;o<r.length&&!(r[o].tagName&&r[o].shadowRoot&&(i=e(r[o].shadowRoot)));o++);return i}(this.dialog_)),o(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!l(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!d.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),n=function(e,n){return!(void 0===t[e]||t[e]===n)};if(t.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0;e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,d.needsCentering(this.dialog_)?(d.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e);var t=new i("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(t)}};var d={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,n=t+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(t,n)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var n=document.styleSheets[t],i=null;try{i=n.cssRules}catch(d){}if(i)for(var r=0;r<i.length;++r){var o=i[r],a=null;try{a=document.querySelectorAll(o.selectorText)}catch(d){}if(a&&s(a,e)){var l=o.style.getPropertyValue("top"),c=o.style.getPropertyValue("bottom");if(l&&"auto"!==l||c&&"auto"!==c)return!0}}}return!1},needsCentering:function(e){return"absolute"===window.getComputedStyle(e).position&&(!("auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom)&&!d.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new c(e)},registerDialog:function(e){e.showModal||d.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(t){var n=[];t.forEach((function(e){for(var t,i=0;t=e.removedNodes[i];++i)t instanceof Element&&("dialog"===t.localName&&n.push(t),n=n.concat(t.querySelectorAll("dialog")))})),n.length&&e(n)})))}};if(d.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},d.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},d.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,n=0;e=this.pendingDialogStack[n];++n)e.updateZIndex(--t,--t),0===n&&(this.overlay.style.zIndex=--t);var i=this.pendingDialogStack[0];i?(i.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},d.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=r(e);){for(var t,n=0;t=this.pendingDialogStack[n];++n)if(t.dialog===e)return 0===n;e=e.parentElement}return!1},d.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&document.activeElement!==document.documentElement&&(e.preventDefault(),e.stopPropagation(),o(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():e.target!==document.documentElement&&document.documentElement.focus()),!1}},d.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation();var t=new i("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(t)&&n.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},d.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach((function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()}))},d.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},d.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},d.dm=new d.DialogManager,d.formSubmitter=null,d.useValue=null,void 0===window.HTMLDialogElement){var u=document.createElement("form");if(u.setAttribute("method","dialog"),"dialog"!==u.method){var h=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(h){var p=h.get;h.get=function(){return a(this)?"dialog":p.call(this)};var f=h.set;h.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):f.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",h)}}document.addEventListener("click",(function(e){if(d.formSubmitter=null,d.useValue=null,!e.defaultPrevented){var t=e.target;if(t&&a(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if("input"!==t.localName||"image"!==t.type)return;d.useValue=e.offsetX+","+e.offsetY}r(t)&&(d.formSubmitter=t)}}}),!1);var g=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!a(this))return g.call(this);var e=r(this);e&&e.close()},document.addEventListener("submit",(function(e){if(!e.defaultPrevented){var t=e.target;if(a(t)){e.preventDefault();var n=r(t);if(n){var i=d.formSubmitter;i&&i.form===t?n.close(d.useValue||i.value):n.close(),d.formSubmitter=null}}}}),!1)}t.default=d},function(e,t,n){"use strict";n.r(t),n.d(t,"joinUrlParams",(function(){return a})),n.d(t,"parseUrlPath",(function(){return c})),n.d(t,"parseUrlParams",(function(){return d})),n.d(t,"getTagQueryParams",(function(){return u})),n.d(t,"urlResolve",(function(){return h})),n.d(t,"getExtensionWebsiteUrl",(function(){return p})),n.d(t,"isValidUrl",(function(){return g})),n.d(t,"parseAppURI",(function(){return o})),n.d(t,"convertURItoWebURL",(function(){return s}));var i=n(40);const r={authGoogle:"/auth/google","sso-required":"/login/sso-required",downloads:"/downloads",forgotPassword:"/forgot-password",hodor:"/hodor",huggingSlack:"/hugging-slack",login:"/login",preview:"/project/:pid/preview",profile:"/profile","profile-account":"/profile/account","profile-password":"/profile/password","profile-billing":"/profile/billing","profile-connected-apps":"/profile/connected-apps",project:"/project/:bid","project-dashboard":"/project/:pid/dashboard","project-styleguide":"/project/:bid/styleguide","project-styleguide-colors":"/project/:bid/styleguide/colors","project-styleguide-textstyles":"/project/:bid/styleguide/textstyles","project-styleguide-spacing":"/project/:bid/styleguide/spacing","project-styleguide-components":"/project/:bid/styleguide/components","project-screen":"/project/:pid/screen/:sid","project-screen-version":"/project/:pid/screen/:sid/version/:vid",projects:"/projects",styleguide:"/styleguide/:bid","styleguide-about":"/styleguide/:bid/about","styleguide-colors":"/styleguide/:bid/colors","styleguide-textstyles":"/styleguide/:bid/textstyles","styleguide-spacing":"/styleguide/:bid/spacing","styleguide-components":"/styleguide/:bid/components",styleguides:"/styleguides",signup:"/signup","signup-sso":"/signup/sso",resetPassword:"/reset-password",thanks:"/thanks",verify:"/verify",welcome:"/welcome","organization-create":"/organization/create","organization-dashboard":"/organization/:oid/dashboard","organization-profile":"/organization/:oid/profile","organization-profile-billing":"/organization/:oid/profile/billing","organization-profile-authentication":"/organization/:oid/profile/authentication","organization-profile-developer":"/organization/:oid/profile/developer","organization-projects":"/organization/:oid/projects","organization-styleguides":"/organization/:oid/styleguides",authSamlResult:"/auth/saml/result"};function o(e){const t={};if(e.pathname.startsWith("//projects")){const n=e.searchParams.getAll("pid");t.urlSlug="projects",t.query={pid:n}}else if(e.pathname.startsWith("//styleguides")){const n=e.searchParams.getAll("stid");t.urlSlug="styleguides",t.query={stid:n}}else{const n=e.searchParams.get("pid"),i=e.searchParams.get("stid");if(!n&&!i)return null;if(t.url={pid:n,bid:n||i},e.pathname.startsWith("//screen")){const n=e.searchParams.get("sid"),i=e.searchParams.get("vid");t.urlSlug=i?"project-screen-version":"project-screen",t.url.sid=n,t.url.vid=i}else if(e.pathname.startsWith("//dot")){const n=e.searchParams.get("sid"),i=e.searchParams.getAll("did"),r=e.searchParams.getAll("cmid");t.urlSlug="project-screen",t.url.sid=n,t.query={did:i,cmid:r}}else if(e.pathname.startsWith("//styleguide")){const n=e.searchParams.getAll("cid"),r=e.searchParams.getAll("tsid"),o=e.searchParams.getAll("sptid"),s=e.searchParams.getAll("coid");t.urlSlug=i?"styleguide":"project-styleguide",t.query={cid:n,tsid:r,sptid:o,coid:s}}else if(e.pathname.startsWith("//colors")){const n=e.searchParams.getAll("cid");t.urlSlug=i?"styleguide-colors":"project-styleguide-colors",t.query={cid:n}}else if(e.pathname.startsWith("//textStyles")){const n=e.searchParams.getAll("tsid");t.urlSlug=i?"styleguide-textstyles":"project-styleguide-textstyles",t.query={tsid:n}}else if(e.pathname.startsWith("//spacing")){const n=e.searchParams.getAll("sptid");t.urlSlug=i?"styleguide-spacing":"project-styleguide-spacing",t.query={sptid:n}}else if(e.pathname.startsWith("//components")){const n=e.searchParams.getAll("coid"),r=e.searchParams.getAll("cseid"),o=e.searchParams.getAll("seid"),s=[...new Set([...o,...r])];t.urlSlug=i?"styleguide-components":"project-styleguide-components",t.query={coid:n,seid:s}}else{const n=e.searchParams.getAll("sid"),i=e.searchParams.getAll("seid");t.urlSlug="project-dashboard",t.query={sid:n,seid:i}}}return t}function s(e){if(e.protocol!==i.ZPL_PROTOCOL)return;const{urlSlug:t,url:n={},query:r={}}=o(e)||{};return t?h(t,{url:n,query:r}):void 0}function a(e){if(!Object.keys(e))return"";var t=[];return Object.keys(e).forEach((function(n){e[n]&&(Array.isArray(e[n])?e[n].forEach((function(e){t.push([n,e])})):t.push([n,e[n]]))})),t.map((function(e){return e.map(encodeURIComponent).join("=")})).join("&")}const l=new RegExp("/project/([0-9a-z]{24})(?:/screen/([0-9a-z]{24})(?:/version/([0-9a-z]{24}))?)?","i");function c(e){var t=e.match(l);if(!t)return null;var n={pid:decodeURIComponent(t[1])};return t[2]&&(n.sid=decodeURIComponent(t[2])),t[3]&&(n.vid=decodeURIComponent(t[3])),n}function d(e){var t=("?"===e[0]?e.substring(1):e).split("&").map((function(e){return e.split("=").map((function(e){return e.replace(/\+/g,"%20")})).map(decodeURIComponent)})),n=Array.from(new Set(t.map((function(e){return e[0]})))).reduce((function(e,t){return e[t]=[],e}),{});return t.forEach((function(e){var t=n[e[0]];t&&e[1]&&t.push(e[1])})),n}function u(e){const{tags:t,untagged:n}=e;return n?{untagged:"true"}:{tag:t}}function h(e,{origin:t=location.origin,url:n={},query:i,hash:o}={}){const s=new URL((l=r[e],c=n,Object.entries(c).reduce((e,[t,n])=>e.replace(new RegExp(":"+t),n),l)),t);var l,c;return i&&!f(i)&&(s.search=a(i)),o&&!f(o)&&(s.hash=a(o)),s.toString()}function p({eid:e,organizationId:t}={}){return e?`${i.EXTENSIONS_WEB_URL}/${e}`:t&&"user"!==t?`${i.EXTENSIONS_WEB_URL}?oid=${t}`:i.EXTENSIONS_WEB_URL}function f(e){return 0===Object.keys(e).length}const g=e=>{try{return!!new URL(e)}catch(t){return!1}}},function(e,t,n){"use strict";n.r(t),n.d(t,"createError",(function(){return c})),n.d(t,"handleError",(function(){return d}));var i=n(46),r=n.n(i),o=n(47),s=n(48),a=n(42),l=n(40);function c(e,t){return t=t||{},e>=400&&e<500?new o.default(e,t.title,t.message):e>=500&&e<600?new s.default(e):new Error("We're experiencing a problem here, our developers are on the case. Please try it later.")}function d(e,t){var n={title:e.title,message:e.message};if(l.FLAG_USE_CONSOLE_LOGGER&&console.error(e),e instanceof s.default)t?"serverErrorHandler"in t?t.serverErrorHandler(e):("serverErrorDialogCallback"in t?n.done={cb:t.serverErrorDialogCallback}:"dialogCallback"in t&&(n.done={cb:t.dialogCallback}),a.create(n)):a.create(n);else if(e instanceof o.default)if(401===e.status){if(t&&"clientErrorHandler"in t&&"object"==typeof t.clientErrorHandler)if("function"==typeof(c=t.clientErrorHandler[401]))return void c();r.a.expire("userToken"),localStorage.removeItem("user"),Raven.setUserContext(),a.create({title:e.title,message:e.message},{defer:!0}),Zeplin.requireLogin()}else if(400===e.status&&Raven.captureException(e),t)if("clientErrorHandler"in t){var i=t.clientErrorHandler;if("function"==typeof i)i(e);else if("object"==typeof i){var c;"function"==typeof(c=i[e.status])?c(e):"default"in i&&i.default(e)}}else"clientErrorDialogCallback"in t?n.done={cb:t.clientErrorDialogCallback}:"dialogCallback"in t&&(n.done={cb:t.dialogCallback}),a.create(n);else a.create(n);else if(Raven.captureException(e),t&&"fallbackHandler"in t)t.fallbackHandler();else{let e=l.FLAG_REMOVE_TEST_ID?null:{testid:"genericErrorDialog"};a.create(e)}}},function(e,t,n){var i;!function(r,o){"use strict";var s=function(e){if("object"!=typeof e.document)throw new Error("Cookies.js requires a `window` with a `document` object");var t=function(e,n,i){return 1===arguments.length?t.get(e):t.set(e,n,i)};return t._document=e.document,t._cacheKeyPrefix="cookey.",t._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),t.defaults={path:"/",secure:!1},t.get=function(e){t._cachedDocumentCookie!==t._document.cookie&&t._renewCache();var n=t._cache[t._cacheKeyPrefix+e];return void 0===n?void 0:decodeURIComponent(n)},t.set=function(e,n,i){return(i=t._getExtendedOptions(i)).expires=t._getExpiresDate(void 0===n?-1:i.expires),t._document.cookie=t._generateCookieString(e,n,i),t},t.expire=function(e,n){return t.set(e,void 0,n)},t._getExtendedOptions=function(e){return{path:e&&e.path||t.defaults.path,domain:e&&e.domain||t.defaults.domain,expires:e&&e.expires||t.defaults.expires,secure:e&&void 0!==e.secure?e.secure:t.defaults.secure}},t._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t._getExpiresDate=function(e,n){if(n=n||new Date,"number"==typeof e?e=e===1/0?t._maxExpireDate:new Date(n.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&!t._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},t._generateCookieString=function(e,t,n){var i=(e=(e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent)).replace(/\(/g,"%28").replace(/\)/g,"%29"))+"="+(t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent));return i+=(n=n||{}).path?";path="+n.path:"",i+=n.domain?";domain="+n.domain:"",i+=n.expires?";expires="+n.expires.toUTCString():"",i+=n.secure?";secure":""},t._getCacheFromString=function(e){for(var n={},i=e?e.split("; "):[],r=0;r<i.length;r++){var o=t._getKeyValuePairFromCookieString(i[r]);void 0===n[t._cacheKeyPrefix+o.key]&&(n[t._cacheKeyPrefix+o.key]=o.value)}return n},t._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");t=t<0?e.length:t;var n,i=e.substr(0,t);try{n=decodeURIComponent(i)}catch(r){console&&"function"==typeof console.error&&console.error('Could not decode cookie with key "'+i+'"',r)}return{key:n,value:e.substr(t+1)}},t._renewCache=function(){t._cache=t._getCacheFromString(t._document.cookie),t._cachedDocumentCookie=t._document.cookie},t._areEnabled=function(){var e="1"===t.set("cookies.js",1).get("cookies.js");return t.expire("cookies.js"),e},t.enabled=t._areEnabled(),t},a=r&&"object"==typeof r.document?s(r):s;void 0===(i=function(){return a}.call(t,n,t,e))||(e.exports=i)}("undefined"==typeof window?this:window)},function(e,t,n){"use strict";function i(e,t,n){this.stack=(new Error).stack,this.status=e||400,this.title=t||"Ooops!",this.message=n||"We're experiencing a problem here, our developers are on the case. Please try it later."}n.r(t),i.prototype=Object.create(Error.prototype),i.prototype.name="ClientError",i.prototype.toString=function(){return"("+this.status+") "+this.title+"\n"+this.message},t.default=i},function(e,t,n){"use strict";function i(e){switch(this.stack=(new Error).stack,this.status=e||500,this.status){case 503:this.message="Under maintenance, please try again in a little while.";break;default:this.message="We're experiencing a problem here, our developers are on the case. Please try it later."}}n.r(t),i.prototype=Object.create(Error.prototype),i.prototype.name="ServerError",i.prototype.toString=function(){return"("+this.status+") "+this.message},t.default=i},,,,function(e,t,n){"use strict";function i(e,{remove:t=!0}={}){if("apiData"in Zeplin&&e in Zeplin.apiData){const n=Zeplin.apiData[e];return t&&delete Zeplin.apiData[e],n}}n.r(t),n.d(t,"fetchEmbeddedData",(function(){return i}))},,,,function(e,t,n){"use strict";n.r(t),n.d(t,"scrollIfNecessary",(function(){return f})),n.d(t,"getFirstScrollableParent",(function(){return p})),n.d(t,"selectContent",(function(){return g})),n.d(t,"isElementVisible",(function(){return m})),n.d(t,"wiggle",(function(){return b})),n.d(t,"highlightInput",(function(){return y})),n.d(t,"highlightMatchedParts",(function(){return S})),n.d(t,"isEditableElement",(function(){return v})),n.d(t,"canCopy",(function(){return C})),n.d(t,"canDownload",(function(){return O})),n.d(t,"copyTextLegacy",(function(){return E})),n.d(t,"copyContent",(function(){return D})),n.d(t,"getTextWidth",(function(){return k})),n.d(t,"setAvatar",(function(){return w})),n.d(t,"getUserAvatar",(function(){return P})),n.d(t,"openLink",(function(){return R})),n.d(t,"notify",(function(){return I}));var i=n(57),r=n.n(i),o=n(61),s=n(62),a=n(19),l=n(18),c=n(64),d=n(67),u=n(140),h=n(143);function p(e){if(!e)return null;let t=e.parentElement;for(;t&&t.scrollHeight<=t.clientHeight;)t=t.parentElement;return t}function f(e,t=p(e)){if(!e||!t)return;const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();setTimeout(()=>{n.top<i.top?t.scrollTop-=i.top-n.top:n.bottom>i.bottom&&(t.scrollTop+=n.bottom-i.bottom)},4)}function g(e){getSelection().removeAllRanges();const t=document.createRange();t.selectNodeContents(e),getSelection().addRange(t)}function m(e,t=p(e)){if(!t)return!0;const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return i.top<=n.top&&i.bottom>=n.bottom&&i.left<=n.left&&i.right>=n.right}function b(e){e.addEventListener("animationend",()=>{e.classList.remove("wiggle")}),e.classList.add("wiggle")}function y(e){setTimeout(()=>{e.focus(),e.select()},4)}function S(e,t,{caseInsensitive:n,excludeZeroScore:i}={}){const r=n?e.toLowerCase():e,o=n?t.toLowerCase():t;let a=0,l="";if(i&&!Object(h.calculateMatchingScore)(o,r))return Object(s.escapeHTML)(e);const c=r.indexOf(o);if(c>-1)l+=Object(s.escapeHTML)(e.substring(0,c)),l+=`<span class="highlight">${Object(s.escapeHTML)(e.substr(c,o.length))}</span>`,l+=Object(s.escapeHTML)(e.substring(c+o.length));else{for(const t of o){const n=r.indexOf(t,a);if(-1===n)break;l+=Object(s.escapeHTML)(e.substring(a,n)),l+=`<span class="highlight">${Object(s.escapeHTML)(e.substr(n,t.length))}</span>`,a=n+t.length}l+=Object(s.escapeHTML)(e.substring(a))}return l}function v(e){return["input","textarea"].includes(e.tagName.toLowerCase())||e.isContentEditable}function C(){return document.queryCommandSupported("copy")}function O(){return"download"in document.createElement("a")}function E(e){const t=document.createElement("textarea");t.classList.add("copyContainer"),t.value=e,document.body.appendChild(t),t.focus(),function(e){if(Object(c.isiOS)()){const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n.removeAllRanges(),n.addRange(t),e.setSelectionRange(0,e.value.length)}else e.select()}(t);let n=!1;try{n=document.execCommand("copy")}finally{t.remove()}return Promise.resolve(n)}function T(e){return navigator.clipboard.writeText(e).then(e=>!0).catch(e=>!1)}function D({content:e,toastContainer:t}){(navigator.clipboard?T:E)(e).then(n=>{n&&t&&Object(o.default)({text:"Copied to clipboard!",container:t,source:e})})}const k=function(){let e;return function(t,n){e||(e=document.createElement("canvas"));const i=e.getContext("2d");return i.font=n,i.measureText(t).width}}();function w(e,t,n){const i=e.parentElement;i.classList.add("loading"),e.removeAttribute("src"),e.removeAttribute("srcset"),e.addEventListener("load",(function t(){e.removeEventListener("load",t),i.classList.remove("loading")}));const r=P(t,{ignoreRandomEmotar:!!n,size:e.width});r&&Object.assign(e,r)}const _=["alien","bear","grapes","meat_on_bone","bread","lollipop","chicken","cookie","dark_sunglasses","dart","dog","eyes","frog","ghost","gift","jack_o_lantern","hamburger","koala","four_leaf_clover","lemon","lion_face","tophat","monkey_face","new_moon_with_face","hamster","mushroom","chestnut","octopus","panda_face","penguin","pig_nose","rabbit","mouse","robot_face","space_invader","full_moon_with_face","tennis","tomato","tv"],j={};function P(e,{ignoreRandomEmotar:t=!1,size:n}={}){if(!e||!e.email)return{src:"/img/emotars/emotarAnonymous.png"};if(!t&&e.emotar)return{src:Object(l.emotarUrl)(e.emotar)};if(e.avatar)return{src:e.avatar};let i;if(t)return{src:"/img/emotars/icRandom.svg"};let o=j[e._id];o||(o=Array.from(r()(e._id)).reduce((e,t)=>e+t.charCodeAt(),0),j[e._id]=o),i=_[o%_.length].replace(/_\w/g,e=>e.charAt(1).toUpperCase()),i=`https://app.zeplin.io/img/emotars/emotar${Object(a.uppercaseFirst)(i)}.png`;const s="https://secure.gravatar.com/avatar/"+r()(e.email);return{src:`${s}?${n?"s="+n+"&":""}d=${i}`,srcset:`${s}?${n?"s="+2*n+"&":""}d=${i} 2x`}}function R(e,{inNewTab:t=!0}={}){if(d.default)return void d.default.shell.openExternal(e);let n=window.location;if(t){const e=window.open("","_blank");e.opener=null,n=e.location}n.assign(e)}async function I({title:e,body:t,notifier:n,handler:i}={}){if(!window.Notification||"granted"!==Notification.permission)return;if(!await u.userPrefs.get("notificationStatus"))return;const{src:r}=P(n,{size:160}),o=new Notification(e,{body:t,icon:r,name:0});o.addEventListener("show",(function(){setTimeout(o.close.bind(o),5e3)})),i&&o.addEventListener("click",i)}},function(e,t,n){var i,r,o,s,a;i=n(58),r=n(59).utf8,o=n(60),s=n(59).bin,(a=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?s.stringToBytes(e):r.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var n=i.bytesToWords(e),l=8*e.length,c=1732584193,d=-271733879,u=-1732584194,h=271733878,p=0;p<n.length;p++)n[p]=16711935&(n[p]<<8|n[p]>>>24)|4278255360&(n[p]<<24|n[p]>>>8);n[l>>>5]|=128<<l%32,n[14+(l+64>>>9<<4)]=l;var f=a._ff,g=a._gg,m=a._hh,b=a._ii;for(p=0;p<n.length;p+=16){var y=c,S=d,v=u,C=h;c=f(c,d,u,h,n[p+0],7,-680876936),h=f(h,c,d,u,n[p+1],12,-389564586),u=f(u,h,c,d,n[p+2],17,606105819),d=f(d,u,h,c,n[p+3],22,-1044525330),c=f(c,d,u,h,n[p+4],7,-176418897),h=f(h,c,d,u,n[p+5],12,1200080426),u=f(u,h,c,d,n[p+6],17,-1473231341),d=f(d,u,h,c,n[p+7],22,-45705983),c=f(c,d,u,h,n[p+8],7,1770035416),h=f(h,c,d,u,n[p+9],12,-1958414417),u=f(u,h,c,d,n[p+10],17,-42063),d=f(d,u,h,c,n[p+11],22,-1990404162),c=f(c,d,u,h,n[p+12],7,1804603682),h=f(h,c,d,u,n[p+13],12,-40341101),u=f(u,h,c,d,n[p+14],17,-1502002290),c=g(c,d=f(d,u,h,c,n[p+15],22,1236535329),u,h,n[p+1],5,-165796510),h=g(h,c,d,u,n[p+6],9,-1069501632),u=g(u,h,c,d,n[p+11],14,643717713),d=g(d,u,h,c,n[p+0],20,-373897302),c=g(c,d,u,h,n[p+5],5,-701558691),h=g(h,c,d,u,n[p+10],9,38016083),u=g(u,h,c,d,n[p+15],14,-660478335),d=g(d,u,h,c,n[p+4],20,-405537848),c=g(c,d,u,h,n[p+9],5,568446438),h=g(h,c,d,u,n[p+14],9,-1019803690),u=g(u,h,c,d,n[p+3],14,-187363961),d=g(d,u,h,c,n[p+8],20,1163531501),c=g(c,d,u,h,n[p+13],5,-1444681467),h=g(h,c,d,u,n[p+2],9,-51403784),u=g(u,h,c,d,n[p+7],14,1735328473),c=m(c,d=g(d,u,h,c,n[p+12],20,-1926607734),u,h,n[p+5],4,-378558),h=m(h,c,d,u,n[p+8],11,-2022574463),u=m(u,h,c,d,n[p+11],16,1839030562),d=m(d,u,h,c,n[p+14],23,-35309556),c=m(c,d,u,h,n[p+1],4,-1530992060),h=m(h,c,d,u,n[p+4],11,1272893353),u=m(u,h,c,d,n[p+7],16,-155497632),d=m(d,u,h,c,n[p+10],23,-1094730640),c=m(c,d,u,h,n[p+13],4,681279174),h=m(h,c,d,u,n[p+0],11,-358537222),u=m(u,h,c,d,n[p+3],16,-722521979),d=m(d,u,h,c,n[p+6],23,76029189),c=m(c,d,u,h,n[p+9],4,-640364487),h=m(h,c,d,u,n[p+12],11,-421815835),u=m(u,h,c,d,n[p+15],16,530742520),c=b(c,d=m(d,u,h,c,n[p+2],23,-995338651),u,h,n[p+0],6,-198630844),h=b(h,c,d,u,n[p+7],10,1126891415),u=b(u,h,c,d,n[p+14],15,-1416354905),d=b(d,u,h,c,n[p+5],21,-57434055),c=b(c,d,u,h,n[p+12],6,1700485571),h=b(h,c,d,u,n[p+3],10,-1894986606),u=b(u,h,c,d,n[p+10],15,-1051523),d=b(d,u,h,c,n[p+1],21,-2054922799),c=b(c,d,u,h,n[p+8],6,1873313359),h=b(h,c,d,u,n[p+15],10,-30611744),u=b(u,h,c,d,n[p+6],15,-1560198380),d=b(d,u,h,c,n[p+13],21,1309151649),c=b(c,d,u,h,n[p+4],6,-145523070),h=b(h,c,d,u,n[p+11],10,-1120210379),u=b(u,h,c,d,n[p+2],15,718787259),d=b(d,u,h,c,n[p+9],21,-343485551),c=c+y>>>0,d=d+S>>>0,u=u+v>>>0,h=h+C>>>0}return i.endian([c,d,u,h])})._ff=function(e,t,n,i,r,o,s){var a=e+(t&n|~t&i)+(r>>>0)+s;return(a<<o|a>>>32-o)+t},a._gg=function(e,t,n,i,r,o,s){var a=e+(t&i|n&~i)+(r>>>0)+s;return(a<<o|a>>>32-o)+t},a._hh=function(e,t,n,i,r,o,s){var a=e+(t^n^i)+(r>>>0)+s;return(a<<o|a>>>32-o)+t},a._ii=function(e,t,n,i,r,o,s){var a=e+(n^(t|~i))+(r>>>0)+s;return(a<<o|a>>>32-o)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=i.wordsToBytes(a(e,t));return t&&t.asBytes?n:t&&t.asString?s.bytesToString(n):i.bytesToHex(n)}},function(e,t){var n,i;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&i.rotl(e,8)|4278255360&i.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=i.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,i=0;n<e.length;n++,i+=8)t[i>>>5]|=e[n]<<24-i%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],i=0;i<e.length;i+=3)for(var r=e[i]<<16|e[i+1]<<8|e[i+2],o=0;o<4;o++)8*i+6*o<=8*e.length?t.push(n.charAt(r>>>6*(3-o)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],i=0,r=0;i<e.length;r=++i%4)0!=r&&t.push((n.indexOf(e.charAt(i-1))&Math.pow(2,-2*r+8)-1)<<2*r|n.indexOf(e.charAt(i))>>>6-2*r);return t}},e.exports=i},function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=n},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";n.r(t);const i={source:null,text:null,container:null,visible:!1,removeTimeout:null};function r(e){return setTimeout(()=>{e.addEventListener("transitionend",()=>{e.remove(),i.visible=!1}),e.classList.remove("show")},3e3)}t.default=function({text:e,source:t,container:n=document.body}){if(i.visible){const n=i.container.querySelector(".toastContainer");if(n&&t===i.source&&e===i.text)return clearTimeout(i.removeTimeout),void(i.removeTimeout=r(n));n&&n.remove()}const o=document.createElement("div"),s=document.createElement("div");o.appendChild(s),o.classList.add("toastContainer"),s.classList.add("toast"),s.textContent=e,n.appendChild(o),i.container=n,i.source=t,i.text=e,i.visible=!0,setTimeout(()=>{o.classList.add("show"),i.removeTimeout=r(o)},50)}},function(e,t,n){"use strict";n.r(t),n.d(t,"escapeHTML",(function(){return c})),n.d(t,"unescapeHTML",(function(){return d})),n.d(t,"sortBy",(function(){return f})),n.d(t,"arrayRemove",(function(){return C})),n.d(t,"fontSort",(function(){return O})),n.d(t,"emojiRegex",(function(){return g})),n.d(t,"spanEmojis",(function(){return b})),n.d(t,"mentionRegexFn",(function(){return S})),n.d(t,"userRegexFn",(function(){return v})),n.d(t,"arrayEqual",(function(){return E})),n.d(t,"validateId",(function(){return T})),n.d(t,"permissions",(function(){return w})),n.d(t,"isOrganizationProject",(function(){return j})),n.d(t,"getDeveloperString",(function(){return A})),n.d(t,"getPlatformString",(function(){return N})),n.d(t,"escapeAndroidXML",(function(){return u})),n.d(t,"escapeRegExp",(function(){return h})),n.d(t,"getTimeSlot",(function(){return U})),n.d(t,"normalizeObjCColor",(function(){return P})),n.d(t,"normalizeSwiftColor",(function(){return R})),n.d(t,"alphaFormatter",(function(){return z})),n.d(t,"formatTime",(function(){return V})),n.d(t,"rectContains",(function(){return G})),n.d(t,"rectContainsPoint",(function(){return q})),n.d(t,"rectanglesIntersect",(function(){return $})),n.d(t,"getUserRoleString",(function(){return Y})),n.d(t,"getRoleIconName",(function(){return K})),n.d(t,"getDensityScale",(function(){return X})),n.d(t,"getDensityScaleRepresentation",(function(){return ee})),n.d(t,"getMostConformingTextStyle",(function(){return te})),n.d(t,"colorNameRegex",(function(){return ne})),n.d(t,"debounce",(function(){return M})),n.d(t,"debouncePromise",(function(){return B})),n.d(t,"stopPropagation",(function(){return ie})),n.d(t,"preventDefault",(function(){return re})),n.d(t,"collectComponents",(function(){return oe})),n.d(t,"formatCurrency",(function(){return H})),n.d(t,"formatList",(function(){return W})),n.d(t,"calculateOverlayIcon",(function(){return le})),n.d(t,"pipe",(function(){return ce})),n.d(t,"getStateUpdateFunction",(function(){return de})),n.d(t,"groupBy",(function(){return ue})),n.d(t,"normalizeArray",(function(){return he})),n.d(t,"filterOut",(function(){return pe})),n.d(t,"groupMentionKeywords",(function(){return y}));var i=n(63),r=n.n(i),o=n(19);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/'/gm,"&apos;")}function d(e){return e.replace(/&apos;/gm,"'").replace(/&quot;/gm,'"').replace(/&gt;/gm,">").replace(/&lt;/gm,"<").replace(/&amp;/gm,"&")}function u(e){return c(e).replace(/^@/gm,"\\ufeff@")}function h(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}var p={king:4,queen:3,rook:2,knight:1,pawn:0,owner:2,admin:1,user:0},f={role:(e,t)=>e.role!==t.role?p[t.role]-p[e.role]:"invited"!==e.user.status&&"invited"===t.user.status?-1:"invited"===e.user.status&&"invited"!==t.user.status?1:"invited"===e.user.status&&"invited"===t.user.status?e.user.email<t.user.email?-1:1:e.user.username<t.user.username?-1:1,date(e,t,n){let i=t,r=n;for(let o=0;o<e.length;o++)i=i[e[o]],r=r[e[o]];return new Date(r)-new Date(i)},_property(e,t,n){let i=t,r=n;e&&(i=t[e],r=n[e]);const o=i.toLowerCase().match(/\D+|\d+/g),s=r.toLowerCase().match(/\D+|\d+/g),a=Math.min(o.length,s.length);for(var l=0;l<a;l++)if(o[l]!==s[l]){var c=parseInt(o[l],10),d=parseInt(s[l],10);return isNaN(c)||isNaN(d)?o[l]<s[l]?-1:o[l]>s[l]?1:0:c-d}return o.length-s.length}};f.created=f.date.bind(null,["created"]),f.updated=f.date.bind(null,["updated"]),f.lastUpdated=f.updated,f.authorized=f.date.bind(null,["authorizedAt"]),f.naturally=f._property.bind(null,null),f.name=f._property.bind(null,"name");const g=r()();var m=/\ud83c[\udffb-\udfff]/g;function b(e){return e.replace(g,(function(e){return m.test(e)?'<span class="emoji skinType">'+e+"</span>":'<span class="emoji">'+e+"</span>"})).replace(/<\/span><span class="emoji skinType">/g,"")}const y=["everyone","project","organization"];function S(e){const t=[...y,e].join("|");return new RegExp(`@(?:${t})\\b`)}function v(e=[]){const t=e.filter(({user:{username:e}})=>e).map(({user:{username:e}})=>e),n=[...y,...t].join("|");return new RegExp(`@(?:${n})\\b`,"gi")}function C(e,t){const n="function"==typeof t?t:e=>e._id===t,i=e.findIndex(n);return-1===i?null:e.splice(i,1)[0]}function O(e,t){return e.fontSize>t.fontSize?-1:e.fontSize<t.fontSize?1:e.fontWeight>t.fontWeight?-1:e.fontWeight<t.fontWeight?1:e.color&&!t.color?-1:t.color&&!e.color?1:e.fontFace<t.fontFace?-1:e.fontFace>t.fontFace?1:e.name<t.name?-1:1}function E(e,t,n){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1;return!0}function T(e,t){return!(!e||!/^[0-9a-f]{24}$/i.test(e))||("Raven"in window&&Raven.captureException(new Error("Invalid "+(t||"object")+" id"),{extra:{id:e}}),!1)}const D=["user","admin","owner","pawn","knight","rook","queen","king"],k={canTransferOwnership:["king","queen","rook","owner"],canLeaveProject:["king","queen","rook","knight","pawn","user","admin"],canCreateProject:["king","queen","rook"],canUpdateProject:["king","queen","rook","owner","admin","user"],canCreateProjectSection:["king","queen","rook","owner","admin","user"],canChangeProjectAccesibility:["king","queen","rook","owner","admin"],canChangeProjectStatus:["king","queen","rook","owner","admin"],canDeleteProject:["king","queen","rook","owner"],canCreateStyleguide:["king","queen","rook"],canDeleteStyleguide:["king","queen","rook","owner"],canLeaveStyleguide:["king","queen","rook","knight","pawn","user","admin"],canUpdateStyleguide:["king","queen","rook","owner","admin","user"],canChangeStyleguideStatus:["king","queen","rook","owner","admin"],canManageScreens:["king","queen","rook","owner","admin","user"],canMoveScreens:["king","queen","rook","owner","admin"],canRemoveVersions:["king","queen","owner","admin"],canManageColors:["king","queen","rook","owner","admin","user"],canManageTextStyles:["king","queen","rook","owner","admin","user"],canManageSpacings:["king","queen","rook","owner","admin","user"],canRemoveNotes:["king","queen","owner","admin"],canRemoveExtensions:["king","queen","rook","knight","owner","admin","user"],canManageRemSettings:["king","queen","rook","knight","owner","admin","user"],canManageWorkflowStatuses:["king","queen","rook","owner","admin","user"],canMoveResources:["king","queen","rook","owner","admin","user"],canManageWebhooks:["king","queen","owner","admin"]},w={isSuperior(e,t,n){const i=D.indexOf(e.role),r=D.indexOf(t.role);return n&&i===r||i>r}};for(const[fe,ge]of Object.entries(k))w[fe]=e=>{if(!e)return!1;const t="string"==typeof e?e:e.role;return ge.includes(t)};const _=["king","queen","rook","knight","pawn"];function j(e){return!e.users.length||_.includes(e.users[0].role)}function P(e){return(e=Math.round(e))?255===e?"1.0f ":e+".0f / 255.0f ":"0.0f "}function R(e){return(e=Math.round(e))?255===e?"1.0, ":e+".0 / 255.0, ":"0.0, "}const I={web:"Web developer",android:"Android developer",ios:"iOS developer",mac:"macOS developer",osx:"macOS developer"};function A(e){return I[e]}const x=Object.freeze({android:"Android",base:"Base",ios:"iOS",osx:"macOS",macos:"macOS",web:"Web"});function N(e){return x[e]}function L(e){return(e.getDay()+6)%7}function U(e){var t=function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=t.getTime(),i=new Date(n-864e5),r=new Date(n-864e5*L(e)),o=new Date(n-864e5*(L(e)+7)),s=new Date(n-864e5*(e.getDate()-1)),a=new Date(n-864e5*(e.getDate()+1));return a.setDate(1),[["today",t],["yesterday",i],["this week",r],["last week",o],["this month",s],["last month",a]]}().find((function(t){return e>=t[1]}));if(t)return t[0];var n={month:"long"};return(new Date).getFullYear()!==e.getFullYear()&&(n.year="numeric"),V(e,n)}function M(e,t){let n;return function(...i){const r=this;n?cancelAnimationFrame(n):t&&e.apply(r,i),n=requestAnimationFrame((function(){t||e.apply(r,i),n=null}))}}function B(e,t=1e3){let n=null,i=null;return function(...r){return clearTimeout(n),n=setTimeout(()=>{let t=e(...r);i(t),i=null},t),new Promise(e=>{i=e})}}var z=new Intl.NumberFormat("en-US",{useGrouping:!1,minimumFractionDigits:1,maximumFractionDigits:2});const F=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function H(e){return F.format(e)}function W(e,t="conjunction"){if(Intl.ListFormat)return new Intl.ListFormat("en-US",{type:t}).format(e.map(String));const n="disjunction"===t?"or":"and";return e.length<3?e.join(` ${n} `):`${e.slice(0,-1).join(", ")}, ${n} ${e[e.length-1]}`}function V(e,t){var n=new Intl.DateTimeFormat("en",t),i=n.resolvedOptions().timeZone;return i&&"etc/unknown"!==i.toLowerCase()||(t.timeZone="UTC",n=new Intl.DateTimeFormat("en",t)),n.format(new Date(e))}function G(e,t){const n=e.x+e.width,i=e.y+e.height,r=t.x+t.width,o=t.y+t.height;return e.x<=t.x&&e.y<=t.y&&n>=r&&i>=o}function q(e,t){const{left:n,right:i,top:r,bottom:o}=e,{x:s,y:a}=t;return s>n&&s<i&&a>r&&a<o}function $(e,t){return e.x<t.right&&e.right>t.x&&e.y<t.bottom&&e.bottom>t.y}var Z={king:"Owner",queen:"Admin",rook:"Editor",knight:"Member",pawn:"Alien",owner:"Owner",admin:"Admin",user:"Member"};function Y(e){return Z[e]||""}function K(e){return"ic"+Object(o.uppercaseFirst)(e)}const J=Object.freeze({mdpi:1,"1x":1,web:1,unknown:1,undefined:1,hdpi:1.5,xhdpi:2,"2x":2,xxhdpi:3,"3x":3,xxxhdpi:4,"4x":4});function X(e){return J[e]}const Q=Object.freeze({1:"mdpi",1.5:"hdpi",2:"xhdpi",3:"xxhdpi",4:"xxxhdpi"});function ee(e,t){return t?"android"===e?Q[t]:t+"x":"unknown"}function te(e,t){const n=e.reduce((e,n)=>{const{id:i,name:r,textStyles:o,isMember:s,isOrganizationBarrel:l}=n,c=function(e,t){return e.reduce((e,n)=>{if(!t.conforms(n))return e;const i=Object.keys(n).filter(e=>void 0!==n[e]).length;return i>e.score?{textStyle:n,score:i}:e},{textStyle:null,score:0})}(o,t);return c.score>e.score?a({styleguideId:i,styleguideName:r,isMember:s,isOrganizationBarrel:l},c):e},{textStyle:null,score:0});if(!n.textStyle)return null;const{styleguideId:i,styleguideName:r,textStyle:o,isMember:s,isOrganizationBarrel:l}=n;return a({styleguideId:i,styleguideName:r,isMember:s,isOrganizationBarrel:l},o)}const ne=Object.freeze({ios:/[^\da-z]/gi,osx:/[^\da-z]/gi,web:/[^\w-]/g,base:/[^\w-]/g,android:/\W/g});function ie(e){e.stopPropagation()}function re(e){e.preventDefault()}function oe(e=[]){return[].concat(...e.map(e=>e.components.concat(oe(e.componentSections))))}const se=document.createElement("canvas");function ae(e){return e/2*window.devicePixelRatio}function le(){se.width=16*window.devicePixelRatio,se.height=se.width;const e=se.getContext("2d");return e.beginPath(),e.fillStyle="#ee6723",e.arc(ae(16),ae(16),ae(13),0,6.28,!1),e.fill(),e.beginPath(),e.fillStyle="#fff",e.arc(ae(16),ae(16),ae(2),0,6.28,!1),e.fill(),se.toDataURL()}function ce(...e){return e.reduce((e,t)=>n=>t(e(n)),e=>e)}function de(e){return t=>Object.keys(e).reduce((n,i)=>(t[i]===e[i]||(n||(n={}),n[i]=e[i]),n),null)}function ue(e,t){return e.reduce((e,n)=>((e[n[t]]=e[n[t]]||[]).push(n),e),{})}function he(e,t){return e.reduce((e,n)=>(e[n[t]]=n,e),{})}function pe(e,t){const n=a({},e);return delete n[t],n}},function(e,t,n){"use strict";e.exports=function(){return/\uD83C\uDFF4(?:\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74)\uDB40\uDC7F|\u200D\u2620\uFE0F)|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3]))|\uD83D\uDC69\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83D\uDC69\u200D[\u2695\u2696\u2708])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC68(?:\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDB0-\uDDB3])|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF9]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD70\uDD73-\uDD76\uDD7A\uDD7C-\uDDA2\uDDB0-\uDDB9\uDDC0-\uDDC2\uDDD0-\uDDFF])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDD1-\uDDDD])/g}},function(e,t,n){"use strict";n.r(t),n.d(t,"OS",(function(){return s})),n.d(t,"BROWSER",(function(){return a})),n.d(t,"DEVICE_TYPES",(function(){return l})),n.d(t,"getOS",(function(){return c})),n.d(t,"cmdKey",(function(){return d})),n.d(t,"ctrlOrWinKey",(function(){return u})),n.d(t,"isCmdPressed",(function(){return h})),n.d(t,"getDevice",(function(){return p})),n.d(t,"getBrowser",(function(){return f})),n.d(t,"isiOS",(function(){return g})),n.d(t,"getAppVersion",(function(){return m})),n.d(t,"toURI",(function(){return b})),n.d(t,"getDevModeShortcut",(function(){return y})),n.d(t,"isMobileViewport",(function(){return S}));var i=n(65),r=n(122),o=n(40);const s=Object.freeze({IOS:"ios",ANDROID:"android",MAC:"mac",WINDOWS:"win",LINUX:"linux",UNKNOWN:"unknown"}),a=Object.freeze({EDGE:"edge",OPERA:"opera",FIREFOX:"firefox",CHROME:"chrome",SAFARI:"safari",UNKNOWN:"unknown"}),l=Object.freeze({MOBILE:"mobile",DESKTOP:"desktop"});function c(){return/iPad|iPhone/.test(navigator.userAgent)?s.IOS:/Android/.test(navigator.userAgent)?s.ANDROID:/Macintosh/.test(navigator.userAgent)?s.MAC:/Windows/.test(navigator.userAgent)?s.WINDOWS:/Linux/.test(navigator.userAgent)||/X11/.test(navigator.userAgent)?s.LINUX:s.UNKNOWN}function d(e){return c()===s.MAC?e.metaKey:e.ctrlKey}function u(e){return c()===s.MAC?e.ctrlKey:e.metaKey}function h(e){return e.key===(c()===s.MAC?r.Keyboard.Key.Meta:r.Keyboard.Key.Ctrl)}function p(){return/Mobi/.test(navigator.userAgent)?l.MOBILE:l.DESKTOP}function f(){return/Edg/.test(navigator.userAgent)?a.EDGE:/OPR/.test(navigator.userAgent)?a.OPERA:/Firefox/.test(navigator.userAgent)?a.FIREFOX:/Chrome/.test(navigator.userAgent)?a.CHROME:/Safari/.test(navigator.userAgent)?a.SAFARI:a.UNKNOWN}function g(){return navigator.userAgent.match(/ipad|iphone/i)}function m(){if(!i.default.isWindowsApp)return o.WEBAPP_VERSION;const[,e="unknown"]=navigator.userAgent.match(/Zeplin(?: Windows v|\/)(\d+\.\d+\.\d+)/)||[];return e}function b(e){if(!e||0===e.length)return null;return e.replace(/^[\\/]|[\\/]$/g,"").replace(/\\/g,"/")}function y(){return c()===s.WINDOWS?"ctrl+Alt+L":"⌘⌥L"}function S(){return window.matchMedia("(max-width: 767px)").matches}},function(e,t,n){"use strict";n.r(t);n(66),n(70);var i=n(69);t.default={isWindowsApp:i.isWindowsApp,supports:i.supports,featureValue:i.featureValue}},function(e,t,n){"use strict";n.r(t);var i=n(67),r=n(68),o=n(69);i.default&&o.supports.SPA&&(i.default.ipcRenderer.on("close-all-banners",(function(){r.closeBanner("appUpdate"),r.closeBanner("pluginUpdate")})),i.default.ipcRenderer.on("app-update-downloaded",(e,t)=>{r.closeBanner("appUpdate"),r.show({group:"appUpdate",content:"New version of Zeplin, "+t+" is here. <a href='#'>Restart</a> now to start using it!",contentType:"html",type:"info",bodyCallbacks:{a(e){e.preventDefault(),r.closeBanner("appUpdate"),i.default.ipcRenderer.send("restart-app")}},bannerCloseText:"Remind me later",closeCallback(){i.default.ipcRenderer.send("remind-update-later",t)}})}),i.default.ipcRenderer.on("plugin-update-downloaded",(e,t)=>{var n;t.plugin&&t.panel?n="plugin ("+t.plugin.remote+") and panel ("+t.panel.remote+")":t.plugin?n="plugin ("+t.plugin.remote+")":t.panel&&(n="panel ("+t.panel.remote+")"),r.closeBanner("pluginUpdate"),r.show({group:"pluginUpdate",content:"New version of Photoshop "+n+" is here. <a href='#'>Install</a> now to start using it!",contentType:"html",type:"info",bodyCallbacks:{a(e){e.preventDefault(),r.closeBanner("pluginUpdate"),i.default.ipcRenderer.send("install-plugin-update",t)}},bannerCloseText:"Remind me later",closeCallback(){i.default.ipcRenderer.send("remind-plugin-install-later",t)}})}))},function(e,t,n){"use strict";var i;n.r(t),"function"==typeof window.require&&(i=window.require("electron")),t.default=i},function(e,t,n){"use strict";n.r(t),n.d(t,"show",(function(){return r})),n.d(t,"closeBanner",(function(){return o}));var i=document.getElementById("bannerTemplate");function r(e){e=e||{};var t=document.importNode(i.content,!0).querySelector(".banner"),n=t.querySelector(".bannerContent");if(e.group){if(document.querySelector("."+e.group+"Banner"))return;t.classList.add(e.group+"Banner")}switch(e.contentType){case"html":n.innerHTML=e.content;break;case"text":default:n.textContent=e.content}if(t.classList.add(e.type||"warn"),t.addEventListener("click",(function(e){e.stopPropagation()})),e.bannerCloseText&&(t.querySelector(".bannerCloseButton span").textContent=e.bannerCloseText),e.style&&e.style.zIndex&&(t.style.zIndex=e.style.zIndex),t.querySelector(".bannerCloseButton").addEventListener("click",(function(n){n.stopPropagation(),n.preventDefault(),e.closeCallback&&e.closeCallback(),t.remove()})),e.bodyCallbacks)for(var r in e.bodyCallbacks)t.querySelector(r).addEventListener("click",e.bodyCallbacks[r]);e.container?e.container.appendChild(t):document.body.appendChild(t)}function o(e){var t=document.querySelector("."+e+"Banner");t&&t.remove()}},function(e,t,n){"use strict";n.r(t),n.d(t,"isWindowsApp",(function(){return r})),n.d(t,"supports",(function(){return o})),n.d(t,"featureValue",(function(){return s}));var i=n(67);const r=!!i.default,o={webviews:r&&"webviews"in i.default.features,SPA:r&&"SPA"in i.default.features};function s(e){return r?i.default.features[e]:null}},function(e,t,n){"use strict";n.r(t);var i=n(69),r=n(71);i.isWindowsApp&&r.setupEventListener()},function(e,t,n){"use strict";n.r(t),n.d(t,"setupEventListener",(function(){return p}));var i=n(67),r=n(72),o=n(98),s=n(127),a=n(131),l=n(132),c=n(137);function d(e){return Object(c.getProjects)("user"===e?null:e)}function u(e){return Object(c.getStyleguides)("user"===e?null:e)}async function h(e,t){const{organizations:n,organizationProfiles:c}=r.default.getState(),{userId:h,username:p,email:f,avatar:g,emotar:m}=s.default.getState();if(!n||!h)return void i.default.ipcRenderer.send("initialImportToBarrelData",{selectedOrganization:t});let b="user";t&&"user"!==t&&n.some(e=>e._id===t)&&(b=t);let y=o.default.getOrganizationProjects(b),S=o.default.getOrganizationStyleguides(b);y&&S||({projects:y,styleguides:S}=await function(e){return Promise.all([d(e),u(e)]).then(([t,n])=>(a.default.getProjectsSuccess({projects:t,oid:e}),l.default.getStyleguidesSuccess({styleguides:n,oid:e}),{projects:t,styleguides:n}))}(b));const v={organizations:n,organizationProfiles:c,selectedOrganization:b,user:{_id:h,username:p,email:f,avatar:g,emotar:m},organizationProjects:y,organizationStyleguides:S};i.default.ipcRenderer.send("initialImportToBarrelData",v)}function p(){i.default.ipcRenderer.removeAllListeners("initialImportToBarrelData"),i.default.ipcRenderer.on("initialImportToBarrelData",h)}},function(e,t,n){"use strict";n.r(t);var i=n(73),r=n.n(i),o=n(83),s=n(87),a=n(88),l=n(89),c=n(90),d=n(91),u=n(92),h=n(93),p=n(94),f=n(96),g=n(62),m=n(95),b=n(97);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let C=0;class O extends r.a{constructor(){super(o.default)}getInitialState(){return{loading:!0,loadingProfiles:!0,loadingBarrels:!0,loadingOrganization:!0,error:null,organizations:[],organizationProfiles:{},organizationProjects:{},organizationStyleguides:{},focusedBarrels:{},dialogDismissStates:{}}}reset(){return this.getInitialState()}load(e,{data:{organization:t,organizations:n,organizationProfiles:i,organizationProjects:r,organizationStyleguides:o,focusedBarrels:s,dialogDismissStates:a},barrel:{organizationId:l}}){let c=S(S({},e),{},{loading:!1});return n&&(c=this.getOrganizationsSuccess(c,n)),t&&(c=this.addOrganization(c,t)),i&&(c=this.getOrganizationMemberProfilesSuccess(c,i)),r&&(c=this.loadOrganizationProjects(c,{projects:r,oid:l})),o&&(c=this.loadOrganizationStyleguides(c,{styleguides:o,oid:l})),s&&(c=this.getFocusedBarrelsSuccess(c,s)),a&&(c=this.updateDialogDismissStates(c,{oid:l,dialogDismissParams:a})),c}addOrganization(e,t){const n=e.organizations.find(({_id:e})=>e===t._id),i=n?new h.default(S(S({},n),t)):new h.default(t);return S(S({},e),{},{organizations:e.organizations.filter(({_id:e})=>e!==t._id).concat(i),loadingOrganization:!1})}addOrganizationWorkflowStatus(e,{oid:t,workflowStatusData:n}){const i=e.organizations.find(({_id:e})=>e===t),r=i.workflowStatuses.find(({_id:e})=>e===n._id&&e.startsWith("newWorkflowStatusId"))||{},o=i.workflowStatuses.map(e=>e._id===r._id?new p.default(n):e);return r._id||o.push(new p.default(n)),S(S({},e),{},{organizations:e.organizations.map(e=>e._id===t?new h.default(S(S({},e),{},{workflowStatuses:o})):e)})}updateOrganization(e,t,n){return Object.assign({},e,{organizations:e.organizations.map(e=>e._id===t?new h.default(S(S({},e),n)):e),loadingOrganization:!1})}updateOrganizationProfile(e,t,n){const i=e.organizationProfiles[t];if(!i)return;const r=Object.assign({},i,n);return Object.assign({},e,{organizationProfiles:Object.assign({},e.organizationProfiles,{[t]:r})})}updateOrganizationWorkflowStatus(e,{oid:t,workflowStatusId:n,workflowStatusData:i,oldWorkflowStatusData:r}){const o=new p.default(S(S({},r),i));return S(S({},e),{},{organizations:e.organizations.map(e=>e._id===t?new h.default(S(S({},e),{},{workflowStatuses:e.workflowStatuses.map(e=>e._id===n?o:e)})):e)})}removeOrganization(e,t){return Object.assign({},e,{organizations:e.organizations.filter(e=>e._id!==t)})}deleteOrganizationWorkflowStatus(e,{oid:t,workflowStatusId:n}){return S(S({},e),{},{organizations:e.organizations.map(e=>e._id===t?new h.default(S(S({},e),{},{workflowStatuses:e.workflowStatuses.filter(({_id:e})=>e!==n)})):e)})}getOrganizationsRequested(e){return Object.assign({},e,{loading:!0})}getOrganizationsSuccess(e,t){return S(S({},e),{},{organizations:t.map(e=>new h.default(e)),loading:!1})}getOrganizationsFailed(e,t){return Object.assign({},e,{loading:!1,error:t})}getOrganizationSuccess(e,{organization:t}){if(!t)return S(S({},e),{},{loadingOrganization:!1});return e.organizations.find(({_id:e})=>e===t._id)?this.updateOrganization(e,t._id,t):this.addOrganization(e,t)}getOrganizationsMembersSuccess(e,{organizationMembers:t}){const{_id:n,members:i,wildlings:r}=t||{},o=e.organizations.find(({_id:e})=>e===n);return o?this.updateOrganization(e,o._id,{members:i,wildlings:r}):e}getOrganizationMemberProfilesRequested(e){return Object.assign({},e,{loadingProfiles:!0})}getOrganizationMemberProfilesSuccess(e,t){return Object.assign({},e,{organizationProfiles:t,loadingProfiles:!1})}addOrganizationMemberProfile(e,{organizationProfile:t,oid:n}){return S(S({},e),{},{organizationProfiles:S(S({},e.organizationProfiles),{},{[n]:t})})}addProjectToOrganizationSection(e,{pid:t,oid:n,oseid:i}){const r=e.organizations.find(({_id:e})=>e===n);if(!r||!r.sections)return e;let o;return o=i?r.sections.find(e=>e._id===i):r.sections[0],!o||o.projects.includes(t)?e:S(S({},e),{},{organizations:e.organizations.map(e=>e._id===n?new h.default(S(S({},e),{},{sections:e.sections.map(e=>e._id===o._id?new m.default(S(S({},e),{},{projects:[...e.projects,t]})):e)})):e)})}addBarrel(e,{barrel:{_id:t},oid:n,oseid:i,barrelType:r}){const{organizationProjects:o,organizationStyleguides:s}=e;let a=e;if(r===f.default.PROJECT){a=this.addProjectToOrganizationSection(e,{pid:t,oid:n,oseid:i});const r=o[n];if(r&&!r.includes(t))return S(S({},a),{},{organizationProjects:S(S({},o),{},{[n]:[...r,t]})})}else{const i=s[n];if(i&&!i.includes(t))return S(S({},e),{},{organizationStyleguides:S(S({},s),{},{[n]:[...i,t]})})}return a}removeProjectFromOrganizationSection(e,{pid:t,oid:n,oseid:i}){const r=e.organizations.find(({_id:e})=>e===n),{sectionIds:o,sections:s}=S({},r)||{};if(!s)return e;const a=s.find(e=>e._id===i);return a?(Object(g.arrayRemove)(a.projects,e=>e===t),this.sortAndPurgeEmptySections(e,{oid:n,sections:s,sectionIds:o})):e}removeBarrel(e,{bid:t,oid:n,oseid:i}){const{organizationProjects:r,organizationStyleguides:o}=e;let s=e;i&&(s=this.removeProjectFromOrganizationSection(e,{oid:n,pid:t,oseid:i}));const a=r[n];if(a&&a.includes(t))return S(S({},s),{},{organizationProjects:S(S({},r),{},{[n]:a.filter(e=>e!==t)})});const l=o[n];return l&&l.includes(t)?S(S({},s),{},{organizationStyleguides:S(S({},o),{},{[n]:l.filter(e=>e!==t)})}):s}loadOrganizationProjects(e,{projects:t,oid:n}){return S(S({},e),{},{organizationProjects:S(S({},e.organizationProjects),{},{[n]:t.map(e=>e._id)}),loadingBarrels:!1})}transferOrganizationProject(e,{bid:t,targetId:n,toOrganization:i,oid:r}){if(!i&&"user"===r)return e;const o=this.removeBarrel(e,{bid:t,oid:r}),s="user"===r?o:this.removeBarrelFromFocus(o,{bid:t,oid:r});return this.addBarrel(s,{barrel:{_id:t},oid:i?n:"user",barrelType:f.default.PROJECT})}loadOrganizationStyleguides(e,{styleguides:t,oid:n}){return S(S({},e),{},{organizationStyleguides:S(S({},e.organizationStyleguides),{},{[n]:t.map(e=>e._id)}),loadingBarrels:!1})}transferOrganizationStyleguide(e,{affectedIds:t,targetId:n,toOrganization:i,oid:r}){if(!i&&"user"===r)return e;const{organizationStyleguides:o}=e,s=o[r],a=i?n:"user",l=o[a];return S(S({},e),{},{organizationStyleguides:{[r]:s.filter(e=>!t.includes(e)),[a]:l&&[...l,...t]}})}setWorkspaceLoading(e,{oid:t}){const{organizationProjects:n,organizationStyleguides:i}=e,r=!n[t]||!i[t],o=e.organizations.find(({_id:e})=>e===t),s=!o||!o.complete;return S(S({},e),{},{loadingBarrels:r,loadingOrganization:s})}getFocusedBarrelsSuccess(e,{focusedBarrels:t,oid:n}){return t?S(S({},e),{},{focusedBarrels:S(S({},e.focusedBarrels),{},{[n]:t})}):e}addBarrelToFocus(e,{oid:t,bid:n,barrelType:i,shouldPopOldestBarrel:r}){const o=e.focusedBarrels[t].filter(({unpinned:e})=>!e);return o?o.includes(n)?e:(r&&o.shift(),S(S({},e),{},{focusedBarrels:S(S({},e.focusedBarrels),{},{[t]:[...o,{barrelType:i,barrelId:n}]})})):e}removeBarrelFromFocus(e,{oid:t,bid:n,poppedBarrel:i}){const r=e.focusedBarrels[t];if(!r)return e;const o=r.slice();return i&&o.unshift(i),S(S({},e),{},{focusedBarrels:S(S({},e.focusedBarrels),{},{[t]:o.filter(({barrelId:e})=>e!==n)})})}unpinBarrelFromFocus(e,{oid:t,bid:n}){const i=e.focusedBarrels[t];return S(S({},e),{},{focusedBarrels:S(S({},e.focusedBarrels),{},{[t]:i.map(e=>e.barrelId===n?S(S({},e),{},{unpinned:!0}):e)})})}removeArchivedBarrelFromFocus(e,{bid:t}){return Object.keys(e.focusedBarrels).reduce((e,n)=>this.removeBarrelFromFocus(e,{oid:n,bid:t}),e)}repinBarrelToFocus(e,{oid:t,bid:n}){const i=e.focusedBarrels[t];return S(S({},e),{},{focusedBarrels:{[t]:i.map(e=>e.barrelId===n?S(S({},e),{},{unpinned:!1}):e)}})}removeUnjoinedBarrels(e,{oid:t,remainingProjects:n,remainingStyleguides:i}){return S(S({},e),{},{organizationProjects:S(S({},e.organizationProjects),{},{[t]:n}),organizationStyleguides:S(S({},e.organizationStyleguides),{},{[t]:i})})}updateMemberData(e,{uid:t,userData:n}){return S(S({},e),{},{organizations:e.organizations.map(e=>{if(!e.members)return e;const i=e.members.map(e=>e.user._id!==t?e:S(S({},e),{},{user:S(S({},e.user),n)}));return new h.default(S(S({},e),{},{members:i}))})})}sortAndPurgeEmptySections(e,{oid:t,sections:n,sectionIds:i}){const r=e.organizationProjects[t],o=e.organizationProfiles[t],s=i.map((e,t)=>{const i=n.find(t=>t._id===e);return i&&o.restricted&&t>0&&!i.projects.some(e=>r.includes(e))?null:i}).filter(Boolean);return S(S({},e),{},{organizations:e.organizations.map(e=>e._id===t?new h.default(S(S({},e),{},{sections:s,sectionIds:i})):e)})}addProjectSection(e,{oid:t,index:n,sectionData:i,dialogDismissParams:r}){const o=e.organizations.find(({_id:e})=>e===t),{sectionIds:s,sections:a}=S({},o)||{};if(!s)return e;i.projects&&i.projects.forEach(e=>{const t=a.find(t=>t.projects.includes(e));t&&Object(g.arrayRemove)(t.projects,t=>t===e)});const l=new m.default(i);l._id||(l._id=b.TEMPORARY_PROJECT_SECTION_ID,l.newSection=!0,l.key="newProjectSection-"+C++),l._id!==b.TEMPORARY_PROJECT_SECTION_ID&&s.includes(l._id)||s.splice(n,0,l._id),a.push(l);const c=this.updateDialogDismissStates(e,{oid:t,dialogDismissParams:r});return this.sortAndPurgeEmptySections(c,{oid:t,sections:a,sectionIds:s})}addProjectSectionId(e,{oid:t,index:n,oseid:i}){const r=e.organizations.find(({_id:e})=>e===t),{sectionIds:o}=S({},r)||{};return o.splice(n,0,i),S(S({},e),{},{organizations:e.organizations.map(e=>e._id===t?new h.default(S(S({},e),{},{sectionIds:o})):e)})}updateProjectSection(e,{oid:t,oseid:n,sectionData:i}){const r=e.organizations.find(({_id:e})=>e===t),{sections:o,sectionIds:s}=S({},r)||{};if(!o)return e;return S({},o.find(e=>e._id===n))?S(S({},e),{},{organizations:e.organizations.map(e=>e._id===t?new h.default(S(S({},e),{},{sections:o.map(e=>e._id===n?new m.default(S(S({},e),i)):e),sectionIds:s.map(e=>e===n&&i._id&&i._id!==e?i._id:e)})):e)}):e}removeProjectSection(e,{oid:t,oseid:n}){const i=e.organizations.find(({_id:e})=>e===t),{sectionIds:r,sections:o}=S({},i)||{};if(!r)return e;const s=S({},o[0]),a=o.find(({_id:e})=>e===n);return a&&s.projects.push(...a.projects),S(S({},e),{},{organizations:e.organizations.map(e=>e._id===t?new h.default(S(S({},e),{},{sections:o.map((e,t)=>0===t?s:e._id===n?null:e).filter(Boolean),sectionIds:r.filter(e=>e!==n)})):e)})}updateProjectSectionOrder(e,{oid:t,oseid:n,index:i,dialogDismissParams:r}){const o=e.organizations.find(({_id:e})=>e===t),{sectionIds:s,sections:a}=S({},o);if(!s)return e;const l=s.indexOf(n);if(l<0)return e;s.splice(l,1),s.splice(i,0,n);const c=this.updateDialogDismissStates(e,{oid:t,dialogDismissParams:r});return this.sortAndPurgeEmptySections(c,{oid:t,sections:a,sectionIds:s})}updateProjectOrder(e,{oid:t,oseid:n,index:i,projects:r,dialogDismissParams:o}){const s=e.organizations.find(({_id:e})=>e===t),a=e.organizationProjects[t],l=e.organizationProfiles[t],{sections:c,sectionIds:d}=S({},s);if(!a||!l||!c)return e;r.forEach(e=>{const t=c.find(t=>t.projects.includes(e));t&&Object(g.arrayRemove)(t.projects,t=>t===e)});const u=c.find(e=>e._id===n);if(!u)return e;u.projects.splice(i,0,...r);const h=this.updateDialogDismissStates(e,{oid:t,dialogDismissParams:o});return this.sortAndPurgeEmptySections(h,{oid:t,sections:c,sectionIds:d})}addSectionLink(e,{oid:t,oseid:n,linkData:i}){const r=e.organizations.find(({_id:e})=>e===t);if(!r.sections)return e;const o=r.sections.find(({_id:e})=>e===n);if(!o)return e;const s=new m.default(S(S({},o),{},{links:[...o.links,i]})),a=r.sections.map(e=>e._id===n?s:e);return S(S({},e),{},{organizations:e.organizations.map(e=>e._id===t?new h.default(S(S({},e),{},{sections:a})):e)})}updateSectionLink(e,{oid:t,oseid:n,oselid:i,linkData:r}){const o=e.organizations.find(({_id:e})=>e===t);if(!o.sections)return e;const s=o.sections.find(({_id:e})=>e===n);if(!s)return e;const a=s.links.map(e=>e._id===i?r:e),l=new m.default(S(S({},s),{},{links:a})),c=o.sections.map(e=>e._id===n?l:e);return S(S({},e),{},{organizations:e.organizations.map(e=>e._id===t?new h.default(S(S({},e),{},{sections:c})):e)})}removeSectionLink(e,{oid:t,oseid:n,oselid:i}){const r=e.organizations.find(({_id:e})=>e===t);if(!r.sections)return e;const o=r.sections.find(({_id:e})=>e===n);if(!o)return e;const s=o.links.filter(e=>e._id!==i),a=new m.default(S(S({},o),{},{links:s})),l=r.sections.map(e=>e._id===n?a:e);return S(S({},e),{},{organizations:e.organizations.map(e=>e._id===t?new h.default(S(S({},e),{},{sections:l})):e)})}updateDialogDismissStates(e,{oid:t,dialogDismissParams:n}){return n?S(S({},e),{},{dialogDismissStates:S(S({},e.dialogDismissStates),{},{[t]:S(S({},e.dialogDismissStates[t]),n)})}):e}loadWorkspaceData(e,t){const n=this.getOrganizationSuccess(e,t),i=this.getFocusedBarrelsSuccess(n,t),r=this.loadOrganizationProjects(i,t),o=this.updateDialogDismissStates(r,t);return this.loadOrganizationStyleguides(o,t)}hydrateEmbeddedData(e,t){const{projects:n,oid:i,styleguides:r,focusedBarrels:o,organizationProfiles:s}=t;let a=e;return n&&i&&(a=this.loadOrganizationProjects(a,{projects:n,oid:i})),r&&i&&(a=this.loadOrganizationStyleguides(a,{styleguides:r,oid:i})),o&&i&&(a=this.getFocusedBarrelsSuccess(a,{focusedBarrels:o,oid:i})),s&&(a=this.getOrganizationMemberProfilesSuccess(a,s)),a}reduce(e,t){switch(t.type){case c.default.SET_WORKSPACE_LOADING:return this.setWorkspaceLoading(e,t);case u.default.LOAD:return this.load(e,t);case u.default.ADD:return this.addBarrel(e,t);case u.default.REMOVE:return this.removeBarrel(e,t);case u.default.REMOVE_MEMBER:return t.shouldRemoveBarrel?this.removeBarrel(e,t):e;case u.default.ARCHIVE:return this.removeArchivedBarrelFromFocus(e,t);case a.default.GET_PROJECTS_SUCCESS:return this.loadOrganizationProjects(e,t);case l.default.GET_STYLEGUIDES_SUCCESS:return this.loadOrganizationStyleguides(e,t);case a.default.TRANSFER_OWNERSHIP:case l.default.TRANSFER_OWNERSHIP:case u.default.OWNERSHIP_TRANSFERRED:return t.affectedIds?this.transferOrganizationStyleguide(e,t):this.transferOrganizationProject(e,t);case s.default.ADD_ORGANIZATION:return this.addOrganization(e,t.organization);case s.default.ADD_ORGANIZATION_WORKFLOW_STATUS:return this.addOrganizationWorkflowStatus(e,t);case s.default.UPDATE_ORGANIZATION:return this.updateOrganization(e,t.id,t.organization);case s.default.UPDATE_ORGANIZATION_PROFILE:return this.updateOrganizationProfile(e,t.id,t.organizationProfile);case s.default.UPDATE_ORGANIZATION_WORKFLOW_STATUS:return this.updateOrganizationWorkflowStatus(e,t);case s.default.REMOVE_ORGANIZATION:return this.removeOrganization(e,t.id);case s.default.DELETE_ORGANIZATION_WORKFLOW_STATUS:return this.deleteOrganizationWorkflowStatus(e,t);case s.default.GET_ORGANIZATIONS_REQUESTED:return this.getOrganizationsRequested(e);case s.default.GET_ORGANIZATIONS_SUCCESS:return this.getOrganizationsSuccess(e,t.organizations);case s.default.GET_ORGANIZATIONS_FAILED:return this.getOrganizationsFailed(e,t.error);case s.default.GET_ORGANIZATION_SUCCESS:return this.getOrganizationSuccess(e,t);case s.default.GET_ORGANIZATION_MEMBERS_SUCCESS:return this.getOrganizationsMembersSuccess(e,t);case s.default.GET_ORGANIZATION_MEMBER_PROFILES_REQUESTED:return this.getOrganizationMemberProfilesRequested(e);case s.default.GET_ORGANIZATION_MEMBER_PROFILES_SUCCESS:return this.getOrganizationMemberProfilesSuccess(e,t.organizationProfiles);case s.default.ADD_ORGANIZATION_MEMBER_PROFILE:return this.addOrganizationMemberProfile(e,t);case s.default.GET_FOCUSED_BARRELS_SUCCESS:return this.getFocusedBarrelsSuccess(e,t);case s.default.ADD_BARREL_TO_FOCUS:return this.addBarrelToFocus(e,t);case s.default.UNPIN_BARREL_FROM_FOCUS:return this.unpinBarrelFromFocus(e,t);case s.default.REMOVE_BARREL_FROM_FOCUS:return this.removeBarrelFromFocus(e,t);case s.default.REPIN_BARREL_TO_FOCUS:return this.repinBarrelToFocus(e,t);case s.default.UPDATE_MEMBER_ACCESSIBILITY:return this.removeUnjoinedBarrels(e,t);case u.default.UPDATE_USER_DATA:return this.updateMemberData(e,t);case s.default.ADD_PROJECT_SECTION:return this.addProjectSection(e,t);case s.default.UPDATE_PROJECT_SECTION:return this.updateProjectSection(e,t);case s.default.REMOVE_PROJECT_SECTION:return this.removeProjectSection(e,t);case s.default.UPDATE_PROJECT_SECTION_ORDER:return this.updateProjectSectionOrder(e,t);case s.default.UPDATE_PROJECT_ORDER:return this.updateProjectOrder(e,t);case s.default.ADD_SECTION_LINK:return this.addSectionLink(e,t);case s.default.UPDATE_SECTION_LINK:return this.updateSectionLink(e,t);case s.default.REMOVE_SECTION_LINK:return this.removeSectionLink(e,t);case d.default.LOAD_WORKSPACE_DATA:return this.loadWorkspaceData(e,t);case d.default.RESET:return this.reset();case d.default.HYDRATE_EMBEDDED_DATA:return this.hydrateEmbeddedData(e,t);default:return e}}}t.default=new O},function(e,t,n){"use strict";var i=n(74),r=n(82),o=n(80),s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this._state=this.getInitialState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getState=function(){return this._state},t.prototype.getInitialState=function(){return r("FluxReduceStore","getInitialState")},t.prototype.reduce=function(e,t){return r("FluxReduceStore","reduce")},t.prototype.areEqual=function(e,t){return e===t},t.prototype.__invokeOnDispatch=function(e){this.__changed=!1;var t=this._state,n=this.reduce(t,e);void 0===n&&o(!1),this.areEqual(t,n)||(this._state=n,this.__emitChange()),this.__changed&&this.__emitter.emit(this.__changeEvent)},t}(i);e.exports=s},function(e,t,n){"use strict";var i=n(75).EventEmitter,r=n(80),o=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__className=this.constructor.name,this.__changed=!1,this.__changeEvent="change",this.__dispatcher=t,this.__emitter=new i,this._dispatchToken=t.register((function(e){n.__invokeOnDispatch(e)}))}return e.prototype.addListener=function(e){return this.__emitter.addListener(this.__changeEvent,e)},e.prototype.getDispatcher=function(){return this.__dispatcher},e.prototype.getDispatchToken=function(){return this._dispatchToken},e.prototype.hasChanged=function(){return this.__dispatcher.isDispatching()||r(!1),this.__changed},e.prototype.__emitChange=function(){this.__dispatcher.isDispatching()||r(!1),this.__changed=!0},e.prototype.__invokeOnDispatch=function(e){this.__changed=!1,this.__onDispatch(e),this.__changed&&this.__emitter.emit(this.__changeEvent)},e.prototype.__onDispatch=function(e){r(!1)},e}();e.exports=o},function(e,t,n){var i={EventEmitter:n(76),EmitterSubscription:n(77)};e.exports=i},function(e,t,n){"use strict";var i=n(77),r=n(79),o=n(81),s=n(80),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._subscriber=new r,this._currentSubscription=null}return e.prototype.addListener=function(e,t,n){return this._subscriber.addSubscription(e,new i(this._subscriber,t,n))},e.prototype.once=function(e,t,n){var i=this;return this.addListener(e,(function(){i.removeCurrentListener(),t.apply(n,arguments)}))},e.prototype.removeAllListeners=function(e){this._subscriber.removeAllSubscriptions(e)},e.prototype.removeCurrentListener=function(){this._currentSubscription||s(!1),this._subscriber.removeSubscription(this._currentSubscription)},e.prototype.listeners=function(e){var t=this._subscriber.getSubscriptionsForType(e);return t?t.filter(o.thatReturnsTrue).map((function(e){return e.listener})):[]},e.prototype.emit=function(e){var t=this._subscriber.getSubscriptionsForType(e);if(t){for(var n=Object.keys(t),i=0;i<n.length;i++){var r=n[i],o=t[r];o&&(this._currentSubscription=o,this.__emitToSubscription.apply(this,[o].concat(Array.prototype.slice.call(arguments))))}this._currentSubscription=null}},e.prototype.__emitToSubscription=function(e,t){var n=Array.prototype.slice.call(arguments,2);e.listener.apply(e.context,n)},e}();e.exports=a},function(e,t,n){"use strict";var i=function(e){function t(n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.listener=i,this.context=r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n(78));e.exports=i},function(e,t,n){"use strict";var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subscriber=t}return e.prototype.remove=function(){this.subscriber&&(this.subscriber.removeSubscription(this),this.subscriber=null)},e}();e.exports=i},function(e,t,n){"use strict";var i=n(80),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._subscriptionsForType={},this._currentSubscription=null}return e.prototype.addSubscription=function(e,t){t.subscriber!==this&&i(!1),this._subscriptionsForType[e]||(this._subscriptionsForType[e]=[]);var n=this._subscriptionsForType[e].length;return this._subscriptionsForType[e].push(t),t.eventType=e,t.key=n,t},e.prototype.removeAllSubscriptions=function(e){void 0===e?this._subscriptionsForType={}:delete this._subscriptionsForType[e]},e.prototype.removeSubscription=function(e){var t=e.eventType,n=e.key,i=this._subscriptionsForType[t];i&&delete i[n]},e.prototype.getSubscriptionsForType=function(e){return this._subscriptionsForType[e]},e}();e.exports=r},function(e,t,n){"use strict";e.exports=function(e,t,n,i,r,o,s,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,r,o,s,a],d=0;(l=new Error(t.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";function i(e){return function(){return e}}var r=function(){};r.thatReturns=i,r.thatReturnsFalse=i(!1),r.thatReturnsTrue=i(!0),r.thatReturnsNull=i(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";var i=n(80);e.exports=function(e,t){i(!1)}},function(e,t,n){"use strict";n.r(t);var i=n(84);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(85);t.default=new i.Dispatcher},function(e,t,n){e.exports.Dispatcher=n(86)},function(e,t,n){"use strict";t.__esModule=!0;var i=n(80),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function(e){var t="ID_"+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){this._callbacks[e]||i(!1),delete this._callbacks[e]},e.prototype.waitFor=function(e){this._isDispatching||i(!1);for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]||i(!1):(this._callbacks[n]||i(!1),this._invokeCallback(n))}},e.prototype.dispatch=function(e){this._isDispatching&&i(!1),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=r},function(e,t,n){"use strict";n.r(t);t.default={GET_BARRELS:"organizaton/getBarrels",REQUEST_INVITE:"requestInvite",ADD_ORGANIZATION:"addOrganization",ADD_ORGANIZATION_WORKFLOW_STATUS:"addOrganizationWorkflowStatus",UPDATE_ORGANIZATION:"updateOrganization",UPDATE_ORGANIZATION_PROFILE:"updateOrganizationProfile",UPDATE_ORGANIZATION_WORKFLOW_STATUS:"updateOrganizationWorkflowStatus",REMOVE_ORGANIZATION:"removeOrganization",DELETE_ORGANIZATION_WORKFLOW_STATUS:"deleteOrganizationWorkflowStatus",GET_ORGANIZATIONS_REQUESTED:"getOrganizationsRequested",GET_ORGANIZATIONS_SUCCESS:"getOrganizationsSuccess",GET_ORGANIZATIONS_FAILED:"getOrganizationsFailed",GET_ORGANIZATION_SUCCESS:"getOrganizationSuccess",GET_ORGANIZATION_MEMBERS_SUCCESS:"getOrganizationMembersSuccess",GET_ORGANIZATION_MEMBER_PROFILES_REQUESTED:"getOrganizationMemberProfilesRequested",GET_ORGANIZATION_MEMBER_PROFILES_SUCCESS:"getOrganizationMemberProfilesSuccess",ADD_ORGANIZATION_MEMBER_PROFILE:"addOrganizationMemberProfile",GET_FOCUSED_BARRELS_SUCCESS:"getFocusedBarrelsSuccess",ADD_BARREL_TO_FOCUS:"addBarrelToFocus",ADD_BARREL_TO_FOCUS_SUCCESS:"addBarrelToFocusSuccess",REMOVE_BARREL_FROM_FOCUS:"removeBarrelFromFocus",UNPIN_BARREL_FROM_FOCUS:"unpinBarrelFromFocus",UNPIN_BARREL_FROM_FOCUS_SUCCESS:"unpinBarrelFromFocusSuccess",REPIN_BARREL_TO_FOCUS:"repinBarrelToFocus",HIT_PIN_LIMIT:"hitPinLimit",UPDATE_MEMBER_ACCESSIBILITY:"organization/updateMemberAccessibility",ADD_PROJECT_SECTION:"addProjectSection",ADD_PROJECT_SECTION_ID:"addProjectSectionId",UPDATE_PROJECT_SECTION:"updateProjectSection",REMOVE_PROJECT_SECTION:"removeProjectSection",UPDATE_PROJECT_SECTION_ORDER:"updateProjectSectionOrder",UPDATE_PROJECT_ORDER:"updateProjectOrder",ADD_SECTION_LINK:"createSectionLink",UPDATE_SECTION_LINK:"updateSectionLink",REMOVE_SECTION_LINK:"removeSectionLink"}},function(e,t,n){"use strict";n.r(t);t.default={GET_PROJECTS_SUCCESS:"projects/getProjectsSuccess",GET_PROJECTS_FAILED:"projects/getProjectsFailed",GET_PROJECT_REQUESTED:"projects/getProjectRequested",GET_PROJECT_SUCCESS:"projects/getProjectSuccess",GET_PROJECT_FAILED:"projects/getProjectFailed",UPDATE_PROJECT:"projects/updateProject",TRANSFER_OWNERSHIP:"projects/transferOwnerShip",CREATE_PROJECT:"projects/createProject",INIT_TRANSFER_OWNERSHIP:"projects/initTransferOwnerShip",INVITE_USER:"projects/inviteUser"}},function(e,t,n){"use strict";n.r(t);t.default={GET_STYLEGUIDES_SUCCESS:"styleguides/getStyleguidesSuccess",GET_STYLEGUIDES_FAILED:"styleguides/getStyleguidesFailed",GET_STYLEGUIDE_REQUESTED:"styleguides/getStyleguideRequested",GET_STYLEGUIDE_SUCCESS:"styleguides/getStyleguideSuccess",GET_STYLEGUIDE_FAILED:"styleguides/getStyleguidesFailed",UPDATE_STYLEGUIDE:"styleguides/updateStyleguide",TRANSFER_OWNERSHIP:"styleguides/transferOwnership",SELECT_PARENT:"styleguides/selectParent",REMOVE_PARENT:"styleguides/removeParent",SELECT_PARENT_REQUEST:"styleguides/selectParentRequest",SELECT_PARENT_SUCCESS:"styleguides/selectParentSuccess",SELECT_PARENT_FAILED:"styleguides/selectParentFailed",CREATE_STYLEGUIDE:"styleguides/createStyleguide",INIT_TRANSFER_OWNERSHIP:"styleguides/initTransferOwnership",INVITE_USER:"styleguides/inviteUser"}},function(e,t,n){"use strict";n.r(t);t.default={UPDATE_PAGE_STATE:"space/updatePageState",CHANGE_SELECTED_TAB:"space/changeSelectedTab",CHANGE_SELECTED_ORGANIZATION:"space/changeSelectedOrganization",CHANGE_FILTER_VALUE:"space/changeFilterValue",CHANGE_PROJECT_SELECTED_SORT_TYPE:"space/changeProjectSelectedSortType",TOGGLE_ARCHIVED_PROJECTS:"space/toggleArchivedProjects",CHANGE_WORKFLOW_STATUS_FILTER:"space/changeWorkflowStatusFilter",UNHIGHLIGHT_BARREL:"space/unhighlightBarrel",UNHIGHLIGHT_SECTION:"space/unhighlightSection",EXPAND_SECTION:"space/expandSection",COLLAPSE_SECTION:"space/collapseSection",SET_STYLEGUIDES_TAB_VISITED:"space/setStyleguidesTabVisited",OPEN_DIALOG:"space/openDialog",CLOSE_DIALOG:"space/closeDialog",HIDE_LOADING:"space/hideLoading",SET_WORKSPACE_LOADING:"space/setWorkspaceLoading",TRACK_BARREL_CLICK:"space/trackBarrelClick"}},function(e,t,n){"use strict";n.r(t);t.default={LOAD_WORKSPACE_DATA:"app/loadWorkspaceData",RESET:"app/reset",HYDRATE_EMBEDDED_DATA:"app/hydrateEmbeddedData",INIT_RECENTLY_LOADED_BARRELS:"app/initRecentlyLoadedBarrels",RESET_BACK_BUTTON:"app/resetBackButton",SET_BACK_BUTTON:"app/setBackButton",GENERATE_SHORTLINK:"app/generateShortlink",SET_SHORTLINK:"app/setShortlink",SET_PAGE:"app/setPage"}},function(e,t,n){"use strict";n.r(t);t.default={RESET:"barrel/reset",LOAD:"barrel/load",UPDATE_STATE:"barrel/updateState",SET_ORGANIZATION_ID:"barrel/setOrganizationId",SET_BARREL_ID:"barrel/setBarrelId",CHANGE_SELECTED_VIEW:"barrel/changeSelectedView",ADD_TO_SLACK:"barrel/addToSlack",ADD:"barrel/add",ACTIVATE:"barrel/activate",ARCHIVE:"barrel/archive",REMOVE:"barrel/remove",UPDATE_NAME:"barrel/updateName",UPDATE_DESCRIPTION:"barrel/updateDescription",UPDATE_DENSITY_SCALE:"barrel/updateDensityScale",UPDATE_THUMBNAIL:"barrel/updateThumbnail",ADD_INTEGRATION:"barrel/addIntegration",REMOVE_INTEGRATION:"barrel/removeIntegration",ADD_MEMBERS:"barrel/addMembers",UPDATE_USER_ROLE:"barrel/updateUserRole",UPDATE_USER_DATA:"barrel/updateUserData",TRANSFER_OWNERSHIP:"barrel/transferOwnership",OWNERSHIP_TRANSFERRED:"barrel/ownershipTransferred",REMOVE_MEMBER:"barrel/removeMember",ADD_COLOR:"barrel/addColor",ADD_MULTIPLE_COLORS:"barrel/addMultipleColors",UPDATE_COLOR:"barrel/updateColor",REMOVE_COLOR:"barrel/removeColor",REMOVE_ALL_COLORS:"barrel/removeAllColors",ADD_TEXT_STYLE:"barrel/addTextStyle",ADD_MULTIPLE_TEXT_STYLES:"barrel/addMultipleTextStyles",UPDATE_TEXT_STYLE:"barrel/updateTextStyle",REMOVE_TEXT_STYLE:"barrel/removeTextStyle",REMOVE_ALL_TEXT_STYLES:"barrel/removeAllTextStyles",ADD_SPACING_SECTION:"barrel/addSpacingSection",UPDATE_SPACING_SECTION:"barrel/updateSpacingSection",REMOVE_SPACING_SECTION:"barrel/removeSpacingSection",ADD_SPACING_TOKEN:"barrel/addSpacingToken",UPDATE_SPACING_TOKEN:"barrel/updateSpacingToken",REMOVE_SPACING_TOKEN:"barrel/removeSpacingToken",UPDATE_REM_PREFERENCES:"barrel/updateRemPreferences",ADD_COMPONENT:"barrel/addComponent",UPDATE_COMPONENT:"barrel/updateComponent",REMOVE_COMPONENT:"barrel/removeComponent",ADD_COMPONENT_VERSION:"barrel/addComponentVersion",UPDATE_COMPONENTS_ORDER:"barrel/updateComponentsOrder",ADD_COMPONENT_SECTION:"barrel/addComponentSection",UPDATE_COMPONENT_SECTION:"barrel/updateComponentSection",MERGE_COMPONENT_SECTION:"barrel/mergeComponentSection",REMOVE_COMPONENT_SECTION:"barrel/removeComponentSection",REMOVE_COMPONENT_SECTIONS:"barrel/removeComponentSections",UPDATE_COMPONENT_SECTIONS_ORDER:"barrel/updateComponentSectionsOrder",COPY_COMPONENT_SECTION_WEB_LINK:"barrel/copyComponentSectionWebLink",COPY_COMPONENT_SECTION_APP_URI:"barrel/copyComponentSectionAppURI",GO_TO_DASHBOARD:"barrel/goToDashboard",GO_TO_STYLEGUIDE:"barrel/goToStyleguide",SET_ASSET_EXPORT_TARGET:"barrel/setAssetExportTarget",CHANGE_ASSET_NAME:"barrel/changeAssetName",CHANGE_ASSET_DENSITY_SCALE_PREF:"barrel/changeAssetDensityScalePref",CHANGE_ASSET_NAMING_CONVENTION:"barrel/changeAssetNamingConvention",TOGGLE_SVG_OPTIMIZATION:"barrel/toggleSVGOptimization",CHANGE_EXPORT_TARGET:"barrel/changeExportTarget",OPEN_EXPORT_TARGET:"barrel/openExportTarget",DOWNLOAD_ASSET:"barrel/downloadAsset",DOWNLOAD_MULTIPLE_ASSET:"barrel/downloadMultipleAsset",EXPORT_CODE:"barrel/exportCode",HIDE_NO_VECTOR_ASSET_INFO:"barrel/hideNoVectorAssetInfo",HIDE_DENSITY_MISMATCH_WARNING:"barrel/hideDensityMismatchWarning",HIDE_SOURCE_FILE_INFO:"barrel/hideSourceFileInfo",DISMISS_FLOW_LINK_INFO:"barrel/dismissFlowLinkInfo",DISMISS_NO_RESOURCE_INFO:"barrel/dismissNoResourceInfo",HIDE_SLACK_RECONNECTION_AUNTIE:"barrel/hideSlaclReconnectionAuntie",OPEN_JUMP_TO_POPUP:"barrel/openJumpToPopup",CLOSE_JUMP_TO_POPUP:"barrel/closeJumpToPopup",TOGGLE_SCENE:"barrel/toggleScene",JOIN:"barrel/join",STOP_JOIN_LOADING:"barrel/stopLoadingJoin",MOVE_RESOURCES_REQUEST:"barrel/moveResourcesRequest",MOVE_RESOURCES_SUCCESS:"barrel/moveResourcesSuccess",MOVE_RESOURCES_FAIL:"barrel/movesResourcesFail",ATTACH_JIRA_ISSUE:"barrel/attachJiraIssue",REMOVE_JIRA_ISSUE_ATTACHMENT:"barrel/removeJiraIssueAttachment",ENABLE_DEV_MODE:"barrel/enableDevMode",DISABLE_DEV_MODE:"barrel/disableDevMode",SET_LOCAL_CONNECTED_COMPONENTS:"barrel/setLocalConnectedComponents",RELOAD_LOCAL_CONNECTED_COMPONENTS:"barrel/reloadLocalConnectedComponents",UPDATE_CONNECTED_COMPONENTS:"barrel/updateConnectedComponents",SET_CONNECTED_COMPONENTS_LOCAL_WORKSPACE:"barrel/setConnectedComponentsLocalWorkspace",GET_CONNECTED_COMPONENTS_EDITOR_INFO:"barrel/getConnectedComponentsEditorInfo",SET_CONNECTED_COMPONENTS_EDITOR_INFO:"barrel/setConnectedComponentsEditorInfo",SET_CONNECTED_COMPONENTS_EDITOR_PREFERENCE:"barrel/setConnectedComponentsEditorPreference",SELECT_CONNECTED_COMPONENTS_WORKSPACE_FOLDER:"barrel/selectConnectedComponentsWorkspaceFolder",OPEN_COMPONENT_FILE_IN_EDITOR:"barrel/openComponentFileInEditor",SET_CONNECTED_COMPONENTS_WORKSPACE_PATH:"barrel/setConnectedComponentsWorkspacePath",UPDATE_WORKFLOW_STATUS:"barrel/updateWorkflowStatus",DELETE_WORKFLOW_STATUS:"barrel/deleteWorkflowStatus"}},function(e,t,n){"use strict";n.r(t);var i=n(23),r=n(94),o=n(95);class s extends i.default{constructor(e){if(super(),!e)return;const{_id:t,id:n,name:i,status:s,domain:a,logo:l,paymentPlan:c,reservedSeatCount:d,subscriptionStatus:u,sso:h,members:p,wildlings:f,workflowStatuses:g=[],sectionIds:m=[],sections:b=[],complete:y=!1}=e;this.id=t||n,this._id=t||n,this.name=i,this.status=s,this.domain=a,this.logo=l,this.paymentPlan=c,this.subscriptionStatus=u,this.reservedSeatCount=d,this.sso=h,this.members=p,this.wildlings=f,this.workflowStatuses=g.map(e=>new r.default(e)),this.sectionIds=m,this.sections=b.map(e=>new o.default(e)),this.complete=y}}t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(23),r=n(20),o=n(19);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends i.default{constructor(e){if(super(),!e)return a.NoStatus;const{_id:t="newWorkflowStatusId-"+Object(o.getRandomString)(),name:n,color:i=new r.default({name:"yellow",r:254,g:207,b:51})}=e;this._id=t,this.name=n,this.color=new r.default(i)}static generateNew(e){if(!e||!e.startsWith("New Status"))return new a({name:"New Status"});const t=parseInt(e.substring("New Status".length),10)||0;return new a({name:"New Status "+(t+1)})}}s(a,"All",new a({_id:"All",name:"All",color:new r.default({name:"karl",r:237,g:236,b:237})})),s(a,"NoStatus",new a({_id:"No Status",name:"No Status",color:new r.default({name:"clooney",r:193,g:190,b:193})})),t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(23);class r extends i.default{constructor(e){if(super(),!e)return;const{_id:t,key:n,name:i,description:r,links:o=[],projects:s,newSection:a}=e;this._id=t,this.key=n||t,this.name=i,this.description=r,this.links=o,this.projects=s,this.newSection=a}}t.default=r},function(e,t,n){"use strict";n.r(t);const i=Object.freeze({PROJECT:"project",STYLEGUIDE:"styleguide"});t.default=i},function(e,t,n){"use strict";n.r(t),n.d(t,"TEMPORARY_COMPONENT_SECTION_ID",(function(){return i})),n.d(t,"TEMPORARY_PROJECT_SECTION_ID",(function(){return r}));const i="newComponentSection",r="newProjectSection"},function(e,t,n){"use strict";n.r(t);var i=n(99),r=n(72),o=n(103),s=n(123),a=n(125);function l(e){let t=e;if(t||({organizationId:t}=i.default.getState()),!t)return null;const{organizations:n}=r.default.getState();return n.find(e=>e._id===t)}function c(e){const{organizationProjects:t}=r.default.getState(),{projects:n}=o.default.getState(),i=t[e];if(i)return i.map(e=>n[e])}function d(e){const{organizations:t,organizationProjects:n}=r.default.getState();for(const[i,r]of Object.entries(n))if(r.includes(e)){const n=t.find(e=>e._id===i);if(n&&n.sections){const t=n.sections.find(t=>t.projects.find(t=>t===e));if(t)return t}}return null}function u({itemIds:e,visibleItems:t,visibleTargetIndex:n,firstDroppableIndex:i=0}){let r;return t.length<=i?e.length:n===i?(r=t[n],e.indexOf(r._id)):(r=t[n-1],e.indexOf(r._id)+1)}function h(e,t){const{showArchivedProjects:n}=a.default.getState(),i=l(e).sections.find(e=>e._id===t),r=c(e);return i.projects.map(e=>r.find(t=>t._id===e&&(n||"archived"!==t.status))).filter(Boolean)}t.default={getOrganization:l,getOrganizationMembers:function(e){let t=e||i.default.getState().organizationId;if(!t)return null;const{organizations:n}=r.default.getState(),{members:o}=n.find(({_id:e})=>e===t);return o},getOrganizationProjects:c,getOrganizationStyleguides:function(e){const{organizationStyleguides:t}=r.default.getState(),{styleguides:n}=s.default.getState(),i=t[e];if(i)return i.map(e=>n[e])},getOrganizationWorkflowStatus:function(e,t){const{organizations:n}=r.default.getState(),{workflowStatuses:i}=n.find(({id:t})=>t===e)||{};return i.find(({_id:e})=>e===t)},getOrganizationProfile:function(e){const{organizationProfiles:t}=r.default.getState();return t[e]},findSectionIndicesOfProjects:function(e,t){const{sections:n}=l(e);return t.map(e=>{const t=n.find(t=>t.projects.includes(e)),i=t.projects.findIndex(t=>t._id===e);return{pid:e,oseid:t._id,index:i}})},findProjectOrganizationSection:d,findProjectOrganizationSectionId:function(e){const t=d(e);return t?t._id:null},findActualDropIndex:u,getVisibleProjectsOfSection:h,whereToDropSectionInWorkspace:function({oid:e,index:t}){const{sections:n,sectionIds:i}=l(e);return u({itemIds:i,visibleItems:n,visibleTargetIndex:t,firstDroppableIndex:1})},whereToDropProjectInSection:function({oid:e,oseid:t,index:n}){const i=l(e).sections.find(e=>e._id===t),r=h(e,t),o=void 0===n?r.length:n;return u({itemIds:i.projects,visibleItems:r,visibleTargetIndex:o})}}},function(e,t,n){"use strict";n.r(t);var i=n(73),r=n.n(i),o=n(91),s=n(92),a=n(100),l=n(101),c=n(102);function d(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function u(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends r.a{constructor(){super(a.default)}getInitialState(){return{loading:!0,loadingJoin:!1,organizationId:null,organizationTransitionFinished:!1,barrelType:"project",barrelId:null,selectedView:"dashboard",assetExportTarget:null,assetDensityScalePrefs:null,assetNamingConvention:"camelCase",showOptimizedSVG:!0,noVectorAssetInfoHidden:!1,densityMismatchWarningHidden:!1,noResourceInfoDismissed:!1,sourceFileInfoHidden:!1,flowLinkInfoDismissed:!1,showSlackReconnectionAuntie:!1,jumpToPopupOpen:!1,linkingProjectToStyleguide:"",movingResourcesToStyleguide:"",connectedComponentsDevModeEnabled:!1,connectedComponentsLocalWorkspace:null,connectedComponentsEditorInfo:{}}}reset(){return this.getInitialState()}load(e){return p(p({},this.getInitialState()),{},{loading:!1},e)}updateState(e,t){return p(p({},e),t)}updateForArchive(e,{bid:t}){return t===e.barrelId?this.reset():e}updateForRemoveMember(e,{bid:t,shouldRemoveBarrel:n}){return t===e.barrelId&&n?this.reset():e}updateForRemove(e,{bid:t}){return t===e.barrelId?this.reset():e}setOrganizationId(e,t){return p(p({},e),{},{organizationId:t})}setBarrelId(e,t){return p(p({},e),{},{barrelId:t})}changeSelectedView(e,t){return p(p({},e),{},{selectedView:t})}setAssetExportTarget(e,t){return p(p({},e),{},{assetExportTarget:t})}changeAssetName(e){return p({},e)}changeAssetDensityScalePref(e,t,n){const i=p(p({},e.assetDensityScalePrefs),{},{[t]:n});return p(p({},e),{},{assetDensityScalePrefs:i})}changeAssetNamingConvention(e,t){return p(p({},e),{},{assetNamingConvention:t})}toggleSVGOptimization(e,t){return p(p({},e),{},{showOptimizedSVG:t})}dismissNoResourceInfo(e){return p(p({},e),{},{noResourceInfoDismissed:!0})}hideNoVectorAssetInfo(e){return p(p({},e),{},{noVectorAssetInfoHidden:!0})}hideDensityMismatchWarning(e){return p(p({},e),{},{densityMismatchWarningHidden:!0})}hideSourceFileInfo(e){return p(p({},e),{},{sourceFileInfoHidden:!0})}dismissFlowLinkInfo(e){return p(p({},e),{},{flowLinkInfoDismissed:!0})}hideSlackReconnectionAuntie(e){return p(p({},e),{},{showSlackReconnectionAuntie:!1})}openJumpToPopup(e){return p(p({},e),{},{jumpToPopupOpen:!0})}closeJumpToPopup(e){return p(p({},e),{},{jumpToPopupOpen:!1})}join(e){return p(p({},e),{},{loadingJoin:!0})}stopLoadingJoin(e){return p(p({},e),{},{loadingJoin:!1})}moveResourcesRequest(e,{targetStyleguideId:t}){return p(p({},e),{},{movingResourcesToStyleguide:t})}moveResourcesSuccess(e){return p(p({},e),{},{movingResourcesToStyleguide:""})}moveResourcesFail(e){return p(p({},e),{},{movingResourcesToStyleguide:""})}linkProjectToStyleguideRequest(e,{styleguide:t}){return p(p({},e),{},{linkingProjectToStyleguide:t._id})}linkProjectToStyleguideSuccess(e){return p(p({},e),{},{linkingProjectToStyleguide:""})}updateForOpenScreen(e){return p(p({},e),{},{jumpToPopupOpen:!1,selectedView:"screen"})}updateForRemoveScreen(e,{removingCurrentScreen:t}){const{selectedView:n}=e;return"screen"===n&&t?p(p({},e),{},{selectedView:"dashboard"}):e}enableDevMode(e){return p(p({},e),{},{connectedComponentsDevModeEnabled:!0})}disableDevMode(e){return p(p({},e),{},{connectedComponentsDevModeEnabled:!1})}setConnectedComponentsLocalWorkspace(e,{workspace:t}){return p(p({},e),{},{connectedComponentsLocalWorkspace:t})}setConnectedComponentsEditorInfo(e,{editorInfo:t}){return p(p({},e),{},{connectedComponentsEditorInfo:t})}setConnectedComponentsEditorPreference(e,{extension:t,editor:n}){const{connectedComponentsEditorInfo:i}=e,{defaultEditorPreferences:r}=i,o=u(i,["defaultEditorPreferences"]),{[t]:s}=r,a=u(r,[t].map(d));return n&&(a[t]=n),p(p({},e),{},{connectedComponentsEditorInfo:p(p({},o),{},{defaultEditorPreferences:a})})}setConnectedComponentsWorkspacePath(e,{workspacePath:t}){const{connectedComponentsEditorInfo:n}=e;return p(p({},e),{},{connectedComponentsEditorInfo:p(p({},n),{},{workspacePath:t})})}reduce(e,t){switch(t.type){case o.default.RESET:case s.default.RESET:return this.reset();case s.default.ARCHIVE:return this.updateForArchive(e,t);case s.default.REMOVE_MEMBER:return this.updateForRemoveMember(e,t);case s.default.REMOVE:return this.updateForRemove(e,t);case s.default.LOAD:return this.load(t.barrel);case s.default.UPDATE_STATE:return this.updateState(e,t.update);case s.default.SET_ORGANIZATION_ID:return this.setOrganizationId(e,t.oid);case s.default.SET_BARREL_ID:return this.setBarrelId(e,t.barrelId);case s.default.CHANGE_SELECTED_VIEW:return this.changeSelectedView(e,t.selectedView);case s.default.SET_ASSET_EXPORT_TARGET:return this.setAssetExportTarget(e,t.assetExportTarget);case s.default.CHANGE_ASSET_NAME:return this.changeAssetName(e,t);case s.default.CHANGE_ASSET_DENSITY_SCALE_PREF:return this.changeAssetDensityScalePref(e,t.format,t.assetDensityScalePrefsOfFormat);case s.default.CHANGE_ASSET_NAMING_CONVENTION:return this.changeAssetNamingConvention(e,t.assetNamingConvention);case s.default.TOGGLE_SVG_OPTIMIZATION:return this.toggleSVGOptimization(e,t.showOptimizedSVG);case s.default.HIDE_NO_VECTOR_ASSET_INFO:return this.hideNoVectorAssetInfo(e);case s.default.HIDE_DENSITY_MISMATCH_WARNING:return this.hideDensityMismatchWarning(e);case s.default.HIDE_SOURCE_FILE_INFO:return this.hideSourceFileInfo(e);case s.default.DISMISS_FLOW_LINK_INFO:return this.dismissFlowLinkInfo(e);case s.default.DISMISS_NO_RESOURCE_INFO:return this.dismissNoResourceInfo(e);case s.default.HIDE_SLACK_RECONNECTION_AUNTIE:return this.hideSlackReconnectionAuntie(e);case s.default.OPEN_JUMP_TO_POPUP:return this.openJumpToPopup(e);case s.default.CLOSE_JUMP_TO_POPUP:return this.closeJumpToPopup(e);case s.default.JOIN:return this.join(e);case s.default.STOP_JOIN_LOADING:return this.stopLoadingJoin(e);case s.default.MOVE_RESOURCES_REQUEST:return this.moveResourcesRequest(e,t);case s.default.MOVE_RESOURCES_SUCCESS:return this.moveResourcesSuccess(e);case s.default.MOVE_RESOURCES_FAIL:return this.moveResourcesFail(e);case s.default.ENABLE_DEV_MODE:return this.enableDevMode(e);case s.default.DISABLE_DEV_MODE:return this.disableDevMode(e);case l.default.LINK_PROJECT_REQUEST:return this.linkProjectToStyleguideRequest(e,t);case l.default.LINK_PROJECT_SUCCESS:return this.linkProjectToStyleguideSuccess(e,t);case c.default.OPEN_SCREEN:return this.updateForOpenScreen(e);case c.default.REMOVE_SCREEN:return this.updateForRemoveScreen(e,t);case s.default.SET_CONNECTED_COMPONENTS_LOCAL_WORKSPACE:return this.setConnectedComponentsLocalWorkspace(e,t);case s.default.SET_CONNECTED_COMPONENTS_EDITOR_INFO:return this.setConnectedComponentsEditorInfo(e,t);case s.default.SET_CONNECTED_COMPONENTS_EDITOR_PREFERENCE:return this.setConnectedComponentsEditorPreference(e,t);case s.default.SET_CONNECTED_COMPONENTS_WORKSPACE_PATH:return this.setConnectedComponentsWorkspacePath(e,t);default:return e}}}t.default=new g},function(e,t,n){"use strict";n.r(t);var i=n(84);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);t.default={LINK_PROJECT:"project/linkProject",LINK_PROJECT_REQUEST:"project/linkProjectRequest",LINK_PROJECT_SUCCESS:"project/linkProjectSuccess",LINK_PROJECT_FAILED:"project/linkProjectFailed",UNLINK_PROJECT:"project/unlinkProject"}},function(e,t,n){"use strict";n.r(t);t.default={OPEN_SCREEN:"screen/openScreen",SELECT_LAYER:"screen/selectLayer",DESELECT_LAYER:"screen/deselectLayer",ENTER_LAYER:"screen/enterLayer",LEAVE_LAYER:"screen/leaveLayer",ENABLE_PERCENTAGE_MODE:"screen/enablePercentageMode",DISABLE_PERCENTAGE_MODE:"screen/disablePercentageMode",COPY_CODE:"screen/copyCode",ADD_SCREEN:"screen/addScreen",UPDATE_DESCRIPTION:"screen/updateDescription",UPDATE_NAME:"screen/updateName",REMOVE_SCREEN:"screen/removeScreen",OPEN_TAG_MANAGER:"screen/openTagManager",CLOSE_TAG_MANAGER:"screen/closeTagManager",UPDATE_TAGS:"screen/updateTags",OPEN_SOURCE_FILE:"screen/openSourceFile",OPEN_SOURCE_FOLDER:"screen/openSourceFolder",OPEN_POPOUT:"screen/openPopout",SET_DOTS:"screen/setDots",SELECT_DOT:"screen/selectDot",CLOSE_DOT_POPUP:"screen/closeDotPopup",CHANGE_DOT_FILTER:"screen/changeDotFilter",DOTS_FLASHED:"screen/dotsFlashed",HIGHLIGHT_DOTS:"screen/highlightDots",UNHIGHLIGHT_DOT:"screen/unhighlightDot",ADD_DOT:"screen/addDot",UPDATE_DOT:"screen/updateDot",UPDATE_DOT_COLOR:"screen/updateDotColor",UPDATE_DOT_POSITION:"screen/updateDotPosition",UPDATE_DOT_STATUS:"screen/updateDotStatus",REMOVE_DOT:"screen/removeDot",CREATE_COMMENT:"screen/createComment",ADD_COMMENT:"screen/addComment",UPDATE_COMMENT:"screen/updateComment",REMOVE_COMMENT:"screen/removeComment",OPEN_DOT_MENU:"screen/openDotMenu",CLOSE_DOT_MENU:"screen/closeDotMenu",CHANGE_ZOOM_LEVEL:"screen/changeZoomLevel",ZOOM_IN:"screen/zoomIn",ZOOM_OUT:"screen/zoomOut",RESET_ZOOM:"screen/resetZoom",ZOOM_APPLIED:"screen/zoomApplied",START_GESTURE:"screen/startGesture",ZOOM_WITH_GESTURE:"screen/zoomWithGesture",ZOOM_WITH_WHEEL:"screen/zoomWithWheel",TOGGLE_LAYOUT_GRID:"screen/toggleLayoutGrid",ENABLE_NOTE_MODE:"screen/enableNoteMode",DISABLE_NOTE_MODE:"screen/disableNoteMode",CREATE_NOTE:"screen/createNote",SHOW_NOTES:"screen/showNotes",HIDE_NOTES:"screen/hideNotes",CHANGE_NOTE_STATUS_FILTER:"screen/changeNoteStatusFilter",CHANGE_NOTE_COLOR_FILTER:"screen/changeNoteColorFilter",SHOW_FLOW_LINKS:"screen/showFlowLinks",HIDE_FLOW_LINKS:"screen/hideFlowLinks",CHANGE_SIDEBAR_TAB:"screen/changeSidebarTab",CHANGE_SCREEN_SIDEBAR_WIDTH:"screen/changeScreenSidebarWidth",GET_VERSIONS:"screen/getVersions",SET_VERSIONS:"screen/setVersions",SET_VERSION_ID:"screen/setVersionId",SET_SNAPSHOT:"screen/setSnapshot",SHOW_VERSIONS:"screen/showVersions",HIDE_VERSIONS:"screen/hideVersions",TOGGLE_VERSIONS:"screen/toggleVersions",ENABLE_VERSIONS_COMPACT_MODE:"screen/enableVersionsCompactMode",DISABLE_VERSIONS_COMPACT_MODE:"screen/disableVersionsCompactMode",SHOW_VERSIONS_AUNTIE:"screen/showVersionsAuntie",HIDE_VERSIONS_AUNTIE:"screen/hideVersionsAuntie",NEW_VERSIONS_FOUND:"screen/newVersionsFound",CHANGE_VERSIONS_SIDEBAR_WIDTH:"screen/changeVersionsSidebarWidth",ADD_VERSION:"screen/addVersion",UPDATE_COMMIT_COLOR:"screen/updateCommitColor",UPDATE_COMMIT_MESSAGE:"screen/updateCommitMessage",REMOVE_VERSION:"screen/removeVersion",SET_SOURCE_FILE:"screen/setSourceFile"}},function(e,t,n){"use strict";n.r(t);var i=n(73),r=n.n(i),o=n(104),s=n(96),a=n(109),l=n(88),c=n(116),d=n(101),u=n(92),h=n(117),p=n(119),f=n(102),g=n(120),m=n(87),b=n(62),y=n(91),S=n(121);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function T(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}class D extends r.a{constructor(){super(c.default),this.reducer=new h.default({bidPropertyName:"pid",barrelPropertyName:"project",barrelsPropertyName:"projects",loadingBarrelPropertyName:"loadingProject",loadingBarrelsPropertyName:"loadingProjects"},{deleteBarrel:this.remove})}getInitialState(){return{loadingProject:!0,loadingProjects:!0,projects:{},error:null}}reset(){return this.getInitialState()}add(e,{barrel:t,barrelType:n}){return n!==s.default.PROJECT?e:this.reducer.addBarrel(e,{barrel:t})}activate(e,{bid:t}){return this.reducer.updateBarrelValue(e,{pid:t,key:"status",value:"active"})}archive(e,{bid:t}){return this.reducer.updateBarrelValue(e,{pid:t,key:"status",value:"archived"})}remove(e,{bid:t}){const n=e.projects,{[t]:i}=n,r=E(n,[t].map(T));return C(C({},e),{},{projects:C({},r)})}linkProjectToStyleguide(e,{project:{_id:t,remPreferences:n},styleguide:i}){return this.reducer.updateBarrel(e,{pid:t,data:{styleguideLink:{styleguide:i,status:"active"},remPreferences:new a.default(C(C({},n),{},{status:"linked"}))}})}unlinkProjectFromStyleguide(e,{pid:t}){return this.reducer.updateBarrelValue(e,{pid:t,key:"styleguideLink",value:null})}updateUserData(e,{bid:t,uid:n,userData:i}){const r=e.projects[t];if(!r)return e;const s=r.users.map(({role:e,user:t})=>t._id!==n?{role:e,user:t}:{role:e,user:C(C({},t),i)});let a=r.screens;return a&&(a=r.screens.map(e=>{let t=e.dots;t&&(t=t.map(e=>{const t=e.comments.map(e=>e.author&&e.author._id===n?C(C({},e),{},{author:C(C({},e.author),i)}):e);return e.creator&&e.creator._id===n?C(C({},e),{},{comments:t,creator:C(C({},e.creator),i)}):C(C({},e),{},{comments:t})}));const r=e.versions.map(e=>{let{creator:t,commit:r}=e,o=E(e,["creator","commit"]);const s=t&&t._id===n?C(C({},t),{},{userData:i}):t,a=r.author&&r.author._id===n?C(C({},r),{},{author:C(C({},r.author),{},{userData:i})}):r;return C(C({},o),{},{creator:s,commit:a})});return C(C({},e),{},{versions:r,dots:t})})),this.reducer.updateBarrel(e,{pid:t,data:new o.default(C(C({},r),{},{screens:a,users:s}))})}transferOwnership(e,{bid:t,fromUserId:n,targetId:i,toOrganization:r,users:o,oid:s}){if(!e.projects[t])return e;if(r||"user"!==s){const r=this.reducer.deleteWorkflowStatus(e,{bid:t});return o?this.reducer.updateBarrelValue(r,{pid:t,key:"users",value:e=>e.users.map(e=>{if(e.user._id===n||e.user._id===i){const t=o.find(t=>e.user._id===t.user._id);e.role=t.role,e.user.paymentPlan=t.user.paymentPlan}return e})}):r}return this.reducer.updateBarrelValue(e,{pid:t,key:"users",value:e=>e.users.map(e=>{if(o){if(e.user._id===n||e.user._id===i){const t=o.find(t=>e.user._id===t.user._id);e.role=t.role,e.user.paymentPlan=t.user.paymentPlan}return e}return e.user._id===i&&(e.role="owner"),e.user._id===n&&(e.role="admin"),e})})}load(e,t){const{data:{project:n,organizationProjects:i}}=t;let r=e;return i&&(r=this.reducer.getBarrelsSuccess(r,{projects:i})),n&&(r=this.reducer.getBarrelSuccess(r,{project:n})),r}moveResourcesSuccess(e,{resourceType:t,resources:n,bid:i,barrelType:r}){if(r!==s.default.PROJECT)return e;const o=Object(S.default)(t);return this.reducer.updateBarrelValue(e,{pid:i,key:o,value:e=>e[o].filter(e=>!n.includes(e))})}addSection(e,{pid:t,section:n,index:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value({sections:e}){if(!e||0===i)return e;const t=e[i-1];return t.screens=t.screens.filter(e=>!n.screens.includes(e)),e.splice(i,0,n),e}})}createSection(e,{pid:t,section:n}){const{_id:i,name:r}=n;return this.renameSection(e,{pid:t,seid:i,name:r})}updateSection(e,{pid:t,seid:n,sectionData:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value:({sections:e})=>e?e.map(e=>e._id!==n?e:C(C({},e),i)):e})}renameSection(e,{pid:t,seid:n,name:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value:({sections:e})=>e?e.map(e=>e._id!==n?e:C(C({},e),{},{name:i})):e})}updateSectionDescription(e,{pid:t,seid:n,description:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value:({sections:e})=>e?e.map(e=>e._id!==n?e:C(C({},e),{},{description:i})):e})}updateSectionOrder(e,{pid:t,seid:n,index:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value({sections:e}){if(!e)return e;const t=Object(b.arrayRemove)(e,n);return t?(e.splice(i,0,t),e):e}})}removeSection(e,{pid:t,seid:n}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value({sections:e}){if(!e)return e;const t=e.findIndex(e=>e._id===n);if(t<1)return e;const i=e[t];return e[t-1].screens.push(...i.screens),e.filter(e=>e._id!==n)}})}updateScreenOrder(e,{pid:t,screens:n,targetSectionId:i,targetIndex:r}){return this.reducer.updateBarrelValue(e,{pid:t,key:"sections",value({sections:e}){if(!e)return e;n.forEach(t=>{const n=e.find(e=>e.screens.includes(t));n&&Object(b.arrayRemove)(n.screens,e=>e===t)});const t=e.find(e=>e._id===i);return t?(t.screens.splice(r,0,...n),e):void 0}})}addScreen(e,{pid:t,seid:n,index:i,screen:r}){const o=e.projects[t];if(!o||!o.screens)return e;if(o.screens.find(e=>e._id===r._id))return e;const s=this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>[...e,r]});return this.reducer.updateBarrelValue(s,{pid:t,key:"sections",value({sections:e}){if(!e)return e;const t=n?e.find(e=>e._id===n):e[0],o=void 0===i?t.screens.length:i;return t.screens.splice(o,0,r._id),[...e]}})}removeScreen(e,{pid:t,sid:n}){const i=this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.filter(e=>e._id!==n):e});return this.reducer.updateBarrelValue(i,{pid:t,key:"sections",value:({sections:e})=>e?e.map(e=>(e.screens.includes(n)&&(e.screens=e.screens.filter(e=>e!==n)),e)):e})}updateScreenDescription(e,{pid:t,sid:n,description:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n?C(C({},e),{},{description:i}):e):e})}updateScreenName(e,{pid:t,sid:n,name:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n?C(C({},e),{},{name:i}):e):e})}moveScreen(e,t){const{spid:n,tpid:i,screen:r}=t,o=this.removeScreen(e,{pid:n,sid:r._id});return this.addScreen(o,{pid:i,screen:r})}updateTags(e,{pid:t,updates:n}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?(n.forEach(({_id:t,operation:n,tags:i})=>{const r=e.find(e=>e._id===t);r.tags="add"===n?(r.tags||[]).concat(i):r.tags.filter(e=>!i.includes(e))}),e):e})}setDots(e,{pid:t,sid:n,dots:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>(e._id===n&&(e.dots=i),e)):e})}addDot(e,{pid:t,sid:n,dot:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>{if(e._id!==n)return e;return e.dots&&e.dots.find(e=>e._id===i._id)||(e.dots=(e.dots||[]).concat(i)),e}):e})}updateDot(e,{pid:t,sid:n,did:i,dotData:r}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.map(e=>e._id!==i?e:C(C({},e),r)),e):e):e})}updateDotColor(e,{pid:t,sid:n,did:i,color:r}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.map(e=>e._id!==i?e:C(C({},e),{},{color:r})),e):e):e})}updateDotPosition(e,{pid:t,sid:n,did:i,x:r,y:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.map(e=>e._id!==i?e:C(C({},e),{},{x:r,y:o})),e):e):e})}updateDotStatus(e,{pid:t,sid:n,did:i,status:r}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.map(e=>e._id!==i?e:C(C({},e),{},{status:r})),e):e):e})}removeDot(e,{pid:t,sid:n,did:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.filter(({_id:e})=>e!==i),e):e):e})}addComment(e,{pid:t,sid:n,did:i,comment:r}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>{if(e._id!==n||!e.dots)return e;const t=e.dots.find(e=>e._id===i);if(!t)return e;return t.comments.find(e=>e._id===r._id)||t.comments.push(r),e}):e})}updateComment(e,{pid:t,sid:n,did:i,cmid:r,commentData:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>e._id===n&&e.dots?(e.dots=e.dots.map(e=>(e._id!==i||(e.comments=e.comments.map(e=>e._id!==r?e:C(C({},e),o))),e)),e):e):e})}removeComment(e,{pid:t,sid:n,did:i,cmid:r}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>{if(e._id!==n||!e.dots)return e;const t=e.dots.find(e=>e._id===i);return t?(t.comments=t.comments.filter(e=>e._id!==r),e):e}):e})}setVersions(e,{pid:t,sid:n,versions:i,totalVersionCount:r,allowedVersionCount:o}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>(e._id===n&&(e.versions=i,e.totalVersionCount=r,e.allowedVersionCount=o),e)):e})}setSnapshot(e,{pid:t,sid:n,vid:i,snapshot:r}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value({screens:e}){if(!e)return e;const t=e.find(e=>e._id===n);if(!t)return e;const o=t.versions.find(e=>e._id===i);return o&&Object.assign(o.snapshot,r),e}})}addVersion(e,{pid:t,sid:n,version:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value({screens:e}){if(!e)return e;const t=e.find(e=>e._id===n);if(!t)return e;return t.versions.some(e=>e._id===i._id)||(t.updated=(new Date).toISOString(),t.versions.unshift(i),t.totalVersionCount&&t.totalVersionCount++,t.versions.length>t.allowedVersionCount&&t.versions.pop()),e}})}updateCommitColor(e,{pid:t,sid:n,vid:i,color:r}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>(e._id!==n||(e.versions=e.versions.map(e=>e._id!==i?e:C(C({},e),{},{commit:C(C({},e.commit),{},{color:r})}))),e)):e})}updateCommitMessage(e,{pid:t,sid:n,vid:i,message:r}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>(e._id!==n||(e.versions=e.versions.map(e=>e._id!==i?e:C(C({},e),{},{commit:C(C({},e.commit),{},{message:r})}))),e)):e})}removeVersion(e,{pid:t,sid:n,vid:i}){return this.reducer.updateBarrelValue(e,{pid:t,key:"screens",value:({screens:e})=>e?e.map(e=>(e._id!==n||(e.versions=e.versions.filter(({_id:e})=>e!==i)),e)):e})}hydrateEmbeddedData(e,t){const{project:n,projects:i}=t;let r=e;return i&&(r=this.reducer.getBarrelsSuccess(r,{projects:i})),n&&(r=this.reducer.getBarrelSuccess(r,{project:n})),r}reduce(e,t){switch(t.type){case l.default.GET_PROJECTS_SUCCESS:return this.reducer.getBarrelsSuccess(e,t);case l.default.GET_PROJECTS_FAILED:return this.reducer.getBarrelsFailed(e,t);case l.default.GET_PROJECT_REQUESTED:return this.reducer.getBarrelRequested(e);case l.default.GET_PROJECT_SUCCESS:return this.reducer.getBarrelSuccess(e,t);case l.default.GET_PROJECT_FAILED:return this.reducer.getBarrelFailed(e,t);case l.default.UPDATE_PROJECT:return this.reducer.updateBarrel(e,t);case u.default.UPDATE_NAME:return this.reducer.updateName(e,t);case u.default.UPDATE_DESCRIPTION:return this.reducer.updateDescription(e,t);case u.default.UPDATE_DENSITY_SCALE:return this.reducer.updateDensityScale(e,t);case u.default.UPDATE_THUMBNAIL:return this.reducer.updateThumbnail(e,t);case u.default.ADD_INTEGRATION:return this.reducer.addIntegration(e,t);case u.default.TOGGLE_SCENE:return this.reducer.toggleScene(e,t);case u.default.ADD_MEMBERS:return this.reducer.addMembers(e,t);case u.default.ADD_COLOR:return this.reducer.addColor(e,t);case u.default.ADD_MULTIPLE_COLORS:return this.reducer.addMultipleColors(e,t);case u.default.UPDATE_COLOR:return this.reducer.updateColor(e,t);case u.default.REMOVE_COLOR:return this.reducer.removeColor(e,t);case u.default.REMOVE_ALL_COLORS:return this.reducer.removeAllColors(e,t);case u.default.UPDATE_COLOR_ORDER:return this.reducer.updateColorOrder(e,t);case u.default.ADD_TEXT_STYLE:return this.reducer.addTextStyle(e,t);case u.default.ADD_MULTIPLE_TEXT_STYLES:return this.reducer.addMultipleTextStyles(e,t);case u.default.UPDATE_TEXT_STYLE:return this.reducer.updateTextStyle(e,t);case u.default.REMOVE_TEXT_STYLE:return this.reducer.removeTextStyle(e,t);case u.default.REMOVE_ALL_TEXT_STYLES:return this.reducer.removeAllTextStyles(e,t);case u.default.ADD_SPACING_SECTION:return this.reducer.addSpacingSection(e,t);case u.default.UPDATE_SPACING_SECTION:return this.reducer.updateSpacingSection(e,t);case u.default.REMOVE_SPACING_SECTION:return this.reducer.removeSpacingSection(e,t);case u.default.ADD_SPACING_TOKEN:return this.reducer.addSpacingToken(e,t);case u.default.UPDATE_SPACING_TOKEN:return this.reducer.updateSpacingToken(e,t);case u.default.REMOVE_SPACING_TOKEN:return this.reducer.removeSpacingToken(e,t);case u.default.UPDATE_REM_PREFERENCES:return this.reducer.updateRemPreferences(e,t);case u.default.ADD_COMPONENT:return this.reducer.addComponent(e,t);case u.default.UPDATE_COMPONENT:return this.reducer.updateComponent(e,t);case u.default.REMOVE_COMPONENT:return this.reducer.removeComponent(e,t);case u.default.ADD_COMPONENT_VERSION:return this.reducer.addComponentVersion(e,t);case u.default.ADD_COMPONENT_SECTION:return this.reducer.addComponentSection(e,t);case u.default.UPDATE_COMPONENT_SECTION:return this.reducer.updateComponentSection(e,t);case u.default.MERGE_COMPONENT_SECTION:return this.reducer.mergeComponentSection(e,t);case u.default.REMOVE_COMPONENT_SECTION:return this.reducer.removeComponentSection(e,t);case u.default.REMOVE_COMPONENT_SECTIONS:return this.reducer.removeComponentSections(e,t);case u.default.UPDATE_COMPONENTS_ORDER:return this.reducer.updateComponentsOrder(e,t);case u.default.UPDATE_COMPONENT_SECTIONS_ORDER:return this.reducer.updateComponentSectionsOrder(e,t);case u.default.ATTACH_JIRA_ISSUE:return this.reducer.attachJiraIssue(e,t);case u.default.REMOVE_JIRA_ISSUE_ATTACHMENT:return this.reducer.removeJiraIssueAttachment(e,t);case u.default.SET_LOCAL_CONNECTED_COMPONENTS:return this.reducer.setLocalConnectedComponents(e,t);case u.default.UPDATE_CONNECTED_COMPONENTS:return this.reducer.updateConnectedComponents(e,t);case u.default.UPDATE_WORKFLOW_STATUS:return this.reducer.updateWorkflowStatus(e,t);case u.default.DELETE_WORKFLOW_STATUS:return this.reducer.deleteWorkflowStatus(e,t);case u.default.UPDATE_USER_ROLE:return this.reducer.updateUserRole(e,t);case u.default.REMOVE_MEMBER:return this.reducer.removeMember(e,t);case u.default.REMOVE_INTEGRATION:return this.reducer.removeIntegration(e,t);case u.default.ADD:return this.add(e,t);case u.default.ACTIVATE:return this.activate(e,t);case u.default.ARCHIVE:return this.archive(e,t);case u.default.REMOVE:return this.remove(e,t);case d.default.LINK_PROJECT_SUCCESS:case d.default.LINK_PROJECT:return this.linkProjectToStyleguide(e,t);case d.default.UNLINK_PROJECT:return this.unlinkProjectFromStyleguide(e,t);case u.default.UPDATE_USER_DATA:return this.updateUserData(e,t);case l.default.TRANSFER_OWNERSHIP:case u.default.OWNERSHIP_TRANSFERRED:return this.transferOwnership(e,t);case u.default.LOAD:return this.load(e,t);case u.default.MOVE_RESOURCES_SUCCESS:return this.moveResourcesSuccess(e,t);case m.default.DELETE_ORGANIZATION_WORKFLOW_STATUS:return this.reducer.onOrganizationWorkflowStatusDelete(e,t);case m.default.UPDATE_MEMBER_ACCESSIBILITY:return this.reducer.removeUnjoinedBarrels(e,t);case g.default.MOVE_SCREEN:return this.moveScreen(e,t);case p.default.ADD_SECTION:case p.default.CONVERT_TAG_TO_SECTION:return this.addSection(e,t);case p.default.UPDATE_SECTION:return this.updateSection(e,t);case p.default.CREATE_SECTION:return this.createSection(e,t);case p.default.RENAME_SECTION:return this.renameSection(e,t);case p.default.UPDATE_SECTION_DESCRIPTION:return this.updateSectionDescription(e,t);case p.default.UPDATE_SECTION_ORDER:return this.updateSectionOrder(e,t);case p.default.REMOVE_SECTION:return this.removeSection(e,t);case p.default.UPDATE_SCREEN_ORDER:return this.updateScreenOrder(e,t);case f.default.ADD_SCREEN:return this.addScreen(e,t);case f.default.UPDATE_DESCRIPTION:return this.updateScreenDescription(e,t);case f.default.UPDATE_NAME:return this.updateScreenName(e,t);case f.default.REMOVE_SCREEN:return this.removeScreen(e,t);case f.default.UPDATE_TAGS:return this.updateTags(e,t);case f.default.SET_DOTS:return this.setDots(e,t);case f.default.CREATE_NOTE:case f.default.ADD_DOT:return this.addDot(e,t);case f.default.UPDATE_DOT:return this.updateDot(e,t);case f.default.UPDATE_DOT_COLOR:return this.updateDotColor(e,t);case f.default.UPDATE_DOT_POSITION:return this.updateDotPosition(e,t);case f.default.UPDATE_DOT_STATUS:return this.updateDotStatus(e,t);case f.default.REMOVE_DOT:return this.removeDot(e,t);case f.default.CREATE_COMMENT:case f.default.ADD_COMMENT:return this.addComment(e,t);case f.default.UPDATE_COMMENT:return this.updateComment(e,t);case f.default.REMOVE_COMMENT:return this.removeComment(e,t);case f.default.SET_VERSIONS:return this.setVersions(e,t);case f.default.SET_SNAPSHOT:return this.setSnapshot(e,t);case f.default.ADD_VERSION:return this.addVersion(e,t);case f.default.UPDATE_COMMIT_COLOR:return this.updateCommitColor(e,t);case f.default.UPDATE_COMMIT_MESSAGE:return this.updateCommitMessage(e,t);case f.default.REMOVE_VERSION:return this.removeVersion(e,t);case y.default.LOAD_WORKSPACE_DATA:return this.reducer.getBarrelsSuccess(e,t);case y.default.RESET:return this.reset();case y.default.HYDRATE_EMBEDDED_DATA:return this.hydrateEmbeddedData(e,t);default:return e}}}t.default=new D},function(e,t,n){"use strict";n.r(t);var i=n(62),r=n(20),o=n(105),s=n(107),a=n(109),l=n(23),c=n(110),d=n(94),u=n(114),h=n(115);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){let n,i;if(e)switch(t){case"android":n="dp",i="sp";break;case"ios":case"osx":n="pt",i="pt";break;case"web":default:n="px",i="px"}else n="px",i="px";return{textDimensionSuffix:i,dimensionSuffix:n}}function b(e,t){if(e.length){var n=e[0].fontSize/t,i=e[e.length-1].fontSize/t;if(n<=36&&i>=14)e.forEach((function(e){e.scaledFontSize=e.fontSize/t}));else{var r,o;n<14?(r=24,o=14):i>36?(r=36,o=24):(r=Math.min(36,n),o=Math.max(14,i));var s=n===i?0:(r-o)/(n-i);e[0].scaledFontSize=Math.round(r);for(var a=1;a<e.length;a++){var l=e[a-1].fontSize/t,c=e[a].fontSize/t;e[a].scaledFontSize=Math.round(e[a-1].scaledFontSize-(l-c)*s)}}}}function y(e,t,n){let i;switch(n){case"ios":case"osx":i=t.replace(/\s+/g,"");break;case"android":i="_"+t.replace(/\s+/g,"_").toLowerCase();break;case"web":default:i="-"+t.replace(/\s+/g,"-").toLowerCase()}return e+i}function S(e){var t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"];if(e>19){var n=e%10;return["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"][Math.floor(e/10)]+(n?" "+t[n]:"")}return t[e]}function v(e,t,n){let i;for(const r of e){if(i=r.components.find(e=>e[t]===n),i)return i;if(i=v(r.componentSections,t,n),i)return i}return null}function C(e,t){e.forEach(e=>{const n=[...t,e._id];e.idPath=n,e.components.forEach(e=>{e.idPath=[...n,e._id]}),C(e.componentSections,n)})}function O(e){return e.components.concat(...e.componentSections.map(O))}function E(e){const t=f({},e);if(t.status||(t.status="active"),t.users&&(t.users=t.users.map(e=>new s.default(e))),t.users.sort(i.sortBy.role),t.integration=new c.default(t.integration),t.extensions||(t.extensions=[]),t.colors?t.colors=t.colors.map(e=>new r.default(e)):t.colors=[],t.textStyles?(t.textStyles=t.textStyles.map(e=>new o.default(e)).sort(i.fontSort),b(t.textStyles,t.densityScale)):t.textStyles=[],t.screens){if(t.sections){const e=t.screens.map(e=>e._id);t.sections.forEach(t=>{t.screens=t.screens.filter(t=>e.includes(t))})}t.screens.forEach(e=>{"versions"in e||(e.description=e.description||"",e.tags=e.tags||[],e.latestVersion.commit=e.latestVersion.commit||{message:"",color:Object(u.getColorValueByName)("yellow"),author:e.latestVersion.creator},e.latestVersion.snapshot.componentNames=e.latestVersion.snapshot.componentNames||[],e.versions=[e.latestVersion],delete e.latestVersion)})}t.componentSections&&C(t.componentSections,[]),t.remPreferences=new a.default(t.remPreferences),t.workflowStatus=new d.default(t.workflowStatus),Object.defineProperties(this,{_id:{value:t._id,enumerable:!0},id:{value:t._id,enumerable:!0},partial:{value:t.partial,enumerable:!0},complete:{value:t.complete,enumerable:!0},type:{value:t.type,enumerable:!0},name:{get:()=>t.name,set(e){t.name=e},enumerable:!0},description:{get:()=>t.description,set(e){t.description=e},enumerable:!0},colors:{get:()=>t.colors,enumerable:!0},densityScale:{get:()=>t.densityScale,set(e){t.densityScale=e},enumerable:!0},extensions:{get:()=>t.extensions,set(e){t.extensions=e},enumerable:!0},icon:{value:t.icon,enumerable:!0},integration:{get:()=>t.integration,set(e){t.integration=e},enumerable:!0},prefix:{get:()=>t.prefix,set(e){t.prefix=e},enumerable:!0},public:{get:()=>t.public,set(e){t.public=e},enumerable:!0},screens:{get:()=>t.screens,set(e){t.screens=e},enumerable:!0},sections:{get:()=>t.sections,set(e){t.sections=e},enumerable:!0},status:{get:()=>t.status,set(e){t.status=e},enumerable:!0},textStyles:{get:()=>t.textStyles,enumerable:!0},thumbnail:{get:()=>t.thumbnail,set(e){t.thumbnail=e},enumerable:!0},users:{get:()=>t.users,enumerable:!0},slackTeamId:{get(){if(t.integration.slacks.length)return t.integration.slacks[0].teamId},enumerable:!0},tags:{get:()=>Object(h.extractTagsFromScreens)(t.screens),enumerable:!0},dimensionSuffix:{get:()=>m(t.densityScale,t.type).dimensionSuffix,enumerable:!0},textDimensionSuffix:{get:()=>m(t.densityScale,t.type).textDimensionSuffix,enumerable:!0},created:{get:()=>t.created,set(e){t.created=e},enumerable:!0},updated:{get:()=>t.updated,set(e){t.updated=e},enumerable:!0},componentSections:{get:()=>t.componentSections,set(e){t.componentSections=e},enumerable:!0},connectedComponents:{get:()=>t.connectedComponents,set(e){t.connectedComponents=e},enumerable:!0},localConnectedComponents:{get:()=>t.localConnectedComponents,set(e){t.localConnectedComponents=e},enumerable:!0},parent:{get:()=>t.parent,set(e){t.parent=e},enumerable:!0},styleguideLink:{value:t.styleguideLink,enumerable:!0},ancestors:{get:()=>t.ancestors,set(e){t.ancestors=e},enumerable:!0},linkedProjects:{value:t.linkedProjects,enumerable:!0},spacingSections:{get:()=>t.spacingSections,set(e){t.spacingSections=e},enumerable:!0},remPreferences:{get:()=>t.remPreferences,set(e){t.remPreferences=new a.default(e)},enumerable:!0},workflowStatus:{get:()=>t.workflowStatus,set(e){t.workflowStatus=new d.default(e)},enumerable:!0}})}E.prototype=Object.create(l.default.prototype),E.prototype.constructor=E,E.prototype.toObject=function(){return{type:this.type,name:this.name,colors:this.colors.map((function(e){return e.toObject()})),textStyles:this.textStyles.map((function(e){return e.toObject()})),spacingSections:this.spacingSections,remPreferences:this.remPreferences&&f(f({},this.remPreferences),{},{rootFontSize:this.remPreferences.remRootFontSize}),density:i.getDensityScaleRepresentation(this.type,this.densityScale)}},E.prototype.addTextStyle=function(e){this.textStyles.push(new o.default(e)),this.textStyles.sort(i.fontSort),b(this.textStyles,this.densityScale)},E.prototype.updateTextStyle=function(e,t){var n=this.textStyles.find((function(t){return t.id===e}));n&&(Object.assign(n,t),this.textStyles.sort(i.fontSort),b(this.textStyles,this.densityScale))},E.prototype.removeTextStyle=function(e){var t=i.arrayRemove(this.textStyles,(function(t){return t.id===e}));return b(this.textStyles,this.densityScale),t},E.prototype.findTextStyleById=function(e){return this.textStyles.find((function(t){return t.id===e}))},E.prototype.findTextStyleByName=function(e){return this.textStyles.find((function(t){return t.name===e}))},E.prototype.findTextStyleEqual=function(e){return this.textStyles.find((function(t){return e.equals(t)}))},E.prototype.getTextStyleName=function(){if(!this.textStyles.length)return"Text Style";for(var e="Text Style",t=1;this.findTextStyleByName(e);)e="Text Style "+ ++t;return e},E.prototype.findSpacingSectionById=function(e){return this.spacingSections.find(({_id:t})=>t===e)||{}},E.prototype.findSpacingTokenInsideSectionById=function(e,t){const n=this.spacingSections.find(({_id:t})=>t===e);return n?n.spacingTokens.find(({_id:e})=>e===t):{}},E.prototype.findUser=function(e){return this.users.find((function(t){return t.user._id===e}))},E.prototype.findOwner=function(){return this.users.find((function(e){return"owner"===e.role}))},E.prototype.addUser=function(e){this.users.push(e),this.users.sort(i.sortBy.role)},E.prototype.changeUserRole=function(e,t){var n=this.findUser(e);n&&(n.role=t,this.users.sort(i.sortBy.role))},E.prototype.removeUser=function(e){return i.arrayRemove(this.users,(function(t){return t.user._id===e}))},E.prototype.updateUserInfo=function(e,t){var n=this.findUser(e);n&&(Object.assign(n.user,t),this.users.sort(i.sortBy.role)),this.screens.forEach((function(n){n.dots&&n.dots.forEach((function(n){n.creator&&n.creator._id===e&&Object.assign(n.creator,t),n.comments.forEach((function(n){n.author&&n.author._id===e&&Object.assign(n.author,t)}))})),n.versions.forEach((function(n){n.creator&&n.creator._id===e&&Object.assign(n.creator,t),n.commit.author&&n.commit.author._id===e&&Object.assign(n.commit.author,t)}))}))},E.prototype.changeUserPaymentPlan=function(e,t){var n=this.findUser(e);n&&(n.user.paymentPlan=t)},E.prototype.addColor=function(e){this.colors.push(new r.default(e))},E.prototype.removeColor=function(e){return i.arrayRemove(this.colors,(function(t){return t.id===e}))},E.prototype.updateColor=function(e,t){var n=this.colors.find((function(t){return t.id===e}));Object.assign(n,t)},E.prototype.updateColorOrder=function(e,t){const n=this.removeColor(e);n&&this.colors.splice(t,0,n)},E.prototype.findColorById=function(e){return this.colors.find((function(t){return t.id===e}))},E.prototype.findColorByName=function(e){return this.colors.find((function(t){return t.name===e}))},E.prototype.findColorEqual=function(e){return this.colors.find((function(t){return e.equals(t)}))},E.prototype.findColorByHexAndAlpha=function(e){return this.colors.find((function(t){var n=void 0===e.alpha||t.a===e.alpha;return(void 0===e.hex||t.hexBase()===e.hex.toLowerCase())&&n}))},E.prototype.checkDuplicateColorHex=function(e,t){var n=this.findColorByHexAndAlpha({hex:e,alpha:t.a});return n&&n.id!==t.id?n:null},E.prototype.checkDuplicateColorAlpha=function(e,t){var n=this.findColorByHexAndAlpha({hex:t.hexBase(),alpha:parseInt(e,10)/100});return n&&n.id!==t.id?n:null},E.prototype.checkDuplicateColorName=function(e,t){var n=this.findColorByName(e);return n&&n.id!==t.id?n:null},E.prototype._checkProjectColors=function(e){let t;for(var n=0;n<this.colors.length;n++){var i=this.colors[n];if(i.hexBase()===e.hexBase()){const[e]=i.name.match(/\d+$/)||[];e&&parseInt(e,10)===Math.round(100*i.a)?[,t=i.name]=i.name.match(/^([\w-]+?)[\d_-]+$/)||[]:t=i.name;break}}return t||(t=e.generateName(this.type)),this._checkProjectColorNames(y(t,Math.round(100*e.a).toString(),this.type))},E.prototype._checkProjectColorNames=function(e){for(var t=e,n=1;this.findColorByName(t);)t=y(e,S(++n),this.type);return t},E.prototype.getColorName=function(e){return e.a<1?this._checkProjectColors(e):this._checkProjectColorNames(e.generateName(this.type))},E.prototype.deleteTag=function(e){return this.screens.reduce((function(t,n){var i;return n.tags&&-1!==(i=n.tags.indexOf(e))?(n.tags.splice(i,1),t.concat({_id:n._id,operation:"remove",tags:[e]})):t}),[])},E.prototype.addSection=function(e,t){var n=this;return e.screens.forEach((function(e){var t=n.findScreenSection(e);t&&i.arrayRemove(t.screens,(function(t){return t===e}))})),this.sections.splice(t,0,e),e},E.prototype.splitSection=function(e,t,n){var i=this.findSection(e);if(i){var r=this.sections.findIndex((function(t){return e===t._id})),o=i.screens.splice(t,i.screens.length-t);return this.sections.splice(r+1,0,{name:n,screens:o}),this.sections[r+1]}},E.prototype.findSection=function(e){return e?this.sections.find((function(t){return t._id===e})):null},E.prototype.removeSection=function(e){var t=this.findSection(e);if(t){var n=this.sections.findIndex((function(t){return t._id===e}));return this.sections[n-1].screens=this.sections[n-1].screens.concat(t.screens),i.arrayRemove(this.sections,(function(t){return t._id===e}))}},E.prototype.updateSectionOrder=function(e,t){var n=this,r=[].concat(e).map((function(e){return i.arrayRemove(n.sections,(function(t){return t._id===e}))})).filter((function(e){return e}));Array.prototype.splice.apply(this.sections,[t,0].concat(r))},E.prototype.isDefaultSection=function(e){return 0===this.sections.findIndex((function(t){return t._id===e}))},E.prototype.findScreenSection=function(e){return this.sections.find((function(t){return t.screens.includes(e)}))},E.prototype.addScreensToSection=function(e,t,n){var r=this,o=this.findSection(e);o&&(t.forEach((function(e){var t=r.findScreenSection(e);t&&i.arrayRemove(t.screens,(function(t){return t===e}))})),Array.prototype.splice.apply(o.screens,[n,0].concat(t)))},E.prototype.addScreen=function(e,t){this.screens.push(e);var n=this.sections[0];void 0===t&&(t=n.screens.length),this.addScreensToSection(n._id,[e._id],t)},E.prototype.findScreen=function(e){return this.screens.find(t=>t._id===e)},E.prototype.findScreenByName=function(e){return this.screens.find(t=>t.name===e)},E.prototype.removeScreen=function(e,t){var n=this.findSection(e);if(n&&i.arrayRemove(n.screens,(function(e){return e===t})))return i.arrayRemove(this.screens,(function(e){return e._id===t}))},E.prototype.updateScreenOrder=function(e,t,n){var r=this.findSection(e);r&&(t=[].concat(t).map((function(e){return i.arrayRemove(r.screens,(function(t){return t===e}))})).filter((function(e){return e})),Array.prototype.splice.apply(r.screens,[n,0].concat(t)))},E.prototype.addVersion=function(e,t){var n=this.findScreen(e);if(n)return n.updated=(new Date).toISOString(),n.versions.unshift(t),n.totalVersionCount&&n.totalVersionCount++,n.versions.length>n.allowedVersionCount?n.versions.pop():void 0},E.prototype.findVersion=function(e,t){const n=this.findScreen(e);return n?n.versions.find(e=>e._id===t):null},E.prototype.removeVersion=function(e,t){var n=this.findScreen(e);if(n){var r=i.arrayRemove(n.versions,(function(e){return e._id===t}));return n.totalVersionCount&&n.totalVersionCount--,r}},E.prototype.addIntegration=function(e,t){this.integration[e].push(t)},E.prototype.removeIntegration=function(e,t){return i.arrayRemove(this.integration[e],(function(e){return e._id===t}))},E.prototype.getColorMapByFormat=function(e){var t={};if(this.colors)return this.colors.forEach((function(n){var i=new r.default(n),o=i.toCSS(e);t[o]=i.name})),t},E.prototype.removeExtension=function(e){return i.arrayRemove(this.extensions,(function(t){return t._id===e}))},E.prototype.findComponentById=function(e){return v(this.componentSections,"_id",e)},E.prototype.findComponentByName=function(e){return v(this.componentSections,"name",e)},E.prototype.findComponentSection=function(e){let t=this;for(const n of e)if(t=t.componentSections.find(e=>e._id===n),!t)return null;return t},E.prototype.addComponent=function(e,t){const n=this.findComponentSection(e);n&&(t.idPath=[...e,t._id],n.components.push(t))},E.prototype.updateComponent=function(e,t,n){const i=this.findComponentSection(e);if(!i)return;const r=i.components.find(e=>e._id===t);r&&Object.assign(r,n)},E.prototype.updateComponentOrder=function(e,t,n,r){const o=this.findComponentSection(e);if(!o)return;const s=this.findComponentSection(t);if(!s)return;const a=i.arrayRemove(o.components,e=>e._id===n);a&&(a.idPath=[...t,a._id],s.components.splice(r,0,a))},E.prototype.removeComponent=function(e,t){const n=this.findComponentSection(e);if(!n)return;const r=i.arrayRemove(n.components,e=>e._id===t);return r||void 0},E.prototype.addComponentSection=function(e,t,n){const i=this.findComponentSection(e);i&&(n.components||(n.components=[]),n.componentSections||(n.componentSections=[]),C([n],e),i.componentSections.splice(t,0,n))},E.prototype.updateComponentSection=function(e,t){const n=this.findComponentSection(e);n&&Object.assign(n,t)},E.prototype.mergeComponentSection=function(e,t,{flatten:n=!1}={}){const r=e.pop(),o=this.findComponentSection(e);if(!o)return;const s=this.findComponentSection(t);if(!s)return;const a=i.arrayRemove(o.componentSections,e=>e._id===r);a&&(n?s.components.push(...O(a)):(s.components.push(...a.components),s.componentSections.push(...a.componentSections)),C(this.componentSections,[]))},E.prototype.updateComponentSectionOrder=function(e,t,n){const r=e.pop(),o=this.findComponentSection(e);if(!o)return;const s=this.findComponentSection(t);if(!s)return;const a=i.arrayRemove(o.componentSections,e=>e._id===r);a&&(s.componentSections.splice(n,0,a),C([a],t))},E.prototype.removeComponentSection=function(e){const t=e.pop(),n=this.findComponentSection(e);if(!n)return;const r=i.arrayRemove(n.componentSections,e=>e._id===t);return r||void 0},t.default=E},function(e,t,n){"use strict";n.r(t);var i=n(106),r=n(20),o=n(23);const s=Object.freeze({WEIGHT:"wght",WIDTH:"wdth",SLANT:"slnt",ITALIC:"ital",OPTICAL_SIZING:"opsz"}),a=/(thin|hairline|([ds]emi|(ex|ul)tra)?(light|bold)|normal|regular|book|medium|heavy|black|[1-9]\d{2}$)/gi,l=/(italic|oblique)/gi,c=/((?:(ultra|extra|semi)[\s-]?)?(?:condensed|expanded))/gi;function d(e,t){const n=e.lastIndexOf(t);return e.substring(0,n)+e.substr(n+t.length)}const u=Object.freeze({100:"thin",200:"extra light",300:"light",400:"regular",500:"medium",600:"semi bold",700:"bold",800:"extra bold",900:"black",950:"extra black"}),h=Object.freeze({THIN:100,EXTRA_LIGHT:200,LIGHT:300,REGULAR:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900,EXTRA_BLACK:950});const p=Object.freeze({50:"ultra condensed",62.5:"extra condensed",75:"condensed",87.5:"semi condensed",100:"normal",112.5:"semi expanded",125:"expanded",150:"extra expanded",200:"ultra expanded"}),f=Object.freeze({ULTRA_CONDENSED:50,EXTRA_CONDENSED:62.5,CONDENSED:75,SEMI_CONDENSED:87.5,NORMAL:100,SEMI_EXPANDED:112.5,EXPANDED:125,EXTRA_EXPANDED:150,ULTRA_EXPANDED:200});function g(e){let t=function(e){return/^Arial/.test(e)?e.replace("MT",""):/^Lato/.test(e)?e.replace(/thin/i,h.EXTRA_LIGHT).replace(/heavy/i,h.EXTRA_BOLD):e}(e),n=t.match(a);n?(n=n[n.length-1],t=d(t,n),n=function(e){return/black|heavy|900/gi.test(e)?h.BLACK:/((ex|ul)tra)\s?bold|800/gi.test(e)?h.EXTRA_BOLD:/([ds]emi)\s?bold|600/gi.test(e)?h.SEMI_BOLD:/bold|700/gi.test(e)?h.BOLD:/medium|500/gi.test(e)?h.MEDIUM:/((ex|ul)tra)\s?light|200/gi.test(e)?h.EXTRA_LIGHT:/light|300/gi.test(e)?h.LIGHT:/thin|hairline|100/gi.test(e)?h.THIN:h.REGULAR}(n.toLowerCase())):n=h.REGULAR;let i=t.match(l);i?(i=i[i.length-1],t=d(t,i),i=i.toLowerCase()):i="normal";let r=t.match(c);r?(r=r[r.length-1],t=d(t,r),r=function(e){return/(ultra(\s|-)?)+condensed/i.test(e)?f.ULTRA_CONDENSED:/(extra(\s|-)?)+condensed/i.test(e)?f.EXTRA_CONDENSED:/(semi(\s|-)?)+condensed/i.test(e)?f.SEMI_CONDENSED:/condensed/i.test(e)?f.CONDENSED:/(ultra(\s|-)?)+expanded/i.test(e)?f.ULTRA_EXPANDED:/(extra(\s|-)?)+expanded/i.test(e)?f.EXTRA_EXPANDED:/(semi(\s|-)?)+expanded/i.test(e)?f.SEMI_EXPANDED:/expanded/i.test(e)?f.EXPANDED:f.NORMAL}(r.toLowerCase())):r=f.NORMAL;return{family:function(e){return e.replace(/-+/g,"-").replace(/-$/,"").trim()}(t),style:i,weight:n,stretch:r}}class Font extends o.default{constructor(e){super();const{_id:t,id:n=t,sourceId:i,name:o,fontFace:a,fontSize:l,lineHeight:c,textAlign:d,letterSpacing:u,fontVariationSettings:p,color:m}=e;let b,y,S,v;this.id=n,this.sourceId=i,this.name=o,this.fontFace=a,this.fontSize=l,this.lineHeight=c,this.textAlign=d,this.letterSpacing=u,this.color=m&&new r.default(m),p?(this.fontVariationSettings=p,b=a,({style:y,weight:S,stretch:v}=function(e){const t=s.WEIGHT in e?e[s.WEIGHT]:h.REGULAR,n=s.WIDTH in e?e[s.WIDTH]:f.NORMAL;let i;return i=s.SLANT in e?`oblique ${e[s.SLANT]}deg`:e[s.ITALIC]?"italic":"normal",{style:i,weight:t,stretch:n}}(p))):({family:b,style:y,weight:S,stretch:v}=g(a)),this.fontFamily=b,this.fontStyle=y,this.fontWeight=S,this.fontStretch=v}get weightText(){return u[this.fontWeight]||String(this.fontWeight)}get stretchText(){return p[this.fontStretch]||String(this.fontStretch)}toObject(){const e={name:this.name,fontFace:this.fontFace,fontSize:this.fontSize,lineHeight:this.lineHeight,textAlign:this.textAlign,letterSpacing:this.letterSpacing};return this.fontVariationSettings&&(e.fontVariationSettings=this.fontVariationSettings),this.color&&(e.color=this.color.toObject()),e}isFontVariationSettingsEqual(e){return Object.keys(this.fontVariationSettings).length===Object.keys(e).length&&Object.entries(this.fontVariationSettings).every(([t,n])=>Object(i.isAlmostEqual)(e[t],n))}equals(e){const t=this.fontFamily===e.fontFamily&&Object(i.isAlmostEqual)(this.fontSize,e.fontSize)&&Object(i.isAlmostEqual)(this.lineHeight,e.lineHeight)&&Object(i.isAlmostEqual)(this.letterSpacing,e.letterSpacing)&&this.textAlign===e.textAlign&&(!this.color||!e.color||this.color.equals(e.color));let n;if(this.fontVariationSettings&&e.fontVariationSettings)n=this.isFontVariationSettingsEqual(e.fontVariationSettings);else{if(this.fontVariationSettings||e.fontVariationSettings)return!1;n=this.fontStyle===e.fontStyle&&this.fontStretch===e.fontStretch&&this.fontWeight===e.fontWeight}return t&&n}conforms(e){const t=this.fontFamily===e.fontFamily&&Object(i.isAlmostEqual)(this.fontSize,e.fontSize)&&(this.textAlign===e.textAlign||!e.textAlign)&&(!e.lineHeight||Object(i.isAlmostEqual)(this.lineHeight,e.lineHeight))&&(!e.letterSpacing||Object(i.isAlmostEqual)(this.letterSpacing,e.letterSpacing))&&(!this.color||!e.color||this.color.equals(e.color));let n;if(this.fontVariationSettings&&e.fontVariationSettings)n=this.isFontVariationSettingsEqual(e.fontVariationSettings);else{if(this.fontVariationSettings||e.fontVariationSettings)return!1;n=this.fontStyle===e.fontStyle&&this.fontStretch===e.fontStretch&&this.fontWeight===e.fontWeight}return t&&n}}t.default=Font},function(e,t,n){"use strict";n.r(t),n.d(t,"clamp",(function(){return i})),n.d(t,"round",(function(){return r})),n.d(t,"toPercentage",(function(){return o})),n.d(t,"percentageLength",(function(){return s})),n.d(t,"isAlmostEqual",(function(){return a})),n.d(t,"toRemSize",(function(){return l}));function i(e,t,n){return Math.max(t,Math.min(e,n))}function r(e,t){const n=Number(e).toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:t});return Number(n)}function o(e,t){return 100*e/t+"%"}function s(e,t){return r(100*e/t,1)+"%"}function a(e,t,n=1e-4){return e===t||Math.abs(e-t)<n}function l(e,t){return r(e/t,3)+"rem"}},function(e,t,n){"use strict";n.r(t);var i=n(23),r=n(108);class o extends i.default{constructor(e){super();const{role:t,user:n,integration:i}=e;this.role=t,this.user=new r.default(n),this.integration=i}}t.default=o},function(e,t,n){"use strict";n.r(t);var i=n(23);class r extends i.default{constructor(e){super();const{_id:t,id:n,paymentPlan:i,email:r,status:o,username:s,fullName:a,bio:l,subscriptionStatus:c,subscriptionCancelAt:d,emotar:u,avatar:h,lastSeen:p}=e;this.id=n,this._id=t,this.paymentPlan=i,this.email=r,this.status=o,this.username=s,this.fullName=a,this.bio=l,this.subscriptionStatus=c,this.subscriptionCancelAt=d,this.emotar=u,this.avatar=h,this.lastSeen=p}}t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(23);class r extends i.default{constructor(e){if(super(),!e)return{};const{status:t,remRootFontSize:n,useForFontSizes:i,useForMeasurements:r}=e;this.status=t,this.remRootFontSize=n,this.useForFontSizes=i,this.useForMeasurements=r}}t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(23),r=n(111),o=n(112);class s extends i.default{constructor(e){super();const{slacks:t,jira:n}=e||{};this.slacks=t?t.map(e=>new r.default(e)):[],n&&(this.jira=new o.default(n))}}t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(23);class r extends i.default{constructor(e){if(super(),!e)return;const{_id:t,teamName:n,teamId:i,scope:r,incomingWebHook:o}=e;this._id=t,this.id=t,this.teamName=n,this.teamId=i,this.scope=r,this.incomingWebHook=o}}t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(23),r=n(113);class o extends i.default{constructor(e){if(super(),!e)return;const{_id:t,id:n,attachments:i}=e;this.id=t||n,i&&(this.attachments=i.map(e=>new r.default(e)))}}t.default=o},function(e,t,n){"use strict";n.r(t);var i=n(23);class r extends i.default{constructor(e){if(super(),!e)return;const{_id:t,id:n,deploymentUrl:i,type:r,itemId:o,issueKey:s,issueUrl:a}=e;this.id=t||n,this.deploymentUrl=i,this.type=r,this.itemId=o,this.issueKey=s,this.issueUrl=a}}t.default=r},function(e,t,n){"use strict";n.r(t),n.d(t,"colorNames",(function(){return a})),n.d(t,"reactions",(function(){return l})),n.d(t,"getColorName",(function(){return c})),n.d(t,"getColorValueByName",(function(){return d})),n.d(t,"isMentioned",(function(){return u})),n.d(t,"checkFilter",(function(){return h}));var i=n(62),r=n(20);const o={fecf33:"yellow",f69833:"orange",ee6723:"peach",c8cf2d:"green","0dcfda":"turquoise","419bf9":"cornflowerBlue",db7cee:"deepPurple"},s={yellow:{name:"yellow",r:254,g:207,b:51,a:1},orange:{name:"orange",r:246,g:152,b:51,a:1},peach:{name:"peach",r:238,g:103,b:35,a:1},green:{name:"green",r:200,g:207,b:45,a:1},turquoise:{name:"turquoise",r:13,g:207,b:218,a:1},cornflowerBlue:{name:"cornflowerBlue",r:65,g:155,b:249,a:1},deepPurple:{name:"deepPurple",r:219,g:124,b:238,a:1}},a=Object.freeze(Object.keys(s)),l={positive:"👍",neutral:"🤔",negative:"😩"};function c(e){const t="string"==typeof e?e:new r.default(e).hexBase();return o[t]}function d(e){return s[e]}function u(e,t){if(!e.comments||!e.comments.length)return!1;const n=Object(i.mentionRegexFn)(t.username);return e.comments.some(e=>n.test(e.note)||e.author&&e.author._id===t._id)}function h(e,t,n,i){return(!n||c(e.color)===n)&&("mentioned"===t?u(e,i):t===(e.status||"open"))}},function(e,t,n){"use strict";n.r(t),n.d(t,"extractTagsFromScreens",(function(){return r}));var i=n(62);function r(e){if(!e)return null;var t=new Set(e.reduce((function(e,t){return e.concat(t.tags||[])}),[])),n=[];return t.forEach((function(e){n.push(e)})),n.sort(i.sortBy.naturally)}},function(e,t,n){"use strict";n.r(t);var i=n(84);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(62),r=n(118),o=n(104),s=n(20),a=n(105),l=n(109),c=n(94),d=n(97),u=n(19);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g=0;t.default=class{constructor(e,t){this.bidPropertyName=e.bidPropertyName,this.barrelPropertyName=e.barrelPropertyName,this.barrelsPropertyName=e.barrelsPropertyName,this.loadingBarrelPropertyName=e.loadingBarrelPropertyName,this.loadingBarrelsPropertyName=e.loadingBarrelsPropertyName,this.deleteBarrel=t.deleteBarrel}getBarrelsSuccess(e,{[this.barrelsPropertyName]:t}){const n=t.map(e=>new o.default(e));return p(p({},e),{},{[this.loadingBarrelsPropertyName]:!1,[this.barrelsPropertyName]:p(p({},e[this.barrelsPropertyName]),Object(i.normalizeArray)(n,"_id"))})}getBarrelsFailed(e,{error:t}){return p(p({},e),{},{[this.loadingBarrelsPropertyName]:!1,error:t})}getBarrelRequested(e){return p(p({},e),{},{[this.loadingBarrelPropertyName]:!0})}getBarrelSuccess(e,{[this.barrelPropertyName]:t}){const n=this.updateBarrel(e,{[this.bidPropertyName]:t._id,data:p(p({},t),{},{complete:!t.partial}),upsert:!0});return p(p({},n),{},{[this.loadingBarrelPropertyName]:!1})}getBarrelFailed(e,{error:t}){return p(p({},e),{},{[this.loadingBarrelPropertyName]:!1,error:t})}addBarrel(e,{barrel:t}){return p(p({},e),{},{[this.barrelsPropertyName]:p(p({},e[this.barrelsPropertyName]),{},{[t._id]:new o.default(t)})})}updateBarrel(e,{[this.bidPropertyName]:t,data:n,upsert:i}){const{[this.barrelsPropertyName]:r}=e,s=r[t];return s||i?p(p({},e),{},{[this.barrelsPropertyName]:p(p({},r),{},{[t]:new o.default(p(p({},s),"function"==typeof n?n(s):n))})}):e}joinBarrel(e,{[this.bidPropertyName]:t,user:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"users",value:e=>e.users.find(e=>e.user._id===n.user._id)?e.users:e.users.concat(n)})}updateName(e,{bid:t,name:n}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:{name:n}})}updateDescription(e,{bid:t,description:n}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:{description:n}})}updateDensityScale(e,{bid:t,densityScale:n}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:{densityScale:n}})}updateThumbnail(e,{bid:t,thumbnail:n}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:{thumbnail:n}})}addIntegration(e,{bid:t,intype:n,integration:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"integration",value({integration:e}){if(e)return e[n].find(e=>e._id===i._id)?p({},e):p(p({},e),{},{[n]:[...e[n],i]})}})}removeIntegration(e,{bid:t,intype:n,inid:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"integration",value({integration:e}){if(e)return p(p({},e),{},{[n]:e[n].filter(({_id:e})=>e!==i)})}})}toggleScene(e,{bid:t,accessibility:n}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:{public:n}})}addMembers(e,{bid:t,members:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"users",value(e){const t=n.filter(t=>!e.users.some(e=>e.user._id===t.user._id));return[...e.users,...t]}})}updateUserRole(e,{bid:t,uid:n,role:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"users",value:({users:e})=>e.map(e=>e.user._id!==n?e:p(p({},e),{},{role:i}))})}removeMember(e,{bid:t,mid:n,currentUserId:i,shouldRemoveBarrel:r}){return r?this.deleteBarrel(e,{bid:t}):this.updateBarrel(e,{[this.bidPropertyName]:t,data:e=>p(p({},e),{},{users:e.users.filter(({user:e})=>e._id!==n),complete:e.complete&&n!==i})})}addColor(e,{bid:t,color:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value:({colors:e})=>[...e,new s.default(n)]})}addMultipleColors(e,{bid:t,colors:n}){return n.reduce((e,n)=>this.addColor(e,{bid:t,color:n}),e)}updateColor(e,{bid:t,cid:n,colorData:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value:({colors:e})=>e.map(e=>e.id!==n?e:new s.default(p(p({},e),i)))})}removeColor(e,{bid:t,cid:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value:({colors:e})=>e.filter(({id:e})=>e!==n)})}removeAllColors(e,{bid:t}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value:[]})}updateColorOrder(e,{bid:t,cid:n,to:r}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"colors",value({colors:e}){const t=Object(i.arrayRemove)(e,e=>e.id===n);return t?(e.splice(r,0,t),e):e}})}addTextStyle(e,{bid:t,textStyle:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"textStyles",value:({textStyles:e})=>[...e,new a.default(n)]})}addMultipleTextStyles(e,{bid:t,textStyles:n}){return n.reduce((e,n)=>this.addTextStyle(e,{bid:t,textStyle:n}),e)}updateTextStyle(e,{bid:t,tsid:n,textStyleData:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"textStyles",value:({textStyles:e})=>e.map(e=>e.id!==n?e:new a.default(p(p({},e),i)))})}removeTextStyle(e,{bid:t,tsid:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"textStyles",value:({textStyles:e})=>e.filter(({id:e})=>e!==n)})}removeAllTextStyles(e,{bid:t}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"textStyles",value:[]})}addSpacingSection(e,{bid:t,spacingSection:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>[...e,p(p({},n),{},{spacingTokens:n.spacingTokens||[]})]})}updateSpacingSection(e,{bid:t,ssid:n,updatedSpacingSection:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>e.map(e=>e._id!==n?e:p(p({},e),i))})}removeSpacingSection(e,{bid:t,ssid:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>e.filter(({_id:e})=>e!==n)})}addSpacingToken(e,{bid:t,ssid:n,isBaseToken:i,spacingToken:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>e.map(e=>{if(e._id!==n)return e;const{baseTokenId:t,spacingTokens:s}=e,a=Object(r.sortArrayOfObjectsByPropertyName)([...s,o],"value");let l=1===a.length?a[0]._id:t;return i&&(l=o._id),p(p({},e),{},{baseTokenId:l,spacingTokens:a})})})}updateSpacingToken(e,{bid:t,ssid:n,sptid:i,updatedSpacingToken:o,oldSpacingToken:s}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>e.map(e=>{if(e._id!==n)return e;const{baseTokenId:t,spacingTokens:a}=e,l=a.filter(({_id:e})=>e!==i),c=p(p({},s),o),d=t===i?c._id:t;return p(p({},e),{},{baseTokenId:d,spacingTokens:Object(r.sortArrayOfObjectsByPropertyName)([...l,c],"value")})})})}removeSpacingToken(e,{bid:t,ssid:n,isBaseToken:i,sptid:r}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"spacingSections",value:({spacingSections:e})=>e.map(e=>{if(e._id!==n)return e;const{baseTokenId:t,spacingTokens:o}=e,s=o.filter(({_id:e})=>e!==r);let a=t;return i&&(a=s.length&&s[0]._id||null),p(p({},e),{},{baseTokenId:a,spacingTokens:s})})})}updateRemPreferences(e,{bid:t,updatedRemPreferences:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"remPreferences",value:({remPreferences:e})=>new l.default(p(p({},e),n))})}addComponent(e,{bid:t,csids:n,component:i,index:r}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;if(e.findComponentById(i._id))return e.componentSections;const t=e.findComponentSection(n);return t?(void 0===r?t.components.push(i):t.components.splice(r,0,i),[...e.componentSections]):e.componentSections}})}updateComponent(e,{bid:t,csids:n,coid:i,componentData:r}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);if(!t)return e.componentSections;const o=t.components.find(e=>e._id===i);return o?(Object.assign(o,r),[...e.componentSections]):e.componentSections}})}removeComponent(e,{bid:t,csids:n,coid:r}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);return t?(Object(i.arrayRemove)(t.components,r),[...e.componentSections]):e.componentSections}})}addComponentVersion(e,{bid:t,csids:n,coid:i,componentVersion:r}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);if(!t)return e.componentSections;const o=t.components.find(e=>e===i);return o&&o.latestVersion._id!==r._id?(o.latestVersion=r,[...e.componentSections]):e.componentSections}})}addComponentSection(e,{bid:t,csids:n,componentSection:r}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);if(!t)return e.componentSections;const o=p({},r);return o._id||(o._id=d.TEMPORARY_COMPONENT_SECTION_ID,o.newSection=!0,o.key="newComponentSection-"+g++),r.components?o.components=r.components.map(t=>{const n=e.findComponentSection(t.csid);return Object(i.arrayRemove)(n.components,t.coid)}):o.components=[],r.componentSections||(o.componentSections=[]),void 0===r.index?t.componentSections.push(o):t.componentSections.splice(r.index,0,o),[...e.componentSections]}})}updateComponentSection(e,{bid:t,csids:n,componentSectionData:i}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=e.findComponentSection(n);return t?(Object.assign(t,i),[...e.componentSections]):e.componentSections}})}mergeComponentSection(e,{bid:t,csids:n,tcsids:r,flatten:o}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value:e=>{if(!e.componentSections)return;const t=[...n],s=t.pop(),a=e.findComponentSection(t);if(!a)return e.componentSections;const l=e.findComponentSection(r);if(!l)return e.componentSections;const c=Object(i.arrayRemove)(a.componentSections,s);return c?(o?l.components.push(...this.flattenComponents(c)):(l.components.push(...c.components),l.componentSections.push(...c.componentSections)),[...e.componentSections]):e.componentSections}})}removeComponentSection(e,{bid:t,csids:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(!e.componentSections)return;const t=n.pop(),r=e.findComponentSection(n);return r?(Object(i.arrayRemove)(r.componentSections,t),[...e.componentSections]):e.componentSections}})}removeComponentSections(e,{bid:t,componentSections:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(e.componentSections)return n.forEach(t=>{Object(i.arrayRemove)(e.componentSections,t)}),[...e.componentSections]}})}updateComponentsOrder(e,{bid:t,components:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(e.componentSections)return n.forEach(t=>{const{coid:n,csid:r,tcsid:o,to:s}=t,a=e.findComponentSection(r),l=e.findComponentSection(o);if(!a||!l)return e.componentSections;const c=Object(i.arrayRemove)(a.components,n),d=void 0===s?l.components.length:s;l.components.splice(d,0,c)}),[...e.componentSections]}})}updateComponentSectionsOrder(e,{bid:t,componentSections:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"componentSections",value(e){if(e.componentSections)return n.forEach(t=>{const{csid:n,tcsid:r,to:o}=t,s=e.findComponentSection(n.slice(0,-1)),a=r?e.findComponentSection(r):e,l=Object(i.arrayRemove)(s.componentSections,n[n.length-1]);a.componentSections.splice(o,0,l)}),[...e.componentSections]}})}attachJiraIssue(e,{bid:t,jira:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"integration",value:({integration:e})=>e&&e.jira?p(p({},e),{},{jira:p(p({},e.jira),{},{attachments:[...e.jira.attachments,...n.attachments.filter(t=>!e.jira.attachments.find(e=>e.id===t.id))]})}):p(p({},e),{},{jira:n})})}removeJiraIssueAttachment(e,{bid:t,aid:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"integration",value:({integration:e})=>e&&e.jira&&e.jira.attachments?p(p({},e),{},{jira:p(p({},e.jira),{},{attachments:e.jira.attachments.filter(e=>e.id!==n)})}):e})}setLocalConnectedComponents(e,{bid:t,localConnectedComponents:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"localConnectedComponents",value:e=>n})}updateConnectedComponents(e,{bid:t,connectedComponents:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"connectedComponents",value:e=>n})}updateWorkflowStatus(e,{bid:t,workflowStatus:n}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"workflowStatus",value:n})}deleteWorkflowStatus(e,{bid:t}){return this.updateBarrelValue(e,{[this.bidPropertyName]:t,key:"workflowStatus",value:c.default.NoStatus})}onOrganizationWorkflowStatusDelete(e,{workflowStatusId:t}){const n=e[this.barrelsPropertyName];return Object.values(n).filter(e=>e.workflowStatus._id===t).reduce((e,t)=>this.deleteWorkflowStatus(e,{bid:t.id}),e)}removeUnjoinedBarrels(e,t){const n=e[this.barrelsPropertyName],i=t["remaining"+Object(u.uppercaseFirst)(this.barrelsPropertyName)];return p(p({},e),{},{[this.barrelsPropertyName]:Object.fromEntries(Object.entries(n).filter(([e])=>i.includes(e)))})}flattenComponents(e){return e.components.concat(...e.componentSections.map(e=>this.flattenComponents(e)))}updateBarrelValue(e,{[this.bidPropertyName]:t,key:n,value:i}){return this.updateBarrel(e,{[this.bidPropertyName]:t,data:e=>new o.default(p(p({},e),{},{[n]:"function"==typeof i?i(e):i}))})}}},function(e,t,n){"use strict";function i(e,t){return e.sort((e,n)=>e[t]-n[t])}function r(e,t){return e.reduce(({memory:e,result:n},i)=>(e[i[t]]||(n.push(i),e[i[t]]=!0),{memory:e,result:n}),{memory:{},result:[]}).result}n.r(t),n.d(t,"sortArrayOfObjectsByPropertyName",(function(){return i})),n.d(t,"removeDuplicatesFromArrayOfObjects",(function(){return r}))},function(e,t,n){"use strict";n.r(t);t.default={CHANGE_SORT_TYPE:"dashboard/changeSortType",CHANGE_FILTER_VALUE:"dashboard/changeFilterValue",CHANGE_TAG_FILTER:"dashboard/changeTagFilter",CHANGE_JIRA_ISSUE_FILTER:"dashboard/changeJiraIssueFilter",TOGGLE_FIXED_THUMBNAIL_SIZE:"dashboard/toggleFixedThumbnailSize",CHANGE_SIDEBAR_WIDTH:"dashboard/changeSidebarWidth",SET_COLLAPSED_SECTIONS:"dashboard/setCollapsedSections",EXPAND_SECTION:"dashboard/expandSection",COLLAPSE_SECTION:"dashboard/collapseSection",DOWNLOAD_SCREENS:"dashboard/downloadScreens",HIGHLIGHT_SCREENS:"dashboard/highlightScreens",UNHIGHLIGHT_SCREEN:"dashboard/unhighlightScreen",HIGHLIGHT_SECTION:"dashboard/highlightSection",UNHIGHLIGHT_SECTION:"dashboard/unhighlightSection",CREATE_SECTION:"dashboard/createSection",CONVERT_TAG_TO_SECTION:"dashboard/convertTagToSection",ADD_SECTION:"dashboard/addSection",UPDATE_SECTION:"dashboard/updateSection",RENAME_SECTION:"dashboard/renameSection",UPDATE_SECTION_DESCRIPTION:"dashboard/updateSectionDescription",UPDATE_SECTION_ORDER:"dashboard/updateSectionOrder",REMOVE_SECTION:"dashboard/removeSection",UPDATE_SCREEN_ORDER:"dashboard/updateScreenOrder"}},function(e,t,n){"use strict";n.r(t);t.default={OPEN:"moveResources/open",CLOSE:"moveResources/close",MOVE:"moveResources/move",MOVE_SCREEN:"moveResources/moveScreen"}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(122);const r={[i.RESOURCE_TYPE.COLORS]:"colors",[i.RESOURCE_TYPE.TEXT_STYLES]:"textStyles",[i.RESOURCE_TYPE.COMPONENTS]:"componentSections"};function o(e){return r[e]}},function(e,t,n){"use strict";n.r(t),n.d(t,"DENSITY",(function(){return i})),n.d(t,"RESOURCE_TYPE",(function(){return r})),n.d(t,"PLATFORM",(function(){return o})),n.d(t,"PlatformString",(function(){return s})),n.d(t,"Keyboard",(function(){return a}));const i=Object.freeze({BASE:1,MDPI:1,mdpi:1,_1x:1,"1x":1,WEB:1,web:1,UNKNOWN:1,unknown:1,UNDEFINED:1,undefined:1,HDPI:1.5,hdpi:1.5,XHDPI:2,xhdpi:2,_2x:2,"2x":2,XXHDPI:3,xxhdpi:3,_3x:3,"3x":3,XXXHDPI:4,xxxhdpi:4,_4x:4,"4x":4}),r=Object.freeze({COLORS:"colors",COMPONENTS:"components",TEXT_STYLES:"textStyles"}),o=Object.freeze({BASE:"base",ANDROID:"android",IOS:"ios",OSX:"osx",MACOS:"osx",WEB:"web"}),s=Object.freeze({base:"Base",android:"Android",ios:"iOS",osx:"macOS",macos:"macOS",web:"Web"}),a=Object.freeze({Key:{Meta:"Meta",Ctrl:"Control"},Code:{Minus:"Minus",Equal:"Equal"}})},function(e,t,n){"use strict";n.r(t);var i=n(73),r=n.n(i),o=n(124),s=n(89),a=n(92),l=n(101),c=n(87),d=n(91),u=n(104),h=n(96),p=n(117),f=n(121);function g(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends r.a{constructor(){super(o.default),this.reducer=new p.default({bidPropertyName:"stid",barrelPropertyName:"styleguide",barrelsPropertyName:"styleguides",loadingBarrelPropertyName:"loadingStyleguide",loadingBarrelsPropertyName:"loadingStyleguides"},{deleteBarrel:this.remove})}getInitialState(){return{loadingStyleguide:!0,loadingSelectParent:!1,loadingStyleguides:!0,styleguides:{},error:null}}reset(){return this.getInitialState()}add(e,{barrel:t,barrelType:n}){return n!==h.default.STYLEGUIDE?e:this.reducer.addBarrel(e,{barrel:t})}updateStatus(e,{bid:t,barrelType:n,affectedIds:i,status:r}){if(n!==h.default.STYLEGUIDE)return e;const{styleguides:o}=e,s=o[t],a=Object.fromEntries(i.map(e=>{const n=o[e];return n.status=r,n.parent&&(n.ancestors=n.ancestors.filter(e=>!s.ancestors.includes(e)),t===e&&(n.parent=null)),[e,n]}));return y(y({},e),{},{styleguides:y(y({},o),a)})}activateStyleguide(e,{bid:t,barrelType:n,affectedIds:i}){return this.updateStatus(e,{bid:t,barrelType:n,affectedIds:i,status:"active"})}archiveStyleguide(e,{bid:t,barrelType:n,affectedIds:i}){return this.updateStatus(e,{bid:t,barrelType:n,affectedIds:i,status:"archived"})}remove(e,{bid:t}){const n=e.styleguides,{[t]:i}=n,r=g(n,[t].map(m));return Object.values(r).forEach(e=>{e.parent===t&&(e.parent=i.parent),e.ancestors.includes(t)&&(e.ancestors=e.ancestors.filter(e=>e!==t))}),y(y({},e),{},{styleguides:y({},r)})}linkProjectToStyleguideSuccess(e,{project:t,styleguide:n,styleguides:i}){const r=this.reducer.updateBarrelValue(e,{stid:n._id,key:"linkedProjects",value:({linkedProjects:e=[]})=>[...e,t]}),o=i.reduce((e,t)=>y(y({},e),{},{[t._id]:new u.default(y(y({},t),{},{complete:!0}))}),{});return y(y({},r),{},{loadingSelectParent:!1,styleguides:y(y({},r.styleguides),o)})}unlinkProjectToStyleguide(e,{pid:t,styleguide:n}){return this.reducer.updateBarrelValue(e,{stid:n._id,key:"linkedProjects",value:({linkedProjects:e=[]})=>e.filter(e=>e._id!==t)})}updateUserData(e,{bid:t,uid:n,userData:i}){return this.reducer.updateBarrelValue(e,{stid:t,key:"users",value:({users:e})=>e.map(({role:e,user:t})=>t._id!==n?{role:e,user:t}:{role:e,user:y(y({},t),i)})})}transferOwnership(e,{bid:t,affectedIds:n,fromUserId:i,targetId:r,toOrganization:o,users:s,oid:a}){const l=e.styleguides[t];if(!l)return e;const c=n.map(t=>e.styleguides[t]);if(o||"user"!==a){const n=c.reduce((e,n)=>(n._id===t&&n.parent&&(n.ancestors=n.ancestors.filter(e=>e!==n.parent),n.parent=null),n.ancestors.includes(t)&&l.parent&&(n.ancestors=n.ancestors.filter(e=>e!==l.parent)),e[n._id]=n,e),{});return y(y({},e),{},{styleguides:y(y({},e.styleguides),n)})}const d=c.reduce((e,t)=>this.reducer.updateBarrelValue(e,{stid:t._id,key:"ancestors",value:e=>e.ancestors.filter(e=>!l.ancestors.includes(e))}),e),u=this.reducer.updateBarrelValue(d,{stid:l._id,key:"parent",value:null});return c.reduce((e,t)=>this.reducer.updateBarrelValue(e,{stid:t._id,key:"users",value:e=>e.users.map(e=>{if(s){if(e.user._id===i||e.user._id===r){const t=s.find(t=>e.user._id===t.user._id);e.role=t.role,e.user.paymentPlan=t.user.paymentPlan}return e}return e.user._id===r&&(e.role="owner"),e.user._id===i&&(e.role="admin"),e})}),u)}load(e,t){const{barrel:{barrelType:n}}=t;if(n===h.default.STYLEGUIDE){const{data:{styleguide:n,organizationStyleguides:i,ancestors:r}}=t;if(n.partial)return this.reducer.getBarrelSuccess(e,{styleguide:n});let o=e;return i&&(o=this.reducer.getBarrelsSuccess(e,{styleguides:i})),r.reduce((e,t)=>this.reducer.getBarrelSuccess(e,{styleguide:t}),this.reducer.getBarrelSuccess(o,{styleguide:n}))}const{data:{project:i,organizationStyleguides:r,linkedStyleguides:o}}=t;if(i.partial)return e;const s=r?this.reducer.getBarrelsSuccess(e,{styleguides:r}):e;return o.reduce((e,t)=>this.reducer.getBarrelSuccess(e,{styleguide:t}),s)}moveResourcesSuccess(e,{resourceType:t,resources:n,bid:i,barrelType:r,targetStyleguideId:o}){const s=Object(f.default)(t);let a=e;r===h.default.STYLEGUIDE&&(a=this.reducer.updateBarrelValue(e,{stid:i,key:s,value:e=>e[s].filter(e=>!n.includes(e))}));const l=e.styleguides[o];return l&&l.complete?this.reducer.updateBarrelValue(a,{stid:o,key:s,value:e=>e[s].concat(n)}):a}selectParent(e,{stid:t,parent:n}){const i=e.styleguides[t],r=[...e.styleguides[n].ancestors,n];return i.parent=n,i.ancestors=r,Object.values(e.styleguides).forEach(e=>{const n=e.ancestors.indexOf(t);-1!==n&&(e.ancestors=[...r,...e.ancestors.slice(n)])}),y(y({},e),{},{styleguides:y({},e.styleguides)})}removeParent(e,{stid:t}){const n=e.styleguides[t];return n.ancestors=[],n.parent=null,Object.values(e.styleguides).forEach(e=>{const n=e.ancestors.indexOf(t);-1!==n&&(e.ancestors=e.ancestors.slice(n))}),y(y({},e),{},{styleguides:y({},e.styleguides)})}selectParentRequest(e){return y(y({},e),{},{loadingSelectParent:!0})}selectParentSuccess(e,{stid:t,parent:n,styleguides:i}){const r=this.selectParent(e,{stid:t,parent:n}),o=i.reduce((e,t)=>y(y({},e),{},{[t._id]:new u.default(y(y({},t),{},{complete:!0}))}),{});return y(y({},r),{},{loadingSelectParent:!1,styleguides:y(y({},r.styleguides),o)})}selectParentFailed(e){return y(y({},e),{},{loadingSelectParent:!1})}hydrateEmbeddedData(e,t){const{styleguides:n,project:i,linkedStyleguides:r,styleguide:o,ancestors:s}=t;let a=e;return n&&(a=this.reducer.getBarrelsSuccess(e,{styleguides:n})),i?i.partial?a:r.reduce((e,t)=>this.reducer.getBarrelSuccess(e,{styleguide:t}),a):o?o.partial?this.reducer.getBarrelSuccess(a,{styleguide:o}):s.reduce((e,t)=>this.reducer.getBarrelSuccess(e,{styleguide:t}),this.reducer.getBarrelSuccess(a,{styleguide:o})):a}reduce(e,t){switch(t.type){case s.default.GET_STYLEGUIDES_SUCCESS:return this.reducer.getBarrelsSuccess(e,t);case s.default.GET_STYLEGUIDES_FAILED:return this.reducer.getBarrelsFailed(e,t);case s.default.GET_STYLEGUIDE_REQUESTED:return this.reducer.getBarrelRequested(e);case s.default.GET_STYLEGUIDE_SUCCESS:return this.reducer.getBarrelSuccess(e,t);case s.default.GET_STYLEGUIDE_FAILED:return this.reducer.getBarrelFailed(e,t);case s.default.UPDATE_STYLEGUIDE:return this.reducer.updateBarrel(e,t);case a.default.UPDATE_NAME:return this.reducer.updateName(e,t);case a.default.UPDATE_DESCRIPTION:return this.reducer.updateDescription(e,t);case a.default.UPDATE_DENSITY_SCALE:return this.reducer.updateDensityScale(e,t);case a.default.UPDATE_THUMBNAIL:return this.reducer.updateThumbnail(e,t);case a.default.ADD_INTEGRATION:return this.reducer.addIntegration(e,t);case a.default.REMOVE_INTEGRATION:return this.reducer.removeIntegration(e,t);case a.default.TOGGLE_SCENE:return this.reducer.toggleScene(e,t);case a.default.ADD_MEMBERS:return this.reducer.addMembers(e,t);case a.default.ADD_COLOR:return this.reducer.addColor(e,t);case a.default.ADD_MULTIPLE_COLORS:return this.reducer.addMultipleColors(e,t);case a.default.UPDATE_COLOR:return this.reducer.updateColor(e,t);case a.default.REMOVE_COLOR:return this.reducer.removeColor(e,t);case a.default.REMOVE_ALL_COLORS:return this.reducer.removeAllColors(e,t);case a.default.UPDATE_COLOR_ORDER:return this.reducer.updateColorOrder(e,t);case a.default.ADD_TEXT_STYLE:return this.reducer.addTextStyle(e,t);case a.default.ADD_MULTIPLE_TEXT_STYLES:return this.reducer.addMultipleTextStyles(e,t);case a.default.UPDATE_TEXT_STYLE:return this.reducer.updateTextStyle(e,t);case a.default.REMOVE_TEXT_STYLE:return this.reducer.removeTextStyle(e,t);case a.default.REMOVE_ALL_TEXT_STYLES:return this.reducer.removeAllTextStyles(e,t);case a.default.ADD_SPACING_SECTION:return this.reducer.addSpacingSection(e,t);case a.default.UPDATE_SPACING_SECTION:return this.reducer.updateSpacingSection(e,t);case a.default.REMOVE_SPACING_SECTION:return this.reducer.removeSpacingSection(e,t);case a.default.ADD_SPACING_TOKEN:return this.reducer.addSpacingToken(e,t);case a.default.UPDATE_SPACING_TOKEN:return this.reducer.updateSpacingToken(e,t);case a.default.REMOVE_SPACING_TOKEN:return this.reducer.removeSpacingToken(e,t);case a.default.UPDATE_REM_PREFERENCES:return this.reducer.updateRemPreferences(e,t);case a.default.ADD_COMPONENT:return this.reducer.addComponent(e,t);case a.default.UPDATE_COMPONENT:return this.reducer.updateComponent(e,t);case a.default.REMOVE_COMPONENT:return this.reducer.removeComponent(e,t);case a.default.ADD_COMPONENT_VERSION:return this.reducer.addComponentVersion(e,t);case a.default.ADD_COMPONENT_SECTION:return this.reducer.addComponentSection(e,t);case a.default.UPDATE_COMPONENT_SECTION:return this.reducer.updateComponentSection(e,t);case a.default.MERGE_COMPONENT_SECTION:return this.reducer.mergeComponentSection(e,t);case a.default.REMOVE_COMPONENT_SECTION:return this.reducer.removeComponentSection(e,t);case a.default.REMOVE_COMPONENT_SECTIONS:return this.reducer.removeComponentSections(e,t);case a.default.UPDATE_COMPONENTS_ORDER:return this.reducer.updateComponentsOrder(e,t);case a.default.UPDATE_COMPONENT_SECTIONS_ORDER:return this.reducer.updateComponentSectionsOrder(e,t);case a.default.SET_LOCAL_CONNECTED_COMPONENTS:return this.reducer.setLocalConnectedComponents(e,t);case a.default.UPDATE_CONNECTED_COMPONENTS:return this.reducer.updateConnectedComponents(e,t);case a.default.UPDATE_WORKFLOW_STATUS:return this.reducer.updateWorkflowStatus(e,t);case a.default.DELETE_WORKFLOW_STATUS:return this.reducer.deleteWorkflowStatus(e,t);case a.default.UPDATE_USER_ROLE:return this.reducer.updateUserRole(e,t);case a.default.REMOVE_MEMBER:return this.reducer.removeMember(e,t);case a.default.ADD:return this.add(e,t);case a.default.ACTIVATE:return this.activateStyleguide(e,t);case a.default.ARCHIVE:return this.archiveStyleguide(e,t);case a.default.REMOVE:return this.remove(e,t);case l.default.LINK_PROJECT_SUCCESS:return this.linkProjectToStyleguideSuccess(e,t);case l.default.UNLINK_PROJECT:return this.unlinkProjectToStyleguide(e,t);case a.default.UPDATE_USER_DATA:return this.updateUserData(e,t);case s.default.TRANSFER_OWNERSHIP:case a.default.OWNERSHIP_TRANSFERRED:return this.transferOwnership(e,t);case a.default.LOAD:return this.load(e,t);case a.default.MOVE_RESOURCES_SUCCESS:return this.moveResourcesSuccess(e,t);case c.default.DELETE_ORGANIZATION_WORKFLOW_STATUS:return this.reducer.onOrganizationWorkflowStatusDelete(e,t);case c.default.UPDATE_MEMBER_ACCESSIBILITY:return this.reducer.removeUnjoinedBarrels(e,t);case s.default.SELECT_PARENT:return this.selectParent(e,t);case s.default.REMOVE_PARENT:return this.removeParent(e,t);case s.default.SELECT_PARENT_REQUEST:return this.selectParentRequest(e,t);case s.default.SELECT_PARENT_SUCCESS:return this.selectParentSuccess(e,t);case s.default.SELECT_PARENT_FAILED:return this.selectParentFailed(e,t);case d.default.LOAD_WORKSPACE_DATA:return this.reducer.getBarrelsSuccess(e,t);case d.default.RESET:return this.reset();case d.default.HYDRATE_EMBEDDED_DATA:return this.hydrateEmbeddedData(e,t);default:return e}}}t.default=new v},function(e,t,n){"use strict";n.r(t);var i=n(84);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(73),r=n.n(i),o=n(126),s=n(90),a=n(91),l=n(87),c=n(89),d=n(88),u=n(92);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends r.a{constructor(){super(o.default)}getInitialState(){return{loading:!0,selectedTab:"projects",selectedOrganizationId:"user",selectedProjectSortType:"created",showArchivedProjects:!1,pinnedBarrelOnce:!1,selectedWorkflowStatusFilter:"All",filterValue:"",highlightedBarrels:[],highlightedSection:null,collapsedSections:{},styleguidesTabVisited:!1,visibleDialogType:null,visibleDialogParams:{}}}reset(){return this.getInitialState()}updatePageState(e,t){return p(p(p({},e),t),{},{loading:!1})}changeProjectSelectedSortType(e,t){return p(p({},e),{},{selectedProjectSortType:t})}toggleArchivedProjects(e){return p(p({},e),{},{showArchivedProjects:!e.showArchivedProjects})}setPinnedBarrelOnce(e){return e.pinnedBarrelOnce?e:p(p({},e),{},{pinnedBarrelOnce:!0})}updateForUnpinBarrel(e,{bid:t}){return this.unhighlightBarrel(e,{bid:t})}changeWorkflowStatusFilter(e,{workflowStatusFilter:t}){return p(p({},e),{},{selectedWorkflowStatusFilter:t})}changeWorkflowStatusFilterOnDelete(e,{oldWorkflowStatusData:t}){return e.selectedWorkflowStatusFilter===t._id?p(p({},e),{},{selectedWorkflowStatusFilter:"All"}):e}unhighlightBarrel(e,{bid:t}){return p(p({},e),{},{highlightedBarrels:e.highlightedBarrels.filter(e=>e!==t)})}unhighlightSection(e){return p(p({},e),{},{highlightedSection:null})}expandSection(e,{oseid:t}){return p(p({},e),{},{collapsedSections:p(p({},e.collapsedSections),{},{[t]:!1})})}collapseSection(e,{oseid:t}){return p(p({},e),{},{collapsedSections:p(p({},e.collapsedSections),{},{[t]:!0})})}setStyleguidesTabVisited(e){return p(p({},e),{},{styleguidesTabVisited:!0})}showLoading(e){return p(p({},e),{},{loading:!0})}hideLoading(e){return p(p({},e),{},{loading:!1})}openDialog(e,{dialogType:t,dialogParams:n}){return p(p({},e),{},{visibleDialogType:t,visibleDialogParams:n})}closeDialog(e){return p(p({},e),{},{visibleDialogType:null,visibleDialogParams:{}})}closePreviewDialog(e,{bid:t}){const{visibleDialogParams:{previewBarrelId:n}}=e;return n===t?this.closeDialog(e):e}resetSortTypeAndFilters(e,t){let n=e;return t.syncWithApi&&("sections"!==e.selectedProjectSortType&&(n=this.changeProjectSelectedSortType(n,"sections")),"All"!==e.selectedWorkflowStatusFilter&&(n=this.changeWorkflowStatusFilter(n,{_id:"All"}))),n}reduce(e,t){switch(t.type){case s.default.UPDATE_PAGE_STATE:return this.updatePageState(e,t.updateState);case s.default.CHANGE_PROJECT_SELECTED_SORT_TYPE:return this.changeProjectSelectedSortType(e,t.sortType);case s.default.TOGGLE_ARCHIVED_PROJECTS:return this.toggleArchivedProjects(e);case s.default.CHANGE_WORKFLOW_STATUS_FILTER:return this.changeWorkflowStatusFilter(e,t);case s.default.UNHIGHLIGHT_BARREL:return this.unhighlightBarrel(e,t);case s.default.EXPAND_SECTION:return this.expandSection(e,t);case s.default.COLLAPSE_SECTION:return this.collapseSection(e,t);case s.default.SET_STYLEGUIDES_TAB_VISITED:return this.setStyleguidesTabVisited(e);case s.default.OPEN_DIALOG:return this.openDialog(e,t);case s.default.CLOSE_DIALOG:return this.closeDialog(e,t);case s.default.HIDE_LOADING:return this.hideLoading(e);case s.default.UNHIGHLIGHT_SECTION:return this.unhighlightSection(e);case l.default.ADD_BARREL_TO_FOCUS_SUCCESS:return this.setPinnedBarrelOnce(e);case l.default.REMOVE_BARREL_FROM_FOCUS:return this.updateForUnpinBarrel(e,t);case l.default.DELETE_ORGANIZATION_WORKFLOW_STATUS:return this.changeWorkflowStatusFilterOnDelete(e,t);case l.default.ADD_PROJECT_SECTION:case l.default.UPDATE_PROJECT_ORDER:return this.resetSortTypeAndFilters(e,t);case d.default.CREATE_PROJECT:case c.default.CREATE_STYLEGUIDE:return this.showLoading(e);case u.default.ARCHIVE:case u.default.REMOVE:return this.closePreviewDialog(e,t);case a.default.RESET:return this.reset();default:return e}}}t.default=new g},function(e,t,n){"use strict";n.r(t);var i=n(84);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(73),r=n.n(i),o=n(128),s=n(129),a=n(91),l=n(130);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends r.a{constructor(){super(o.default)}getInitialState(){return{loading:!0,userId:null,username:null,fullName:null,email:null,avatar:null,emotar:null,verified:null,paymentPlan:null,isDesktopNotificationEnabled:null,isEmailNotificationEnabled:null,zeplinThreeZeroWhatsNewSeen:!0,shouldPromoteSpacingSectionDescriptionEditButton:!0,shouldDisplayStyleguideTutorial:!0,selectedView:l.USER_MENU}}loadUser(e,t){if(!t)return e;const{_id:n,username:i,fullName:r,email:o,status:s,avatar:a,emotar:l,emailNotifications:c,billing:u,paymentPlan:h}=t;return d(d({},e),{},{userId:n,username:i,fullName:r,email:o,verified:"verified"===s,avatar:a,emotar:l,isEmailNotificationEnabled:c,billing:u,paymentPlan:h,loading:!1})}updateUser(e,t){return d(d(d({},e),t),{},{loading:!1})}updateUserAttribute(e,t,n){return Object.assign({},e,{[t]:n})}setSelectedView(e,t){return Object.assign({},e,{selectedView:t})}markZeplinThreeZeroWhatsNewAsSeen(e){return d(d({},e),{},{zeplinThreeZeroWhatsNewSeen:!0})}stopPromotingSpacingSectionDescriptionEditButton(e){return d(d({},e),{},{shouldPromoteSpacingSectionDescriptionEditButton:!1})}hideStyleguideTutorial(e){return d(d({},e),{},{shouldDisplayStyleguideTutorial:!1})}reduce(e,t){switch(t.type){case a.default.HYDRATE_EMBEDDED_DATA:case s.default.LOAD_USER:return this.loadUser(e,t.user);case s.default.UPDATE_USER:return this.updateUser(e,t.user);case s.default.SET_USER_ATTRIBUTE:return this.updateUserAttribute(e,t.name,t.value);case s.default.SET_SELECTED_VIEW:return this.setSelectedView(e,t.selectedView);case s.default.MARK_ZEPLIN_THREE_ZERO_WHATS_NEW_AS_SEEN:return this.markZeplinThreeZeroWhatsNewAsSeen(e);case s.default.STOP_PROMOTING_SPACING_SECTION_DESCRIPTION_EDIT_BUTTON:return this.stopPromotingSpacingSectionDescriptionEditButton(e);case s.default.HIDE_STYLEGUIDE_TUTORIAL:return this.hideStyleguideTutorial(e);default:return e}}}t.default=new h},function(e,t,n){"use strict";n.r(t);var i=n(84);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);t.default={LOAD_USER:"user/loadUser",UPDATE_USER:"user/updateUser",SET_SELECTED_VIEW:"user/setSelectedView",MARK_ZEPLIN_THREE_ZERO_WHATS_NEW_AS_SEEN:"user/markZeplinThreeZeroWhatsNewAsSeen",STOP_PROMOTING_SPACING_SECTION_DESCRIPTION_EDIT_BUTTON:"user/stopPromotingSpacingSectionDescriptionEditButton",HIDE_STYLEGUIDE_TUTORIAL:"user/hideStyleguideTutorial",SET_USER_ATTRIBUTE:"user/setUserAttribute"}},function(e,t,n){"use strict";n.r(t),n.d(t,"EMOTARS",(function(){return i})),n.d(t,"USER_MENU",(function(){return r}));const i="emotars",r="userMenu"},function(e,t,n){"use strict";n.r(t);var i=n(88),r=n(116);const o={getProjectsSuccess({projects:e,oid:t}){r.default.dispatch({type:i.default.GET_PROJECTS_SUCCESS,projects:e,oid:t})},getProjectsFailed(e){r.default.dispatch({type:i.default.GET_PROJECTS_FAILED,error:e})},getProjectRequest(){r.default.dispatch({type:i.default.GET_PROJECT_REQUESTED})},getProjectSuccess({project:e}){r.default.dispatch({type:i.default.GET_PROJECT_SUCCESS,project:e})},getProjectFailed(e){r.default.dispatch({type:i.default.GET_PROJECT_FAILED,error:e})},createProject({oid:e,platform:t}){r.default.dispatch({type:i.default.CREATE_PROJECT,oid:e,platform:t,syncWithApi:!0})},updateProject({pid:e,data:t}){r.default.dispatch({type:i.default.UPDATE_PROJECT,pid:e,data:t})},initTransferOwnership({pid:e,fromUserId:t,targetId:n,toOrganization:o,oid:s}){r.default.dispatch({type:i.default.INIT_TRANSFER_OWNERSHIP,pid:e,fromUserId:t,targetId:n,toOrganization:o,oid:s,syncWithApi:!0})},transferOwnership({bid:e,fromUserId:t,targetId:n,toOrganization:o,oid:s,users:a}){r.default.dispatch({type:i.default.TRANSFER_OWNERSHIP,bid:e,fromUserId:t,targetId:n,toOrganization:o,oid:s,users:a})},inviteUser({container:e,pid:t,users:n,oid:o}){r.default.dispatch({type:i.default.INVITE_USER,container:e,pid:t,users:n,oid:o})}};t.default=o},function(e,t,n){"use strict";n.r(t);var i=n(89),r=n(124),o=n(123),s=n(133);const a={getStyleguidesSuccess({styleguides:e,oid:t}){r.default.dispatch({type:i.default.GET_STYLEGUIDES_SUCCESS,styleguides:e,oid:t})},getStyleguidesFailed(e){r.default.dispatch({type:i.default.GET_STYLEGUIDES_FAILED,error:e})},getStyleguideRequest(){r.default.dispatch({type:i.default.GET_STYLEGUIDE_REQUESTED})},getStyleguideSuccess({styleguide:e}){r.default.dispatch({type:i.default.GET_STYLEGUIDE_SUCCESS,styleguide:e})},getStyleguideFailed(e){r.default.dispatch({type:i.default.GET_STYLEGUIDE_FAILED,error:e})},createStyleguide({oid:e,platform:t,parent:n}){r.default.dispatch({type:i.default.CREATE_STYLEGUIDE,oid:e,platform:t,parent:n,syncWithApi:!0})},transferOwnership({bid:e,fromUserId:t,targetId:n,toOrganization:a,oid:l,users:c}){const{styleguides:d}=o.default.getState(),u=Object(s.getStyleguideAndItsDescendants)(d,e);r.default.dispatch({type:i.default.TRANSFER_OWNERSHIP,bid:e,affectedIds:u,fromUserId:t,targetId:n,toOrganization:a,oid:l,users:c})},initTransferOwnership({stid:e,fromUserId:t,targetId:n,toOrganization:o,oid:s}){r.default.dispatch({type:i.default.INIT_TRANSFER_OWNERSHIP,stid:e,fromUserId:t,targetId:n,toOrganization:o,oid:s,syncWithApi:!0})},updateStyleguide({stid:e,data:t}){r.default.dispatch({type:i.default.UPDATE_STYLEGUIDE,stid:e,data:t})},inviteUser({container:e,stid:t,users:n,oid:o}){r.default.dispatch({type:i.default.INVITE_USER,container:e,stid:t,users:n,oid:o})},selectParent({stid:e,parent:t,oldParent:n,syncWithApi:o=!1}){r.default.dispatch({type:i.default.SELECT_PARENT,stid:e,parent:t,oldParent:n,syncWithApi:o})},removeParent({stid:e,oldParent:t,syncWithApi:n=!1}){r.default.dispatch({type:i.default.REMOVE_PARENT,stid:e,oldParent:t,syncWithApi:n})},selectParentRequest({stid:e,parent:t,syncWithApi:n}){r.default.dispatch({type:i.default.SELECT_PARENT_REQUEST,stid:e,parent:t,syncWithApi:n})},selectParentSuccess({stid:e,parent:t,styleguides:n}){r.default.dispatch({type:i.default.SELECT_PARENT_SUCCESS,stid:e,parent:t,styleguides:n})},selectParentFailed(){r.default.dispatch({type:i.default.SELECT_PARENT_FAILED})}};t.default=a},function(e,t,n){"use strict";n.r(t),n.d(t,"generateTrees",(function(){return a})),n.d(t,"generateNodes",(function(){return l})),n.d(t,"getSelectableParentStyleguides",(function(){return s})),n.d(t,"getStyleguideAndItsDescendants",(function(){return c}));var i=n(62),r=n(134),o=n(135);function s({isOrganizationStyleguide:e,currentStyleguides:t,currentUser:n,id:r,parentId:o,users:s}){return t.filter(t=>{let a;if(e)a=i.permissions.canUpdateStyleguide(n);else{const e=t.users.find(e=>"owner"===e.role),n=s.find(e=>"owner"===e.role);a=e&&n&&e.user._id===n.user._id}return a&&t._id!==r&&t._id!==o&&"active"===t.status&&!(t.ancestors||[]).includes(r)})}function a(e){const t={};return e.forEach((e,n)=>{const i=new r.default(e,n);t[i.id]=i}),e.forEach(e=>{if(e.parent){const n=t[e._id],i=t[e.parent];i?i.addChild(n):delete t[e._id].parentId}}),Object.keys(t).filter(e=>t[e].isRoot()).map(e=>new o.default(t[e]))}function l(e){return e.map(e=>new r.default(e))}function c(e,t){return Object.values(e).filter(e=>e._id===t||e.ancestors.includes(t)).map(e=>e._id)}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));class i{constructor(e,t){this.id=e._id,this.parentId=e.parent,this.data=e,this.children=[],this.index=t}addChild(e){this.children.push(e)}isRoot(){return!this.parentId}isLeaf(){return 0===this.children.length}isArchived(){return"archived"===this.data.status}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(136);class r{constructor(e){this.root=e,this.levels=function e(t,n=1,r={}){return t.children.length>0&&(r[n]=(r[n]||[]).concat(t.children),t.children.forEach(t=>{e(t,n+1,r)})),Object.keys(r).map(e=>new i.default(Number(e),r[e]))}(e)}get height(){return Object.keys(this.levels).length+1}get length(){return 1+this.levels.reduce((e,t)=>e+t.nodes.length,0)}isRootTree(){return this.root.isLeaf()}isArchived(){return this.root.isArchived()}getNodesAtLevel(e){return this.levels[e].nodes}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));class i{constructor(e,t){this.level=e,this.nodes=t||[]}}},function(e,t,n){"use strict";n.r(t);var i=n(138);n.d(t,"generateShortlink",(function(){return i.generateShortlink})),n.d(t,"getOrganizations",(function(){return i.getOrganizations})),n.d(t,"getOrganization",(function(){return i.getOrganization})),n.d(t,"getOrganizationMembers",(function(){return i.getOrganizationMembers})),n.d(t,"inviteOrganizationMembers",(function(){return i.inviteOrganizationMembers})),n.d(t,"updateOrganizationMemberRole",(function(){return i.updateOrganizationMemberRole})),n.d(t,"updateOrganizationMemberAccessibility",(function(){return i.updateOrganizationMemberAccessibility})),n.d(t,"updateOrganizationMembersTags",(function(){return i.updateOrganizationMembersTags})),n.d(t,"removeMemberFromOrganization",(function(){return i.removeMemberFromOrganization})),n.d(t,"transferOrganizationOwnership",(function(){return i.transferOrganizationOwnership})),n.d(t,"getOrganizationBilling",(function(){return i.getOrganizationBilling})),n.d(t,"getOrganizationProration",(function(){return i.getOrganizationProration})),n.d(t,"updateOrganizationBilling",(function(){return i.updateOrganizationBilling})),n.d(t,"changePlan",(function(){return i.changePlan})),n.d(t,"changeOrganizationName",(function(){return i.changeOrganizationName})),n.d(t,"createSubscription",(function(){return i.createSubscription})),n.d(t,"updateOrganizationSubscription",(function(){return i.updateOrganizationSubscription})),n.d(t,"getOrganizationCards",(function(){return i.getOrganizationCards})),n.d(t,"getOrganizationInvoices",(function(){return i.getOrganizationInvoices})),n.d(t,"updateCard",(function(){return i.updateCard})),n.d(t,"getOrganizationMemberProfile",(function(){return i.getOrganizationMemberProfile})),n.d(t,"requestOrganizationInvitation",(function(){return i.requestOrganizationInvitation})),n.d(t,"getApiConfig",(function(){return i.getApiConfig})),n.d(t,"getPlans",(function(){return i.getPlans})),n.d(t,"createOrganization",(function(){return i.createOrganization})),n.d(t,"getOrganizationSSO",(function(){return i.getOrganizationSSO})),n.d(t,"getOrganizationSSOSAMLMetadata",(function(){return i.getOrganizationSSOSAMLMetadata})),n.d(t,"addOrganizationSSOGoogle",(function(){return i.addOrganizationSSOGoogle})),n.d(t,"addOrganizationSSOSAML",(function(){return i.addOrganizationSSOSAML})),n.d(t,"updateOrganizationSSOPolicy",(function(){return i.updateOrganizationSSOPolicy})),n.d(t,"updateOrganizationSSOSessionDuration",(function(){return i.updateOrganizationSSOSessionDuration})),n.d(t,"updateOrganizationAllowExternalMembers",(function(){return i.updateOrganizationAllowExternalMembers})),n.d(t,"updateOrganizationSSOProvider",(function(){return i.updateOrganizationSSOProvider})),n.d(t,"deleteOrganizationSSO",(function(){return i.deleteOrganizationSSO})),n.d(t,"getCoupon",(function(){return i.getCoupon})),n.d(t,"addOrganizationWorkflowStatus",(function(){return i.addOrganizationWorkflowStatus})),n.d(t,"updateOrganizationWorkflowStatus",(function(){return i.updateOrganizationWorkflowStatus})),n.d(t,"deleteOrganizationWorkflowStatus",(function(){return i.deleteOrganizationWorkflowStatus})),n.d(t,"getProjects",(function(){return i.getProjects})),n.d(t,"getOrganizationMemberFocusedBarrels",(function(){return i.getOrganizationMemberFocusedBarrels})),n.d(t,"addBarrelToOrganizationMemberFocus",(function(){return i.addBarrelToOrganizationMemberFocus})),n.d(t,"removeBarrelFromOrganizationMemberFocus",(function(){return i.removeBarrelFromOrganizationMemberFocus})),n.d(t,"getOrganizationSection",(function(){return i.getOrganizationSection})),n.d(t,"getOrganizationSections",(function(){return i.getOrganizationSections})),n.d(t,"createOrganizationSection",(function(){return i.createOrganizationSection})),n.d(t,"updateOrganizationSection",(function(){return i.updateOrganizationSection})),n.d(t,"deleteOrganizationSection",(function(){return i.deleteOrganizationSection})),n.d(t,"updateOrganizationSectionProjects",(function(){return i.updateOrganizationSectionProjects})),n.d(t,"updateOrganizationSectionsOrder",(function(){return i.updateOrganizationSectionsOrder})),n.d(t,"createOrganizationSectionLink",(function(){return i.createOrganizationSectionLink})),n.d(t,"updateOrganizationSectionLink",(function(){return i.updateOrganizationSectionLink})),n.d(t,"deleteOrganizationSectionLink",(function(){return i.deleteOrganizationSectionLink})),n.d(t,"getV1Projects",(function(){return i.getV1Projects})),n.d(t,"getProject",(function(){return i.getProject})),n.d(t,"getV1Project",(function(){return i.getV1Project})),n.d(t,"getProjectOrganization",(function(){return i.getProjectOrganization})),n.d(t,"activateProject",(function(){return i.activateProject})),n.d(t,"archiveProject",(function(){return i.archiveProject})),n.d(t,"inviteProjectUser",(function(){return i.inviteProjectUser})),n.d(t,"inviteProjectUsersByTag",(function(){return i.inviteProjectUsersByTag})),n.d(t,"transferProjectOwnership",(function(){return i.transferProjectOwnership})),n.d(t,"updateProjectUserRole",(function(){return i.updateProjectUserRole})),n.d(t,"removeUserFromProject",(function(){return i.removeUserFromProject})),n.d(t,"deleteProject",(function(){return i.deleteProject})),n.d(t,"createProject",(function(){return i.createProject})),n.d(t,"updateProjectName",(function(){return i.updateProjectName})),n.d(t,"updateProjectDescription",(function(){return i.updateProjectDescription})),n.d(t,"updateProjectDensityScale",(function(){return i.updateProjectDensityScale})),n.d(t,"updateProjectAccessibility",(function(){return i.updateProjectAccessibility})),n.d(t,"moveScreen",(function(){return i.moveScreen})),n.d(t,"createSection",(function(){return i.createSection})),n.d(t,"updateSectionScreens",(function(){return i.updateSectionScreens})),n.d(t,"deleteSection",(function(){return i.deleteSection})),n.d(t,"updateSection",(function(){return i.updateSection})),n.d(t,"updateSectionOrder",(function(){return i.updateSectionOrder})),n.d(t,"authProjectSlack",(function(){return i.authProjectSlack})),n.d(t,"getProjectSlackIntegrationEmojis",(function(){return i.getProjectSlackIntegrationEmojis})),n.d(t,"deleteProjectIntegration",(function(){return i.deleteProjectIntegration})),n.d(t,"getProjectExtensions",(function(){return i.getProjectExtensions})),n.d(t,"removeExtensionFromProject",(function(){return i.removeExtensionFromProject})),n.d(t,"addExtensionToProject",(function(){return i.addExtensionToProject})),n.d(t,"removeExtensionFromStyleguide",(function(){return i.removeExtensionFromStyleguide})),n.d(t,"addExtensionToStyleguide",(function(){return i.addExtensionToStyleguide})),n.d(t,"updateScreen",(function(){return i.updateScreen})),n.d(t,"deleteScreen",(function(){return i.deleteScreen})),n.d(t,"createProjectColor",(function(){return i.createProjectColor})),n.d(t,"updateProjectColor",(function(){return i.updateProjectColor})),n.d(t,"deleteProjectColor",(function(){return i.deleteProjectColor})),n.d(t,"deleteProjectAllColors",(function(){return i.deleteProjectAllColors})),n.d(t,"createProjectTextStyle",(function(){return i.createProjectTextStyle})),n.d(t,"updateProjectTextStyle",(function(){return i.updateProjectTextStyle})),n.d(t,"deleteProjectTextStyle",(function(){return i.deleteProjectTextStyle})),n.d(t,"deleteProjectAllTextStyles",(function(){return i.deleteProjectAllTextStyles})),n.d(t,"createProjectSpacingSection",(function(){return i.createProjectSpacingSection})),n.d(t,"updateProjectSpacingSection",(function(){return i.updateProjectSpacingSection})),n.d(t,"deleteProjectSpacingSection",(function(){return i.deleteProjectSpacingSection})),n.d(t,"createProjectSpacingToken",(function(){return i.createProjectSpacingToken})),n.d(t,"updateProjectSpacingToken",(function(){return i.updateProjectSpacingToken})),n.d(t,"deleteProjectSpacingToken",(function(){return i.deleteProjectSpacingToken})),n.d(t,"updateProjectRemPreferences",(function(){return i.updateProjectRemPreferences})),n.d(t,"getProjectComponentSections",(function(){return i.getProjectComponentSections})),n.d(t,"getProjectConnectedComponents",(function(){return i.getProjectConnectedComponents})),n.d(t,"getProjectLocalConnectedComponents",(function(){return i.getProjectLocalConnectedComponents})),n.d(t,"addProjectComponentSection",(function(){return i.addProjectComponentSection})),n.d(t,"updateProjectComponentSection",(function(){return i.updateProjectComponentSection})),n.d(t,"mergeProjectComponentSection",(function(){return i.mergeProjectComponentSection})),n.d(t,"updateProjectComponent",(function(){return i.updateProjectComponent})),n.d(t,"deleteProjectComponent",(function(){return i.deleteProjectComponent})),n.d(t,"updateProjectComponentsOrder",(function(){return i.updateProjectComponentsOrder})),n.d(t,"updateProjectComponentSectionsOrder",(function(){return i.updateProjectComponentSectionsOrder})),n.d(t,"updateProjectStyleguideLink",(function(){return i.updateProjectStyleguideLink})),n.d(t,"removeProjectStyleguideLink",(function(){return i.removeProjectStyleguideLink})),n.d(t,"getProjectIntegrationEvents",(function(){return i.getProjectIntegrationEvents})),n.d(t,"addProjectIntegrationEvent",(function(){return i.addProjectIntegrationEvent})),n.d(t,"deleteProjectIntegrationEvent",(function(){return i.deleteProjectIntegrationEvent})),n.d(t,"fetchSnapshot",(function(){return i.fetchSnapshot})),n.d(t,"getSnapshot",(function(){return i.getSnapshot})),n.d(t,"updateCommitColor",(function(){return i.updateCommitColor})),n.d(t,"deleteVersion",(function(){return i.deleteVersion})),n.d(t,"getVersions",(function(){return i.getVersions})),n.d(t,"getDots",(function(){return i.getDots})),n.d(t,"createDot",(function(){return i.createDot})),n.d(t,"updateDot",(function(){return i.updateDot})),n.d(t,"deleteDot",(function(){return i.deleteDot})),n.d(t,"updateCommitMessage",(function(){return i.updateCommitMessage})),n.d(t,"createDotComment",(function(){return i.createDotComment})),n.d(t,"updateDotCommentNote",(function(){return i.updateDotCommentNote})),n.d(t,"deleteComment",(function(){return i.deleteComment})),n.d(t,"updateProjectThumbnail",(function(){return i.updateProjectThumbnail})),n.d(t,"updateScreensTags",(function(){return i.updateScreensTags})),n.d(t,"updateProjectsWorkflowStatus",(function(){return i.updateProjectsWorkflowStatus})),n.d(t,"deleteProjectsWorkflowStatus",(function(){return i.deleteProjectsWorkflowStatus})),n.d(t,"getNotifications",(function(){return i.getNotifications})),n.d(t,"getUserAcquaintances",(function(){return i.getUserAcquaintances})),n.d(t,"updateNotificationLastReadTime",(function(){return i.updateNotificationLastReadTime})),n.d(t,"logoutUser",(function(){return i.logoutUser})),n.d(t,"getSsoLoginParams",(function(){return i.getSsoLoginParams})),n.d(t,"resetPassword",(function(){return i.resetPassword})),n.d(t,"deleteUserSSOProvider",(function(){return i.deleteUserSSOProvider})),n.d(t,"updateEmailNotifications",(function(){return i.updateEmailNotifications})),n.d(t,"updateUserEmotar",(function(){return i.updateUserEmotar})),n.d(t,"cancelUserSubscription",(function(){return i.cancelUserSubscription})),n.d(t,"changeUserSubscription",(function(){return i.changeUserSubscription})),n.d(t,"subscribeUser",(function(){return i.subscribeUser})),n.d(t,"cancelOrganizationSubscription",(function(){return i.cancelOrganizationSubscription})),n.d(t,"downgradeOrganizationSubscription",(function(){return i.downgradeOrganizationSubscription})),n.d(t,"transferUserSubscription",(function(){return i.transferUserSubscription})),n.d(t,"createIntercomMessage",(function(){return i.createIntercomMessage})),n.d(t,"getUserUpcomingInvoice",(function(){return i.getUserUpcomingInvoice})),n.d(t,"getOrganizationUpcomingInvoice",(function(){return i.getOrganizationUpcomingInvoice})),n.d(t,"createIntercomUserTag",(function(){return i.createIntercomUserTag})),n.d(t,"getStyleguides",(function(){return i.getStyleguides})),n.d(t,"getStyleguide",(function(){return i.getStyleguide})),n.d(t,"getStyleguideOrganization",(function(){return i.getStyleguideOrganization})),n.d(t,"getStyleguideProjects",(function(){return i.getStyleguideProjects})),n.d(t,"createStyleguide",(function(){return i.createStyleguide})),n.d(t,"deleteStyleguide",(function(){return i.deleteStyleguide})),n.d(t,"archiveStyleguide",(function(){return i.archiveStyleguide})),n.d(t,"activateStyleguide",(function(){return i.activateStyleguide})),n.d(t,"transferStyleguideOwnership",(function(){return i.transferStyleguideOwnership})),n.d(t,"inviteStyleguideUser",(function(){return i.inviteStyleguideUser})),n.d(t,"inviteStyleguideUsersByTag",(function(){return i.inviteStyleguideUsersByTag})),n.d(t,"removeUserFromStyleguide",(function(){return i.removeUserFromStyleguide})),n.d(t,"updateStyleguideUserRole",(function(){return i.updateStyleguideUserRole})),n.d(t,"updateStyleguideName",(function(){return i.updateStyleguideName})),n.d(t,"updateStyleguideDescription",(function(){return i.updateStyleguideDescription})),n.d(t,"updateStyleguideDensityScale",(function(){return i.updateStyleguideDensityScale})),n.d(t,"updateStyleguideAccessibility",(function(){return i.updateStyleguideAccessibility})),n.d(t,"updateStyleguideThumbnail",(function(){return i.updateStyleguideThumbnail})),n.d(t,"getStyleguideExtensions",(function(){return i.getStyleguideExtensions})),n.d(t,"authStyleguideSlack",(function(){return i.authStyleguideSlack})),n.d(t,"getStyleguideSlackIntegrationEmojis",(function(){return i.getStyleguideSlackIntegrationEmojis})),n.d(t,"deleteStyleguideIntegration",(function(){return i.deleteStyleguideIntegration})),n.d(t,"createStyleguideColor",(function(){return i.createStyleguideColor})),n.d(t,"updateStyleguideColor",(function(){return i.updateStyleguideColor})),n.d(t,"deleteStyleguideColor",(function(){return i.deleteStyleguideColor})),n.d(t,"deleteStyleguideAllColors",(function(){return i.deleteStyleguideAllColors})),n.d(t,"createStyleguideTextStyle",(function(){return i.createStyleguideTextStyle})),n.d(t,"updateStyleguideTextStyle",(function(){return i.updateStyleguideTextStyle})),n.d(t,"deleteStyleguideTextStyle",(function(){return i.deleteStyleguideTextStyle})),n.d(t,"deleteStyleguideAllTextStyles",(function(){return i.deleteStyleguideAllTextStyles})),n.d(t,"createStyleguideSpacingSection",(function(){return i.createStyleguideSpacingSection})),n.d(t,"updateStyleguideSpacingSection",(function(){return i.updateStyleguideSpacingSection})),n.d(t,"deleteStyleguideSpacingSection",(function(){return i.deleteStyleguideSpacingSection})),n.d(t,"createStyleguideSpacingToken",(function(){return i.createStyleguideSpacingToken})),n.d(t,"updateStyleguideSpacingToken",(function(){return i.updateStyleguideSpacingToken})),n.d(t,"deleteStyleguideSpacingToken",(function(){return i.deleteStyleguideSpacingToken})),n.d(t,"updateStyleguideRemPreferences",(function(){return i.updateStyleguideRemPreferences})),n.d(t,"addStyleguideComponentSection",(function(){return i.addStyleguideComponentSection})),n.d(t,"updateStyleguideComponentSection",(function(){return i.updateStyleguideComponentSection})),n.d(t,"mergeStyleguideComponentSection",(function(){return i.mergeStyleguideComponentSection})),n.d(t,"updateStyleguideComponent",(function(){return i.updateStyleguideComponent})),n.d(t,"deleteStyleguideComponent",(function(){return i.deleteStyleguideComponent})),n.d(t,"updateStyleguideParent",(function(){return i.updateStyleguideParent})),n.d(t,"removeStyleguideParent",(function(){return i.removeStyleguideParent})),n.d(t,"getStyleguideIntegrationEvents",(function(){return i.getStyleguideIntegrationEvents})),n.d(t,"addStyleguideIntegrationEvent",(function(){return i.addStyleguideIntegrationEvent})),n.d(t,"deleteStyleguideIntegrationEvent",(function(){return i.deleteStyleguideIntegrationEvent})),n.d(t,"updateStyleguideComponentsOrder",(function(){return i.updateStyleguideComponentsOrder})),n.d(t,"updateStyleguideComponentSectionsOrder",(function(){return i.updateStyleguideComponentSectionsOrder})),n.d(t,"getStyleguideConnectedComponents",(function(){return i.getStyleguideConnectedComponents})),n.d(t,"getStyleguideLocalConnectedComponents",(function(){return i.getStyleguideLocalConnectedComponents})),n.d(t,"updateStyleguidesWorkflowStatus",(function(){return i.updateStyleguidesWorkflowStatus})),n.d(t,"deleteStyleguidesWorkflowStatus",(function(){return i.deleteStyleguidesWorkflowStatus})),n.d(t,"getUserProfile",(function(){return i.getUserProfile})),n.d(t,"getUserStatus",(function(){return i.getUserStatus})),n.d(t,"checkUsernameAvailable",(function(){return i.checkUsernameAvailable})),n.d(t,"changeUsername",(function(){return i.changeUsername})),n.d(t,"changeEmail",(function(){return i.changeEmail})),n.d(t,"updateUser",(function(){return i.updateUser})),n.d(t,"deleteAccount",(function(){return i.deleteAccount})),n.d(t,"updatePassword",(function(){return i.updatePassword})),n.d(t,"updateBilling",(function(){return i.updateBilling})),n.d(t,"getCards",(function(){return i.getCards})),n.d(t,"updateUserCard",(function(){return i.updateUserCard})),n.d(t,"requestInvoiceSent",(function(){return i.requestInvoiceSent})),n.d(t,"getInvoices",(function(){return i.getInvoices})),n.d(t,"sendVerificationEmail",(function(){return i.sendVerificationEmail})),n.d(t,"verifyUser",(function(){return i.verifyUser})),n.d(t,"loginUser",(function(){return i.loginUser})),n.d(t,"signupUser",(function(){return i.signupUser})),n.d(t,"revokeAppToken",(function(){return i.revokeAppToken})),n.d(t,"updateProjectColorsStyleguide",(function(){return i.updateProjectColorsStyleguide})),n.d(t,"updateProjectTextStylesStyleguide",(function(){return i.updateProjectTextStylesStyleguide})),n.d(t,"updateProjectComponentSectionsStyleguide",(function(){return i.updateProjectComponentSectionsStyleguide})),n.d(t,"updateStyleguideColorsStyleguide",(function(){return i.updateStyleguideColorsStyleguide})),n.d(t,"updateStyleguideTextStylesStyleguide",(function(){return i.updateStyleguideTextStylesStyleguide})),n.d(t,"updateStyleguideComponentSectionsStyleguide",(function(){return i.updateStyleguideComponentSectionsStyleguide})),n.d(t,"getAuthorizedApplications",(function(){return i.getAuthorizedApplications})),n.d(t,"revokeAuthorizedApplication",(function(){return i.revokeAuthorizedApplication})),n.d(t,"getOwnedApplications",(function(){return i.getOwnedApplications})),n.d(t,"getOwnedApplication",(function(){return i.getOwnedApplication})),n.d(t,"createApplication",(function(){return i.createApplication})),n.d(t,"updateApplication",(function(){return i.updateApplication})),n.d(t,"deleteApplication",(function(){return i.deleteApplication})),n.d(t,"getPersonalAccessTokens",(function(){return i.getPersonalAccessTokens})),n.d(t,"createPersonalAccessToken",(function(){return i.createPersonalAccessToken})),n.d(t,"deletePersonalAccessToken",(function(){return i.deletePersonalAccessToken})),n.d(t,"renamePersonalAccessToken",(function(){return i.renamePersonalAccessToken})),n.d(t,"getAppStatus",(function(){return i.getAppStatus})),n.d(t,"getWebhooks",(function(){return i.getWebhooks})),n.d(t,"getWebhook",(function(){return i.getWebhook})),n.d(t,"createWebhook",(function(){return i.createWebhook})),n.d(t,"updateWebhook",(function(){return i.updateWebhook})),n.d(t,"deleteWebhook",(function(){return i.deleteWebhook})),n.d(t,"checkWebhookUrlHealth",(function(){return i.checkWebhookUrlHealth})),n.d(t,"project",(function(){return i.project})),n.d(t,"styleguide",(function(){return i.styleguide})),n.d(t,"user",(function(){return i.user})),n.d(t,"developer",(function(){return i.developer}))},function(e,t,n){"use strict";n.r(t),n.d(t,"generateShortlink",(function(){return h})),n.d(t,"getOrganizations",(function(){return p})),n.d(t,"getOrganization",(function(){return f})),n.d(t,"getOrganizationMembers",(function(){return g})),n.d(t,"inviteOrganizationMembers",(function(){return m})),n.d(t,"updateOrganizationMemberRole",(function(){return b})),n.d(t,"updateOrganizationMemberAccessibility",(function(){return y})),n.d(t,"updateOrganizationMembersTags",(function(){return S})),n.d(t,"removeMemberFromOrganization",(function(){return v})),n.d(t,"transferOrganizationOwnership",(function(){return C})),n.d(t,"getOrganizationBilling",(function(){return O})),n.d(t,"getOrganizationProration",(function(){return E})),n.d(t,"updateOrganizationBilling",(function(){return T})),n.d(t,"changePlan",(function(){return D})),n.d(t,"changeOrganizationName",(function(){return k})),n.d(t,"createSubscription",(function(){return w})),n.d(t,"updateOrganizationSubscription",(function(){return _})),n.d(t,"getOrganizationCards",(function(){return j})),n.d(t,"getOrganizationInvoices",(function(){return P})),n.d(t,"updateCard",(function(){return R})),n.d(t,"getOrganizationMemberProfile",(function(){return I})),n.d(t,"requestOrganizationInvitation",(function(){return A})),n.d(t,"getApiConfig",(function(){return x})),n.d(t,"getPlans",(function(){return N})),n.d(t,"createOrganization",(function(){return L})),n.d(t,"getOrganizationSSO",(function(){return U})),n.d(t,"getOrganizationSSOSAMLMetadata",(function(){return M})),n.d(t,"addOrganizationSSOGoogle",(function(){return B})),n.d(t,"addOrganizationSSOSAML",(function(){return z})),n.d(t,"updateOrganizationSSOPolicy",(function(){return F})),n.d(t,"updateOrganizationSSOSessionDuration",(function(){return H})),n.d(t,"updateOrganizationAllowExternalMembers",(function(){return W})),n.d(t,"updateOrganizationSSOProvider",(function(){return V})),n.d(t,"deleteOrganizationSSO",(function(){return G})),n.d(t,"getCoupon",(function(){return q})),n.d(t,"addOrganizationWorkflowStatus",(function(){return $})),n.d(t,"updateOrganizationWorkflowStatus",(function(){return Z})),n.d(t,"deleteOrganizationWorkflowStatus",(function(){return Y})),n.d(t,"getProjects",(function(){return K})),n.d(t,"getOrganizationMemberFocusedBarrels",(function(){return J})),n.d(t,"addBarrelToOrganizationMemberFocus",(function(){return X})),n.d(t,"removeBarrelFromOrganizationMemberFocus",(function(){return Q})),n.d(t,"getOrganizationSection",(function(){return ee})),n.d(t,"getOrganizationSections",(function(){return te})),n.d(t,"createOrganizationSection",(function(){return ne})),n.d(t,"updateOrganizationSection",(function(){return ie})),n.d(t,"deleteOrganizationSection",(function(){return re})),n.d(t,"updateOrganizationSectionProjects",(function(){return oe})),n.d(t,"updateOrganizationSectionsOrder",(function(){return se})),n.d(t,"createOrganizationSectionLink",(function(){return ae})),n.d(t,"updateOrganizationSectionLink",(function(){return le})),n.d(t,"deleteOrganizationSectionLink",(function(){return ce})),n.d(t,"getV1Projects",(function(){return de})),n.d(t,"getProject",(function(){return ue})),n.d(t,"getV1Project",(function(){return he})),n.d(t,"getProjectOrganization",(function(){return pe})),n.d(t,"activateProject",(function(){return fe})),n.d(t,"archiveProject",(function(){return ge})),n.d(t,"inviteProjectUser",(function(){return me})),n.d(t,"inviteProjectUsersByTag",(function(){return be})),n.d(t,"transferProjectOwnership",(function(){return ye})),n.d(t,"updateProjectUserRole",(function(){return Se})),n.d(t,"removeUserFromProject",(function(){return ve})),n.d(t,"deleteProject",(function(){return Ce})),n.d(t,"createProject",(function(){return Oe})),n.d(t,"updateProjectName",(function(){return Ee})),n.d(t,"updateProjectDescription",(function(){return Te})),n.d(t,"updateProjectDensityScale",(function(){return De})),n.d(t,"updateProjectAccessibility",(function(){return ke})),n.d(t,"moveScreen",(function(){return we})),n.d(t,"createSection",(function(){return _e})),n.d(t,"updateSectionScreens",(function(){return je})),n.d(t,"deleteSection",(function(){return Pe})),n.d(t,"updateSection",(function(){return Re})),n.d(t,"updateSectionOrder",(function(){return Ie})),n.d(t,"authProjectSlack",(function(){return Ae})),n.d(t,"getProjectSlackIntegrationEmojis",(function(){return xe})),n.d(t,"deleteProjectIntegration",(function(){return Ne})),n.d(t,"getProjectExtensions",(function(){return Le})),n.d(t,"removeExtensionFromProject",(function(){return Ue})),n.d(t,"addExtensionToProject",(function(){return Me})),n.d(t,"removeExtensionFromStyleguide",(function(){return Be})),n.d(t,"addExtensionToStyleguide",(function(){return ze})),n.d(t,"updateScreen",(function(){return Fe})),n.d(t,"deleteScreen",(function(){return He})),n.d(t,"createProjectColor",(function(){return We})),n.d(t,"updateProjectColor",(function(){return Ve})),n.d(t,"deleteProjectColor",(function(){return Ge})),n.d(t,"deleteProjectAllColors",(function(){return qe})),n.d(t,"createProjectTextStyle",(function(){return $e})),n.d(t,"updateProjectTextStyle",(function(){return Ze})),n.d(t,"deleteProjectTextStyle",(function(){return Ye})),n.d(t,"deleteProjectAllTextStyles",(function(){return Ke})),n.d(t,"createProjectSpacingSection",(function(){return Je})),n.d(t,"updateProjectSpacingSection",(function(){return Xe})),n.d(t,"deleteProjectSpacingSection",(function(){return Qe})),n.d(t,"createProjectSpacingToken",(function(){return et})),n.d(t,"updateProjectSpacingToken",(function(){return tt})),n.d(t,"deleteProjectSpacingToken",(function(){return nt})),n.d(t,"updateProjectRemPreferences",(function(){return it})),n.d(t,"getProjectComponentSections",(function(){return rt})),n.d(t,"getProjectConnectedComponents",(function(){return ot})),n.d(t,"getProjectLocalConnectedComponents",(function(){return st})),n.d(t,"addProjectComponentSection",(function(){return at})),n.d(t,"updateProjectComponentSection",(function(){return lt})),n.d(t,"mergeProjectComponentSection",(function(){return ct})),n.d(t,"updateProjectComponent",(function(){return dt})),n.d(t,"deleteProjectComponent",(function(){return ut})),n.d(t,"updateProjectComponentsOrder",(function(){return ht})),n.d(t,"updateProjectComponentSectionsOrder",(function(){return pt})),n.d(t,"updateProjectStyleguideLink",(function(){return ft})),n.d(t,"removeProjectStyleguideLink",(function(){return gt})),n.d(t,"getProjectIntegrationEvents",(function(){return mt})),n.d(t,"addProjectIntegrationEvent",(function(){return bt})),n.d(t,"deleteProjectIntegrationEvent",(function(){return yt})),n.d(t,"fetchSnapshot",(function(){return St})),n.d(t,"getSnapshot",(function(){return vt})),n.d(t,"updateCommitColor",(function(){return Ct})),n.d(t,"deleteVersion",(function(){return Ot})),n.d(t,"getVersions",(function(){return Et})),n.d(t,"getDots",(function(){return Tt})),n.d(t,"createDot",(function(){return Dt})),n.d(t,"updateDot",(function(){return kt})),n.d(t,"deleteDot",(function(){return wt})),n.d(t,"updateCommitMessage",(function(){return _t})),n.d(t,"createDotComment",(function(){return jt})),n.d(t,"updateDotCommentNote",(function(){return Pt})),n.d(t,"deleteComment",(function(){return Rt})),n.d(t,"updateProjectThumbnail",(function(){return It})),n.d(t,"updateScreensTags",(function(){return At})),n.d(t,"updateProjectsWorkflowStatus",(function(){return xt})),n.d(t,"deleteProjectsWorkflowStatus",(function(){return Nt})),n.d(t,"getNotifications",(function(){return Lt})),n.d(t,"getUserAcquaintances",(function(){return Ut})),n.d(t,"updateNotificationLastReadTime",(function(){return Mt})),n.d(t,"logoutUser",(function(){return Bt})),n.d(t,"getSsoLoginParams",(function(){return zt})),n.d(t,"resetPassword",(function(){return Ft})),n.d(t,"deleteUserSSOProvider",(function(){return Ht})),n.d(t,"updateEmailNotifications",(function(){return Wt})),n.d(t,"updateUserEmotar",(function(){return Vt})),n.d(t,"cancelUserSubscription",(function(){return Gt})),n.d(t,"changeUserSubscription",(function(){return qt})),n.d(t,"subscribeUser",(function(){return $t})),n.d(t,"cancelOrganizationSubscription",(function(){return Zt})),n.d(t,"downgradeOrganizationSubscription",(function(){return Yt})),n.d(t,"transferUserSubscription",(function(){return Kt})),n.d(t,"createIntercomMessage",(function(){return Jt})),n.d(t,"getUserUpcomingInvoice",(function(){return Xt})),n.d(t,"getOrganizationUpcomingInvoice",(function(){return Qt})),n.d(t,"createIntercomUserTag",(function(){return en})),n.d(t,"getStyleguides",(function(){return tn})),n.d(t,"getStyleguide",(function(){return nn})),n.d(t,"getStyleguideOrganization",(function(){return rn})),n.d(t,"getStyleguideProjects",(function(){return on})),n.d(t,"createStyleguide",(function(){return sn})),n.d(t,"deleteStyleguide",(function(){return an})),n.d(t,"archiveStyleguide",(function(){return ln})),n.d(t,"activateStyleguide",(function(){return cn})),n.d(t,"transferStyleguideOwnership",(function(){return dn})),n.d(t,"inviteStyleguideUser",(function(){return un})),n.d(t,"inviteStyleguideUsersByTag",(function(){return hn})),n.d(t,"removeUserFromStyleguide",(function(){return pn})),n.d(t,"updateStyleguideUserRole",(function(){return fn})),n.d(t,"updateStyleguideName",(function(){return gn})),n.d(t,"updateStyleguideDescription",(function(){return mn})),n.d(t,"updateStyleguideDensityScale",(function(){return bn})),n.d(t,"updateStyleguideAccessibility",(function(){return yn})),n.d(t,"updateStyleguideThumbnail",(function(){return Sn})),n.d(t,"getStyleguideExtensions",(function(){return vn})),n.d(t,"authStyleguideSlack",(function(){return Cn})),n.d(t,"getStyleguideSlackIntegrationEmojis",(function(){return On})),n.d(t,"deleteStyleguideIntegration",(function(){return En})),n.d(t,"createStyleguideColor",(function(){return Tn})),n.d(t,"updateStyleguideColor",(function(){return Dn})),n.d(t,"deleteStyleguideColor",(function(){return kn})),n.d(t,"deleteStyleguideAllColors",(function(){return wn})),n.d(t,"createStyleguideTextStyle",(function(){return _n})),n.d(t,"updateStyleguideTextStyle",(function(){return jn})),n.d(t,"deleteStyleguideTextStyle",(function(){return Pn})),n.d(t,"deleteStyleguideAllTextStyles",(function(){return Rn})),n.d(t,"createStyleguideSpacingSection",(function(){return In})),n.d(t,"updateStyleguideSpacingSection",(function(){return An})),n.d(t,"deleteStyleguideSpacingSection",(function(){return xn})),n.d(t,"createStyleguideSpacingToken",(function(){return Nn})),n.d(t,"updateStyleguideSpacingToken",(function(){return Ln})),n.d(t,"deleteStyleguideSpacingToken",(function(){return Un})),n.d(t,"updateStyleguideRemPreferences",(function(){return Mn})),n.d(t,"addStyleguideComponentSection",(function(){return Bn})),n.d(t,"updateStyleguideComponentSection",(function(){return zn})),n.d(t,"mergeStyleguideComponentSection",(function(){return Fn})),n.d(t,"updateStyleguideComponent",(function(){return Hn})),n.d(t,"deleteStyleguideComponent",(function(){return Wn})),n.d(t,"updateStyleguideParent",(function(){return Vn})),n.d(t,"removeStyleguideParent",(function(){return Gn})),n.d(t,"getStyleguideIntegrationEvents",(function(){return qn})),n.d(t,"addStyleguideIntegrationEvent",(function(){return $n})),n.d(t,"deleteStyleguideIntegrationEvent",(function(){return Zn})),n.d(t,"updateStyleguideComponentsOrder",(function(){return Yn})),n.d(t,"updateStyleguideComponentSectionsOrder",(function(){return Kn})),n.d(t,"getStyleguideConnectedComponents",(function(){return Jn})),n.d(t,"getStyleguideLocalConnectedComponents",(function(){return Xn})),n.d(t,"updateStyleguidesWorkflowStatus",(function(){return Qn})),n.d(t,"deleteStyleguidesWorkflowStatus",(function(){return ei})),n.d(t,"getUserProfile",(function(){return ti})),n.d(t,"getUserStatus",(function(){return ni})),n.d(t,"checkUsernameAvailable",(function(){return ii})),n.d(t,"changeUsername",(function(){return ri})),n.d(t,"changeEmail",(function(){return oi})),n.d(t,"updateUser",(function(){return si})),n.d(t,"deleteAccount",(function(){return ai})),n.d(t,"updatePassword",(function(){return li})),n.d(t,"updateBilling",(function(){return ci})),n.d(t,"getCards",(function(){return di})),n.d(t,"updateUserCard",(function(){return ui})),n.d(t,"requestInvoiceSent",(function(){return hi})),n.d(t,"getInvoices",(function(){return pi})),n.d(t,"sendVerificationEmail",(function(){return fi})),n.d(t,"verifyUser",(function(){return gi})),n.d(t,"loginUser",(function(){return mi})),n.d(t,"signupUser",(function(){return bi})),n.d(t,"revokeAppToken",(function(){return yi})),n.d(t,"updateProjectColorsStyleguide",(function(){return Si})),n.d(t,"updateProjectTextStylesStyleguide",(function(){return vi})),n.d(t,"updateProjectComponentSectionsStyleguide",(function(){return Ci})),n.d(t,"updateStyleguideColorsStyleguide",(function(){return Oi})),n.d(t,"updateStyleguideTextStylesStyleguide",(function(){return Ei})),n.d(t,"updateStyleguideComponentSectionsStyleguide",(function(){return Ti})),n.d(t,"getAuthorizedApplications",(function(){return Di})),n.d(t,"revokeAuthorizedApplication",(function(){return ki})),n.d(t,"getOwnedApplications",(function(){return wi})),n.d(t,"getOwnedApplication",(function(){return _i})),n.d(t,"createApplication",(function(){return ji})),n.d(t,"updateApplication",(function(){return Pi})),n.d(t,"deleteApplication",(function(){return Ri})),n.d(t,"getPersonalAccessTokens",(function(){return Ii})),n.d(t,"createPersonalAccessToken",(function(){return Ai})),n.d(t,"deletePersonalAccessToken",(function(){return xi})),n.d(t,"renamePersonalAccessToken",(function(){return Ni})),n.d(t,"getAppStatus",(function(){return Li})),n.d(t,"getWebhooks",(function(){return Ui})),n.d(t,"getWebhook",(function(){return Mi})),n.d(t,"createWebhook",(function(){return Bi})),n.d(t,"updateWebhook",(function(){return zi})),n.d(t,"deleteWebhook",(function(){return Fi})),n.d(t,"checkWebhookUrlHealth",(function(){return Hi})),n.d(t,"project",(function(){return Wi})),n.d(t,"styleguide",(function(){return Vi})),n.d(t,"user",(function(){return Gi})),n.d(t,"developer",(function(){return qi}));var i=n(46),r=n.n(i),o=n(45),s=n(139),a=n(44),l=n(40);function c(e){const t=e.headers.get("Zeplin-Token");t&&(r.a.set("userToken",t),Zeplin.headers.set("Zeplin-Token",t))}function d(e){return c(e),e.json().then(t=>{if(e.ok)return t;throw Object(o.createError)(e.status,t)})}function u(e){if(c(e),!e.ok)return e.json().then(t=>{throw Object(o.createError)(e.status,t)})}function h(e,t){const n=t?"?path="+t:"";return s.default.post(`${Zeplin.urls.baseURL}/urls${n}`,{url:e}).then(d).then(e=>e.url).catch(t=>e)}function p(){return s.default.get(Zeplin.urls.baseURL+"/organizations").then(d).then(e=>e.organizations)}function f(e){return s.default.get(`${Zeplin.urls.baseURL}/organizations/${e}`).then(d)}function g(e){return s.default.get(`${Zeplin.urls.baseURL}/v2/organizations/${e}/members`).then(d)}function m(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/members`;return s.default.post(n,{members:t}).then(d)}function b(e,t,n){const i=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/role`;return s.default.put(i,{role:n}).then(u)}function y(e,t,n){const i=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/restricted`;return s.default.put(i,{restricted:Boolean(n)}).then(u)}function S(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/members/tags`;return s.default.put(n,{members:t}).then(u)}function v(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}`;return s.default.delete(n).then(d)}function C(e,t){return s.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/ownership`).then(d)}function O(e){return s.default.get(`${Zeplin.urls.baseURL}/organizations/${e}/billing`).then(d)}function E(e,t){return s.default.get(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/proration?${Object(a.joinUrlParams)(t)}`).then(d)}function T(e,t){return s.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/billing`,t).then(u)}function D(e,t){return s.default.put(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions`,t).then(u)}function k(e,t){return s.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/name`,t).then(u)}function w(e,t){return s.default.post(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions`,t).then(u)}function _(e,t){return s.default.put(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions`,t).then(u)}function j(e){return s.default.get(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/cards`).then(d)}function P(e,t){const n=Object(a.joinUrlParams)(t),i=`${Zeplin.urls.baseURL}/stripe/organizations/${e}/invoices?${n}`;return s.default.get(i).then(d)}function R(e,t){return s.default.put(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/cards`,t).then(u)}function I(e,t){return s.default.get(`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/profile`).then(d)}function A(e){return s.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/requests/join`).then(u)}function x(){return s.default.get(Zeplin.urls.baseURL+"/api/config").then(d)}function N(){return s.default.get(Zeplin.urls.baseURL+"/api/config/plans").then(d)}function L(e){return s.default.post(Zeplin.urls.baseURL+"/organizations",e).then(d)}function U(e){return s.default.get(`${Zeplin.urls.baseURL}/organizations/${e}/sso`).then(d)}function M(e){return s.default.get(`${Zeplin.urls.baseURL}/organizations/${e}/sso/saml/metadata`).then(d)}function B(e,t){return s.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/sso/google`,{redirectUri:l.GOOGLE_AUTH_SETUP_SSO_REDIRECT_URI,code:t}).then(d)}function z(e,t,n,i){return s.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/sso/saml`,{signOnURL:t,identifier:n,certificate:i}).then(d)}function F(e,t){return s.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/sso/policy`,{policy:t}).then(u)}function H(e,t){return s.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/sso/sessionduration`,{sessionDuration:t}).then(u)}function W(e,t){return s.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/allowexternalmembers`,{allowExternalMembers:t}).then(u)}function V(e,t,n,i){return s.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/sso/provider`,{signOnURL:t,identifier:n,certificate:i}).then(u)}function G(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/organizations/${e}/sso/${t}`).then(u)}function q(e){return s.default.get(`${Zeplin.urls.baseURL}/stripe/coupons/${e}`).then(d)}function $(e,t){return s.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/workflowStatuses`,t).then(d)}function Z(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/workflowStatuses/${t}`,n).then(u)}function Y(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/organizations/${e}/workflowStatuses/${t}`).then(u)}function K(e){const t=e?`${Zeplin.urls.baseURL}/organizations/${e}/projects`:Zeplin.urls.baseURL+"/v2/projects";return s.default.get(t,{cache:"no-cache"}).then(d).then(e=>e.projects)}function J(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/focus`;return s.default.get(n).then(d).then(e=>e.focusedBarrels)}function X({oid:e,mid:t,bid:n,barrelType:i}){const r=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/focus`,o={["project"===i?"pid":"stid"]:n};return s.default.post(r,o)}function Q({oid:e,mid:t,bid:n,barrelType:i}){const r=`${Zeplin.urls.baseURL}/organizations/${e}/members/${t}/focus`,o={["project"===i?"pid":"stid"]:n};return s.default.delete(r,o)}function ee(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}`;return s.default.get(n).then(d)}function te(e){const t=`${Zeplin.urls.baseURL}/organizations/${e}/sections`;return s.default.get(t).then(d).then(e=>e.sections)}function ne({oid:e,index:t,name:n,description:i,projects:r}){const o=`${Zeplin.urls.baseURL}/organizations/${e}/sections`;return s.default.post(o,{index:t,name:n,description:i,projects:r}).then(d)}function ie({oid:e,oseid:t,sectionData:n}){const i=`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}`;return s.default.put(i,n).then(u)}function re(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}`).then(u)}function oe(e,t,n,i){return s.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}/projects`,{index:n,projects:i}).then(u)}function se(e,t){const n=`${Zeplin.urls.baseURL}/organizations/${e}/sections/order`;return s.default.put(n,t).then(u)}function ae(e,t,n){return s.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}/links`,n).then(d)}function le(e,t,n,i){return s.default.put(`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}/links/${n}`,i).then(u)}function ce(e,t,n){return s.default.delete(`${Zeplin.urls.baseURL}/organizations/${e}/sections/${t}/links/${n}`).then(u)}function de(){return s.default.get(Zeplin.urls.baseURL+"/projects").then(d)}function ue(e){return s.default.get(`${Zeplin.urls.baseURL}/v2/projects/${e}`).then(e=>(c(e),e.json().then(t=>{if(!e.ok)throw Object(o.createError)(e.status,t);return e.status===s.default.STATUS.PARTIAL_CONTENT&&(t.partial=!0),t})))}function he(e){return s.default.get(`${Zeplin.urls.baseURL}/projects/${e}`).then(d)}function pe(e){return s.default.get(`${Zeplin.urls.baseURL}/projects/${e}/organization`).then(d)}function fe(e){return s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/activate`).then(u)}function ge(e){return s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/archive`).then(u)}function me(e,t){const n=t?{handle:t}:null;return s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/users`,n).then(d)}function be(e,t,n){return s.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/projects/${t}/users`,{tag:n}).then(d)}function ye(e,t,n=!1){const i=n?"organizations":"users",r=`${Zeplin.urls.baseURL}/projects/${e}/${i}/${t}/ownership`;return s.default.post(r).then(d)}function Se(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/users/${t}/role`,{role:n}).then(u)}function ve(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/users/${t}`;return s.default.delete(n).then(u)}function Ce(e){const t=`${Zeplin.urls.baseURL}/projects/${e}`;return s.default.delete(t).then(u)}function Oe({oid:e,platform:t,densityScale:n,name:i="Untitled"}){const r=e&&"user"!==e?"/organizations/"+e:"";return s.default.post(`${Zeplin.urls.baseURL}${r}/projects`,{name:i,type:t,densityScale:n}).then(d)}function Ee(e,t){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/name`,{name:t}).then(u)}function Te(e,t){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/description`,{description:t}).then(u)}function De(e,t){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/densityscale`,{densityScale:t}).then(u)}function ke(e,t){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/public`,{public:t}).then(u)}function we(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/screens/projects/${t}`,{screens:n}).then(u)}function _e(e,t){var n={name:t.name};return"description"in t&&(n.description=t.description),"index"in t&&(n.index=t.index),"screens"in t&&(n.screens=t.screens),s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/sections`,n).then(d)}function je(e,t,n,i){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/sections/${t}/screens`,{index:n,screens:i}).then(u)}function Pe(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/sections/${t}`).then(u)}function Re(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/sections/${t}`,n).then(u)}function Ie(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/sections/order`;return s.default.put(n,t).then(u)}function Ae(e,t,n){return s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/auth`,{code:t,redirectURI:n}).then(e=>(c(e),e))}function xe(e){return s.default.get(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/emojis`).then(d)}function Ne(e,t,n){return s.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/integrations/${t}/${n}`).then(u)}function Le(e){return s.default.get(`${Zeplin.urls.baseURL}/projects/${e}/extensions`).then(d)}function Ue(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/extensions/${t}`).then(u)}function Me(e,t){return s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/extensions`,{eid:t}).then(d)}function Be(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/extensions/${t}`).then(u)}function ze(e,t){return s.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/extensions`,{eid:t}).then(d)}function Fe(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}`,n).then(u)}function He(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}`;return s.default.delete(n).then(u)}function We(e,t){return s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/colors`,t).then(d)}function Ve(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/colors/${t}`,n).then(u)}function Ge(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/colors/${t}`).then(u)}function qe(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/colors`,t).then(u)}function $e(e,t){return s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/textStyles`,t).then(d)}function Ze(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/textStyles/${t}`,n).then(u)}function Ye(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/textStyles/${t}`).then(u)}function Ke(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/textStyles`,t).then(u)}function Je(e,t){return s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections`,t).then(d)}function Xe(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}`,n).then(u)}function Qe(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}`).then(u)}function et(e,t,n){return s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}/spacingtokens`,n).then(d)}function tt(e,t,n,i){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}/spacingtokens/${n}`,i).then(u)}function nt(e,t,n){return s.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/spacingsections/${t}/spacingtokens/${n}`).then(u)}function it(e,t){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/rempreferences`,t).then(u)}function rt(e){return s.default.get(`${Zeplin.urls.baseURL}/projects/${e}/componentsections`).then(d)}function ot(e){return s.default.get(`${Zeplin.urls.baseURL}/projects/${e}/connectedcomponents`).then(d)}function st(e){return fetch(`http://127.0.0.1:9756/projects/${e}/connectedcomponents`).then(e=>e.ok?e.json().then(e=>e.connectedComponents):null).then(e=>({localConnectedComponents:e})).catch(()=>({localConnectedComponents:null}))}function at(e,t,n){return s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/componentsections${t&&t.length>0?`/${t.join("/")}/componentsections`:""}`,n).then(d)}function lt(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t.join("/")}`,n).then(u)}function ct(e,t,n,i){const r=[{csid:t.join("/"),tcsid:n.join("/"),flatten:i}];return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/merge`,{componentSections:r}).then(u)}function dt(e,t,n,i){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t.join("/")}/components/${n}`,i).then(u)}function ut(e,t,n){return s.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/${t.join("/")}/components/${n}`).then(u)}function ht(e,t){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/components/order`,t).then(u)}function pt(e,t){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/order`,t).then(u)}function ft(e,t){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/styleguidelink`,{styleguide:t}).then(u)}function gt(e){return s.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/styleguidelink`).then(u)}function mt(e,t){return s.default.get(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/${t}/events`).then(d)}function bt(e,t,n){return s.default.post(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/${t}/events/${n}`).then(u)}function yt(e,t,n){return s.default.delete(`${Zeplin.urls.baseURL}/projects/${e}/integrations/slacks/${t}/events/${n}`).then(u)}function St(e){return fetch(e).then(e=>e.ok?e.json():{}).then(e=>(e.layers=e.layers||[],e.assets=e.assets||[],e)).catch(()=>({layers:[],assets:[]}))}function vt(e,t,n){const i=`${Zeplin.urls.baseURL}/v3/projects/${e}/screens/${t}/versions/${n}/snapshot`;return s.default.get(i).then(e=>(c(e),e.json().then((function(t){if(e.ok)return"string"==typeof t.snapshot?St(t.snapshot):t.snapshot;throw Object(o.createError)(e.status,t)}))))}function Ct(e,t,n,i){const r=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/versions/${n}/commit/color`;return s.default.put(r,{color:i}).then(u)}function Ot(e,t,n){const i=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/versions/${n}`;return s.default.delete(i).then(u)}function Et(e,t){const n=`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/versions`;return s.default.get(n).then(d)}function Tt(e,t){const n=`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/dots`;return s.default.get(n).then(d)}function Dt(e,t,n){return s.default.post(`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/dots`,n).then(d)}function kt(e,t,n,i){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}`,i).then(u)}function wt(e,t,n){const i=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}`;return s.default.delete(i).then(u)}function _t(e,t,n,i){const r=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/versions/${n}/commit/message`;return s.default.put(r,{message:i}).then(u)}function jt(e,t,n,i){const r=`${Zeplin.urls.baseURL}/v2/projects/${e}/screens/${t}/dots/${n}/comments`;return s.default.post(r,{note:i}).then(d)}function Pt(e,t,n,i,r){const o=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}/comments/${i}/note`;return s.default.put(o,{note:r}).then(u)}function Rt(e,t,n,i){const r=`${Zeplin.urls.baseURL}/projects/${e}/screens/${t}/dots/${n}/comments/${i}`;return s.default.delete(r).then(u)}function It(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/thumbnail`;return s.default.put(n,{thumbnail:t}).then(u)}function At(e,t){const n=`${Zeplin.urls.baseURL}/projects/${e}/screens/tags`;return s.default.put(n,{screens:t}).then(u)}function xt(e,t){return s.default.put(Zeplin.urls.baseURL+"/projects/workflowStatus",{projects:e,wsid:t}).then(u)}function Nt(e){return s.default.delete(Zeplin.urls.baseURL+"/projects/workflowStatus",{projects:e}).then(u)}function Lt(e,t){let n=`${Zeplin.urls.baseURL}/notifications?count=${t}`;return e&&(n+="&date_before="+e),s.default.get(n).then(d)}function Ut(){return s.default.get(Zeplin.urls.baseURL+"/users/acquaintances").then(d)}function Mt(){const e=Zeplin.urls.baseURL+"/users/notificationLastReadTime";return s.default.put(e).then(d)}function Bt(){const e=Zeplin.urls.baseURL+"/users/logout";return s.default.post(e)}function zt(e){const t=`${Zeplin.urls.baseURL}/users/auth/${e}/sso/loginparams`;return s.default.get(t).then(d)}function Ft(e){const t=Zeplin.urls.baseURL+"/users/requests/password";return s.default.post(t,{handle:e}).then(u)}function Ht(e,t,n){return s.default.delete(Zeplin.urls.baseURL+"/users/sso",{password:e,code:t,redirectUri:n}).then(d)}function Wt(e){const t=Zeplin.urls.baseURL+"/users/emailNotifications",n={emailNotifications:e};return s.default.put(t,n).then(u)}function Vt(e){const t=Zeplin.urls.baseURL+"/users/emotar",n={emotar:e};return s.default.put(t,n).then(u)}function Gt(){const e=Zeplin.urls.baseURL+"/stripe/users/subscriptions";return s.default.delete(e).then(u)}function qt(e){const t=Zeplin.urls.baseURL+"/stripe/users/subscriptions";return s.default.put(t,e).then(u)}function $t(e){const t=Zeplin.urls.baseURL+"/stripe/users/subscriptions";return s.default.post(t,e).then(u)}function Zt(e){const t=`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions`;return s.default.delete(t).then(u)}function Yt(e,t){const n=`${Zeplin.urls.baseURL}/stripe/organizations/${e}/subscriptions/downgrade`;return s.default.post(n,t).then(u)}function Kt(e){const t=`${Zeplin.urls.baseURL}/users/subscriptions/${e}/ownership`;return s.default.post(t).then(d)}function Jt(e){return s.default.post(Zeplin.urls.baseURL+"/intercom/messages",{message:e}).then(u)}function Xt(){return s.default.get(Zeplin.urls.baseURL+"/stripe/users/invoices/next").then(d)}function Qt(e){return s.default.get(`${Zeplin.urls.baseURL}/stripe/organizations/${e}/invoices/next`).then(d)}function en(e){return s.default.post(Zeplin.urls.baseURL+"/intercom/users/tags",{name:e}).then(u)}function tn(e){const t=e?`${Zeplin.urls.baseURL}/organizations/${e}/styleguides`:Zeplin.urls.baseURL+"/styleguides";return s.default.get(t,{cache:"no-cache"}).then(d).then(e=>e.styleguides)}function nn(e,{projectId:t=null,styleguideId:n=null}={}){const i=new Headers(Zeplin.headers);return t?i.append("Zeplin-Project-Id",t):n&&i.append("Zeplin-Styleguide-Id",n),fetch(`${Zeplin.urls.baseURL}/styleguides/${e}`,{headers:i}).then(e=>(c(e),e.json().then(t=>{if(!e.ok)throw Object(o.createError)(e.status,t);return e.status===s.default.STATUS.PARTIAL_CONTENT?t.partial=!0:t.status="active",t})))}function rn(e){return s.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/organization`).then(d)}function on(e){return s.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/projects`).then(d)}function sn({oid:e,platform:t,parent:n,name:i="Untitled"}){const r=e&&"user"!==e?"/organizations/"+e:"";return s.default.post(`${Zeplin.urls.baseURL}${r}/styleguides`,{name:i,type:t,parent:n,densityScale:1}).then(d)}function an(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}`;return s.default.delete(t).then(u)}function ln(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}/archive`;return s.default.post(t).then(u)}function cn(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}/activate`;return s.default.post(t).then(u)}function dn(e,t,n=!1){const i=n?"organizations":"users",r=`${Zeplin.urls.baseURL}/styleguides/${e}/${i}/${t}/ownership`;return s.default.post(r).then(d)}function un(e,t){const n=t?{handle:t}:null;return s.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/users`,n).then(d)}function hn(e,t,n){return s.default.post(`${Zeplin.urls.baseURL}/organizations/${e}/styleguides/${t}/users`,{tag:n}).then(d)}function pn(e,t){const n=`${Zeplin.urls.baseURL}/styleguides/${e}/users/${t}`;return s.default.delete(n).then(u)}function fn(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/users/${t}/role`,{role:n}).then(u)}function gn(e,t){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/name`,{name:t}).then(u)}function mn(e,t){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/description`,{description:t}).then(u)}function bn(e,t){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/densityscale`,{densityScale:t}).then(u)}function yn(e,t){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/public`,{public:t}).then(u)}function Sn(e,t){const n=`${Zeplin.urls.baseURL}/styleguides/${e}/thumbnail`;return s.default.put(n,{thumbnail:t}).then(u)}function vn(e){return s.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/extensions`).then(d)}function Cn(e,t,n){return s.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/auth`,{code:t,redirectURI:n}).then(e=>(c(e),e))}function On(e){return s.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/emojis`).then(d)}function En(e,t,n){return s.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/${t}/${n}`).then(u)}function Tn(e,t){return s.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/colors`,t).then(d)}function Dn(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/colors/${t}`,n).then(u)}function kn(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/colors/${t}`).then(u)}function wn(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/colors`,t).then(u)}function _n(e,t){return s.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles`,t).then(d)}function jn(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles/${t}`,n).then(u)}function Pn(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles/${t}`).then(u)}function Rn(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/textStyles`,t).then(u)}function In(e,t){return s.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections`,t).then(d)}function An(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}`,n).then(u)}function xn(e,t){return s.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}`).then(u)}function Nn(e,t,n){return s.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}/spacingtokens`,n).then(d)}function Ln(e,t,n,i){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}/spacingtokens/${n}`,i).then(u)}function Un(e,t,n){return s.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/spacingsections/${t}/spacingtokens/${n}`).then(u)}function Mn(e,t){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/rempreferences`,t).then(u)}function Bn(e,t,n){return s.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections${t&&t.length>0?`/${t.join("/")}/componentsections`:""}`,n).then(d)}function zn(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t.join("/")}`,n).then(u)}function Fn(e,t,n,i){const r=[{csid:t.join("/"),tcsid:n.join("/"),flatten:i}];return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/merge`,{componentSections:r}).then(u)}function Hn(e,t,n,i){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t.join("/")}/components/${n}`,i).then(u)}function Wn(e,t,n){return s.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/${t.join("/")}/components/${n}`).then(u)}function Vn(e,t){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/parent`,{parent:t}).then(u)}function Gn(e){const t=`${Zeplin.urls.baseURL}/styleguides/${e}/parent`;return s.default.delete(t).then(u)}function qn(e,t){return s.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/${t}/events`).then(d)}function $n(e,t,n){return s.default.post(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/${t}/events/${n}`).then(u)}function Zn(e,t,n){return s.default.delete(`${Zeplin.urls.baseURL}/styleguides/${e}/integrations/slacks/${t}/events/${n}`).then(u)}function Yn(e,t){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/components/order`,t).then(u)}function Kn(e,t){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/order`,t).then(u)}function Jn(e,{projectId:t,styleguideId:n}={}){const i=new Headers(Zeplin.headers);return t?i.append("Zeplin-Project-Id",t):n&&i.append("Zeplin-Styleguide-Id",n),s.default.get(`${Zeplin.urls.baseURL}/styleguides/${e}/connectedcomponents`,{headers:i}).then(d)}function Xn(e){return fetch(`http://127.0.0.1:9756/styleguides/${e}/connectedcomponents`).then(e=>e.ok?e.json().then(e=>e.connectedComponents):null).then(e=>({localConnectedComponents:e})).catch(()=>({localConnectedComponents:null}))}function Qn(e,t){return s.default.put(Zeplin.urls.baseURL+"/styleguides/workflowStatus",{styleguides:e,wsid:t}).then(u)}function ei(e){return s.default.delete(Zeplin.urls.baseURL+"/styleguides/workflowStatus",{styleguides:e}).then(u)}function ti(){return s.default.get(Zeplin.urls.baseURL+"/users").then(d)}function ni(e){return s.default.get(`${Zeplin.urls.baseURL}/users/${e}/status`).then(d)}function ii(e){return s.default.post(`${Zeplin.urls.baseURL}/users/${e}/available`).then(u)}function ri(e){return s.default.put(Zeplin.urls.baseURL+"/users/username",e).then(u)}function oi(e){return s.default.put(Zeplin.urls.baseURL+"/users/email",e).then(d)}function si(e,t){return s.default.put(Zeplin.urls.baseURL+"/users",{fullName:e,bio:t}).then(u)}function ai(e){return s.default.post(Zeplin.urls.baseURL+"/users/delete",e).then(u)}function li(e){return s.default.put(Zeplin.urls.baseURL+"/users/password",e).then(d)}function ci(e){return s.default.put(Zeplin.urls.baseURL+"/users/billing",e).then(u)}function di(){return s.default.get(Zeplin.urls.baseURL+"/stripe/users/cards").then(d)}function ui(e){return s.default.put(Zeplin.urls.baseURL+"/stripe/users/cards",e).then(u)}function hi(e,t){let n;return n=t?`${Zeplin.urls.baseURL}/stripe/organizations/${t}/invoices/${e}/send`:`${Zeplin.urls.baseURL}/stripe/users/invoices/${e}/send`,s.default.post(n).then(u)}function pi(e){const t=Object(a.joinUrlParams)(e),n=`${Zeplin.urls.baseURL}/stripe/users/invoices?${t}`;return s.default.get(n).then(d)}function fi(){return s.default.post(Zeplin.urls.baseURL+"/users/requests/verification").then(u)}function gi(){const e=Zeplin.urls.baseURL+"/users/verify";return s.default.post(e).then(d)}function mi(e,t){return s.default.post(Zeplin.urls.baseURL+"/users/login",{handle:e,password:t}).then(d)}function bi(e,t){return fetch(Zeplin.urls.baseURL+"/users",{method:"POST",headers:t,body:JSON.stringify(e)}).then(d)}function yi(e){return s.default.delete(Zeplin.urls.baseURL+"/oauth/token",{client_id:e}).then(u)}function Si(e,t){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/colors/styleguides/${t}`).then(u)}function vi(e,t){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/textstyles/styleguides/${t}`).then(u)}function Ci(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/projects/${e}/componentsections/styleguides/${t}`,{componentSections:n}).then(u)}function Oi(e,t){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/colors/styleguides/${t}`).then(u)}function Ei(e,t){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/textstyles/styleguides/${t}`).then(u)}function Ti(e,t,n){return s.default.put(`${Zeplin.urls.baseURL}/styleguides/${e}/componentsections/styleguides/${t}`,{componentSections:n}).then(u)}function Di(){return s.default.get(Zeplin.urls.baseURL+"/users/authorizedApplications").then(d).then(e=>e.applications)}function ki(e){return s.default.delete(`${Zeplin.urls.baseURL}/users/authorizedApplications/${e}`).then(u)}function wi(){return s.default.get(Zeplin.urls.baseURL+"/users/applications").then(d).then(e=>e.applications)}function _i(e){return s.default.get(`${Zeplin.urls.baseURL}/users/applications/${e}`).then(d)}function ji(e){return s.default.post(Zeplin.urls.baseURL+"/users/applications",e).then(d)}function Pi(e,t){return s.default.put(`${Zeplin.urls.baseURL}/users/applications/${e}`,t).then(u)}function Ri(e){return s.default.delete(`${Zeplin.urls.baseURL}/users/applications/${e}`).then(u)}function Ii(){return s.default.get(Zeplin.urls.baseURL+"/users/personalAccessTokens").then(d).then(e=>e.personalAccessTokens)}function Ai(){return s.default.post(Zeplin.urls.baseURL+"/users/personalAccessTokens").then(d)}function xi(e){return s.default.delete(`${Zeplin.urls.baseURL}/users/personalAccessTokens/${e}`).then(u)}function Ni(e,t){return s.default.put(`${Zeplin.urls.baseURL}/users/personalAccessTokens/${e}`,{name:t}).then(u)}function Li(e){const t=Object(a.joinUrlParams)(e);return s.default.head(`${Zeplin.urls.baseURL}/oauth/token?${t}`).then(e=>"true"===e.headers.get("Oauth-Token-Exists"))}function Ui(e){const t=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks`:Zeplin.urls.baseURL+"/users/webhooks";return s.default.get(t).then(d).then(e=>e.webhooks)}function Mi(e,t){const n=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks/${t}`:`${Zeplin.urls.baseURL}/users/webhooks/${t}`;return s.default.get(n).then(d)}function Bi(e,t){const n=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks`:Zeplin.urls.baseURL+"/users/webhooks";return s.default.post(n,t).then(d)}function zi(e,t,n){const i=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks/${t}`:`${Zeplin.urls.baseURL}/users/webhooks/${t}`;return s.default.put(i,n).then(u)}function Fi(e,t){const n=e&&"user"!==e?`${Zeplin.urls.baseURL}/organizations/${e}/webhooks/${t}`:`${Zeplin.urls.baseURL}/users/webhooks/${t}`;return s.default.delete(n).then(u)}function Hi(e){return s.default.post(Zeplin.urls.baseURL+"/webhooks/urlhealthcheck",{url:e})}const Wi={get:ue,inviteUser:me,inviteUsersByTag:be,activate:fe,archive:ge,delete:Ce,getOrganization:pe,updateName:Ee,updateDescription:Te,updateDensityScale:De,updateThumbnail:It,updateAccessibility:ke,updateUserRole:Se,transferOwnership:ye,removeUser:ve,getSlackIntegrationEmojis:xe,deleteIntegration:Ne,getExtensions:Le,addExtension:Me,removeExtension:Ue,createColor:We,updateColor:Ve,deleteColor:Ge,deleteAllColors:qe,updateColorsStyleguide:Si,createTextStyle:$e,updateTextStyle:Ze,deleteTextStyle:Ye,deleteAllTextStyles:Ke,updateTextStylesStyleguide:vi,createSpacingSection:Je,updateSpacingSection:Xe,deleteSpacingSection:Qe,createSpacingToken:et,updateSpacingToken:tt,deleteSpacingToken:nt,updateRemPreferences:it,getComponentSections:rt,addComponentSection:at,updateComponentSection:lt,mergeComponentSection:ct,updateComponent:dt,deleteComponent:ut,updateComponentsOrder:ht,updateComponentSectionsOrder:pt,updateComponentSectionsStyleguide:Ci,authSlack:Ae,getIntegrationEvents:mt,addIntegrationEvent:bt,deleteIntegrationEvent:yt,getConnectedComponents:ot,getLocalConnectedComponents:st,updateWorkflowStatus:xt,deleteWorkflowStatus:Nt},Vi={get:nn,inviteUser:un,inviteUsersByTag:hn,activate:cn,archive:ln,delete:an,getOrganization:rn,updateName:gn,updateDescription:mn,updateDensityScale:bn,updateThumbnail:Sn,updateAccessibility:yn,updateUserRole:fn,transferOwnership:dn,removeUser:pn,getSlackIntegrationEmojis:On,deleteIntegration:En,getExtensions:vn,addExtension:ze,removeExtension:Be,createColor:Tn,updateColor:Dn,deleteColor:kn,deleteAllColors:wn,updateColorsStyleguide:Oi,createTextStyle:_n,updateTextStyle:jn,deleteTextStyle:Pn,deleteAllTextStyles:Rn,updateTextStylesStyleguide:Ei,createSpacingSection:In,updateSpacingSection:An,deleteSpacingSection:xn,createSpacingToken:Nn,updateSpacingToken:Ln,deleteSpacingToken:Un,updateRemPreferences:Mn,addComponentSection:Bn,updateComponentSection:zn,mergeComponentSection:Fn,updateComponent:Hn,deleteComponent:Wn,updateComponentsOrder:Yn,updateComponentSectionsOrder:Kn,updateComponentSectionsStyleguide:Ti,authSlack:Cn,getIntegrationEvents:qn,addIntegrationEvent:$n,deleteIntegrationEvent:Zn,getConnectedComponents:Jn,getLocalConnectedComponents:Xn,updateWorkflowStatus:Qn,deleteWorkflowStatus:ei},Gi={checkUsernameAvailable:ii,getUserStatus:ni,loginUser:mi,signupUser:bi},qi={getAuthorizedApplications:Di,revokeAuthorizedApplication:ki,getOwnedApplications:wi,getOwnedApplication:_i,createApplication:ji,updateApplication:Pi,deleteApplication:Ri,getPersonalAccessTokens:Ii,createPersonalAccessToken:Ai,renamePersonalAccessToken:Ni,deletePersonalAccessToken:xi,getAppStatus:Li,getWebhooks:Ui,getWebhook:Mi,createWebhook:Bi,updateWebhook:zi,deleteWebhook:Fi,checkWebhookUrlHealth:Hi}},function(e,t,n){"use strict";function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t);const s={STATUS:{OK:200,NO_CONTENT:204,PARTIAL_CONTENT:206,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,GONE:410,PRECONDITION_FAILED:412},head(e,t={}){const n=r({headers:Zeplin.headers,method:"HEAD"},t);return fetch(e,n)},get:(e,t={})=>fetch(e,r({headers:Zeplin.headers},t)),post(e,t){const n={headers:Zeplin.headers,method:"POST"};return t&&Object.assign(n,{body:JSON.stringify(t)}),fetch(e,n)},put(e,t){const n={headers:Zeplin.headers,method:"PUT"};return t&&Object.assign(n,{body:JSON.stringify(t)}),fetch(e,n)},delete(e,t){const n={headers:Zeplin.headers,method:"DELETE"};return t&&Object.assign(n,{body:JSON.stringify(t)}),fetch(e,n)}};t.default=s},function(e,t,n){"use strict";n.r(t),n.d(t,"userPrefs",(function(){return m})),n.d(t,"barrelPrefs",(function(){return b})),n.d(t,"extensionPrefs",(function(){return y})),n.d(t,"organizationPrefs",(function(){return S}));var i=n(141),r=n.n(i);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={notificationStatus:!1,notificationBannerStatus:!0,projectSortType:"created",styleguidesTabVisited:!1,styleguidesUsed:!1,tabTutorialSeen:!1,versionsTutorialSeen:!1,zeplinThreeZeroWhatsNewSeen:!1,noVectorAssetInfoHidden:!1,sourceFileInfoHidden:!1,lastOrganization:"user",pinnedBarrelOnce:!1,dashboardMemberSortKey:{field:"role",reverse:!0},resolvedDotsTutorialSeen:!1,noScreensDesignToolSelection:"photoshop",flowLinkInfoDismissed:!1,windowsAppsNewReleasePointReminderOpen:!1,densityMismatchWarningHidden:!1,shouldPromoteSpacingSectionDescriptionEditButton:!0,shouldDisplayStyleguideTutorial:!0,recentlyLoadedBarrels:{projects:[],styleguides:[]}},c={assetDensityScalePrefs:null,assetNamingConvention:"default",dashboardSidebarWidth:280,screenSidebarWidth:280,styleguideLeftSidebarWidth:200,styleguideRightSidebarWidth:280,lastNoteColorUsed:"yellow",layoutGridEnabled:!1,noResourceInfoDismissed:!1,noteVisibility:!0,noteStatusFilter:"open",noteColorFilter:null,collapsedSections:{},showOptimizedSVG:!0,slackReconnectionAuntieSeen:!1,versionsSidebarWidth:280,zoomLevel:1,fixedThumbnailSize:!1,extensions:null,androidResFolderReminderSeen:!1},d={projectSortType:"sections",collapsedSections:{},dialogDismissStates:{}};let u,h,p,f;function g(){u=r.a.createInstance({driver:[r.a.INDEXEDDB,r.a.LOCALSTORAGE],name:"userPrefs",version:1}),h=r.a.createInstance({driver:[r.a.INDEXEDDB,r.a.LOCALSTORAGE],name:"projectPrefs",version:1}),p=r.a.createInstance({driver:[r.a.INDEXEDDB,r.a.LOCALSTORAGE],name:"extensionPrefs",version:1}),f=r.a.createInstance({driver:[r.a.INDEXEDDB,r.a.LOCALSTORAGE],name:"organizationPrefs",version:1})}g();const m={getAll(){var e=l;return u.iterate((function(t,n){e[n]=t})).then((function(){return e}))},get:e=>u.getItem(e).then((function(t){return null===t?l[e]:t})),set:(e,t)=>u.setItem(e,t)},b={getAll:e=>h.getItem(e).then(e=>s(s({},c),e)),get:(e,t,n)=>h.getItem(e).then(e=>!e||!(t in e)||n&&!(n in e[t])?n?c[n]:c[t]:n?e[t][n]:e[t]),set:(e,t,n,i)=>h.getItem(e).then(r=>(r||(r={}),i?(r[t]||(r[t]={}),r[t][n]=i,h.setItem(e,r)):(r[t]=n,h.setItem(e,r))))},y={get:(e,t,n)=>p.getItem(e).then((function(e){return e&&t in e?n?e[t][n]:e[t]:null})),set:(e,t,n,i)=>p.getItem(e).then((function(r){return r||(r={}),r[t]||(r[t]={}),r[t][n]=i,p.setItem(e,r)})),remove:e=>p.removeItem(e)},S={getAll:e=>f.getItem(e).then(e=>s(s({},d),e)),get:(e,t,n)=>f.getItem(e).then(e=>!e||!(t in e)||n&&!(n in e[t])?n?d[n]:d[t]:n?e[t][n]:e[t]),set:(e,t,n,i)=>f.getItem(e).then(r=>(r||(r={}),void 0===i?(r[t]=n,f.setItem(e,r)):(r[t]||(r[t]={}),r[t][n]=i,f.setItem(e,r))))};function v(e){return function(...t){return e(...t).catch(()=>(g(),e(...t)))}}b.get=v(b.get),b.set=v(b.set),m.get=v(m.get),m.set=v(m.set),y.get=v(y.get),y.set=v(y.set),S.get=v(S.get),S.set=v(S.set)},function(e,t,n){(function(t){e.exports=function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){var n=t[s][1][e];return r(n||e)}),c,c.exports,e,t,n,i)}return n[s].exports}for(var o=!1,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,n,i){(function(e){"use strict";var t,i,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var o=0,s=new r(d),a=e.document.createTextNode("");s.observe(a,{characterData:!0}),t=function(){a.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)t="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){d(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(d,0)};else{var l=new e.MessageChannel;l.port1.onmessage=d,t=function(){l.port2.postMessage(0)}}var c=[];function d(){var e,t;i=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}i=!1}n.exports=function(e){1!==c.push(e)||i||t()}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var i=e(1);function r(){}var o={},s=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==r&&p(this,e)}function d(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function u(e,t,n){i((function(){var i;try{i=t(n)}catch(r){return o.reject(e,r)}i===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,i)}))}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function i(t){n||(n=!0,o.reject(e,t))}function r(t){n||(n=!0,o.resolve(e,t))}var s=f((function(){t(r,i)}));"error"===s.status&&i(s.value)}function f(e,t){var n={};try{n.value=e(t),n.status="success"}catch(i){n.status="error",n.value=i}return n}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===s)return this;var n=new this.constructor(r);return this.state!==l?u(n,this.state===a?e:t,this.outcome):this.queue.push(new d(n,e,t)),n},d.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){o.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=f(h,t);if("error"===n.status)return o.reject(e,n.value);var i=n.value;if(i)p(e,i);else{e.state=a,e.outcome=t;for(var r=-1,s=e.queue.length;++r<s;)e.queue[r].callFulfilled(t)}return e},o.reject=function(e,t){e.state=s,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(r),e)},c.reject=function(e){var t=new this(r);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,l=-1,c=new this(r);++l<n;)d(e[l],l);return c;function d(e,r){t.resolve(e).then((function(e){s[r]=e,++a!==n||i||(i=!0,o.resolve(c,s))}),(function(e){i||(i=!0,o.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var s,a=-1,l=new this(r);++a<n;)s=e[a],t.resolve(s).then((function(e){i||(i=!0,o.resolve(l,e))}),(function(e){i||(i=!0,o.reject(l,e))}));return l}},{1:1}],3:[function(e,n,i){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function o(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<e.length;i+=1)n.append(e[i]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var s=Promise;function a(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function l(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function c(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function d(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var u=void 0,h={},p=Object.prototype.toString;function f(e){return"boolean"==typeof u?s.resolve(u):function(e){return new s((function(t){var n=e.transaction("local-forage-detect-blob-support","readwrite"),i=o([""]);n.objectStore("local-forage-detect-blob-support").put(i,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return u=e}))}function g(e){var t=h[e.name],n={};n.promise=new s((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function m(e){var t=h[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function b(e,t){var n=h[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function y(e,t){return new s((function(n,i){if(h[e.name]=h[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);g(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var s=r.open.apply(r,o);t&&(s.onupgradeneeded=function(t){var n=s.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore("local-forage-detect-blob-support")}catch(i){if("ConstraintError"!==i.name)throw i;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),s.onerror=function(e){e.preventDefault(),i(s.error)},s.onsuccess=function(){n(s.result),m(e)}}))}function S(e){return y(e,!1)}function v(e){return y(e,!0)}function C(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),i=e.version<e.db.version,r=e.version>e.db.version;if(i&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),r||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function O(e){return o([function(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n),r=0;r<t;r++)i[r]=e.charCodeAt(r);return n}(atob(e.data))],{type:e.type})}function E(e){return e&&e.__local_forage_encoded_blob}function T(e){var t=this,n=t._initReady().then((function(){var e=h[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return l(n,e,e),n}function D(e,t,n,i){void 0===i&&(i=1);try{var r=e.db.transaction(e.storeName,t);n(null,r)}catch(o){if(i>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return s.resolve().then((function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),v(e)})).then((function(){return function(e){g(e);for(var t=h[e.name],n=t.forages,i=0;i<n.length;i++){var r=n[i];r._dbInfo.db&&(r._dbInfo.db.close(),r._dbInfo.db=null)}return e.db=null,S(e).then((function(t){return e.db=t,C(e)?v(e):t})).then((function(i){e.db=t.db=i;for(var r=0;r<n.length;r++)n[r]._dbInfo.db=i})).catch((function(t){throw b(e,t),t}))}(e).then((function(){D(e,t,n,i-1)}))})).catch(n);n(o)}}var k={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var i in e)n[i]=e[i];var r=h[n.name];r||(r={forages:[],db:null,dbReady:null,deferredOperations:[]},h[n.name]=r),r.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=T);var o=[];function a(){return s.resolve()}for(var l=0;l<r.forages.length;l++){var c=r.forages[l];c!==t&&o.push(c._initReady().catch(a))}var d=r.forages.slice(0);return s.all(o).then((function(){return n.db=r.db,S(n)})).then((function(e){return n.db=e,C(n,t._defaultConfig.version)?v(n):e})).then((function(e){n.db=r.db=e,t._dbInfo=n;for(var i=0;i<d.length;i++){var o=d[i];o!==t&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},_support:function(){try{if(!r)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(n){return!1}}(),iterate:function(e,t){var n=this,i=new s((function(t,i){n.ready().then((function(){D(n._dbInfo,"readonly",(function(r,o){if(r)return i(r);try{var s=o.objectStore(n._dbInfo.storeName).openCursor(),a=1;s.onsuccess=function(){var n=s.result;if(n){var i=n.value;E(i)&&(i=O(i));var r=e(i,n.key,a++);void 0!==r?t(r):n.continue()}else t()},s.onerror=function(){i(s.error)}}catch(l){i(l)}}))})).catch(i)}));return a(i,t),i},getItem:function(e,t){var n=this;e=c(e);var i=new s((function(t,i){n.ready().then((function(){D(n._dbInfo,"readonly",(function(r,o){if(r)return i(r);try{var s=o.objectStore(n._dbInfo.storeName).get(e);s.onsuccess=function(){var e=s.result;void 0===e&&(e=null),E(e)&&(e=O(e)),t(e)},s.onerror=function(){i(s.error)}}catch(a){i(a)}}))})).catch(i)}));return a(i,t),i},setItem:function(e,t,n){var i=this;e=c(e);var r=new s((function(n,r){var o;i.ready().then((function(){return o=i._dbInfo,"[object Blob]"===p.call(t)?f(o.db).then((function(e){return e?t:(n=t,new s((function(e,t){var i=new FileReader;i.onerror=t,i.onloadend=function(t){var i=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:i,type:n.type})},i.readAsBinaryString(n)})));var n})):t})).then((function(t){D(i._dbInfo,"readwrite",(function(o,s){if(o)return r(o);try{var a=s.objectStore(i._dbInfo.storeName);null===t&&(t=void 0);var l=a.put(t,e);s.oncomplete=function(){void 0===t&&(t=null),n(t)},s.onabort=s.onerror=function(){var e=l.error?l.error:l.transaction.error;r(e)}}catch(c){r(c)}}))})).catch(r)}));return a(r,n),r},removeItem:function(e,t){var n=this;e=c(e);var i=new s((function(t,i){n.ready().then((function(){D(n._dbInfo,"readwrite",(function(r,o){if(r)return i(r);try{var s=o.objectStore(n._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){i(s.error)},o.onabort=function(){var e=s.error?s.error:s.transaction.error;i(e)}}catch(a){i(a)}}))})).catch(i)}));return a(i,t),i},clear:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){D(t._dbInfo,"readwrite",(function(i,r){if(i)return n(i);try{var o=r.objectStore(t._dbInfo.storeName).clear();r.oncomplete=function(){e()},r.onabort=r.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(s){n(s)}}))})).catch(n)}));return a(n,e),n},length:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){D(t._dbInfo,"readonly",(function(i,r){if(i)return n(i);try{var o=r.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(s){n(s)}}))})).catch(n)}));return a(n,e),n},key:function(e,t){var n=this,i=new s((function(t,i){e<0?t(null):n.ready().then((function(){D(n._dbInfo,"readonly",(function(r,o){if(r)return i(r);try{var s=o.objectStore(n._dbInfo.storeName),a=!1,l=s.openCursor();l.onsuccess=function(){var n=l.result;n?0===e||a?t(n.key):(a=!0,n.advance(e)):t(null)},l.onerror=function(){i(l.error)}}catch(c){i(c)}}))})).catch(i)}));return a(i,t),i},keys:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){D(t._dbInfo,"readonly",(function(i,r){if(i)return n(i);try{var o=r.objectStore(t._dbInfo.storeName).openCursor(),s=[];o.onsuccess=function(){var t=o.result;t?(s.push(t.key),t.continue()):e(s)},o.onerror=function(){n(o.error)}}catch(a){n(a)}}))})).catch(n)}));return a(n,e),n},dropInstance:function(e,t){t=d.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var i,o=this;if(e.name){var l=e.name===n.name&&o._dbInfo.db,c=l?s.resolve(o._dbInfo.db):S(e).then((function(t){var n=h[e.name],i=n.forages;n.db=t;for(var r=0;r<i.length;r++)i[r]._dbInfo.db=t;return t}));i=e.storeName?c.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;g(e);var i=h[e.name],o=i.forages;t.close();for(var a=0;a<o.length;a++){var l=o[a];l._dbInfo.db=null,l._dbInfo.version=n}return new s((function(t,i){var o=r.open(e.name,n);o.onerror=function(e){o.result.close(),i(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(e.storeName)},o.onsuccess=function(){var e=o.result;e.close(),t(e)}})).then((function(e){i.db=e;for(var t=0;t<o.length;t++){var n=o[t];n._dbInfo.db=e,m(n._dbInfo)}})).catch((function(t){throw(b(e,t)||s.resolve()).catch((function(){})),t}))}})):c.then((function(t){g(e);var n=h[e.name],i=n.forages;t.close();for(var o=0;o<i.length;o++)i[o]._dbInfo.db=null;return new s((function(t,n){var i=r.deleteDatabase(e.name);i.onerror=i.onblocked=function(e){var t=i.result;t&&t.close(),n(e)},i.onsuccess=function(){var e=i.result;e&&e.close(),t(e)}})).then((function(e){n.db=e;for(var t=0;t<i.length;t++)m(i[t]._dbInfo)})).catch((function(t){throw(b(e,t)||s.resolve()).catch((function(){})),t}))}))}else i=s.reject("Invalid arguments");return a(i,t),i}},w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_=/^~~local_forage_type~([^~]+)~/,j="__lfsc__:".length,P=j+"arbf".length,R=Object.prototype.toString;function I(e){var t,n,i,r,o,s=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var c=new ArrayBuffer(s),d=new Uint8Array(c);for(t=0;t<a;t+=4)n=w.indexOf(e[t]),i=w.indexOf(e[t+1]),r=w.indexOf(e[t+2]),o=w.indexOf(e[t+3]),d[l++]=n<<2|i>>4,d[l++]=(15&i)<<4|r>>2,d[l++]=(3&r)<<6|63&o;return c}function A(e){var t,n=new Uint8Array(e),i="";for(t=0;t<n.length;t+=3)i+=w[n[t]>>2],i+=w[(3&n[t])<<4|n[t+1]>>4],i+=w[(15&n[t+1])<<2|n[t+2]>>6],i+=w[63&n[t+2]];return n.length%3==2?i=i.substring(0,i.length-1)+"=":n.length%3==1&&(i=i.substring(0,i.length-2)+"=="),i}var x={serialize:function(e,t){var n="";if(e&&(n=R.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===R.call(e.buffer))){var i,r="__lfsc__:";e instanceof ArrayBuffer?(i=e,r+="arbf"):(i=e.buffer,"[object Int8Array]"===n?r+="si08":"[object Uint8Array]"===n?r+="ui08":"[object Uint8ClampedArray]"===n?r+="uic8":"[object Int16Array]"===n?r+="si16":"[object Uint16Array]"===n?r+="ur16":"[object Int32Array]"===n?r+="si32":"[object Uint32Array]"===n?r+="ui32":"[object Float32Array]"===n?r+="fl32":"[object Float64Array]"===n?r+="fl64":t(new Error("Failed to get type for BinaryArray"))),t(r+A(i))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+e.type+"~"+A(this.result);t("__lfsc__:blob"+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(s){console.error("Couldn't convert value into a JSON string: ",e),t(null,s)}},deserialize:function(e){if("__lfsc__:"!==e.substring(0,j))return JSON.parse(e);var t,n=e.substring(P),i=e.substring(j,P);if("blob"===i&&_.test(n)){var r=n.match(_);t=r[1],n=n.substring(r[0].length)}var s=I(n);switch(i){case"arbf":return s;case"blob":return o([s],{type:t});case"si08":return new Int8Array(s);case"ui08":return new Uint8Array(s);case"uic8":return new Uint8ClampedArray(s);case"si16":return new Int16Array(s);case"ur16":return new Uint16Array(s);case"si32":return new Int32Array(s);case"ui32":return new Uint32Array(s);case"fl32":return new Float32Array(s);case"fl64":return new Float64Array(s);default:throw new Error("Unkown type: "+i)}},stringToBuffer:I,bufferToString:A};function N(e,t,n,i){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,i)}function L(e,t,n,i,r,o){e.executeSql(n,i,r,(function(e,s){s.code===s.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,a){a.rows.length?o(e,s):N(e,t,(function(){e.executeSql(n,i,r,o)}),o)}),o):o(e,s)}),o)}function U(e,t,n,i){var r=this;e=c(e);var o=new s((function(o,s){r.ready().then((function(){void 0===t&&(t=null);var a=t,l=r._dbInfo;l.serializer.serialize(t,(function(t,c){c?s(c):l.db.transaction((function(n){L(n,l,"INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){o(a)}),(function(e,t){s(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(i>0)return void o(U.apply(r,[e,a,n,i-1]));s(t)}}))}))})).catch(s)}));return a(o,n),o}function M(e){return new s((function(t,n){e.transaction((function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,i){for(var r=[],o=0;o<i.rows.length;o++)r.push(i.rows.item(o).name);t({db:e,storeNames:r})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}var B={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var i in e)n[i]="string"!=typeof e[i]?e[i].toString():e[i];var r=new s((function(e,i){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(r){return i(r)}n.db.transaction((function(r){N(r,n,(function(){t._dbInfo=n,e()}),(function(e,t){i(t)}))}),i)}));return n.serializer=x,r},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,i=new s((function(t,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){L(n,r,"SELECT * FROM "+r.storeName,[],(function(n,i){for(var o=i.rows,s=o.length,a=0;a<s;a++){var l=o.item(a),c=l.value;if(c&&(c=r.serializer.deserialize(c)),void 0!==(c=e(c,l.key,a+1)))return void t(c)}t()}),(function(e,t){i(t)}))}))})).catch(i)}));return a(i,t),i},getItem:function(e,t){var n=this;e=c(e);var i=new s((function(t,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){L(n,r,"SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var i=n.rows.length?n.rows.item(0).value:null;i&&(i=r.serializer.deserialize(i)),t(i)}),(function(e,t){i(t)}))}))})).catch(i)}));return a(i,t),i},setItem:function(e,t,n){return U.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=c(e);var i=new s((function(t,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){L(n,r,"DELETE FROM "+r.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){i(t)}))}))})).catch(i)}));return a(i,t),i},clear:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){var i=t._dbInfo;i.db.transaction((function(t){L(t,i,"DELETE FROM "+i.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return a(n,e),n},length:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){var i=t._dbInfo;i.db.transaction((function(t){L(t,i,"SELECT COUNT(key) as c FROM "+i.storeName,[],(function(t,n){var i=n.rows.item(0).c;e(i)}),(function(e,t){n(t)}))}))})).catch(n)}));return a(n,e),n},key:function(e,t){var n=this,i=new s((function(t,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){L(n,r,"SELECT key FROM "+r.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var i=n.rows.length?n.rows.item(0).key:null;t(i)}),(function(e,t){i(t)}))}))})).catch(i)}));return a(i,t),i},keys:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){var i=t._dbInfo;i.db.transaction((function(t){L(t,i,"SELECT key FROM "+i.storeName,[],(function(t,n){for(var i=[],r=0;r<n.rows.length;r++)i.push(n.rows.item(r).key);e(i)}),(function(e,t){n(t)}))}))})).catch(n)}));return a(n,e),n},dropInstance:function(e,t){t=d.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var i,r=this;return a(i=e.name?new s((function(t){var i;i=e.name===n.name?r._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:i,storeNames:[e.storeName]}):t(M(i))})).then((function(e){return new s((function(t,n){e.db.transaction((function(i){function r(e){return new s((function(t,n){i.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var o=[],a=0,l=e.storeNames.length;a<l;a++)o.push(r(e.storeNames[a]));s.all(o).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):s.reject("Invalid arguments"),t),i}};function z(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function F(){return!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(e){return!0}}()||localStorage.length>0}var H={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=z(e,this._defaultConfig),F()?(this._dbInfo=t,t.serializer=x,s.resolve()):s.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,i=n.ready().then((function(){for(var t=n._dbInfo,i=t.keyPrefix,r=i.length,o=localStorage.length,s=1,a=0;a<o;a++){var l=localStorage.key(a);if(0===l.indexOf(i)){var c=localStorage.getItem(l);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,l.substring(r),s++)))return c}}}));return a(i,t),i},getItem:function(e,t){var n=this;e=c(e);var i=n.ready().then((function(){var t=n._dbInfo,i=localStorage.getItem(t.keyPrefix+e);return i&&(i=t.serializer.deserialize(i)),i}));return a(i,t),i},setItem:function(e,t,n){var i=this;e=c(e);var r=i.ready().then((function(){void 0===t&&(t=null);var n=t;return new s((function(r,o){var s=i._dbInfo;s.serializer.serialize(t,(function(t,i){if(i)o(i);else try{localStorage.setItem(s.keyPrefix+e,t),r(n)}catch(a){"QuotaExceededError"!==a.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==a.name||o(a),o(a)}}))}))}));return a(r,n),r},removeItem:function(e,t){var n=this;e=c(e);var i=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return a(i,t),i},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var i=localStorage.key(n);0===i.indexOf(e)&&localStorage.removeItem(i)}}));return a(n,e),n},length:function(e){var t=this.keys().then((function(e){return e.length}));return a(t,e),t},key:function(e,t){var n=this,i=n.ready().then((function(){var t,i=n._dbInfo;try{t=localStorage.key(e)}catch(r){t=null}return t&&(t=t.substring(i.keyPrefix.length)),t}));return a(i,t),i},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,i=[],r=0;r<n;r++){var o=localStorage.key(r);0===o.indexOf(e.keyPrefix)&&i.push(o.substring(e.keyPrefix.length))}return i}));return a(n,e),n},dropInstance:function(e,t){if(t=d.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var i,r=this;return a(i=e.name?new s((function(t){e.storeName?t(z(e,r._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):s.reject("Invalid arguments"),t),i}},W=function(e,t){for(var n,i,r=e.length,o=0;o<r;){if((n=e[o])===(i=t)||"number"==typeof n&&"number"==typeof i&&isNaN(n)&&isNaN(i))return!0;o++}return!1},V=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},G={},q={},$={INDEXEDDB:k,WEBSQL:B,LOCALSTORAGE:H},Z=[$.INDEXEDDB._driver,$.WEBSQL._driver,$.LOCALSTORAGE._driver],Y=["dropInstance"],K=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Y),J={description:"",driver:Z.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function X(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function Q(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(V(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var ee=new(function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$)if($.hasOwnProperty(n)){var i=$[n],r=i._driver;this[n]=r,G[r]||this.defineDriver(i)}this._defaultConfig=Q({},J),this._config=Q({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":i(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var i=new s((function(t,n){try{var i=e._driver,r=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(r);for(var o=K.concat("_initStorage"),l=0,c=o.length;l<c;l++){var d=o[l];if((!W(Y,d)||e[d])&&"function"!=typeof e[d])return void n(r)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=s.reject(t);return a(n,arguments[arguments.length-1]),n}},n=0,i=Y.length;n<i;n++){var r=Y[n];e[r]||(e[r]=t(r))}}();var u=function(n){G[i]&&console.info("Redefining LocalForage driver: "+i),G[i]=e,q[i]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(u,n):u(!!e._support):u(!0)}catch(h){n(h)}}));return l(i,t,n),i},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var i=G[e]?s.resolve(G[e]):s.reject(new Error("Driver not found."));return l(i,t,n),i},e.prototype.getSerializer=function(e){var t=s.resolve(x);return l(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return l(n,e,e),n},e.prototype.setDriver=function(e,t,n){var i=this;V(e)||(e=[e]);var r=this._getSupportedDrivers(e);function o(){i._config.driver=i.driver()}function a(e){return i._extend(e),o(),i._ready=i._initStorage(i._config),i._ready}var c=null!==this._driverSet?this._driverSet.catch((function(){return s.resolve()})):s.resolve();return this._driverSet=c.then((function(){var e=r[0];return i._dbInfo=null,i._ready=null,i.getDriver(e).then((function(e){i._driver=e._driver,o(),i._wrapLibraryMethodsWithReady(),i._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var r=e[t];return t++,i._dbInfo=null,i._ready=null,i.getDriver(r).then(a).catch(n)}o();var l=new Error("No available storage method found.");return i._driverSet=s.reject(l),i._driverSet}()}}(r)}))})).catch((function(){o();var e=new Error("No available storage method found.");return i._driverSet=s.reject(e),i._driverSet})),l(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!q[e]},e.prototype._extend=function(e){Q(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];this.supports(r)&&t.push(r)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=K.length;e<t;e++)X(this,K[e])},e.prototype.createInstance=function(t){return new e(t)},e}());t.exports=ee},{3:3}]},{},[4])(4)}).call(this,n(142))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function i(e,t,n){const i=t.toLowerCase();if(e===i)return 1;let r=0,o=e.toLowerCase(),s=0;const a=n&&n.toLowerCase(),l=new RegExp(`\\s*\\b${a}\\b\\s*`,"ig");if(a&&l.test(o)&&(s=.3,o=o.replace(l," ").trim(),!o))return s;const c=i.indexOf(o);if(c>-1)return r+=.3,i.startsWith(o)?r+=.3:" "===i.charAt(c-1)&&(r+=.2),r+=(i.length-c)/i.length/200,r+s;let d=i.indexOf(o.charAt(0)),u=0,h=0;for(var p=d;p<i.length&&-1!==d;p++){u+=(i.length-d)/i.length/200," "===i.charAt(d>0?d-1:d)&&(u+=(i.length-d)/i.length/200);const e=o[++h];d=e?i.indexOf(e,d+1):-1}return h===o.length&&(r+=.05+u),r?r+s:0}n.r(t),n.d(t,"calculateMatchingScore",(function(){return i}))},,,function(e,t){const n=document.querySelectorAll("input[type='text'], input[type='email'], input[type='password'], textarea"),i=document.querySelectorAll(".showPasswordCheckbox");Array.from(n).forEach(e=>{const t=e.closest(".inputArea");t&&(e.addEventListener("focus",()=>{t.classList.add("focus")}),e.addEventListener("blur",()=>{t.classList.remove("focus")}),t.classList.toggle("typed",!!e.value.length),e.value&&t.classList.toggle("invalid",!e.validity.valid),e.addEventListener("input",()=>{t.classList.toggle("typed",!!e.value.length)}))}),Array.from(i).forEach(e=>{e.addEventListener("change",()=>{e.parentElement.parentElement.querySelector("input").type=e.checked?"text":"password"})})},,,,,,,,,,function(e,t,n){"use strict";n.r(t);var i=n(157);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(19),o=n(6),s=n.n(o),a=n(11),l=n(18),c=n(158);n(161);class d extends i.Component{constructor(e){super(e),this.handleInputChange=this.handleInputChange.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleMaskChange=this.handleMaskChange.bind(this),this.state={value:e.value,focusWithin:!1,isMasked:"password"===e.type}}handleInputChange(e){const t=e.target.value;this.setState({value:t});const{onInput:n}=this.props;n(t)}handleBlur(){const{onBlur:e,label:t}=this.props;e&&e(t),this.setState({focusWithin:!1})}handleFocus(){const{onFocus:e,label:t}=this.props;e&&e(t),this.setState({focusWithin:!0})}handleMaskChange(){this.setState(e=>({isMasked:!e.isMasked}))}componentWillReceiveProps(e){e.value!==this.props.value&&this.setState({value:e.value})}render(){const{value:e,focusWithin:t,isMasked:n}=this.state,{label:o,onKeyPress:s,primary:d,valid:u,extraInfoText:h,extraInfoLoading:p,tipText:f,showTipText:g,minLength:m,maxLength:b,autoComplete:y,autofocus:S,inputRef:v,type:C}=this.props;let O;d&&u?O="img/icTickBlue.svg":u?O="img/icTick.svg":!1===u&&(O="img/icInvalid.svg");let E=C;const T="password"===C;T&&!n&&(E="text");const D=Object(r.getRandomString)(),k=(t||g)&&!!f,w=Object(a.default)("inputArea",{focus:t,typed:!!e});return i.h("div",{class:Object(a.default)("inputWithLabelContainer",{primary:d,invalid:!1===u})},i.h("div",{class:w,title:o},i.h("input",{id:D,value:e,name:"textInput",type:E,placeholder:o,minLength:m,maxLength:b,ref:v,autoComplete:y,autofocus:S,onInput:this.handleInputChange,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyPress:s}),i.h("label",{for:D,class:"inputLabel"},o),i.h("div",{class:"extraInputInfo"},p&&i.h("img",{src:Object(l.imageUrl)("img/icSpinnerBlueTheme.svg"),class:"spinner"}),!!O&&i.h("img",{src:Object(l.imageUrl)(O)}),i.h("span",{class:"extraInfoText"},h),T&&i.h("label",{class:"showPasswordContainer"},i.h(c.default,{onChange:this.handleMaskChange,checked:!n}),i.h("span",{class:"showText"},"Show")))),k&&i.h("div",{class:"tipText"},f))}}d.defaultProps={value:"",type:"text",maxLength:100,autoComplete:"off",autofocus:!1},d.propTypes={value:s.a.string,label:s.a.string,onKeyPress:s.a.func,onInput:s.a.func,onBlur:s.a.func,onFocus:s.a.func,primary:s.a.bool,valid:s.a.bool,extraInfoText:s.a.string,extraInfoLoading:s.a.bool,tipText:s.a.object,showTipText:s.a.boolean,maxLength:s.a.number,autoComplete:s.a.string,type:s.a.string,inputRef:s.a.func},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(159);t.default=i.default},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(1),r=n(11);n(160);function o(e){var t=Object.assign({},e);return delete t.class,i.h("div",{class:Object(r.default)("checkboxComponent",e.class)},i.h("input",Object.assign(t,{type:"checkbox"})),i.h("div",{class:"indicator"}))}},function(e,t){},function(e,t){},,,,function(e,t,n){"use strict";n.r(t),n.d(t,"showPlanChooserOverlay",(function(){return X}));var i=n(1),r=n(46),o=n.n(r),s=n(166),a=n(168),l=n(42),c=n(45),d=n(137),u=n(44),h=n(62),p=n(18),f=n(40),g=n(173),m=n(174),b=n(309),y=n(316),S=n(176),v=n(319),C=n(324),O=n(65);const E=new g.default(m.default,document.body),T=new g.default(S.default,document.body),D=document.getElementById("planChooserOverlay"),k=document.getElementById("planChooserContent"),w=document.getElementById("discountNotice"),_=document.getElementById("couponForm"),j=document.getElementById("couponCode"),P=document.getElementById("plansContainer"),R=document.getElementById("featureCardGallery"),I=document.getElementById("applyCouponButton"),A=document.getElementById("couponWrapper"),x=document.getElementById("friendlyReminderDialog"),N=document.getElementById("cancelFriendlyReminderButton"),L=document.getElementById("continueToPaymentButton");let U,M,B,z,F,H,W,V,G,q;l.polyfill.registerDialog(x);let $=!1;const Z={monthly:{bff:null,banker_bilo:null,free:null,starter:null,growing:null,organization:null},annual:{bff:null,banker_bilo:null,free:null,starter:null,growing:null,organization:null}},Y={},K=Object.freeze({monthly:{bff:"bff",banker_bilo:"banker_bilo",free:"free",starter:"starter_monthly_v2",growing:"growing_monthly_v2",organization:"organization_monthly_v2"},annual:{bff:"bff",banker_bilo:"banker_bilo",free:"free",starter:"starter_annual_v2",growing:"growing_annual_v2",organization:"organization_annual_v3"}}),J=Object.freeze(["starter_monthly_v2","starter_annual_v2","growing_monthly_v2","growing_annual_v2","organization_monthly_v2","organization_annual_v3"]);function X(e=null){O.default.isWindowsApp?location.replace(Object(u.urlResolve)("profile-billing",{query:{period:"annual"}})):(D.classList.remove("hidden"),v.SupportButtonActions.setOverridingCategory(C.default.PRICING),q=e,mixpanel.webapp.track("Opened pricing popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-pricing-popup"),ga("send","pageview","/pricing-popup"))}function Q(){D.classList.add("hidden"),v.SupportButtonActions.setOverridingCategory(null),q&&(q(),q=null)}const ee=document.getElementById("updatePlanButton");function te(e){s.getPlans().then(t=>{const n=t.find(t=>t.id===e);U=e,z=n.price,z?([M,B="monthly"]=e.split("_"),F=M,H=B):(M=e,B="annual",F=M,H=B,ee&&("banker_bilo"===e?ee.querySelector(".bttn").textContent="💰".repeat(3):"bff"===e&&(ee.querySelector(".bttn").textContent="💝"))),k.dataset.currentPlanId=e,"period"in Y?(ie(Y.period),document.getElementById(Y.period+"Payment").checked=!0,delete Y.period,X()):(ie(B),document.getElementById(B+"Payment").checked=!0),"coupon"in Y&&(j.value=Y.coupon,j.parentElement.classList.toggle("typed",!!j.value),oe(Y.coupon),delete Y.coupon,X())}).catch(c.handleError)}function ne(e,t,n,i){let r=t.price/("monthly"===n?1:12);(function(e,t){if(!t||"annual"===e)return!1;if(t.redeem_by&&Date.now()/1e3>t.redeem_by)return!1;if(t.max_redemptions&&t.times_redeemed>=t.max_redemptions)return!1;return!0})(H,i)&&(r-="organization"===e?i.percent_off?r*i.percent_off/100:i.amount_off/12:i.percent_off?r*i.percent_off/100:i.amount_off,r=Math.max(r,0)),Z[n][e]=r}function ie(e="monthly",t){H=e,_.classList.toggle("invisible","annual"===e),w.textContent=re(H,V),s.getPlans().then(n=>{["starter","growing","organization"].forEach(i=>{const r=n.find(t=>K[e][i]===t.id);ne(i,r,e,t)});if("will_cancel_at_period_end"!==(G||Zeplin.user).subscriptionStatus&&z&&e===B&&"company"!==M&&J.includes(U)){const t=n.find(e=>U===e.id);ne(M,t,e),$=!0}else"organization"===M&&($="cancel"===Y.action)}).catch(c.handleError).finally(()=>{i.render(i.h(b.default,{onChoosePlanClick:de,onCancelPlanClick:ae,period:e,currentPeriod:B,planInfo:Z,currentPlan:M,cancelEnabled:$}),P)})}function re(e,t){if(!t||"annual"===e)return"";if(t.redeem_by&&Date.now()/1e3>t.redeem_by)return"This coupon is expired.";if(t.max_redemptions&&t.times_redeemed>=t.max_redemptions)return"This coupon is maxed out.";return`${t.percent_off?t.percent_off+"% off":Object(h.formatCurrency)(t.amount_off/100)+" off"} ${function(e,t){switch(t.duration){case"once":return"for the first "+("monthly"===e?"month":"year");case"repeating":return`for ${t.duration_in_months} months`;case"forever":return"forever";default:return""}}(e,t)}.`}function oe(e,t="auto"){(function(e){return e?d.getCoupon(encodeURIComponent(e)):Promise.resolve(null)})(e).then(e=>{V=e,I.disabled=!0,A.classList.add("applied");const n=e.metadata&&e.metadata.source;mixpanel.webapp.track("Applied coupon",{type:t,source:n}),ga("legacyTracker.send","event","PAYMENT_EVENTS","applied-coupon","type:"+t+(n?";source:"+n:""))}).catch(e=>{V=null,I.disabled=!1,c.handleError(e)}).then(()=>{w.textContent=re(H,V),ie(H,V)})}function se(){const e=G&&G._id;(function(e){return e?d.getOrganizationUpcomingInvoice(e):d.getUserUpcomingInvoice()})(e).then(({invoice:t})=>{Q();const n=Object(h.formatTime)(1e3*t.period_end,{year:"numeric",month:"long",day:"numeric"});E.render({oid:e,organizationPlan:G&&G.paymentPlan,periodEndDate:n,onClose(){E.remove()},onBackClick(){D.classList.remove("hidden"),E.remove()}})}).catch(e=>{c.handleError(e)})}function ae(e){e.preventDefault(),se()}Array.from(k.querySelectorAll("[name='paymentPeriod']")).forEach(e=>{e.addEventListener("change",e=>{ie(e.target.value,V)})}),j.parentElement.classList.toggle("typed",!!j.value),j.addEventListener("keyup",()=>{j.parentElement.classList.toggle("typed",!!j.value),j.value||(V=null,ie(H))}),j.addEventListener("blur",()=>{j.parentElement.classList.toggle("typed",!!j.value),j.value||(V=null,ie(H))}),j.addEventListener("input",()=>{I.disabled=V&&V.id===j.value,A.classList.remove("applied")}),_.addEventListener("submit",e=>{e.preventDefault(),oe(j.value,"manual")});const le=StripeCheckout.configure({name:"Zeplin, Inc.",key:f.STRIPE_PUBLISHABLE_KEY,image:Object(p.imageUrl)("img/favicon/128x128.png"),zipCode:!0,allowRememberMe:!1,token(e){T.render(),function(e,t,n,i){T.render();const r={plan:K[n][t],stripeToken:e};"monthly"===n&&i&&(r.coupon=i.id),d.subscribeUser(r).then(()=>{ga("legacyTracker.send","event","PAYMENT_EVENTS","subscribed","to:"+K[n][t]),mixpanel.webapp.track("Subscribed",{to:K[n][t]}),Zeplin.updateUser({paymentPlan:K[n][t]}),location.replace(Object(u.urlResolve)("thanks",{query:{at:"ns"}}))}).catch(e=>{T.remove(),c.handleError(e)})}(e.id,F,H,V)}});function ce(e,t){le.open({email:Zeplin.user.email,description:e,panelLabel:t,amount:W}),mixpanel.webapp.track("Opened Stripe popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-stripe-popup"),ga("send","pageview","/stripe-popup")}function de(e,t){if(F=e,"organization"===e)location.assign(Object(u.urlResolve)("organization-create",{query:{period:H}}));else if(z)G?(n=G._id,i=e,r=H,o=V,l.create({title:"Downgrade subscription?",message:"You can upgrade again at anytime.",done:{name:"UPDATE",cb(){T.render();const e={plan:K[r][i]};"monthly"===r&&o&&(e.coupon=o.id),d.downgradeOrganizationSubscription(n,e).then(()=>{Zeplin.updateUser({paymentPlan:K[r][i]}),location.replace(Object(u.urlResolve)("projects"))}).catch(e=>{T.remove(),c.handleError(e)})}},cancel:{name:"CANCEL"}})):function(e,t,n){l.create({title:"Update subscription?",message:"You can update it again, anytime!",done:{name:"UPDATE",cb(){T.render();const i={plan:K[t][e]};"monthly"===t&&n&&(i.coupon=n.id),d.changeUserSubscription(i).then(()=>{mixpanel.webapp.track("Changed plan",{from:Zeplin.user.paymentPlan,to:K[t][e]}),ga("legacyTracker.send","event","PAYMENT_EVENTS","changed-plan","from:"+Zeplin.user.paymentPlan+";to:"+K[t][e]),Zeplin.updateUser({paymentPlan:K[t][e]}),location.replace(Object(u.urlResolve)("thanks",{query:{at:"us"}}))}).catch(e=>{T.remove(),c.handleError(e)})}},cancel:{name:"CANCEL"}}),mixpanel.webapp.track("Opened change plan dialog",{currentPlan:Zeplin.user.paymentPlan}),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-change-plan-dialog","currentPlan:"+Zeplin.user.paymentPlan)}(e,H,V);else if(W=parseInt(Z[H][e],10),W||"forever"===V.duration){let e;"monthly"===H?e="Pay {{amount}}/mo":(e="Pay {{amount}}/year",W*=12),ce(t,e)}else!function(e,t,n,i){let r;switch(i.duration){case"once":r="30 days";break;case"repeating":r=i.duration_in_months+" months"}Array.from(x.querySelectorAll(".friendlyReminderDuration")).forEach(e=>{e.textContent=r}),x.dataset.planName=t,s.getPlans().then(t=>{const i=t.find(t=>K[n][e]===t.id);x.querySelector(".friendlyReminderPrice").textContent=i.price/100,x.showModal(),mixpanel.webapp.track("Opened trial credit card explanation popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-trial-credit-card-explanation-popup")})}(e,t,H,V);var n,i,r,o}N.addEventListener("click",()=>{x.close()}),L.addEventListener("click",()=>{ce(x.dataset.planName,"Subscribe")}),Array.from(k.querySelectorAll(".warning .cancelPlanLink")).forEach(e=>{e.addEventListener("click",ae)}),k.addEventListener("click",e=>{e.stopPropagation()}),D.addEventListener("click",()=>{Q()}),D.addEventListener("keydown",e=>{e.stopPropagation()}),document.addEventListener("keydown",e=>{e.keyCode===Zeplin.KEY_CODE.ESC&&Q()}),location.search&&location.search.substr(1).split("&").forEach(e=>{const[t,n]=e.split("=");Y[decodeURIComponent(t)]=decodeURIComponent(n)});const[,ue]=location.pathname.match(/\/organization\/([\da-f]{24})\/profile/i)||[];o.a.get("userToken")&&(ue?d.getOrganization(ue).then(e=>{G=e,"organization_free"!==e.paymentPlan&&te(e.paymentPlan),function(e){const t=a.default.subscribe(f.ORGANIZATION_CHANNEL_PREFIX+e);t.bind("CreateOrganizationSubscription",({body:{plan:e}})=>{G.paymentPlan=e,te(e),ie(B),document.getElementById(B+"Payment").checked=!0}),t.bind("UpdateOrganizationSubscription",({body:{plan:e,subscriptionStatus:t}})=>{G.paymentPlan=e,"will_cancel_at_period_end"===G.subscriptionStatus&&s.hideCancelledSubscriptionBanner(),G.subscriptionStatus=t,te(e),ie(B),document.getElementById(B+"Payment").checked=!0})}(e._id)}).catch(c.handleError):(te(Zeplin.user.paymentPlan),a.userChannel.bind("CreateUserSubscription",({body:{plan:e}})=>{te(e),ie(B),document.getElementById(B+"Payment").checked=!0,Zeplin.updateUser({paymentPlan:e})}),a.userChannel.bind("UpdateUserSubscription",({body:{plan:e,subscriptionStatus:t}})=>{te(e),ie(B),document.getElementById(B+"Payment").checked=!0,Zeplin.updateUser({paymentPlan:e,subscriptionStatus:t}),s.hideCancelledSubscriptionBanner()}),a.userChannel.bind("CancelUserSubscription",({body:{plan:e,subscriptionStatus:t,subscriptionCancelAt:n}})=>{te(e),ie(B),document.getElementById(B+"Payment").checked=!0,Zeplin.updateUser({paymentPlan:e,subscriptionStatus:t,subscriptionCancelAt:n}),s.showCancelledSubscriptionBannerIfNecessary({currentRole:"owner",subscriptionCancelAt:n})}))),i.render([i.h(y.default,{key:"Enterprise",image:"img/artichoke.png",imageClass:"wide",title:"Enterprise",link:!0,action:i.h("a",{href:"mailto:enterprise@zeplin.io?subject=Interested in Zeplin Enterprise Plan"},"Contact us"),cardClass:"enterprise"},i.h("span",{class:"featureCardDescription"},"Peace of mind with built-in security and compliance—including ",i.h("span",null,"SAML single sign-on")," and more! 🔐"),i.h("div",{class:"featureList"},i.h("span",{class:"featureElement"},"SAML single sign-on"),i.h("span",{class:"featureElement"},"Payment by invoice"),i.h("span",{class:"featureElement"},"Master Services Agreement support"),i.h("span",{class:"featureElement"},"Security review"),i.h("span",{class:"featureElement"},"Dedicated Customer Success Manager"),i.h("span",{class:"featureElement"},"1 business day support SLA by email"))),i.h(y.default,{key:"Agency Membership",image:"img/palette.png",title:"Agency Membership",action:i.h("a",{href:f.WEB_URL+"/zam"},"Learn more →")},"Join our community of talented digital agencies who deliver the most impactful experiences with Zeplin and work with your clients with free Zeplin subscriptions."),i.h(y.default,{key:"Students, NGOs, open-source contributors",image:"img/bag.png",title:"Students, NGOs, open-source contributors",action:i.h("a",{href:"mailto:support@zeplin.io?subject=Zeplin <3 Students, NGO, open-source"},"Contact us →")},"Proud to support our community! If you're student, working on a non-profit/open-source project, get the Starter Plan for free.")],R)},function(e,t,n){"use strict";n.r(t),n.d(t,"getPlans",(function(){return h})),n.d(t,"getPlanById",(function(){return p})),n.d(t,"showFailedPaymentBanner",(function(){return m})),n.d(t,"showCancelledSubscriptionBannerIfNecessary",(function(){return b})),n.d(t,"hideCancelledSubscriptionBanner",(function(){return y})),n.d(t,"updateEmotar",(function(){return S}));var i,r=n(46),o=n.n(r),s=n(68),a=n(137),l=n(44),c=n(19),d=n(40),u=n(167);function h(){return i?Promise.resolve(i):a.getPlans().then(e=>i=Object.freeze(e))}function p(e){return h().then(t=>t.find(t=>t.id===e))}window.addEventListener("storage",(function(e){if(e.storageArea===localStorage&&"user"===e.key){var t=JSON.parse(e.oldValue),n=JSON.parse(e.newValue);if(!n)return;if(Zeplin.user=n,t._id!==n._id)return location.reload()}})),function(){var e=window,t=e.Intercom;function n(){var e=i.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://widget.intercom.io/widget/"+d.INTERCOM_APP_ID;var t=i.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}if("function"==typeof t)t("reattach_activator"),t("update",intercomSettings);else{var i=document,r=function(){r.c(arguments)};r.q=[],r.c=function(e){r.q.push(e)},e.Intercom=r,e.attachEvent?e.attachEvent("onload",n):e.addEventListener("load",n,!1)}}(),o.a.get("userToken")&&Intercom("boot",{app_id:d.INTERCOM_APP_ID,user_id:Zeplin.user._id,user_hash:Zeplin.user.intercomHash,email:Zeplin.user.email,last_seen_user_agent:navigator.userAgent,"last seen at web":Math.floor(Date.now()/1e3),username:Zeplin.user.username,verified:"verified"===Zeplin.user.status,plan:Zeplin.user.paymentPlan});const f=document.querySelector("#billingTab");function g(e,t){if(s.closeBanner("payment"),f){e.preventDefault();const n=`Billing - ${"organization"===t?"Organization ":""}Profile - Zeplin`;history.replaceState({},n,e.target.href),document.querySelector("title").textContent=n,document.querySelector("header.tabs").dataset.selection="billing",f.checked=!0}}function m(e){let t,n;e.oid?"queen"!==e.currentRole&&"king"!==e.currentRole||(t=`Payment failed: Please <a href="${Object(l.urlResolve)("organization-profile-billing",{url:{oid:e.oid}})}">update</a> organization payment information to keep ${e.isGeneric?"projects":"this project"} active.`,n={a(e){g(e,"organization")}}):"owner"===e.currentRole?(t=`Payment failed: Please <a href="${Object(l.urlResolve)("profile-billing")}">update</a> your payment information to keep ${e.isGeneric?"your projects":"this project"} active.`,n={a(e){g(e,"user")}}):t=`Payment failed: Please contact the owner (<a href="mailto:${e.ownerEmail}" target="_blank">${e.ownerEmail}</a>) of this project and ask them to update their payment information, to keep this project active.`,t&&s.show({contentType:"html",group:"payment",content:t,bodyCallbacks:n})}function b(e){const{oid:t,currentRole:n,subscriptionCancelAt:i}=e,r=Object(u.getDateDifference)("h",new Date,i);if(r>168)return;let o,a=Math.floor(r/24);a>0&&r%24>=3&&a++;let d=`Since your subscription is cancelled, your projects and styleguides will be archived automatically in ${a<1?"less than a day":""+Object(c.pluralize)(a,"day")}.`;!t||"queen"!==n&&"king"!==n?"owner"===n&&(d+=` <a href="${Object(l.urlResolve)("profile-billing")}">Resubscribe</a>`,o={a(e){g(e,"user")}}):(d+=` <a href="${Object(l.urlResolve)("organization-profile-billing",{url:{oid:e.oid}})}">Resubscribe</a>`,o={a(e){g(e,"organization")}}),s.show({contentType:"html",group:"cancelledSubscription",content:d,bodyCallbacks:o})}function y(){s.closeBanner("cancelledSubscription")}function S(e){return a.updateUserEmotar(e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"getDateString",(function(){return o})),n.d(t,"inSameDay",(function(){return s})),n.d(t,"getDateDifference",(function(){return a}));var i=n(62);function r(e){return e instanceof Date?e:new Date(e)}function o(e){const t=r(e),n=new Date;if(n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()){if(n.getDate()===t.getDate())return"today";if(n.getDate()-t.getDate()==1)return"yesterday"}return Object(i.formatTime)(t,{year:"numeric",month:"long",day:"numeric"})}function s(e,t){const n=r(e),i=r(t);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()&&n.getDate()===i.getDate()}function a(e,t,n){const i={w:6048e5,d:864e5,h:36e5,m:6e4,s:1e3};if(!e||!i[e.toLowerCase()])throw new TypeError(`Unknown datePart type: '${e}'. datePart should be one of (w, d, h, m, s)`);return Math.floor((r(n)-r(t))/i[e.toLowerCase()])}},function(e,t,n){"use strict";n.r(t),n.d(t,"userChannel",(function(){return f}));var i=n(46),r=n.n(i),o=n(169),s=n.n(o),a=n(170),l=n.n(a),c=n(68),d=n(40);let u;function h(){u||"dismissed"===sessionStorage.getItem("socketErrorBannerStatus")||(u=setTimeout(()=>{c.show({contentType:"html",group:"socket",content:'Real-time updates are disabled due to a connectivity issue. <a href="https://support.zeplin.io/en/articles/377685-fixing-connectivity-issues" target="_blank">Learn more.</a>',closeCallback(){sessionStorage.setItem("socketErrorBannerStatus","dismissed")}})},3e4))}const p=r.a.get("userToken");let f,g;if(p){g=new s.a(d.PUSHER_ACCESS_KEY,{cluster:"zeplin",encrypted:!0,enabledTransports:["ws","wss"],authEndpoint:d.PUSHER_URL,auth:{headers:{"Zeplin-Token":p}}}),g.connection.bind("failed",h),g.connection.bind("unavailable",h),g.connection.bind("connected",()=>{Zeplin.headers.set("Zeplin-Socket-Id",g.connection.socket_id),clearTimeout(u),c.closeBanner("socket")});const{sub:e}=l()(p);f=g.subscribe(`${d.USER_CHANNEL_PREFIX}${e}`)}t.default=g},function(e,t,n){
/*!
 * Pusher JavaScript Library v4.2.2
 * https://pusher.com/
 *
 * Copyright 2017, Pusher
 * Released under the MIT licence.
 */
var i;i=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";var i=n(1);e.exports=i.default},function(e,t,n){"use strict";var i=n(2),r=n(9),o=n(24),s=n(39),a=n(40),l=n(41),c=n(12),d=n(5),u=n(63),h=n(8),p=n(43),f=n(14),g=function(){function e(t,n){var c=this;if(function(e){if(null==e)throw"You must pass your app key when you instantiate Pusher."}(t),!(n=n||{}).cluster&&!n.wsHost&&!n.httpHost){var g=f.default.buildLogSuffix("javascriptQuickStart");h.default.warn("You should always specify a cluster when connecting. "+g)}this.key=t,this.config=r.extend(u.getGlobalConfig(),n.cluster?u.getClusterConfig(n.cluster):{},n),this.channels=p.default.createChannels(),this.global_emitter=new o.default,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new s.default(this.key,this.sessionID,{cluster:this.config.cluster,features:e.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:a.default.INFO,version:d.default.VERSION}),this.config.disableStats||(this.timelineSender=p.default.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+i.default.TimelineTransport.name})),this.connection=p.default.createConnectionManager(this.key,r.extend({getStrategy:function(e){var t=r.extend({},c.config,e);return l.build(i.default.getDefaultStrategy(t),t)},timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{encrypted:this.isEncrypted()})),this.connection.bind("connected",(function(){c.subscribeAll(),c.timelineSender&&c.timelineSender.send(c.connection.isEncrypted())})),this.connection.bind("message",(function(e){var t=0===e.event.indexOf("pusher_internal:");if(e.channel){var n=c.channel(e.channel);n&&n.handleEvent(e.event,e.data)}t||c.global_emitter.emit(e.event,e.data)})),this.connection.bind("connecting",(function(){c.channels.disconnect()})),this.connection.bind("disconnected",(function(){c.channels.disconnect()})),this.connection.bind("error",(function(e){h.default.warn("Error",e)})),e.instances.push(this),this.timeline.info({instances:e.instances.length}),e.isReady&&this.connect()}return e.ready=function(){e.isReady=!0;for(var t=0,n=e.instances.length;t<n;t++)e.instances[t].connect()},e.log=function(t){e.logToConsole&&window.console&&window.console.log&&window.console.log(t)},e.getClientFeatures=function(){return r.keys(r.filterObject({ws:i.default.Transports.ws},(function(e){return e.isSupported({})})))},e.prototype.channel=function(e){return this.channels.find(e)},e.prototype.allChannels=function(){return this.channels.all()},e.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var e=this.connection.isEncrypted(),t=this.timelineSender;this.timelineSenderTimer=new c.PeriodicTimer(6e4,(function(){t.send(e)}))}},e.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},e.prototype.bind=function(e,t,n){return this.global_emitter.bind(e,t,n),this},e.prototype.unbind=function(e,t,n){return this.global_emitter.unbind(e,t,n),this},e.prototype.bind_global=function(e){return this.global_emitter.bind_global(e),this},e.prototype.unbind_global=function(e){return this.global_emitter.unbind_global(e),this},e.prototype.unbind_all=function(e){return this.global_emitter.unbind_all(),this},e.prototype.subscribeAll=function(){var e;for(e in this.channels.channels)this.channels.channels.hasOwnProperty(e)&&this.subscribe(e)},e.prototype.subscribe=function(e){var t=this.channels.add(e,this);return t.subscriptionPending&&t.subscriptionCancelled?t.reinstateSubscription():t.subscriptionPending||"connected"!==this.connection.state||t.subscribe(),t},e.prototype.unsubscribe=function(e){var t=this.channels.find(e);t&&t.subscriptionPending?t.cancelSubscription():(t=this.channels.remove(e))&&"connected"===this.connection.state&&t.unsubscribe()},e.prototype.send_event=function(e,t,n){return this.connection.send_event(e,t,n)},e.prototype.isEncrypted=function(){return"https:"===i.default.getProtocol()||Boolean(this.config.encrypted)},e.instances=[],e.isReady=!1,e.logToConsole=!1,e.Runtime=i.default,e.ScriptReceivers=i.default.ScriptReceivers,e.DependenciesReceivers=i.default.DependenciesReceivers,e.auth_callbacks=i.default.auth_callbacks,e}();t.__esModule=!0,t.default=g,i.default.setup(g)},function(e,t,n){"use strict";var i=n(3),r=n(7),o=n(15),s=n(16),a=n(17),l=n(4),c=n(18),d=n(19),u=n(26),h=n(27),p=n(28),f=n(29),g={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:l.ScriptReceivers,DependenciesReceivers:i.DependenciesReceivers,getDefaultStrategy:h.default,Transports:d.default,transportConnectionInitializer:p.default,HTTPFactory:f.default,TimelineTransport:c.default,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(e){var t=this;window.Pusher=e;var n=function(){t.onDocumentBody(e.ready)};window.JSON?n():i.Dependencies.load("json2",{},n)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:r.default,jsonp:o.default}},onDocumentBody:function(e){var t=this;document.body?e():setTimeout((function(){t.onDocumentBody(e)}),0)},createJSONPRequest:function(e,t){return new a.default(e,t)},createScriptRequest:function(e){return new s.default(e)},getLocalStorage:function(){try{return window.localStorage}catch(e){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){return new(this.getXHRAPI())},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return u.Network},createWebSocket:function(e){return new(this.getWebSocketAPI())(e)},createSocketRequest:function(e,t){if(this.isXHRSupported())return this.HTTPFactory.createXHR(e,t);if(this.isXDRSupported(0===t.indexOf("https:")))return this.HTTPFactory.createXDR(e,t);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var e=this.getXHRAPI();return Boolean(e)&&void 0!==(new e).withCredentials},isXDRSupported:function(e){var t=e?"https:":"http:",n=this.getProtocol();return Boolean(window.XDomainRequest)&&n===t},addUnloadListener:function(e){void 0!==window.addEventListener?window.addEventListener("unload",e,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",e)},removeUnloadListener:function(e){void 0!==window.addEventListener?window.removeEventListener("unload",e,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",e)}};t.__esModule=!0,t.default=g},function(e,t,n){"use strict";var i=n(4),r=n(5),o=n(6);t.DependenciesReceivers=new i.ScriptReceiverFactory("_pusher_dependencies","Pusher.DependenciesReceivers"),t.Dependencies=new o.default({cdn_http:r.default.cdn_http,cdn_https:r.default.cdn_https,version:r.default.VERSION,suffix:r.default.dependency_suffix,receivers:t.DependenciesReceivers})},function(e,t){"use strict";var n=function(){function e(e,t){this.lastId=0,this.prefix=e,this.name=t}return e.prototype.create=function(e){this.lastId++;var t=this.lastId,n=this.prefix+t,i=this.name+"["+t+"]",r=!1,o=function(){r||(e.apply(null,arguments),r=!0)};return this[t]=o,{number:t,id:n,name:i,callback:o}},e.prototype.remove=function(e){delete this[e.number]},e}();t.ScriptReceiverFactory=n,t.ScriptReceivers=new n("_pusher_script_","Pusher.ScriptReceivers")},function(e,t){"use strict";t.__esModule=!0,t.default={VERSION:"4.2.2",PROTOCOL:7,host:"ws.pusherapp.com",ws_port:80,wss_port:443,ws_path:"",sockjs_host:"sockjs.pusher.com",sockjs_http_port:80,sockjs_https_port:443,sockjs_path:"/pusher",stats_host:"stats.pusher.com",channel_auth_endpoint:"/pusher/auth",channel_auth_transport:"ajax",activity_timeout:12e4,pong_timeout:3e4,unavailable_timeout:1e4,cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""}},function(e,t,n){"use strict";var i=n(4),r=n(2),o=function(){function e(e){this.options=e,this.receivers=e.receivers||i.ScriptReceivers,this.loading={}}return e.prototype.load=function(e,t,n){var i=this;if(i.loading[e]&&i.loading[e].length>0)i.loading[e].push(n);else{i.loading[e]=[n];var o=r.default.createScriptRequest(i.getPath(e,t)),s=i.receivers.create((function(t){if(i.receivers.remove(s),i.loading[e]){var n=i.loading[e];delete i.loading[e];for(var r=function(e){e||o.cleanup()},a=0;a<n.length;a++)n[a](t,r)}}));o.send(s)}},e.prototype.getRoot=function(e){var t=r.default.getDocument().location.protocol;return(e&&e.encrypted||"https:"===t?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version},e.prototype.getPath=function(e,t){return this.getRoot(t)+"/"+e+this.options.suffix+".js"},e}();t.__esModule=!0,t.default=o},function(e,t,n){"use strict";var i=n(8),r=n(2),o=n(14);t.__esModule=!0,t.default=function(e,t,n){var s;for(var a in(s=r.default.createXHR()).open("POST",this.options.authEndpoint,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.authOptions.headers)s.setRequestHeader(a,this.authOptions.headers[a]);return s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status){var e,t=!1;try{e=JSON.parse(s.responseText),t=!0}catch(a){n(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+s.responseText)}t&&n(!1,e)}else{var r=o.default.buildLogSuffix("authenticationEndpoint");i.default.warn("Couldn't retrieve authentication info. "+s.status+"Clients must be authenticated to join private or presence channels. "+r),n(!0,s.status)}},s.send(this.composeQuery(t)),s}},function(e,t,n){"use strict";var i=n(9),r=n(1),o={debug:function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];r.default.log&&r.default.log(i.stringify.apply(this,arguments))},warn:function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=i.stringify.apply(this,arguments);r.default.log?r.default.log(n):window.console&&(window.console.warn?window.console.warn(n):window.console.log&&window.console.log(n))}};t.__esModule=!0,t.default=o},function(e,t,n){"use strict";var i=n(10),r=n(11);function o(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)}function s(e,t){for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i,e,n));return n}function a(e,t){var n={};return o(e,(function(e,i){n[i]=t(e)})),n}function l(e,t){var n={};return o(e,(function(i,r){(t&&t(i,r,e,n)||Boolean(i))&&(n[r]=i)})),n}function c(e){var t=[];return o(e,(function(e,n){t.push([n,e])})),t}function d(e){return a(e,(function(e){return"object"==typeof e&&(e=h(e)),encodeURIComponent(i.default(e.toString()))}))}function u(e){var t=[],n=[];return function e(i,r){var o,s,a;switch(typeof i){case"object":if(!i)return null;for(o=0;o<t.length;o+=1)if(t[o]===i)return{$ref:n[o]};if(t.push(i),n.push(r),"[object Array]"===Object.prototype.toString.apply(i))for(a=[],o=0;o<i.length;o+=1)a[o]=e(i[o],r+"["+o+"]");else for(s in a={},i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=e(i[s],r+"["+JSON.stringify(s)+"]"));return a;case"number":case"string":case"boolean":return i}}(e,"$")}function h(e){try{return JSON.stringify(e)}catch(t){return JSON.stringify(u(e))}}t.extend=function e(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];for(var r=0;r<n.length;r++){var o=n[r];for(var s in o)o[s]&&o[s].constructor&&o[s].constructor===Object?t[s]=e(t[s]||{},o[s]):t[s]=o[s]}return t},t.stringify=function(){for(var e=["Pusher"],t=0;t<arguments.length;t++)"string"==typeof arguments[t]?e.push(arguments[t]):e.push(h(arguments[t]));return e.join(" : ")},t.arrayIndexOf=function(e,t){var n=Array.prototype.indexOf;if(null===e)return-1;if(n&&e.indexOf===n)return e.indexOf(t);for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},t.objectApply=o,t.keys=function(e){var t=[];return o(e,(function(e,n){t.push(n)})),t},t.values=function(e){var t=[];return o(e,(function(e){t.push(e)})),t},t.apply=function(e,t,n){for(var i=0;i<e.length;i++)t.call(n||window,e[i],i,e)},t.map=s,t.mapObject=a,t.filter=function(e,t){t=t||function(e){return!!e};for(var n=[],i=0;i<e.length;i++)t(e[i],i,e,n)&&n.push(e[i]);return n},t.filterObject=l,t.flatten=c,t.any=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1},t.all=function(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n,e))return!1;return!0},t.encodeParamsObject=d,t.buildQueryString=function(e){return s(c(d(l(e,(function(e){return void 0!==e})))),r.default.method("join","=")).join("&")},t.decycleObject=u,t.safeJSONStringify=h},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return u(c(e))};for(var i=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o={},s=0,a=r.length;s<a;s++)o[r.charAt(s)]=s;var l=function(e){var t=e.charCodeAt(0);return t<128?e:t<2048?i(192|t>>>6)+i(128|63&t):i(224|t>>>12&15)+i(128|t>>>6&63)+i(128|63&t)},c=function(e){return e.replace(/[^\x00-\x7F]/g,l)},d=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[r.charAt(n>>>18),r.charAt(n>>>12&63),t>=2?"=":r.charAt(n>>>6&63),t>=1?"=":r.charAt(63&n)].join("")},u=window.btoa||function(e){return e.replace(/[\s\S]{1,3}/g,d)}},function(e,t,n){"use strict";var i=n(12),r={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(e){return new i.OneOffTimer(0,e)},method:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1);return function(t){return t[e].apply(t,i.concat(arguments))}}};t.__esModule=!0,t.default=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=n(13);function o(e){window.clearTimeout(e)}function s(e){window.clearInterval(e)}var a=function(e){function t(t,n){e.call(this,setTimeout,o,t,(function(e){return n(),null}))}return i(t,e),t}(r.default);t.OneOffTimer=a;var l=function(e){function t(t,n){e.call(this,setInterval,s,t,(function(e){return n(),e}))}return i(t,e),t}(r.default);t.PeriodicTimer=l},function(e,t){"use strict";var n=function(){function e(e,t,n,i){var r=this;this.clear=t,this.timer=e((function(){r.timer&&(r.timer=i(r.timer))}),n)}return e.prototype.isRunning=function(){return null!==this.timer},e.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},e}();t.__esModule=!0,t.default=n},function(e,t){"use strict";var n={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/authenticating_users"},javascriptQuickStart:{path:"/docs/javascript_quick_start"}}};t.__esModule=!0,t.default={buildLogSuffix:function(e){var t,i=n.urls[e];return i?(i.fullUrl?t=i.fullUrl:i.path&&(t=n.baseUrl+i.path),t?"See: "+t:""):""}}},function(e,t,n){"use strict";var i=n(8);t.__esModule=!0,t.default=function(e,t,n){void 0!==this.authOptions.headers&&i.default.warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var r=e.nextAuthCallbackID.toString();e.nextAuthCallbackID++;var o=e.getDocument(),s=o.createElement("script");e.auth_callbacks[r]=function(e){n(!1,e)};var a="Pusher.auth_callbacks['"+r+"']";s.src=this.options.authEndpoint+"?callback="+encodeURIComponent(a)+"&"+this.composeQuery(t);var l=o.getElementsByTagName("head")[0]||o.documentElement;l.insertBefore(s,l.firstChild)}},function(e,t){"use strict";var n=function(){function e(e){this.src=e}return e.prototype.send=function(e){var t=this,n="Error loading "+t.src;t.script=document.createElement("script"),t.script.id=e.id,t.script.src=t.src,t.script.type="text/javascript",t.script.charset="UTF-8",t.script.addEventListener?(t.script.onerror=function(){e.callback(n)},t.script.onload=function(){e.callback(null)}):t.script.onreadystatechange=function(){"loaded"!==t.script.readyState&&"complete"!==t.script.readyState||e.callback(null)},void 0===t.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(t.errorScript=document.createElement("script"),t.errorScript.id=e.id+"_error",t.errorScript.text=e.name+"('"+n+"');",t.script.async=t.errorScript.async=!1):t.script.async=!0;var i=document.getElementsByTagName("head")[0];i.insertBefore(t.script,i.firstChild),t.errorScript&&i.insertBefore(t.errorScript,t.script.nextSibling)},e.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},e}();t.__esModule=!0,t.default=n},function(e,t,n){"use strict";var i=n(9),r=n(2),o=function(){function e(e,t){this.url=e,this.data=t}return e.prototype.send=function(e){if(!this.request){var t=i.buildQueryString(this.data),n=this.url+"/"+e.number+"?"+t;this.request=r.default.createScriptRequest(n),this.request.send(e)}},e.prototype.cleanup=function(){this.request&&this.request.cleanup()},e}();t.__esModule=!0,t.default=o},function(e,t,n){"use strict";var i=n(2),r=n(4),o={name:"jsonp",getAgent:function(e,t){return function(n,o){var s="http"+(t?"s":"")+"://"+(e.host||e.options.host)+e.options.path,a=i.default.createJSONPRequest(s,n),l=i.default.ScriptReceivers.create((function(t,n){r.ScriptReceivers.remove(l),a.cleanup(),n&&n.host&&(e.host=n.host),o&&o(t,n)}));a.send(l)}}};t.__esModule=!0,t.default=o},function(e,t,n){"use strict";var i=n(20),r=n(22),o=n(21),s=n(2),a=n(3),l=n(9),c=new r.default({file:"sockjs",urls:o.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(e,t){return new window.SockJS(e,null,{js_path:a.Dependencies.getPath("sockjs",{encrypted:t.encrypted}),ignore_null_origin:t.ignoreNullOrigin})},beforeOpen:function(e,t){e.send(JSON.stringify({path:t}))}}),d={isSupported:function(e){return s.default.isXDRSupported(e.encrypted)}},u=new r.default(l.extend({},i.streamingConfiguration,d)),h=new r.default(l.extend({},i.pollingConfiguration,d));i.default.xdr_streaming=u,i.default.xdr_polling=h,i.default.sockjs=c,t.__esModule=!0,t.default=i.default},function(e,t,n){"use strict";var i=n(21),r=n(22),o=n(9),s=n(2),a=new r.default({urls:i.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(s.default.getWebSocketAPI())},isSupported:function(){return Boolean(s.default.getWebSocketAPI())},getSocket:function(e){return s.default.createWebSocket(e)}}),l={urls:i.http,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}};t.streamingConfiguration=o.extend({getSocket:function(e){return s.default.HTTPFactory.createStreamingSocket(e)}},l),t.pollingConfiguration=o.extend({getSocket:function(e){return s.default.HTTPFactory.createPollingSocket(e)}},l);var c={isSupported:function(){return s.default.isXHRSupported()}},d={ws:a,xhr_streaming:new r.default(o.extend({},t.streamingConfiguration,c)),xhr_polling:new r.default(o.extend({},t.pollingConfiguration,c))};t.__esModule=!0,t.default=d},function(e,t,n){"use strict";var i=n(5);function r(e,t,n){return e+(t.encrypted?"s":"")+"://"+(t.encrypted?t.hostEncrypted:t.hostUnencrypted)+n}function o(e,t){return"/app/"+e+"?protocol="+i.default.PROTOCOL+"&client=js&version="+i.default.VERSION+(t?"&"+t:"")}t.ws={getInitial:function(e,t){return r("ws",t,(t.httpPath||"")+o(e,"flash=false"))}},t.http={getInitial:function(e,t){return r("http",t,(t.httpPath||"/pusher")+o(e))}},t.sockjs={getInitial:function(e,t){return r("http",t,t.httpPath||"/pusher")},getPath:function(e,t){return o(e)}}},function(e,t,n){"use strict";var i=n(23),r=function(){function e(e){this.hooks=e}return e.prototype.isSupported=function(e){return this.hooks.isSupported(e)},e.prototype.createConnection=function(e,t,n,r){return new i.default(this.hooks,e,t,n,r)},e}();t.__esModule=!0,t.default=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=n(11),o=n(9),s=n(24),a=n(8),l=n(2),c=function(e){function t(t,n,i,r,o){e.call(this),this.initialize=l.default.transportConnectionInitializer,this.hooks=t,this.name=n,this.priority=i,this.key=r,this.options=o,this.state="new",this.timeline=o.timeline,this.activityTimeout=o.activityTimeout,this.id=this.timeline.generateUniqueID()}return i(t,e),t.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},t.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},t.prototype.connect=function(){var e=this;if(this.socket||"initialized"!==this.state)return!1;var t=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(t,this.options)}catch(n){return r.default.defer((function(){e.onError(n),e.changeState("closed")})),!1}return this.bindListeners(),a.default.debug("Connecting",{transport:this.name,url:t}),this.changeState("connecting"),!0},t.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},t.prototype.send=function(e){var t=this;return"open"===this.state&&(r.default.defer((function(){t.socket&&t.socket.send(e)})),!0)},t.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},t.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},t.prototype.onError=function(e){this.emit("error",{type:"WebSocketError",error:e}),this.timeline.error(this.buildTimelineMessage({error:e.toString()}))},t.prototype.onClose=function(e){e?this.changeState("closed",{code:e.code,reason:e.reason,wasClean:e.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},t.prototype.onMessage=function(e){this.emit("message",e)},t.prototype.onActivity=function(){this.emit("activity")},t.prototype.bindListeners=function(){var e=this;this.socket.onopen=function(){e.onOpen()},this.socket.onerror=function(t){e.onError(t)},this.socket.onclose=function(t){e.onClose(t)},this.socket.onmessage=function(t){e.onMessage(t)},this.supportsPing()&&(this.socket.onactivity=function(){e.onActivity()})},t.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},t.prototype.changeState=function(e,t){this.state=e,this.timeline.info(this.buildTimelineMessage({state:e,params:t})),this.emit(e,t)},t.prototype.buildTimelineMessage=function(e){return o.extend({cid:this.id},e)},t}(s.default);t.__esModule=!0,t.default=c},function(e,t,n){"use strict";var i=n(9),r=n(25),o=function(){function e(e){this.callbacks=new r.default,this.global_callbacks=[],this.failThrough=e}return e.prototype.bind=function(e,t,n){return this.callbacks.add(e,t,n),this},e.prototype.bind_global=function(e){return this.global_callbacks.push(e),this},e.prototype.unbind=function(e,t,n){return this.callbacks.remove(e,t,n),this},e.prototype.unbind_global=function(e){return e?(this.global_callbacks=i.filter(this.global_callbacks||[],(function(t){return t!==e})),this):(this.global_callbacks=[],this)},e.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},e.prototype.emit=function(e,t){var n;for(n=0;n<this.global_callbacks.length;n++)this.global_callbacks[n](e,t);var i=this.callbacks.get(e);if(i&&i.length>0)for(n=0;n<i.length;n++)i[n].fn.call(i[n].context||window,t);else this.failThrough&&this.failThrough(e,t);return this},e}();t.__esModule=!0,t.default=o},function(e,t,n){"use strict";var i=n(9),r=function(){function e(){this._callbacks={}}return e.prototype.get=function(e){return this._callbacks[o(e)]},e.prototype.add=function(e,t,n){var i=o(e);this._callbacks[i]=this._callbacks[i]||[],this._callbacks[i].push({fn:t,context:n})},e.prototype.remove=function(e,t,n){if(e||t||n){var r=e?[o(e)]:i.keys(this._callbacks);t||n?this.removeCallback(r,t,n):this.removeAllCallbacks(r)}else this._callbacks={}},e.prototype.removeCallback=function(e,t,n){i.apply(e,(function(e){this._callbacks[e]=i.filter(this._callbacks[e]||[],(function(e){return t&&t!==e.fn||n&&n!==e.context})),0===this._callbacks[e].length&&delete this._callbacks[e]}),this)},e.prototype.removeAllCallbacks=function(e){i.apply(e,(function(e){delete this._callbacks[e]}),this)},e}();function o(e){return"_"+e}t.__esModule=!0,t.default=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=function(e){function t(){e.call(this);var t=this;void 0!==window.addEventListener&&(window.addEventListener("online",(function(){t.emit("online")}),!1),window.addEventListener("offline",(function(){t.emit("offline")}),!1))}return i(t,e),t.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},t}(n(24).default);t.NetInfo=r,t.Network=new r},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){var t;return t=e.encrypted?[":best_connected_ever",":ws_loop",[":delayed",2e3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2e3,[":wss_loop"]],[":delayed",5e3,[":http_fallback_loop"]]],[[":def","ws_options",{hostUnencrypted:e.wsHost+":"+e.wsPort,hostEncrypted:e.wsHost+":"+e.wssPort,httpPath:e.wsPath}],[":def","wss_options",[":extend",":ws_options",{encrypted:!0}]],[":def","sockjs_options",{hostUnencrypted:e.httpHost+":"+e.httpPort,hostEncrypted:e.httpHost+":"+e.httpsPort,httpPath:e.httpPath}],[":def","timeouts",{loop:!0,timeout:15e3,timeoutLimit:6e4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:e.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:e.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss","ws",3,":wss_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",":wss"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4e3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18e5,[":first_connected",[":if",[":is_supported",":ws"],t,":http_fallback_loop"]]]]]}},function(e,t,n){"use strict";var i=n(3);t.__esModule=!0,t.default=function(){var e=this;e.timeline.info(e.buildTimelineMessage({transport:e.name+(e.options.encrypted?"s":"")})),e.hooks.isInitialized()?e.changeState("initialized"):e.hooks.file?(e.changeState("initializing"),i.Dependencies.load(e.hooks.file,{encrypted:e.options.encrypted},(function(t,n){e.hooks.isInitialized()?(e.changeState("initialized"),n(!0)):(t&&e.onError(t),e.onClose(),n(!1))}))):e.onClose()}},function(e,t,n){"use strict";var i=n(30),r=n(32);r.default.createXDR=function(e,t){return this.createRequest(i.default,e,t)},t.__esModule=!0,t.default=r.default},function(e,t,n){"use strict";var i=n(31),r={getRequest:function(e){var t=new window.XDomainRequest;return t.ontimeout=function(){e.emit("error",new i.RequestTimedOut),e.close()},t.onerror=function(t){e.emit("error",t),e.close()},t.onprogress=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText)},t.onload=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText),e.emit("finished",200),e.close()},t},abortRequest:function(e){e.ontimeout=e.onerror=e.onprogress=e.onload=null,e.abort()}};t.__esModule=!0,t.default=r},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},i=function(e){function t(){e.apply(this,arguments)}return n(t,e),t}(Error);t.BadEventName=i;var r=function(e){function t(){e.apply(this,arguments)}return n(t,e),t}(Error);t.RequestTimedOut=r;var o=function(e){function t(){e.apply(this,arguments)}return n(t,e),t}(Error);t.TransportPriorityTooLow=o;var s=function(e){function t(){e.apply(this,arguments)}return n(t,e),t}(Error);t.TransportClosed=s;var a=function(e){function t(){e.apply(this,arguments)}return n(t,e),t}(Error);t.UnsupportedTransport=a;var l=function(e){function t(){e.apply(this,arguments)}return n(t,e),t}(Error);t.UnsupportedStrategy=l},function(e,t,n){"use strict";var i=n(33),r=n(34),o=n(36),s=n(37),a=n(38),l={createStreamingSocket:function(e){return this.createSocket(o.default,e)},createPollingSocket:function(e){return this.createSocket(s.default,e)},createSocket:function(e,t){return new r.default(e,t)},createXHR:function(e,t){return this.createRequest(a.default,e,t)},createRequest:function(e,t,n){return new i.default(e,t,n)}};t.__esModule=!0,t.default=l},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=n(2),o=n(24),s=function(e){function t(t,n,i){e.call(this),this.hooks=t,this.method=n,this.url=i}return i(t,e),t.prototype.start=function(e){var t=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){t.close()},r.default.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(e)},t.prototype.close=function(){this.unloader&&(r.default.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},t.prototype.onChunk=function(e,t){for(;;){var n=this.advanceBuffer(t);if(!n)break;this.emit("chunk",{status:e,data:n})}this.isBufferTooLong(t)&&this.emit("buffer_too_long")},t.prototype.advanceBuffer=function(e){var t=e.slice(this.position),n=t.indexOf("\n");return-1!==n?(this.position+=n+1,t.slice(0,n)):null},t.prototype.isBufferTooLong=function(e){return this.position===e.length&&e.length>262144},t}(o.default);t.__esModule=!0,t.default=s},function(e,t,n){"use strict";var i=n(35),r=n(11),o=n(2),s=1,a=function(){function e(e,t){this.hooks=e,this.session=c(1e3)+"/"+function(e){for(var t=[],n=0;n<e;n++)t.push(c(32).toString(32));return t.join("")}(8),this.location=function(e){var t=/([^\?]*)\/*(\??.*)/.exec(e);return{base:t[1],queryString:t[2]}}(t),this.readyState=i.default.CONNECTING,this.openStream()}return e.prototype.send=function(e){return this.sendRaw(JSON.stringify([e]))},e.prototype.ping=function(){this.hooks.sendHeartbeat(this)},e.prototype.close=function(e,t){this.onClose(e,t,!0)},e.prototype.sendRaw=function(e){if(this.readyState!==i.default.OPEN)return!1;try{return o.default.createSocketRequest("POST",l((t=this.location,n=this.session,t.base+"/"+n+"/xhr_send"))).start(e),!0}catch(r){return!1}var t,n},e.prototype.reconnect=function(){this.closeStream(),this.openStream()},e.prototype.onClose=function(e,t,n){this.closeStream(),this.readyState=i.default.CLOSED,this.onclose&&this.onclose({code:e,reason:t,wasClean:n})},e.prototype.onChunk=function(e){var t;if(200===e.status)switch(this.readyState===i.default.OPEN&&this.onActivity(),e.data.slice(0,1)){case"o":t=JSON.parse(e.data.slice(1)||"{}"),this.onOpen(t);break;case"a":t=JSON.parse(e.data.slice(1)||"[]");for(var n=0;n<t.length;n++)this.onEvent(t[n]);break;case"m":t=JSON.parse(e.data.slice(1)||"null"),this.onEvent(t);break;case"h":this.hooks.onHeartbeat(this);break;case"c":t=JSON.parse(e.data.slice(1)||"[]"),this.onClose(t[0],t[1],!0)}},e.prototype.onOpen=function(e){var t,n,r;this.readyState===i.default.CONNECTING?(e&&e.hostname&&(this.location.base=(t=this.location.base,n=e.hostname,(r=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(t))[1]+n+r[3])),this.readyState=i.default.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},e.prototype.onEvent=function(e){this.readyState===i.default.OPEN&&this.onmessage&&this.onmessage({data:e})},e.prototype.onActivity=function(){this.onactivity&&this.onactivity()},e.prototype.onError=function(e){this.onerror&&this.onerror(e)},e.prototype.openStream=function(){var e=this;this.stream=o.default.createSocketRequest("POST",l(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",(function(t){e.onChunk(t)})),this.stream.bind("finished",(function(t){e.hooks.onFinished(e,t)})),this.stream.bind("buffer_too_long",(function(){e.reconnect()}));try{this.stream.start()}catch(t){r.default.defer((function(){e.onError(t),e.onClose(1006,"Could not start streaming",!1)}))}},e.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},e}();function l(e){var t=-1===e.indexOf("?")?"?":"&";return e+t+"t="+ +new Date+"&n="+s++}function c(e){return Math.floor(Math.random()*e)}t.__esModule=!0,t.default=a},function(e,t){"use strict";var n;!function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSED=3]="CLOSED"}(n||(n={})),t.__esModule=!0,t.default=n},function(e,t){"use strict";t.__esModule=!0,t.default={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr_streaming"+e.queryString},onHeartbeat:function(e){e.sendRaw("[]")},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){e.onClose(1006,"Connection interrupted ("+t+")",!1)}}},function(e,t){"use strict";t.__esModule=!0,t.default={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr"+e.queryString},onHeartbeat:function(){},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){200===t?e.reconnect():e.onClose(1006,"Connection interrupted ("+t+")",!1)}}},function(e,t,n){"use strict";var i=n(2),r={getRequest:function(e){var t=new(i.default.getXHRAPI());return t.onreadystatechange=t.onprogress=function(){switch(t.readyState){case 3:t.responseText&&t.responseText.length>0&&e.onChunk(t.status,t.responseText);break;case 4:t.responseText&&t.responseText.length>0&&e.onChunk(t.status,t.responseText),e.emit("finished",t.status),e.close()}},t},abortRequest:function(e){e.onreadystatechange=null,e.abort()}};t.__esModule=!0,t.default=r},function(e,t,n){"use strict";var i=n(9),r=n(11),o=n(40),s=function(){function e(e,t,n){this.key=e,this.session=t,this.events=[],this.options=n||{},this.sent=0,this.uniqueID=0}return e.prototype.log=function(e,t){e<=this.options.level&&(this.events.push(i.extend({},t,{timestamp:r.default.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},e.prototype.error=function(e){this.log(o.default.ERROR,e)},e.prototype.info=function(e){this.log(o.default.INFO,e)},e.prototype.debug=function(e){this.log(o.default.DEBUG,e)},e.prototype.isEmpty=function(){return 0===this.events.length},e.prototype.send=function(e,t){var n=this,r=i.extend({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],e(r,(function(e,i){e||n.sent++,t&&t(e,i)})),!0},e.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},e}();t.__esModule=!0,t.default=s},function(e,t){"use strict";var n;!function(e){e[e.ERROR=3]="ERROR",e[e.INFO=6]="INFO",e[e.DEBUG=7]="DEBUG"}(n||(n={})),t.__esModule=!0,t.default=n},function(e,t,n){"use strict";var i=n(9),r=n(11),o=n(42),s=n(31),a=n(56),l=n(57),c=n(58),d=n(59),u=n(60),h=n(61),p=n(62),f=n(2).default.Transports;t.build=function(e,t){return C(e,i.extend({},b,t))[1].strategy};var g={isSupported:function(){return!1},connect:function(e,t){var n=r.default.defer((function(){t(new s.UnsupportedStrategy)}));return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}};function m(e){return function(t){return[e.apply(this,arguments),t]}}var b={extend:function(e,t,n){return[i.extend({},t,n),e]},def:function(e,t,n){if(void 0!==e[t])throw"Redefining symbol "+t;return e[t]=n,[void 0,e]},def_transport:function(e,t,n,r,o,l){var c,d=f[n];if(!d)throw new s.UnsupportedTransport(n);c=e.enabledTransports&&-1===i.arrayIndexOf(e.enabledTransports,t)||e.disabledTransports&&-1!==i.arrayIndexOf(e.disabledTransports,t)?g:new a.default(t,r,l?l.getAssistant(d):d,i.extend({key:e.key,encrypted:e.encrypted,timeline:e.timeline,ignoreNullOrigin:e.ignoreNullOrigin},o));var u=e.def(e,t,c)[1];return u.Transports=e.Transports||{},u.Transports[t]=c,[void 0,u]},transport_manager:m((function(e,t){return new o.default(t)})),sequential:m((function(e,t){var n=Array.prototype.slice.call(arguments,2);return new l.default(n,t)})),cached:m((function(e,t,n){return new d.default(n,e.Transports,{ttl:t,timeline:e.timeline,encrypted:e.encrypted})})),first_connected:m((function(e,t){return new p.default(t)})),best_connected_ever:m((function(){var e=Array.prototype.slice.call(arguments,1);return new c.default(e)})),delayed:m((function(e,t,n){return new u.default(n,{delay:t})})),if:m((function(e,t,n,i){return new h.default(t,n,i)})),is_supported:m((function(e,t){return function(){return t.isSupported()}}))};function y(e){return"string"==typeof e&&":"===e.charAt(0)}function S(e,t){return t[e.slice(1)]}function v(e,t){if(y(e[0])){var n=S(e[0],t);if(e.length>1){if("function"!=typeof n)throw"Calling non-function "+e[0];var r=[i.extend({},t)].concat(i.map(e.slice(1),(function(e){return C(e,i.extend({},t))[0]})));return n.apply(this,r)}return[n,t]}return function e(t,n){if(0===t.length)return[[],n];var i=C(t[0],n),r=e(t.slice(1),i[1]);return[[i[0]].concat(r[0]),r[1]]}(e,t)}function C(e,t){return"string"==typeof e?function(e,t){if(!y(e))return[e,t];var n=S(e,t);if(void 0===n)throw"Undefined symbol "+e;return[n,t]}(e,t):"object"==typeof e&&e instanceof Array&&e.length>0?v(e,t):[e,t]}},function(e,t,n){"use strict";var i=n(43),r=function(){function e(e){this.options=e||{},this.livesLeft=this.options.lives||1/0}return e.prototype.getAssistant=function(e){return i.default.createAssistantToTheTransportManager(this,e,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},e.prototype.isAlive=function(){return this.livesLeft>0},e.prototype.reportDeath=function(){this.livesLeft-=1},e}();t.__esModule=!0,t.default=r},function(e,t,n){"use strict";var i=n(44),r=n(45),o=n(48),s=n(49),a=n(50),l=n(51),c=n(52),d=n(54),u=n(55),h={createChannels:function(){return new u.default},createConnectionManager:function(e,t){return new d.default(e,t)},createChannel:function(e,t){return new c.default(e,t)},createPrivateChannel:function(e,t){return new l.default(e,t)},createPresenceChannel:function(e,t){return new a.default(e,t)},createTimelineSender:function(e,t){return new s.default(e,t)},createAuthorizer:function(e,t){return t.authorizer?t.authorizer(e,t):new o.default(e,t)},createHandshake:function(e,t){return new r.default(e,t)},createAssistantToTheTransportManager:function(e,t,n){return new i.default(e,t,n)}};t.__esModule=!0,t.default=h},function(e,t,n){"use strict";var i=n(11),r=n(9),o=function(){function e(e,t,n){this.manager=e,this.transport=t,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}return e.prototype.createConnection=function(e,t,n,o){var s=this;o=r.extend({},o,{activityTimeout:this.pingDelay});var a=this.transport.createConnection(e,t,n,o),l=null,c=function(){a.unbind("open",c),a.bind("closed",d),l=i.default.now()},d=function(e){if(a.unbind("closed",d),1002===e.code||1003===e.code)s.manager.reportDeath();else if(!e.wasClean&&l){var t=i.default.now()-l;t<2*s.maxPingDelay&&(s.manager.reportDeath(),s.pingDelay=Math.max(t/2,s.minPingDelay))}};return a.bind("open",c),a},e.prototype.isSupported=function(e){return this.manager.isAlive()&&this.transport.isSupported(e)},e}();t.__esModule=!0,t.default=o},function(e,t,n){"use strict";var i=n(9),r=n(46),o=n(47),s=function(){function e(e,t){this.transport=e,this.callback=t,this.bindListeners()}return e.prototype.close=function(){this.unbindListeners(),this.transport.close()},e.prototype.bindListeners=function(){var e=this;this.onMessage=function(t){var n;e.unbindListeners();try{n=r.processHandshake(t)}catch(i){return e.finish("error",{error:i}),void e.transport.close()}"connected"===n.action?e.finish("connected",{connection:new o.default(n.id,e.transport),activityTimeout:n.activityTimeout}):(e.finish(n.action,{error:n.error}),e.transport.close())},this.onClosed=function(t){e.unbindListeners();var n=r.getCloseAction(t)||"backoff",i=r.getCloseError(t);e.finish(n,{error:i})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},e.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},e.prototype.finish=function(e,t){this.callback(i.extend({transport:this.transport,action:e},t))},e}();t.__esModule=!0,t.default=s},function(e,t){"use strict";t.decodeMessage=function(e){try{var t=JSON.parse(e.data);if("string"==typeof t.data)try{t.data=JSON.parse(t.data)}catch(n){if(!(n instanceof SyntaxError))throw n}return t}catch(n){throw{type:"MessageParseError",error:n,data:e.data}}},t.encodeMessage=function(e){return JSON.stringify(e)},t.processHandshake=function(e){if("pusher:connection_established"===(e=t.decodeMessage(e)).event){if(!e.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:e.data.socket_id,activityTimeout:1e3*e.data.activity_timeout}}if("pusher:error"===e.event)return{action:this.getCloseAction(e.data),error:this.getCloseError(e.data)};throw"Invalid handshake"},t.getCloseAction=function(e){return e.code<4e3?e.code>=1002&&e.code<=1004?"backoff":null:4e3===e.code?"ssl_only":e.code<4100?"refused":e.code<4200?"backoff":e.code<4300?"retry":"refused"},t.getCloseError=function(e){return 1e3!==e.code&&1001!==e.code?{type:"PusherError",data:{code:e.code,message:e.reason||e.message}}:null}},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=n(9),o=n(24),s=n(46),a=n(8),l=function(e){function t(t,n){e.call(this),this.id=t,this.transport=n,this.activityTimeout=n.activityTimeout,this.bindListeners()}return i(t,e),t.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},t.prototype.send=function(e){return this.transport.send(e)},t.prototype.send_event=function(e,t,n){var i={event:e,data:t};return n&&(i.channel=n),a.default.debug("Event sent",i),this.send(s.encodeMessage(i))},t.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},t.prototype.close=function(){this.transport.close()},t.prototype.bindListeners=function(){var e=this,t={message:function(t){var n;try{n=s.decodeMessage(t)}catch(i){e.emit("error",{type:"MessageParseError",error:i,data:t.data})}if(void 0!==n){switch(a.default.debug("Event recd",n),n.event){case"pusher:error":e.emit("error",{type:"PusherError",data:n.data});break;case"pusher:ping":e.emit("ping");break;case"pusher:pong":e.emit("pong")}e.emit("message",n)}},activity:function(){e.emit("activity")},error:function(t){e.emit("error",{type:"WebSocketError",error:t})},closed:function(t){n(),t&&t.code&&e.handleCloseEvent(t),e.transport=null,e.emit("closed")}},n=function(){r.objectApply(t,(function(t,n){e.transport.unbind(n,t)}))};r.objectApply(t,(function(t,n){e.transport.bind(n,t)}))},t.prototype.handleCloseEvent=function(e){var t=s.getCloseAction(e),n=s.getCloseError(e);n&&this.emit("error",n),t&&this.emit(t)},t}(o.default);t.__esModule=!0,t.default=l},function(e,t,n){"use strict";var i=n(2),r=function(){function e(e,t){this.channel=e;var n=t.authTransport;if(void 0===i.default.getAuthorizers()[n])throw"'"+n+"' is not a recognized auth transport";this.type=n,this.options=t,this.authOptions=(t||{}).auth||{}}return e.prototype.composeQuery=function(e){var t="socket_id="+encodeURIComponent(e)+"&channel_name="+encodeURIComponent(this.channel.name);for(var n in this.authOptions.params)t+="&"+encodeURIComponent(n)+"="+encodeURIComponent(this.authOptions.params[n]);return t},e.prototype.authorize=function(t,n){return e.authorizers=e.authorizers||i.default.getAuthorizers(),e.authorizers[this.type].call(this,i.default,t,n)},e}();t.__esModule=!0,t.default=r},function(e,t,n){"use strict";var i=n(2),r=function(){function e(e,t){this.timeline=e,this.options=t||{}}return e.prototype.send=function(e,t){this.timeline.isEmpty()||this.timeline.send(i.default.TimelineTransport.getAgent(this,e),t)},e}();t.__esModule=!0,t.default=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=n(51),o=n(8),s=n(53),a=n(14),l=function(e){function t(t,n){e.call(this,t,n),this.members=new s.default}return i(t,e),t.prototype.authorize=function(t,n){var i=this;e.prototype.authorize.call(this,t,(function(e,t){if(!e){if(void 0===t.channel_data){var r=a.default.buildLogSuffix("authenticationEndpoint");return o.default.warn("Invalid auth response for channel '"+i.name+"',expected 'channel_data' field. "+r),void n("Invalid auth response")}var s=JSON.parse(t.channel_data);i.members.setMyID(s.user_id)}n(e,t)}))},t.prototype.handleEvent=function(e,t){switch(e){case"pusher_internal:subscription_succeeded":this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(t),this.emit("pusher:subscription_succeeded",this.members));break;case"pusher_internal:member_added":var n=this.members.addMember(t);this.emit("pusher:member_added",n);break;case"pusher_internal:member_removed":var i=this.members.removeMember(t);i&&this.emit("pusher:member_removed",i);break;default:r.default.prototype.handleEvent.call(this,e,t)}},t.prototype.disconnect=function(){this.members.reset(),e.prototype.disconnect.call(this)},t}(r.default);t.__esModule=!0,t.default=l},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=n(43),o=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype.authorize=function(e,t){return r.default.createAuthorizer(this,this.pusher.config).authorize(e,t)},t}(n(52).default);t.__esModule=!0,t.default=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=n(24),o=n(31),s=n(8),a=function(e){function t(t,n){e.call(this,(function(e,n){s.default.debug("No callbacks on "+t+" for "+e)})),this.name=t,this.pusher=n,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}return i(t,e),t.prototype.authorize=function(e,t){return t(!1,{})},t.prototype.trigger=function(e,t){if(0!==e.indexOf("client-"))throw new o.BadEventName("Event '"+e+"' does not start with 'client-'");return this.pusher.send_event(e,t,this.name)},t.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},t.prototype.handleEvent=function(e,t){0===e.indexOf("pusher_internal:")?"pusher_internal:subscription_succeeded"===e&&(this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",t)):this.emit(e,t)},t.prototype.subscribe=function(){var e=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(function(t,n){t?e.handleEvent("pusher:subscription_error",n):e.pusher.send_event("pusher:subscribe",{auth:n.auth,channel_data:n.channel_data,channel:e.name})})))},t.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},t.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},t.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},t}(r.default);t.__esModule=!0,t.default=a},function(e,t,n){"use strict";var i=n(9),r=function(){function e(){this.reset()}return e.prototype.get=function(e){return Object.prototype.hasOwnProperty.call(this.members,e)?{id:e,info:this.members[e]}:null},e.prototype.each=function(e){var t=this;i.objectApply(this.members,(function(n,i){e(t.get(i))}))},e.prototype.setMyID=function(e){this.myID=e},e.prototype.onSubscription=function(e){this.members=e.presence.hash,this.count=e.presence.count,this.me=this.get(this.myID)},e.prototype.addMember=function(e){return null===this.get(e.user_id)&&this.count++,this.members[e.user_id]=e.user_info,this.get(e.user_id)},e.prototype.removeMember=function(e){var t=this.get(e.user_id);return t&&(delete this.members[e.user_id],this.count--),t},e.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},e}();t.__esModule=!0,t.default=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},r=n(24),o=n(12),s=n(8),a=n(9),l=n(2),c=function(e){function t(t,n){var i=this;e.call(this),this.key=t,this.options=n||{},this.state="initialized",this.connection=null,this.encrypted=!!n.encrypted,this.timeline=this.options.timeline,this.connectionCallbacks=this.buildConnectionCallbacks(),this.errorCallbacks=this.buildErrorCallbacks(),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var r=l.default.getNetwork();r.bind("online",(function(){i.timeline.info({netinfo:"online"}),"connecting"!==i.state&&"unavailable"!==i.state||i.retryIn(0)})),r.bind("offline",(function(){i.timeline.info({netinfo:"offline"}),i.connection&&i.sendActivityCheck()})),this.updateStrategy()}return i(t,e),t.prototype.connect=function(){this.connection||this.runner||(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))},t.prototype.send=function(e){return!!this.connection&&this.connection.send(e)},t.prototype.send_event=function(e,t,n){return!!this.connection&&this.connection.send_event(e,t,n)},t.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},t.prototype.isEncrypted=function(){return this.encrypted},t.prototype.startConnecting=function(){var e=this,t=function(n,i){n?e.runner=e.strategy.connect(0,t):"error"===i.action?(e.emit("error",{type:"HandshakeError",error:i.error}),e.timeline.error({handshakeError:i.error})):(e.abortConnecting(),e.handshakeCallbacks[i.action](i))};this.runner=this.strategy.connect(0,t)},t.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},t.prototype.disconnectInternally=function(){this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection&&this.abandonConnection().close()},t.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,encrypted:this.encrypted})},t.prototype.retryIn=function(e){var t=this;this.timeline.info({action:"retry",delay:e}),e>0&&this.emit("connecting_in",Math.round(e/1e3)),this.retryTimer=new o.OneOffTimer(e||0,(function(){t.disconnectInternally(),t.connect()}))},t.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},t.prototype.setUnavailableTimer=function(){var e=this;this.unavailableTimer=new o.OneOffTimer(this.options.unavailableTimeout,(function(){e.updateState("unavailable")}))},t.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},t.prototype.sendActivityCheck=function(){var e=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new o.OneOffTimer(this.options.pongTimeout,(function(){e.timeline.error({pong_timed_out:e.options.pongTimeout}),e.retryIn(0)}))},t.prototype.resetActivityCheck=function(){var e=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new o.OneOffTimer(this.activityTimeout,(function(){e.sendActivityCheck()})))},t.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},t.prototype.buildConnectionCallbacks=function(){var e=this;return{message:function(t){e.resetActivityCheck(),e.emit("message",t)},ping:function(){e.send_event("pusher:pong",{})},activity:function(){e.resetActivityCheck()},error:function(t){e.emit("error",{type:"WebSocketError",error:t})},closed:function(){e.abandonConnection(),e.shouldRetry()&&e.retryIn(1e3)}}},t.prototype.buildHandshakeCallbacks=function(e){var t=this;return a.extend({},e,{connected:function(e){t.activityTimeout=Math.min(t.options.activityTimeout,e.activityTimeout,e.connection.activityTimeout||1/0),t.clearUnavailableTimer(),t.setConnection(e.connection),t.socket_id=t.connection.id,t.updateState("connected",{socket_id:t.socket_id})}})},t.prototype.buildErrorCallbacks=function(){var e=this,t=function(t){return function(n){n.error&&e.emit("error",{type:"WebSocketError",error:n.error}),t(n)}};return{ssl_only:t((function(){e.encrypted=!0,e.updateStrategy(),e.retryIn(0)})),refused:t((function(){e.disconnect()})),backoff:t((function(){e.retryIn(1e3)})),retry:t((function(){e.retryIn(0)}))}},t.prototype.setConnection=function(e){for(var t in this.connection=e,this.connectionCallbacks)this.connection.bind(t,this.connectionCallbacks[t]);this.resetActivityCheck()},t.prototype.abandonConnection=function(){if(this.connection){for(var e in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(e,this.connectionCallbacks[e]);var t=this.connection;return this.connection=null,t}},t.prototype.updateState=function(e,t){var n=this.state;if(this.state=e,n!==e){var i=e;"connected"===i&&(i+=" with new socket ID "+t.socket_id),s.default.debug("State changed",n+" -> "+i),this.timeline.info({state:e,params:t}),this.emit("state_change",{previous:n,current:e}),this.emit(e,t)}},t.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},t}(r.default);t.__esModule=!0,t.default=c},function(e,t,n){"use strict";var i=n(9),r=n(43),o=function(){function e(){this.channels={}}return e.prototype.add=function(e,t){return this.channels[e]||(this.channels[e]=function(e,t){return 0===e.indexOf("private-")?r.default.createPrivateChannel(e,t):0===e.indexOf("presence-")?r.default.createPresenceChannel(e,t):r.default.createChannel(e,t)}(e,t)),this.channels[e]},e.prototype.all=function(){return i.values(this.channels)},e.prototype.find=function(e){return this.channels[e]},e.prototype.remove=function(e){var t=this.channels[e];return delete this.channels[e],t},e.prototype.disconnect=function(){i.objectApply(this.channels,(function(e){e.disconnect()}))},e}();t.__esModule=!0,t.default=o},function(e,t,n){"use strict";var i=n(43),r=n(11),o=n(31),s=n(9),a=function(){function e(e,t,n,i){this.name=e,this.priority=t,this.transport=n,this.options=i||{}}return e.prototype.isSupported=function(){return this.transport.isSupported({encrypted:this.options.encrypted})},e.prototype.connect=function(e,t){var n=this;if(!this.isSupported())return l(new o.UnsupportedStrategy,t);if(this.priority<e)return l(new o.TransportPriorityTooLow,t);var r=!1,a=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),c=null,d=function(){a.unbind("initialized",d),a.connect()},u=function(){c=i.default.createHandshake(a,(function(e){r=!0,f(),t(null,e)}))},h=function(e){f(),t(e)},p=function(){var e;f(),e=s.safeJSONStringify(a),t(new o.TransportClosed(e))},f=function(){a.unbind("initialized",d),a.unbind("open",u),a.unbind("error",h),a.unbind("closed",p)};return a.bind("initialized",d),a.bind("open",u),a.bind("error",h),a.bind("closed",p),a.initialize(),{abort:function(){r||(f(),c?c.close():a.close())},forceMinPriority:function(e){r||n.priority<e&&(c?c.close():a.close())}}},e}();function l(e,t){return r.default.defer((function(){t(e)})),{abort:function(){},forceMinPriority:function(){}}}t.__esModule=!0,t.default=a},function(e,t,n){"use strict";var i=n(9),r=n(11),o=n(12),s=function(){function e(e,t){this.strategies=e,this.loop=Boolean(t.loop),this.failFast=Boolean(t.failFast),this.timeout=t.timeout,this.timeoutLimit=t.timeoutLimit}return e.prototype.isSupported=function(){return i.any(this.strategies,r.default.method("isSupported"))},e.prototype.connect=function(e,t){var n=this,i=this.strategies,r=0,o=this.timeout,s=null,a=function(l,c){c?t(null,c):(r+=1,n.loop&&(r%=i.length),r<i.length?(o&&(o*=2,n.timeoutLimit&&(o=Math.min(o,n.timeoutLimit))),s=n.tryStrategy(i[r],e,{timeout:o,failFast:n.failFast},a)):t(!0))};return s=this.tryStrategy(i[r],e,{timeout:o,failFast:this.failFast},a),{abort:function(){s.abort()},forceMinPriority:function(t){e=t,s&&s.forceMinPriority(t)}}},e.prototype.tryStrategy=function(e,t,n,i){var r=null,s=null;return n.timeout>0&&(r=new o.OneOffTimer(n.timeout,(function(){s.abort(),i(!0)}))),s=e.connect(t,(function(e,t){e&&r&&r.isRunning()&&!n.failFast||(r&&r.ensureAborted(),i(e,t))})),{abort:function(){r&&r.ensureAborted(),s.abort()},forceMinPriority:function(e){s.forceMinPriority(e)}}},e}();t.__esModule=!0,t.default=s},function(e,t,n){"use strict";var i=n(9),r=n(11),o=function(){function e(e){this.strategies=e}return e.prototype.isSupported=function(){return i.any(this.strategies,r.default.method("isSupported"))},e.prototype.connect=function(e,t){return function(e,t,n){var r=i.map(e,(function(e,i,r,o){return e.connect(t,n(i,o))}));return{abort:function(){i.apply(r,s)},forceMinPriority:function(e){i.apply(r,(function(t){t.forceMinPriority(e)}))}}}(this.strategies,e,(function(e,n){return function(r,o){n[e].error=r,r?function(e){return i.all(e,(function(e){return Boolean(e.error)}))}(n)&&t(!0):(i.apply(n,(function(e){e.forceMinPriority(o.transport.priority)})),t(null,o))}}))},e}();function s(e){e.error||e.aborted||(e.abort(),e.aborted=!0)}t.__esModule=!0,t.default=o},function(e,t,n){"use strict";var i=n(11),r=n(2),o=n(57),s=n(9),a=function(){function e(e,t,n){this.strategy=e,this.transports=t,this.ttl=n.ttl||18e5,this.encrypted=n.encrypted,this.timeline=n.timeline}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(e,t){var n=this.encrypted,a=function(e){var t=r.default.getLocalStorage();if(t)try{var n=t[l(e)];if(n)return JSON.parse(n)}catch(i){c(e)}return null}(n),d=[this.strategy];if(a&&a.timestamp+this.ttl>=i.default.now()){var u=this.transports[a.transport];u&&(this.timeline.info({cached:!0,transport:a.transport,latency:a.latency}),d.push(new o.default([u],{timeout:2*a.latency+1e3,failFast:!0})))}var h=i.default.now(),p=d.pop().connect(e,(function o(a,u){a?(c(n),d.length>0?(h=i.default.now(),p=d.pop().connect(e,o)):t(a)):(function(e,t,n){var o=r.default.getLocalStorage();if(o)try{o[l(e)]=s.safeJSONStringify({timestamp:i.default.now(),transport:t,latency:n})}catch(a){}}(n,u.transport.name,i.default.now()-h),t(null,u))}));return{abort:function(){p.abort()},forceMinPriority:function(t){e=t,p&&p.forceMinPriority(t)}}},e}();function l(e){return"pusherTransport"+(e?"Encrypted":"Unencrypted")}function c(e){var t=r.default.getLocalStorage();if(t)try{delete t[l(e)]}catch(n){}}t.__esModule=!0,t.default=a},function(e,t,n){"use strict";var i=n(12),r=function(){function e(e,t){var n=t.delay;this.strategy=e,this.options={delay:n}}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(e,t){var n,r=this.strategy,o=new i.OneOffTimer(this.options.delay,(function(){n=r.connect(e,t)}));return{abort:function(){o.ensureAborted(),n&&n.abort()},forceMinPriority:function(t){e=t,n&&n.forceMinPriority(t)}}},e}();t.__esModule=!0,t.default=r},function(e,t){"use strict";var n=function(){function e(e,t,n){this.test=e,this.trueBranch=t,this.falseBranch=n}return e.prototype.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},e.prototype.connect=function(e,t){return(this.test()?this.trueBranch:this.falseBranch).connect(e,t)},e}();t.__esModule=!0,t.default=n},function(e,t){"use strict";var n=function(){function e(e){this.strategy=e}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(e,t){var n=this.strategy.connect(e,(function(e,i){i&&n.abort(),t(e,i)}));return n},e}();t.__esModule=!0,t.default=n},function(e,t,n){"use strict";var i=n(5);t.getGlobalConfig=function(){return{wsHost:i.default.host,wsPort:i.default.ws_port,wssPort:i.default.wss_port,wsPath:i.default.ws_path,httpHost:i.default.sockjs_host,httpPort:i.default.sockjs_http_port,httpsPort:i.default.sockjs_https_port,httpPath:i.default.sockjs_path,statsHost:i.default.stats_host,authEndpoint:i.default.channel_auth_endpoint,authTransport:i.default.channel_auth_transport,activity_timeout:i.default.activity_timeout,pong_timeout:i.default.pong_timeout,unavailable_timeout:i.default.unavailable_timeout}},t.getClusterConfig=function(e){return{wsHost:"ws-"+e+".pusher.com",httpHost:"sockjs-"+e+".pusher.com"}}}])},e.exports=i()},function(e,t,n){"use strict";var i=n(171);function r(e){this.message=e}r.prototype=new Error,r.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new r("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(i(e.split(".")[n]))}catch(o){throw new r("Invalid token specified: "+o.message)}},e.exports.InvalidTokenError=r},function(e,t,n){var i=n(172);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(i(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(n){return i(t)}}},function(e,t){function n(e){this.message=e}n.prototype=new Error,n.prototype.name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,r,o=0,s=0,a="";r=t.charAt(s++);~r&&(i=o%4?64*i+r:r,o++%4)?a+=String.fromCharCode(255&i>>(-2*o&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return a}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(1);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s{constructor(e,t){this.domNode=null,this.domContainer=t,this.preactComponent=e,this.props={}}isRendered(){return null!==this.domNode}render(e){this.props=e||{},this.renderComponent()}update(e){Object.assign(this.props,e),this.renderComponent()}renderComponent(){i.render(i.h(this.preactComponent,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ref:e=>{this.domNode=e}},this.props)),this.domContainer)}remove(){i.render(null,this.domContainer),this.domNode=null,this.props=null}}},function(e,t,n){"use strict";n.r(t);var i=n(175);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(45),o=n(137),s=n(44),a=n(176),l=n(179),c=n(287),d=n(306),u=n(289);function h(e,t,n){const i={Reason:e,Plan:n};if(t)for(let r=0;255*r<t.length;r++){const e=255*r;i["Description"+(r?" "+r:"")]=t.substring(e,e+255)}mixpanel.master.track("Cancelled plan",i),Intercom("trackEvent","cancelled plan",{reason:e,description:t,plan:n}),t&&Object(o.createIntercomMessage)(`Cancelled plan ${n}: ${e}\n\n${t}`)}function p(){location.replace(Object(s.urlResolve)("projects"))}function f(){location.replace(Object(s.urlResolve)("profile-account"))}function g(){Intercom("showNewMessage")}class m extends i.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this),this.handleTransferPlanClick=this.handleTransferPlanClick.bind(this),this.handleTransferPlanFormSubmit=this.handleTransferPlanFormSubmit.bind(this),this.handleQuestionChange=this.handleQuestionChange.bind(this),this.performTransferUserPlan=this.performTransferUserPlan.bind(this),this.performCancelPlan=this.performCancelPlan.bind(this),this.performCancelUserPlan=this.performCancelUserPlan.bind(this),this.performCancelOrgPlan=this.performCancelOrgPlan.bind(this),this.hideTransferPlanWarningDialog=this.hideTransferPlanWarningDialog.bind(this),this.hideTransferOrgOwnershipDialog=this.hideTransferOrgOwnershipDialog.bind(this),this.hideSubscriptionCancelledDialog=this.hideSubscriptionCancelledDialog.bind(this),this.hideCancelPlanDialog=this.hideCancelPlanDialog.bind(this),this.handleGoToOrgDashboardClick=this.handleGoToOrgDashboardClick.bind(this),this.state={loading:!1,transferEmail:"",transferPlanFormShown:!1,transferPlanFormError:"",cancelReason:"",cancelDescription:"",transferPlanWarningDialogShown:!1,transferOrgOwnershipDialogShown:!1,subscriptionCancelledDialogShown:!1,cancelPlanDialogShown:!1}}hideTransferPlanWarningDialog(){this.setState({transferPlanWarningDialogShown:!1})}hideTransferOrgOwnershipDialog(){this.setState({transferOrgOwnershipDialogShown:!1})}hideCancelPlanDialog(){this.setState({cancelPlanDialogShown:!1})}hideSubscriptionCancelledDialog(){this.setState({subscriptionCancelledDialogShown:!1})}performTransferUserPlan(){const{transferEmail:e}=this.state;this.setState({loading:!0}),Object(o.transferUserSubscription)(e).then(()=>{this.setState({loading:!1}),Zeplin.user.paymentPlan="free",delete Zeplin.user.subscriptionStatus,location.replace(Object(s.urlResolve)("profile-billing"))}).catch(e=>{this.setState({loading:!1}),Object(r.handleError)(e)})}performCancelUserPlan(){const{cancelReason:e,cancelDescription:t}=this.state;this.setState({loading:!0}),Object(o.cancelUserSubscription)().then(()=>{h(e,t,Zeplin.user.paymentPlan),Zeplin.updateUser({subscriptionStatus:"will_cancel_at_period_end"}),this.setState({loading:!1,subscriptionCancelledDialogShown:!0})}).catch(e=>{this.setState({loading:!1}),Object(r.handleError)(e)})}performCancelOrgPlan(){const{oid:e,organizationPlan:t}=this.props,{cancelReason:n,cancelDescription:i}=this.state;this.setState({loading:!0}),Object(o.cancelOrganizationSubscription)(e).then(()=>{h(n,i,t),this.setState({loading:!1,subscriptionCancelledDialogShown:!0})}).catch(e=>{this.setState({loading:!1}),Object(r.handleError)(e)})}performCancelPlan(){this.props.oid?this.performCancelOrgPlan():this.performCancelUserPlan()}handleQuestionChange(){this.state.transferPlanFormShown&&this.setState({transferPlanFormShown:!1})}handleGoToOrgDashboardClick(){const{oid:e}=this.props;location.replace(Object(s.urlResolve)("organization-dashboard",{url:{oid:e}}))}handleCancelPlanClick(e,t){this.setState({cancelReason:e,cancelDescription:t,cancelPlanDialogShown:!0})}handleTransferPlanFormSubmit(e){this.setState({transferPlanFormError:""}),function(e){return e===Zeplin.user.email?Promise.reject(new Error("C'mon, that's you")):new Promise((t,n)=>{Object(o.getUserStatus)(e).then(e=>{"invited"!==e.status?t():n(new Error("No registered user with this email"))}).catch(e=>{Object(r.handleError)(e,{serverErrorHandler:()=>n(new Error("Something is wrong :(")),clientErrorHandler:{404:()=>{n(new Error("No registered user with this email"))}},fallbackHandler:()=>{n(new Error("Something is wrong :("))}})})})}(e).then(()=>{this.setState({transferEmail:e,transferPlanWarningDialogShown:!0})}).catch(e=>{this.setState({transferPlanFormError:e.message})})}handleTransferPlanClick(){const{oid:e}=this.props;e?this.setState({transferOrgOwnershipDialogShown:!0}):this.setState({transferPlanFormShown:!0})}render(){const{onClose:e,onBackClick:t,periodEndDate:n,oid:r}=this.props,{loading:o,transferEmail:s,transferPlanFormError:h,transferPlanFormShown:m,subscriptionCancelledDialogShown:b,cancelPlanDialogShown:y,transferPlanWarningDialogShown:S,transferOrgOwnershipDialogShown:v}=this.state;return i.h("div",null,i.h(l.default,{onClose:e,onBackClick:t,onCancelPlanClick:this.handleCancelPlanClick,onTransferPlanClick:this.handleTransferPlanClick,onTransferPlanFormSubmit:this.handleTransferPlanFormSubmit,onQuestionChange:this.handleQuestionChange,onChangeEmailClick:f,onContactSupportClick:g,transferPlanFormError:h,transferPlanFormShown:m}),o&&i.h(a.default,null),S&&i.h(c.default,{email:s,onClose:this.hideTransferPlanWarningDialog,onTransfer:this.performTransferUserPlan}),v&&i.h(u.BasicDialog,{title:"Transfer ownership?",message:'To transfer the ownership of the organization, select the user in the organization dashboard and click "Transfer Ownership"',positiveButtonText:"GO TO DASHBOARD",onPositiveButtonClick:this.handleGoToOrgDashboardClick,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:this.hideTransferOrgOwnershipDialog}),y&&i.h(d.default,{isOrganizationPlan:!!r,periodEndDate:n,onCancelPlan:this.performCancelPlan,onClose:this.hideCancelPlanDialog}),b&&i.h(u.BasicDialog,{title:"Subscription cancelled successfully",message:"Let us know if there's anything bothering you: support@zeplin.io",positiveButtonText:"OK",onPositiveButtonClick:p,onClose:this.hideSubscriptionCancelledDialog}))}}t.default=m},function(e,t,n){"use strict";n.r(t);var i=n(177);t.default=i.default},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(1);n(178);function r(){return i.h("div",{class:"loadingOverlay"},i.h("div",{class:"ripple ripple1"}),i.h("div",{class:"ripple ripple2"}),i.h("div",{class:"ripple ripple3"}),i.h("div",{class:"ripple ripple4"}))}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(180);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(181),o=n(184),s=n(187),a=n(228);n(286);t.default=function(e){const{onClose:t,onBackClick:n,onCancelPlanClick:l,onTransferPlanFormSubmit:c,onTransferPlanClick:d,onChangeEmailClick:u,onContactSupportClick:h,onQuestionChange:p,transferPlanFormError:f,transferPlanFormShown:g}=e;return i.h(r.default,{onClose:t},i.h("div",{class:"cancelPlanModal"},i.h("div",{class:"cancelPlanHeader"},i.h("button",{class:"cancelPlanHeaderButton",onClick:n},i.h(a.IconArrowLeft,{color:"var(--gandalf)"}),i.h("span",{class:"cancelPlanHeaderButtonText"},"Plans"))),i.h("div",{class:"cancelPlanHero"},i.h("h2",{class:"title"},"Why are you cancelling?"),i.h("p",{class:"text"},"It's sad to see you go. Tell us why you're cancelling, maybe we can help!")),i.h(o.default,null),i.h(s.default,{onBackClick:n,onQuestionChange:p,onCancelPlanClick:l,onTransferPlanFormSubmit:c,onTransferPlanClick:d,onChangeEmailClick:u,onContactSupportClick:h,transferPlanFormShown:g,transferPlanFormError:f})))}},function(e,t,n){"use strict";n.r(t);var i=n(182);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(62);n(183);class a extends i.Component{constructor(e){super(e),this.handleClose=this.handleClose.bind(this),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this)}handleClose(e){this.props.onClose&&(e.stopPropagation(),this.props.onClose(e))}handleDocumentKeydown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&this.props.onClose&&this.props.onClose(e)}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeydown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeydown)}render(){const{children:e}=this.props;return i.h("div",{class:"overlay",onClick:this.handleClose},i.toChildArray(e).map(e=>i.cloneElement(e,{onClick:s.stopPropagation})))}}a.propTypes={onClose:o.a.func},t.default=a},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(185);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(1);n(186);function r(){return i.h("div",{class:"covidNotice"},"Here at Zeplin, we value our community—if you’re having financial/budgetary issues due to the current state of events, please contact us at ",i.h("a",{href:"mailto:support@zeplin.io"},"support@zeplin.io"),". We’d love to help.")}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(188);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(189),o=n(191);n(227);t.default=function(e){const{onBackClick:t,onCancelPlanClick:n,onTransferPlanFormSubmit:s,onTransferPlanClick:a,onChangeEmailClick:l,onContactSupportClick:c,transferPlanFormError:d,transferPlanFormShown:u,onQuestionChange:h}=e;return i.h(r.default,{class:"cancelPlanSurvey",onChange:h},i.h(o.WrongAccount,{onTransferPlanClick:a,onTransferPlanFormSubmit:s,onChangeEmailClick:l,transferPlanFormShown:u,transferPlanFormError:d}),i.h(o.SubscribedAnnually,{onBackClick:t}),i.h(o.ProjectEnded,{onCancelPlanClick:n}),i.h(o.MovedToTeamPlan,{onCancelPlanClick:n}),i.h(o.SwitchedToAnotherTool,{onCancelPlanClick:n}),i.h(o.RanIntoIssue,{onContactSupportClick:c,onCancelPlanClick:n}),i.h(o.TooExpensive,{onContactSupportClick:c,onCancelPlanClick:n}),i.h(o.Other,{onCancelPlanClick:n}))}},function(e,t,n){"use strict";n.r(t);var i=n(190);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1);class r extends i.Component{constructor(e){super(e),this.state={index:-1},this.handleSelectQuestion=this.handleSelectQuestion.bind(this)}handleSelectQuestion(e){this.props.onChange&&this.props.onChange(e.target.value),this.setState({index:Number(e.target.value)})}render(){const{index:e}=this.state,{class:t,children:n}=this.props;return i.h("div",{class:t},i.toChildArray(n).map((t,n)=>i.cloneElement(t,{value:n,selected:e===n,onSelect:this.handleSelectQuestion})))}}t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(192);n.d(t,"MovedToTeamPlan",(function(){return i.default}));var r=n(206);n.d(t,"Other",(function(){return r.default}));var o=n(216);n.d(t,"ProjectEnded",(function(){return o.default}));var s=n(217);n.d(t,"RanIntoIssue",(function(){return s.default}));var a=n(218);n.d(t,"SubscribedAnnually",(function(){return a.default}));var l=n(222);n.d(t,"SwitchedToAnotherTool",(function(){return l.default}));var c=n(223);n.d(t,"TooExpensive",(function(){return c.default}));var d=n(224);n.d(t,"WrongAccount",(function(){return d.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(193),o=n(196),s=n(199),a=n(205);class l extends i.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(a.MOVED_TO_TEAM_PLAN)}render(){const{onSelect:e,selected:t,value:n}=this.props,a=[i.h("p",null,"Glad to hear that you'll be getting more out of Zeplin together! 👨‍👩‍👦‍👦"),i.h(r.default,null,i.h(o.default,{onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.h(s.default,{onSelect:e,selected:t,value:n,content:a,mainText:"Moved to a team plan"})}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(194);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1);n(195);t.default=function(e){return i.h("div",{class:"questionButtons"},e.children)}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(197);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(9),o=n(11);n(198);t.default=function(e){const{secondary:t,class:n}=e,s=Object(o.default)("questionButton",n,{primary:!t,secondary:t}),a=Object.assign({},e,{class:s});return delete a.secondary,i.h(r.default,a)}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(200);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(201),o=n(11);n(204);t.default=function(e){const{content:t,mainText:n,subText:s,onSelect:a,selected:l,value:c}=e;return i.h("div",{class:"cancelPlanSurveyQuestion"},i.h("label",{class:Object(o.default)("selectWithText",{hasSubText:!!s})},i.h(r.default,{onClick:a,checked:l,value:c}),i.h("div",{class:"textContainer"},i.h("p",{class:"mainText"},n),s&&i.h("p",{class:"subText"},s))),l&&i.h("div",{class:"questionContent"},t))}},function(e,t,n){"use strict";n.r(t);var i=n(202);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11);n(203);t.default=function(e){const t=Object.assign({},e);return delete t.class,i.h("span",null,i.h("input",Object.assign(t,{type:"radio",class:"radioButtonRadio"})),i.h("div",{tabIndex:e.tabIndex,class:Object(r.default)("radioButton",e.class)},i.h("div",{class:"radioButtonInner"})))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t),n.d(t,"PROJECT_ENDED",(function(){return i})),n.d(t,"MOVED_TO_TEAM_PLAN",(function(){return r})),n.d(t,"SWITCHED_TO_ANOTHER_TOOL",(function(){return o})),n.d(t,"RAN_INTO_ISSUE",(function(){return s})),n.d(t,"TOO_EXPENSIVE",(function(){return a})),n.d(t,"OTHER",(function(){return l}));const i="Project ended",r="Moved to team plan",o="Switched to another tool",s="Ran into issue",a="Too expensive",l="Other"},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(207),o=n(199),s=n(205);class a extends i.Component{constructor(e){super(e),this.handleFormSubmit=this.handleFormSubmit.bind(this)}handleFormSubmit(e){this.props.onCancelPlanClick(s.OTHER,e)}render(){const{onSelect:e,selected:t,value:n}=this.props,s=[i.h("p",null,"Mind sharing why? This'll help us improve Zeplin."),i.h(r.default,{onSubmit:this.handleFormSubmit,placeholder:"Notes on why you're cancelling",buttonText:"Cancel plan"})];return i.h(o.default,{onSelect:e,selected:t,value:n,content:s,mainText:"Other"})}}t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(208);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11),o=n(24),s=n(196),a=n(209),l=n(212);n(215);class c extends i.Component{constructor(e){super(e),this.state={value:"",dirty:!1,isInputValid:!0},this.handleInput=this.handleInput.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}isSubmitEnabled(){const{maxLength:e}=this.props,{value:t,isInputValid:n}=this.state;return t&&t.length<e&&t.trim()&&n}handleInput(e){this.setState({value:e.target.value,dirty:!0})}handleSubmit(e){e.preventDefault(),this.isSubmitEnabled()&&(this.props.onSubmit(this.state.value),this.setState({dirty:!1}))}componentDidMount(){this.nodeRefs.textInput.focus()}componentDidUpdate(e,t){"email"===this.props.type&&t.value!==this.state.value&&this.setState({isInputValid:this.nodeRefs.textInput.checkValidity()})}render(){const{placeholder:e,buttonText:t,label:n,type:c,error:d,maxLength:u,class:h}=this.props,{value:p,dirty:f,isInputValid:g}=this.state,m="email"===c&&l.default||a.default,b=!f&&!!d,y=p&&p.trim()&&g;return i.h("form",{class:Object(r.default)("questionTextForm",{hasError:b},h),onSubmit:this.handleSubmit},n&&i.h("label",{class:"questionTextFormLabel"},n),i.h(m,{class:"formInput",maxLength:u,onInput:this.handleInput,type:c,placeholder:e,value:p,inputRef:Object(o.default)(this,"textInput")}),b&&i.h("div",{class:"errorText"},d),i.h(s.default,{class:"questionTextFormButton",disabled:!y,type:"submit"},t))}}c.defaultProps={maxLength:2048},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(210);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11);n(211);class o extends i.Component{constructor(e){super(e),this.state={value:e.value},this.handleInput=this.handleInput.bind(this)}handleInput(e){this.props.onInput&&this.props.onInput(e),this.setState({value:e.target.value})}render(){const{value:e}=this.state,{placeholder:t,inputRef:n,maxLength:o,class:s}=this.props;return i.h("div",{class:Object(r.default)("questionTextArea",s)},i.h("div",{class:"mirror"},i.h("pre",null,e," ")),i.h("textarea",{value:e,maxLength:o,placeholder:t,ref:n,onInput:this.handleInput}))}}t.default=o},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(213);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11);n(214);t.default=function(e){const t=Object.assign({},e,{class:Object(r.default)("questionTextInput",e.class),type:e.type||"text",ref:e.inputRef});return delete t.inputRef,i.h("input",t)}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(193),o=n(196),s=n(199),a=n(205);class l extends i.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(a.PROJECT_ENDED)}render(){const{onSelect:e,selected:t,value:n}=this.props,a=[i.h("p",null,"Thanks for using Zeplin, hope to have you back on board soon! 👋"),i.h(r.default,null,i.h(o.default,{onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.h(s.default,{onSelect:e,selected:t,value:n,content:a,mainText:"Project ended, won't need Zeplin for a while"})}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(193),o=n(196),s=n(199),a=n(205);class l extends i.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(a.RAN_INTO_ISSUE)}render(){const{onSelect:e,selected:t,value:n}=this.props,a=[i.h("p",null,"Sorry to hear that. Contact us and we'd love to help you out right away. 💪"),i.h(r.default,null,i.h(o.default,{onClick:this.props.onContactSupportClick},"Contact support"),i.h(o.default,{secondary:!0,onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.h(s.default,{onSelect:e,selected:t,value:n,content:a,mainText:"Ran into an issue",subText:"e.g. “I couldn't export my designs.”, “I failed to install the Photoshop plugin.”"})}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(199),o=n(219);t.default=function(e){const{onSelect:t,selected:n,value:s,onBackClick:a}=e,l=[i.h("p",null,"You can always switch your billing frequency. ",i.h(o.default,{onClick:a},"Go back")," to plan selection, select the Monthly tab and select your plan."),i.h("br",null),i.h("p",null,"Your previous payment will be pro-rated and credited to your account automatically. For a refund, please contact us.")];return i.h(r.default,{onSelect:t,selected:n,value:s,content:l,mainText:"Subscribed annually, instead of monthly"})}},function(e,t,n){"use strict";n.r(t);var i=n(220);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1);n(221);t.default=function(e){return i.h("button",{class:"questionInlineButton",onClick:e.onClick},e.children)}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(207),o=n(199),s=n(205);class a extends i.Component{constructor(e){super(e),this.handleFormSubmit=this.handleFormSubmit.bind(this)}handleFormSubmit(e){this.props.onCancelPlanClick(s.SWITCHED_TO_ANOTHER_TOOL,e)}render(){const{onSelect:e,selected:t,value:n}=this.props,s=[i.h("p",null,"Mind sharing which tool and why? This'll help us improve Zeplin."),i.h(r.default,{onSubmit:this.handleFormSubmit,placeholder:"Notes on which tool you're switching to, and why",buttonText:"Cancel plan"})];return i.h(o.default,{onSelect:e,selected:t,value:n,content:s,mainText:"Switched to another tool"})}}t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(193),o=n(196),s=n(199),a=n(205);class l extends i.Component{constructor(e){super(e),this.handleCancelPlanClick=this.handleCancelPlanClick.bind(this)}handleCancelPlanClick(){this.props.onCancelPlanClick(a.TOO_EXPENSIVE)}render(){const{onSelect:e,selected:t,value:n}=this.props,a=[i.h("p",null,"We wouldn't want to lose you over pricing. Mind contacting us and sharing why? We'd love to figure out the best plan for you and your team."),i.h(r.default,null,i.h(o.default,{onClick:this.props.onContactSupportClick},"Contact support"),i.h(o.default,{secondary:!0,onClick:this.handleCancelPlanClick},"Cancel plan"))];return i.h(s.default,{onSelect:e,selected:t,value:n,content:a,mainText:"Too expensive",subText:"e.g. Dollar is really high in my country"})}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(225);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(193),o=n(196),s=n(207),a=n(199);n(226);function l(e){const{onChangeEmailClick:t,onTransferPlanClick:n,onTransferPlanFormSubmit:a,transferPlanFormError:l,transferPlanFormShown:c}=e;return c?[i.h("p",null,"You can always change your account's email or transfer your plan to another Zeplin user."),i.h("div",{class:"transferPlanFormContainer"},i.h("span",{class:"emoji"},"☝️"),i.h("div",{class:"text"},i.h("p",null,"By transferring the subscription, you will transfer your billing information and all the projects under this account."),i.h("br",null),i.h("p",null,"Your personal plan will be downgraded to Free plan and you can own only one project."))),i.h(s.default,{class:"transferPlanForm",type:"email",maxLength:254,label:"Enter the email of the user to transfer to:",error:l,onSubmit:a,placeholder:"Email",buttonText:"Transfer plan"})]:[i.h("p",null,"You can always change your account's email or transfer your plan to another Zeplin user."),i.h(r.default,null,i.h(o.default,{onClick:n},"Transfer plan"),i.h(o.default,{onClick:t},"Change email"))]}t.default=function(e){const{onSelect:t,selected:n,value:r}=e;return i.h(a.default,{onSelect:t,selected:n,value:r,content:l(e),mainText:"Subscribed with the wrong account or email address",subText:"e.g. “I used my personal email address.”, “I subscribed with my own account, instead of our designers.”"})}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(229);n.d(t,"IconMenu",(function(){return i.default}));var r=n(230);n.d(t,"IconEdit",(function(){return r.default}));var o=n(231);n.d(t,"IconSettings",(function(){return o.default}));var s=n(232);n.d(t,"IconArrowLeft",(function(){return s.default}));var a=n(233);n.d(t,"IconArrowRight",(function(){return a.default}));var l=n(234);n.d(t,"IconArrowDown",(function(){return l.default}));var c=n(235);n.d(t,"IconCopy",(function(){return c.default}));var d=n(236);n.d(t,"IconDownload",(function(){return d.default}));var u=n(237);n.d(t,"IconShare",(function(){return u.default}));var h=n(238);n.d(t,"IconGoTo",(function(){return h.default}));var p=n(239);n.d(t,"IconDelete",(function(){return p.default}));var f=n(240);n.d(t,"IconColor",(function(){return f.default}));var g=n(241);n.d(t,"IconTextStyle",(function(){return g.default}));var m=n(242);n.d(t,"IconInfo",(function(){return m.default}));var b=n(243);n.d(t,"IconSpacing",(function(){return b.default}));var y=n(244);n.d(t,"IconComponent",(function(){return y.default}));var S=n(245);n.d(t,"IconFolder",(function(){return S.default}));var v=n(246);n.d(t,"IconMagnifier",(function(){return v.default}));var C=n(247);n.d(t,"IconScreenLink",(function(){return C.default}));var O=n(248);n.d(t,"IconSpinner",(function(){return O.default}));var E=n(251);n.d(t,"IconPlus",(function(){return E.default}));var T=n(252);n.d(t,"IconAdd",(function(){return T.default}));var D=n(253);n.d(t,"IconGear",(function(){return D.default}));var k=n(254);n.d(t,"IconChevron",(function(){return k.default}));var w=n(255);n.d(t,"IconCollapse",(function(){return w.default}));var _=n(256);n.d(t,"IconCollapseLeft",(function(){return _.default}));var j=n(257);n.d(t,"IconClose",(function(){return j.default}));var P=n(258);n.d(t,"IconMoveHandle",(function(){return P.default}));var R=n(259);n.d(t,"IconPopout",(function(){return R.default}));var I=n(260);n.d(t,"IconDivider",(function(){return I.default}));var A=n(261);n.d(t,"IconSlack",(function(){return A.default}));var x=n(262);n.d(t,"IconReadme",(function(){return x.default}));var N=n(263);n.d(t,"IconDotSpinner",(function(){return N.default}));var L=n(265);n.d(t,"IconPin",(function(){return L.default}));var U=n(266);n.d(t,"IconUnpin",(function(){return U.default}));var M=n(267);n.d(t,"IconCustomLink",(function(){return M.default}));var B=n(268);n.d(t,"IconZeplin",(function(){return B.default}));var z=n(269);n.d(t,"IconNotion",(function(){return z.default}));var F=n(270);n.d(t,"IconAbstract",(function(){return F.default}));var H=n(271);n.d(t,"IconAsana",(function(){return H.default}));var W=n(272);n.d(t,"IconBitbucket",(function(){return W.default}));var V=n(273);n.d(t,"IconConfluence",(function(){return V.default}));var G=n(274);n.d(t,"IconFigma",(function(){return G.default}));var q=n(275);n.d(t,"IconGithub",(function(){return q.default}));var $=n(276);n.d(t,"IconGitlab",(function(){return $.default}));var Z=n(277);n.d(t,"IconInvision",(function(){return Z.default}));var Y=n(278);n.d(t,"IconJira",(function(){return Y.default}));var K=n(279);n.d(t,"IconPaper",(function(){return K.default}));var J=n(280);n.d(t,"IconSketchCloud",(function(){return J.default}));var X=n(281);n.d(t,"IconTrello",(function(){return X.default}));var Q=n(282);n.d(t,"IconDescription",(function(){return Q.default}));var ee=n(283);n.d(t,"IconZoomIn",(function(){return ee.default}));var te=n(284);n.d(t,"IconZoomOut",(function(){return te.default}));var ne=n(285);n.d(t,"LogoZeplin",(function(){return ne.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("circle",{cx:"6",cy:"12",r:"2"}),i.h("circle",{cx:"12",cy:"12",r:"2"}),i.h("circle",{cx:"18",cy:"12",r:"2"})))}r.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M9.053 17.599l7.714-7.715-2.651-2.651-7.715 7.714-.994 3.646 3.646-.994zm8.472-8.473l1.326-1.325a.268.268 0 0 0 0-.379l-2.273-2.273a.268.268 0 0 0-.379 0l-1.325 1.326 2.651 2.651zm2.083-.568L9.76 18.406a.262.262 0 0 1-.115.068L4.342 19.99a.268.268 0 0 1-.332-.331l1.515-5.303a.267.267 0 0 1 .069-.115l9.848-9.848a1.34 1.34 0 0 1 1.894 0l2.272 2.272a1.34 1.34 0 0 1 0 1.894z"}))}r.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n,class:r}){return i.h("svg",{class:r,width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M11.437 7.5a2 2 0 0 1-3.874 0H4.5a.5.5 0 0 1 0-1H7.563a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-8.063zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1zm3.196 4.5a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-2.063a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h9.063zm1.07 0a.995.995 0 0 0 0 1 1 1 0 1 0 0-1zm-5.196 6a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h1.063a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1H9.437zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1z"}))}r.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 9 16"},i.h("path",{fill:e,d:"M8.7 14.3c.4.4.4 1 0 1.4-.4.4-1 .4-1.4 0l-7-7c-.4-.4-.4-1 0-1.4l7-7c.4-.4 1-.4 1.4 0 .4.4.4 1 0 1.4L2.4 8l6.3 6.3z"}))}r.defaultProps={color:"var(--teflon)",width:9,height:16},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n},i.h("path",{fill:e,d:"M.3 14.3c-.4.4-.4 1.02 0 1.4.38.4 1 .4 1.4 0l7-7c.4-.4.4-1.02 0-1.4l-7-7C1.3-.1.68-.1.3.3c-.4.38-.4 1 0 1.4L6.6 8 .3 14.3z"}))}r.defaultProps={color:"var(--teflon)",width:9,height:16},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,class:n}){const r=8*t/12;return i.h("svg",{class:n,width:t,height:r,viewBox:"0 0 12 8"},i.h("path",{fill:e,d:"M6.003 8c.356 0 .71-.148.982-.442l4.608-4.982c.543-.588.543-1.543-.002-2.132-.546-.593-1.425-.59-1.97-.002L6 4.356 2.383.442C1.84-.145.955-.145.413.444c-.55.593-.548 1.544-.004 2.132l4.605 4.982c.27.293.627.44.984.44L6.002 8z"}))}r.defaultProps={color:"var(--teflon)",width:12},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M7 6h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2zm0 1h7a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm2-1H8a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-7a1 1 0 0 0-1 1z"}))}r.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M5 18h14v-4.5a.5.5 0 1 1 1 0v5a.498.498 0 0 1-.5.5h-15a.5.5 0 0 1-.5-.5v-5a.5.5 0 1 1 1 0V18zm6.5-3.625V5.5a.5.5 0 1 1 1 0v8.875l2.654-2.543a.511.511 0 0 1 .7 0 .46.46 0 0 1 0 .671l-3.504 3.358a.511.511 0 0 1-.7 0l-3.505-3.358a.46.46 0 0 1 0-.671.511.511 0 0 1 .701 0l2.654 2.543z"}))}r.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M18 11h-1.5a.5.5 0 1 1 0-1h2a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-8a.5.5 0 0 1 .5-.5h2a.5.5 0 1 1 0 1H6v7h12v-7zm-5.5-5.375v8.363a.5.5 0 0 1-1 0V5.625L8.846 8.168a.511.511 0 0 1-.7 0 .46.46 0 0 1 0-.671l3.504-3.358a.511.511 0 0 1 .7 0l3.505 3.358a.46.46 0 0 1 0 .671.511.511 0 0 1-.701 0L12.5 5.625z"}))}r.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 12 12"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M8.39 6.5H2.5a.5.5 0 0 1 0-1h5.89L6.633 3.77a.446.446 0 0 1 0-.638.462.462 0 0 1 .646 0l2.586 2.55a.446.446 0 0 1 0 .637L7.28 8.868a.462.462 0 0 1-.646 0 .446.446 0 0 1 0-.637L8.389 6.5zM6 12A6 6 0 1 1 6 0a6 6 0 0 1 0 12zm0-1A5 5 0 1 0 6 1a5 5 0 0 0 0 10z"}))}r.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n,transparent:r}){return i.h("svg",{width:t,height:n},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M7 14A7 7 0 1 1 7 0a7 7 0 0 1 0 14zm0-8.292L5.059 3.766a.918.918 0 0 0-1.29.003.91.91 0 0 0-.003 1.29L5.708 7 3.766 8.941a.918.918 0 0 0 .003 1.29.91.91 0 0 0 1.29.003L7 8.292l1.941 1.942a.918.918 0 0 0 1.29-.003.91.91 0 0 0 .003-1.29L8.292 7l1.942-1.941a.918.918 0 0 0-.003-1.29.91.91 0 0 0-1.29-.003L7 5.708z"}),i.h("path",{fill:r?"transparent":"#fff",d:"M7 5.708L5.059 3.766a.918.918 0 0 0-1.29.003.91.91 0 0 0-.003 1.29L5.708 7 3.766 8.941a.918.918 0 0 0 .003 1.29.91.91 0 0 0 1.29.003L7 8.292l1.941 1.942a.918.918 0 0 0 1.29-.003.91.91 0 0 0 .003-1.29L8.292 7l1.942-1.941a.918.918 0 0 0-.003-1.29.91.91 0 0 0-1.29-.003L7 5.708z"}))}r.defaultProps={color:"var(--gandalf)",width:14,height:14},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r);function s({color:e,width:t,height:n,type:r,opacity:o,class:s}){return i.h("svg",{class:s,width:t,height:n,viewBox:`0 0 ${t} ${n}`},function(e,t,n){switch(e){case"add":return i.h("g",{fill:t,"fill-rule":"evenodd",opacity:n},i.h("path",{d:"M27.5 11.5v-3a.5.5 0 1 1 1 0v3h3a.5.5 0 1 1 0 1h-3v3a.5.5 0 1 1-1 0v-3h-3a.5.5 0 1 1 0-1h3z"}),i.h("path",{"fill-rule":"nonzero",d:"M17 13.96c0-3.208-5.87-9.538-6.12-9.808a.545.545 0 0 0-.755 0C9.87 4.422 4 10.752 4 13.959c0 3.323 2.915 6.026 6.5 6.026s6.5-2.703 6.5-6.026zm-6.5 5.026c-3.035 0-5.5-2.254-5.5-5.027 0-1.998 3.165-6.165 5.5-8.743 2.335 2.573 5.5 6.75 5.5 8.743 0 2.773-2.47 5.027-5.5 5.027zm6.035-14.834c.255.27 6.12 6.6 6.135 9.822 0 3.323-2.915 6.026-6.5 6.026a6.815 6.815 0 0 1-1.5-.17 7.5 7.5 0 0 0 1.115-.844h.375c3.035 0 5.5-2.254 5.5-5.027 0-1.993-3.165-6.17-5.5-8.743a28.926 28.926 0 0 0-1.535 1.789c-.21-.275-.42-.545-.625-.805a46.216 46.216 0 0 1 1.78-2.048.545.545 0 0 1 .755 0z"}));case"tick":return i.h("g",{fill:t,"fill-rule":"evenodd",opacity:n},i.h("path",{d:"M27.247 13.337l4.731-3.724a.538.538 0 0 1 .725.06.462.462 0 0 1-.063.68l-5.126 4.034a.538.538 0 0 1-.725-.06l-2.316-2.588a.462.462 0 0 1 .064-.68.538.538 0 0 1 .725.059l1.985 2.219z"}),i.h("path",{"fill-rule":"nonzero",d:"M16.941 13.96c0-3.208-6.215-9.538-6.48-9.808a.602.602 0 0 0-.8 0c-.27.27-6.485 6.6-6.485 9.807 0 3.323 3.087 6.026 6.883 6.026s6.882-2.703 6.882-6.026zm-6.882 5.026c-3.214 0-5.824-2.254-5.824-5.027 0-1.998 3.351-6.165 5.824-8.743 2.472 2.573 5.823 6.75 5.823 8.743 0 2.773-2.615 5.027-5.823 5.027zm6.39-14.834c.27.27 6.48 6.6 6.496 9.822 0 3.323-3.087 6.026-6.883 6.026a7.622 7.622 0 0 1-1.588-.17c.42-.246.816-.529 1.18-.844h.398c3.213 0 5.823-2.254 5.823-5.027 0-1.993-3.35-6.17-5.823-8.743a29.453 29.453 0 0 0-1.626 1.789 66.546 66.546 0 0 0-.661-.805c1-1.149 1.794-1.958 1.884-2.048a.602.602 0 0 1 .8 0z"}));case"remove":return i.h("g",{fill:t,"fill-rule":"evenodd",transform:"translate(4 4)",opacity:n},i.h("rect",{width:"8",height:"1",x:"20",y:"7.5",rx:".5"}),i.h("path",{"fill-rule":"nonzero",d:"M13 9.96C13 6.751 7.13.421 6.88.151a.545.545 0 0 0-.755 0C5.87.422 0 6.752 0 9.959c0 3.323 2.915 6.026 6.5 6.026S13 13.282 13 9.959zm-6.5 5.026c-3.035 0-5.5-2.254-5.5-5.027 0-1.998 3.165-6.165 5.5-8.743C8.835 3.789 12 7.966 12 9.959c0 2.773-2.47 5.027-5.5 5.027zM12.535.152c.255.27 6.12 6.6 6.135 9.822 0 3.323-2.915 6.026-6.5 6.026a6.815 6.815 0 0 1-1.5-.17 7.5 7.5 0 0 0 1.115-.844h.375c3.035 0 5.5-2.254 5.5-5.027 0-1.993-3.165-6.17-5.5-8.743a28.926 28.926 0 0 0-1.535 1.789c-.21-.275-.42-.545-.625-.805A46.216 46.216 0 0 1 11.78.152a.545.545 0 0 1 .755 0z"}));default:return i.h("path",{fill:t,d:"M15.056 14.534c0-3.714-6.799-11.046-7.088-11.358a.632.632 0 0 0-.874 0C6.798 3.488 0 10.82 0 14.534c0 3.848 3.376 6.979 7.528 6.979 4.152 0 7.528-3.13 7.528-6.979zm-7.528 5.821c-3.515 0-6.37-2.61-6.37-5.82 0-2.315 3.666-7.141 6.37-10.127 2.704 2.98 6.37 7.818 6.37 10.126 0 3.212-2.861 5.821-6.37 5.821zm6.99-17.18c.294.313 7.087 7.645 7.104 11.377 0 3.848-3.376 6.978-7.528 6.978a7.892 7.892 0 0 1-1.737-.197c.46-.285.892-.612 1.292-.978h.434c3.515 0 6.37-2.61 6.37-5.82 0-2.31-3.666-7.147-6.37-10.127a33.5 33.5 0 0 0-1.778 2.072c-.243-.318-.486-.63-.724-.932a53.524 53.524 0 0 1 2.062-2.372.632.632 0 0 1 .874 0z"})}}(r,e,o))}s.defaultProps={color:"var(--teflon)",width:36,height:24,opacity:1},s.propTypes={type:o.a.oneOf(["add","tick","remove"])},t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r);function s({color:e,width:t,height:n,type:r,opacity:o,class:s}){return i.h("svg",{class:s,width:t,height:n,viewBox:`0 0 ${t} ${n}`},function(e,t,n){switch(e){case"add":return i.h("g",{fill:t,"fill-rule":"evenodd",opacity:n},i.h("path",{d:"M27.5 11.5v-3a.5.5 0 1 1 1 0v3h3a.5.5 0 1 1 0 1h-3v3a.5.5 0 1 1-1 0v-3h-3a.5.5 0 1 1 0-1h3zM13.413 17.683l-1.406-3.885H6.68l-1.407 3.885H4L8.746 5h1.195l4.738 12.683h-1.266zM9.317 6.485l-2.276 6.276h4.605L9.37 6.485h-.053zM18.31 16.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.767h-1.125c.132-1.635 1.477-2.795 3.56-2.795s3.392 1.169 3.392 3.032v6.258H21.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889z"}));case"tick":return i.h("g",{fill:t,"fill-rule":"evenodd",opacity:n},i.h("path",{d:"M13.413 17.683l-1.406-3.885H6.68l-1.407 3.885H4L8.746 5h1.195l4.738 12.683h-1.266zM9.317 6.485l-2.276 6.276h4.605L9.37 6.485h-.053zM18.31 16.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.767h-1.125c.132-1.635 1.477-2.795 3.56-2.795s3.392 1.169 3.392 3.032v6.258H21.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889zM26.733 13.837l4.468-3.724a.488.488 0 0 1 .685.06.48.48 0 0 1-.06.68l-4.84 4.034a.488.488 0 0 1-.685-.06l-2.187-2.588a.48.48 0 0 1 .06-.68.488.488 0 0 1 .684.059l1.875 2.219z"}));case"remove":return i.h("g",{fill:t,transform:"translate(4 5)",opacity:n},i.h("path",{d:"M9.413 12.683L8.007 8.798H2.68l-1.407 3.885H0L4.746 0h1.195l4.738 12.683H9.413zM5.317 1.485L3.041 7.761h4.605L5.37 1.485h-.053zM14.31 11.83c1.6 0 2.856-1.134 2.856-2.584v-1.01l-2.707.184c-1.441.097-2.241.72-2.241 1.731 0 .994.852 1.68 2.092 1.68zm-.238 1.002c-1.801 0-3.032-1.081-3.032-2.68 0-1.565 1.169-2.514 3.278-2.655l2.848-.176v-.79c0-1.32-.835-2.11-2.259-2.11-1.345 0-2.206.66-2.408 1.766h-1.125c.132-1.634 1.477-2.794 3.56-2.794s3.392 1.169 3.392 3.032v6.258H17.22v-1.74h-.027c-.51 1.133-1.757 1.889-3.12 1.889z"}),i.h("rect",{width:"8",height:"1",x:"20",y:"6.5",rx:".5"}));default:return i.h("path",{fill:t,d:"M11.3 18.825l-1.688-4.54H3.218l-1.688 4.54H0L5.698 4h1.434l5.687 14.825H11.3zM6.383 5.736l-2.732 7.336h5.528L6.447 5.736h-.064zM17.178 17.83c1.92 0 3.43-1.326 3.43-3.02v-1.182l-3.25.215c-1.73.113-2.69.843-2.69 2.024 0 1.161 1.023 1.963 2.51 1.963zM16.893 19c-2.163 0-3.64-1.264-3.64-3.134 0-1.828 1.404-2.938 3.936-3.102l3.418-.206v-.924c0-1.542-1.002-2.466-2.711-2.466-1.615 0-2.649.77-2.891 2.065h-1.35c.157-1.911 1.772-3.267 4.272-3.267S22 9.332 22 11.51v7.315h-1.33v-2.034h-.031C20.027 18.116 18.529 19 16.893 19z"})}}(r,e,o))}s.defaultProps={color:"var(--teflon)",width:36,height:24,opacity:1},s.propTypes={type:o.a.oneOf(["add","tick","remove"])},t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 16 16"},i.h("path",{fill:e,d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0-1A6 6 0 1 0 8 2a6 6 0 0 0 0 12zm0-8a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0 1a.75.75 0 0 1 .75.75v3.5a.75.75 0 1 1-1.5 0v-3.5A.75.75 0 0 1 8 7z"}))}r.defaultProps={color:"var(--teflon)",width:16,height:16},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 16 16"},i.h("g",{fill:e},i.h("rect",{width:"1",height:"12",x:"2",y:"2",rx:".5"}),i.h("path",{"fill-opacity":".3",d:"M3 5.5h11v5H3z"}),i.h("rect",{width:"3",height:"1",x:"1",y:"5",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"5",y:"5",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"9",y:"5",rx:".5"}),i.h("rect",{width:"1",height:"12",x:"10",y:"2",rx:".5"}),i.h("rect",{width:"2",height:"1",x:"13",y:"5",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"5",y:"10",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"9",y:"10",rx:".5"}),i.h("rect",{width:"2",height:"1",x:"13",y:"10",rx:".5"}),i.h("rect",{width:"3",height:"1",x:"1",y:"10",rx:".5"})))}r.defaultProps={color:"var(--teflon)",width:16,height:16},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 16 16"},i.h("path",{stroke:e,fill:"none",d:"M2 7.5a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V8a.5.5 0 0 0-.5-.5H2zm7-5a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H9zm0 8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5H9zm-7-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H2z"}))}r.defaultProps={color:"var(--teflon)",width:16,height:16},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:"none","fill-rule":"evenodd",stroke:e},i.h("rect",{width:"15",height:"9",x:"4.5",y:"9.5",rx:"1"}),i.h("path",{d:"M5 5.5a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5V7.444a.5.5 0 0 0-.5-.5h-6.615a1.5 1.5 0 0 1-1.006-.386l-.743-.671A1.5 1.5 0 0 0 9.63 5.5H5z"})))}r.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 16 16"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M2.01 11.715c-2.68-2.68-2.68-7.025 0-9.705 2.68-2.68 7.025-2.68 9.705 0 2.35 2.35 2.64 5.978.87 8.643.034.028.068.06.1.09l2.912 2.913c.536.536.54 1.4 0 1.94-.536.537-1.402.54-1.94 0l-2.913-2.91c-.032-.033-.063-.067-.09-.102-2.666 1.77-6.295 1.48-8.644-.87zm1.94-1.94c1.61 1.607 4.216 1.607 5.824 0 1.608-1.61 1.608-4.216 0-5.824-1.608-1.607-4.215-1.607-5.823 0-1.607 1.61-1.607 4.216 0 5.824z"}))}r.defaultProps={color:"var(--teflon)",width:16,height:16},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("path",{d:"M12 20a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm0-1a7 7 0 1 0 0-14 7 7 0 0 0 0 14z"}),i.h("path",{d:"M16.682 12.5H9.937a2 2 0 1 1 0-1h6.745l-2.543-2.654a.511.511 0 0 1 0-.7.46.46 0 0 1 .672 0l3.357 3.504a.511.511 0 0 1 0 .7l-3.357 3.505a.46.46 0 0 1-.672 0 .511.511 0 0 1 0-.701l2.543-2.654zM8 13a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"})))}r.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(249);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11);n(250);function o({color:e,width:t,height:n,class:o}){const s=Object(r.default)("iconSpinner",o);return i.h("svg",{class:s,width:t,height:n,viewBox:"0 0 12 12"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("path",{d:"M4.328 3.606c-.398.035-.75-.256-.784-.657L3.354.785c-.034-.398.258-.748.658-.783.398-.035.75.257.784.657l.19 2.163c.034.398-.257.748-.658.783z"}),i.h("path",{d:"M3.125 5.49c-.257.306-.71.348-1.02.09L.444 4.183c-.306-.257-.348-.71-.09-1.02.258-.305.712-.347 1.02-.088L3.036 4.47c.306.258.348.712.09 1.02z",opacity:".3"}),i.h("path",{d:"M3.606 7.672c.035.398-.256.75-.657.784l-2.164.19c-.398.034-.748-.258-.783-.658-.035-.398.257-.75.657-.784l2.163-.19c.398-.034.748.257.783.658z",opacity:".4"}),i.h("path",{d:"M5.49 8.875c.306.257.348.71.09 1.02l-1.396 1.662c-.257.306-.71.348-1.02.09-.305-.258-.347-.712-.088-1.02L4.47 8.964c.258-.306.712-.348 1.02-.09z",opacity:".5"}),i.h("path",{d:"M7.672 8.394c.398-.035.75.256.784.657l.19 2.164c.034.398-.258.748-.658.783-.398.035-.75-.257-.784-.657l-.19-2.163c-.034-.398.257-.748.658-.783z",opacity:".6"}),i.h("path",{d:"M8.875 6.51c.257-.306.71-.348 1.02-.09l1.662 1.396c.306.257.348.71.09 1.02-.258.305-.712.347-1.02.088L8.964 7.53c-.306-.258-.348-.712-.09-1.02z",opacity:".7"}),i.h("path",{d:"M8.394 4.328c-.035-.398.256-.75.657-.784l2.164-.19c.398-.034.748.258.783.658.035.398-.257.75-.657.784l-2.163.19c-.398.034-.748-.257-.783-.658z",opacity:".85"}),i.h("path",{d:"M6.51 3.125c-.306-.257-.348-.71-.09-1.02L7.817.444c.257-.306.71-.348 1.02-.09.305.258.347.712.088 1.02L7.53 3.036c-.258.306-.712.348-1.02.09z",opacity:".95"})))}o.defaultProps={color:"var(--teflon)",width:12,height:12},t.default=o},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,circleColor:t,width:n,height:r}){return i.h("svg",{width:n,height:r,viewBox:"0 0 24 24"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("circle",{fill:t,cx:"12",cy:"12",r:"12"}),i.h("path",{fill:e,d:"M13 7.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5V11H7.5a.5.5 0 0 0-.5.5v1c0 .3.2.5.5.5H11v3.5c0 .3.2.5.5.5h1a.5.5 0 0 0 .5-.5V13h3.5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H13V7.5z"})))}r.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M7.2 4.8V1.2C7.2.54 6.66 0 6 0c-.67 0-1.2.53-1.2 1.2v3.6H1.2C.54 4.8 0 5.34 0 6c0 .67.53 1.2 1.2 1.2h3.6v3.6c0 .65.54 1.2 1.2 1.2.67 0 1.2-.53 1.2-1.2V7.2h3.6c.65 0 1.2-.54 1.2-1.2 0-.67-.53-1.2-1.2-1.2H7.2z"}))}r.defaultProps={color:"var(--teflon)",width:12,height:12},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 14 14"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M8.167 13.903a7.047 7.047 0 0 1-2.334 0V12.12a5.22 5.22 0 0 1-1.652-.69l-1.26 1.26a7.04 7.04 0 0 1-1.61-1.61l1.26-1.26a5.22 5.22 0 0 1-.69-1.653H.096a7.047 7.047 0 0 1 0-2.334H1.88a5.22 5.22 0 0 1 .69-1.652L1.31 2.92a7.04 7.04 0 0 1 1.61-1.61l1.26 1.26a5.22 5.22 0 0 1 1.653-.69V.096a7.047 7.047 0 0 1 2.334 0V1.88a5.22 5.22 0 0 1 1.652.69l1.26-1.26a7.04 7.04 0 0 1 1.61 1.61l-1.264 1.254c.321.502.56 1.061.695 1.66h1.783a7.047 7.047 0 0 1 0 2.333H12.12a5.22 5.22 0 0 1-.695 1.659l1.263 1.255a7.04 7.04 0 0 1-1.609 1.608l-1.26-1.26a5.22 5.22 0 0 1-1.652.69v1.784zM7 10.15a3.15 3.15 0 1 0 0-6.3 3.15 3.15 0 0 0 0 6.3z"}))}r.defaultProps={color:"var(--teflon)",width:14,height:14},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 8 8"},i.h("path",{fill:e,"fill-rule":"nonzero",d:"M3.568 6.26L.938 1.752A.5.5 0 0 1 1.372 1h5.258a.5.5 0 0 1 .432.752L4.431 6.26a.5.5 0 0 1-.863 0z"}))}r.defaultProps={color:"var(--teflon)",width:8,height:8},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,d:"M12.985 16.557l4.608-4.982a1.596 1.596 0 0 0-.002-2.132C17.33 9.16 16.998 9 16.5 9s-8.496.005-9 .002c-.504-.002-.802.13-1.09.441a1.591 1.591 0 0 0-.001 2.132l4.607 4.982c.271.293.627.44.984.44a1.33 1.33 0 0 0 .985-.44z"}))}r.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 18 18"},i.h("path",{d:"M10.8,3.7 L5.5,9.05 L10.8,14.4",stroke:e,"stroke-width":"2.4","stroke-linecap":"round",fill:"none","stroke-linejoin":"round"}))}r.defaultProps={color:"var(--teflon)",width:18,height:18},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("path",{fill:e,"fill-rule":"evenodd",d:"M12 10.13L8.261 6.39a1.324 1.324 0 0 0-1.873-.002c-.52.52-.515 1.355.002 1.873L10.13 12l-3.74 3.739a1.324 1.324 0 0 0-.002 1.873c.52.52 1.355.515 1.873-.002L12 13.87l3.739 3.74a1.324 1.324 0 0 0 1.873.002c.52-.52.515-1.355-.002-1.873L13.87 12l3.74-3.739a1.324 1.324 0 0 0 .002-1.873 1.321 1.321 0 0 0-1.873.002L12 10.13z"}))}r.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,height:t,class:n}){const r=4*t/20;return i.h("svg",{class:n,width:r,height:t,viewBox:"0 0 4 20"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("circle",{cx:"2",cy:"2",r:"2"}),i.h("circle",{cx:"2",cy:"10",r:"2"}),i.h("circle",{cx:"2",cy:"18",r:"2"})))}r.defaultProps={color:"var(--teflon)",width:4,height:20},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("path",{d:"M16 10h2V6v8c0 1.1-.9 2-2 2H2c-1.1 0-2-.9-2-2V2C0 .9.9 0 2 0h10-4v2H2v12h14v-4z"}),i.h("path",{d:"M16 3.56V8h2V2c0-1.1-.9-2-2-2h-6v2h4.73l-3.95 3.95c-.4.4-.4 1.02 0 1.4.4.4 1.02.4 1.4 0L16 3.55z"})))}r.defaultProps={color:"var(--teflon)",width:18,height:16},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n,class:r}){return i.h("svg",{class:r,width:t,height:n,viewBox:"0 0 14 14"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("circle",{cx:"7",cy:"12",r:"2"}),i.h("circle",{cx:"7",cy:"2",r:"2"}),i.h("rect",{width:"14",height:"2",y:"6",rx:"1"})))}r.defaultProps={color:"var(--cornflower-blue)",width:14,height:14},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({width:e,height:t,disabled:n,class:r}){return i.h("svg",{class:r,width:e,height:t},i.h("path",{fill:n?"var(--clooney)":"#e01e5a",d:"M3.406 10.09c0 .916-.748 1.665-1.664 1.665A1.669 1.669 0 0 1 .077 10.09c0-.916.749-1.664 1.665-1.664h1.664v1.664zM4.245 10.09c0-.916.749-1.664 1.665-1.664s1.664.748 1.664 1.664v4.168c0 .916-.748 1.665-1.664 1.665a1.669 1.669 0 0 1-1.665-1.665V10.09z"}),i.h("path",{fill:n?"var(--clooney)":"#36c5f0",d:"M5.91 3.406a1.669 1.669 0 0 1-1.665-1.664c0-.916.749-1.665 1.665-1.665s1.664.749 1.664 1.665v1.664H5.91zM5.91 4.245c.916 0 1.664.749 1.664 1.665S6.826 7.574 5.91 7.574H1.742A1.669 1.669 0 0 1 .077 5.91c0-.916.749-1.665 1.665-1.665H5.91z"}),i.h("path",{fill:n?"var(--clooney)":"#2eb67d",d:"M12.594 5.91c0-.916.748-1.665 1.664-1.665.916 0 1.665.749 1.665 1.665s-.749 1.664-1.665 1.664h-1.664V5.91zM11.755 5.91c0 .916-.749 1.664-1.665 1.664A1.669 1.669 0 0 1 8.426 5.91V1.742c0-.916.748-1.665 1.664-1.665.916 0 1.665.749 1.665 1.665V5.91z"}),i.h("path",{fill:n?"var(--clooney)":"#ecb22e",d:"M10.09 12.594c.916 0 1.665.748 1.665 1.664 0 .916-.749 1.665-1.665 1.665a1.669 1.669 0 0 1-1.664-1.665v-1.664h1.664zM10.09 11.755a1.669 1.669 0 0 1-1.664-1.665c0-.916.748-1.664 1.664-1.664h4.168c.916 0 1.665.748 1.665 1.664 0 .916-.749 1.665-1.665 1.665H10.09z"}))}r.defaultProps={width:16,height:16},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n}){return i.h("svg",{width:t,height:n,viewBox:"0 0 24 24"},i.h("g",{fill:e,"fill-rule":"evenodd"},i.h("path",{d:"M7 4h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H7z"}),i.h("path",{d:"M17 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-2V4h2zm-2 1v14h2a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2z"}),i.h("rect",{width:"6",height:"1",x:"8",y:"7",rx:".5"}),i.h("rect",{width:"6",height:"1",x:"8",y:"10",rx:".5"}),i.h("rect",{width:"6",height:"1",x:"8",y:"13",rx:".5"}),i.h("rect",{width:"6",height:"1",x:"8",y:"16",rx:".5"})))}r.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(264);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r);function s(e){const{width:t,color:n}=e,r=14*t/14;return i.h("svg",{class:"spinning",width:t,height:r,viewBox:"0 0 24 24"},i.h("g",{fill:n,"fill-rule":"evenodd"},i.h("circle",{cx:"12",cy:"1.8",r:"1.8"}),i.h("circle",{cx:"4.8",cy:"4.82",r:"1.8","fill-opacity":".44",transform:"rotate(-45 4.796 4.82)"}),i.h("circle",{cx:"1.8",cy:"12",r:"1.8","fill-opacity":".52"}),i.h("circle",{cx:"4.82",cy:"19.21",r:"1.8","fill-opacity":".6",transform:"rotate(-45 4.816 19.208)"}),i.h("circle",{cx:"12",cy:"22.2",r:"1.8","fill-opacity":".68"}),i.h("circle",{cx:"19.21",cy:"19.18",r:"1.8","fill-opacity":".76",transform:"rotate(-45 19.206 19.18)"}),i.h("circle",{cx:"22.2",cy:"12",r:"1.8","fill-opacity":".84"}),i.h("circle",{cx:"19.18",cy:"4.79",r:"1.8","fill-opacity":".92",transform:"rotate(-45 19.18 4.792)"})))}s.propTypes={width:o.a.number,color:o.a.string},s.defaultProps={width:14,color:"var(--cornflower-blue)"},t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n,class:r}){return i.h("svg",{width:t,height:n,class:r,viewBox:"0 0 24 24"},i.h("path",{fill:e,d:"M4.751 8.364c1.002-1.002 2.631-1.002 3.633 0l7.252 7.252c1.002 1.002 1.002 2.631 0 3.633-1.002 1.001-2.631 1.001-3.633 0l-3.26-3.263-3.862 3.863c-.201.201-.528.201-.73 0-.186-.186-.2-.479-.043-.681l.043-.05 3.862-3.862-3.26-3.263c-.96-.954-1.002-2.492-.127-3.495zm2.903.73c-.598-.598-1.574-.598-2.174.001-.597.593-.597 1.573.001 2.167l7.252 7.257c.599.598 1.575.598 2.173 0 .599-.599.599-1.575 0-2.173zm8.606-4.432l.093.088 2.897 2.897c.97.97 1 2.53.088 3.535l-.088.092-2.897 2.897c-.202.202-.529.202-.73 0-.186-.186-.2-.478-.043-.68l.043-.05 2.897-2.897c.573-.573.596-1.493.069-2.093l-.069-.074-2.897-2.897c-.573-.573-1.493-.596-2.094-.069l-.073.069-1.043 1.042 2.79 2.79c.202.202.202.529 0 .73-.185.186-.478.2-.68.043l-.05-.043-2.79-2.791-1.124 1.126c-.202.202-.529.202-.73 0-.186-.186-.2-.479-.043-.681l.043-.049 2.897-2.897c.97-.97 2.529-1 3.534-.088z"}))}r.defaultProps={color:"var(--teflon)",width:24,height:24},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n,class:r}){return i.h("svg",{width:t,height:n,class:r,viewBox:"0 0 24 24"},i.h("path",{fill:e,d:"M4.807 4.605l.047.042 14.5 14.499c.195.195.195.512 0 .707-.18.18-.465.195-.661.042l-.047-.042-14.5-14.499c-.195-.195-.195-.512 0-.707.18-.18.465-.195.661-.042zm1.135 3.543c.194.196.193.513-.003.708-.56.557-.583 1.462-.066 2.048l.068.071 7.079 7.085c.585.585 1.54.585 2.125 0 .196-.196.513-.196.708 0 .196.195.196.512 0 .708-.947.947-2.47.975-3.451.086l-.09-.087-3.197-3.2c-.016.037-.037.072-.062.104l-.043.049-4.129 4.129c-.201.201-.528.201-.73 0-.186-.186-.2-.479-.043-.681l.043-.05 4.13-4.128c.044-.045.096-.08.15-.105l-3.197-3.2c-.979-.972-.979-2.568 0-3.54.196-.194.513-.193.708.003zM16.26 4.662l.093.088 2.897 2.897c.97.97 1 2.53.088 3.535l-.088.092-2.897 2.897c-.202.202-.529.202-.73 0-.186-.186-.2-.478-.043-.68l.043-.05 2.897-2.897c.573-.573.596-1.493.069-2.093l-.069-.074-2.897-2.897c-.573-.573-1.493-.596-2.094-.069l-.073.069-1.043 1.042 2.79 2.79c.202.202.202.529 0 .73-.185.186-.478.2-.68.043l-.05-.043-2.79-2.791-1.124 1.126c-.202.202-.529.202-.73 0-.186-.186-.2-.479-.043-.681l.043-.049 2.897-2.897c.97-.97 2.529-1 3.534-.088z"}))}r.defaultProps={color:"var(--peach)",width:24,height:24},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n,class:r}){return i.h("svg",{width:t,height:n,class:r,viewBox:"0 0 20 20"},i.h("g",{fill:e,"fill-rule":"evenodd",transform:"translate(1.25 5)"},i.h("path",{d:"M3.125 3.75c-1.036 0-1.875.84-1.875 1.875 0 .986.761 1.795 1.728 1.87l.147.005h6.25c1.036 0 1.875-.84 1.875-1.875 0-1.036-.84-1.875-1.875-1.875H8.75V2.5h.625c1.726 0 3.125 1.4 3.125 3.125 0 1.726-1.4 3.125-3.125 3.125h-6.25C1.399 8.75 0 7.35 0 5.625 0 3.899 1.4 2.5 3.125 2.5h3.857H4.375v1.25h-1.25z"}),i.h("path",{d:"M15 0c1.726 0 3.125 1.4 3.125 3.125 0 1.726-1.4 3.125-3.125 3.125h-1.25V5h-2.606H15c1.036 0 1.875-.84 1.875-1.875 0-1.036-.84-1.875-1.875-1.875H8.75c-1.036 0-1.875.84-1.875 1.875 0 .986.761 1.795 1.728 1.87L8.75 5h.625v1.25H8.75c-1.726 0-3.125-1.4-3.125-3.125C5.625 1.399 7.025 0 8.75 0H15z"}),i.h("circle",{cx:"8.75",cy:"3.125",r:"1"}),i.h("circle",{cx:"4.375",cy:"3.125",r:"1"}),i.h("circle",{cx:"9.375",cy:"5.625",r:"1"}),i.h("circle",{cx:"13.75",cy:"5.625",r:"1"})))}r.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n,class:r}){return i.h("svg",{width:t,height:n,class:r,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M19.815 6.878c-.6-1.66-2.601-2.652-5.351-2.652-.575 0-1.172.044-1.78.132-.236-.765-.491-1.36-.76-1.771-.342-.522-.73-.787-1.155-.787-.03 0-.06.001-.088.004-.434.038-.784.33-1.039.869-.163.345-.292.796-.393 1.371-.787-.657-1.42-.977-1.923-.977-.229 0-.433.062-.608.184-.356.25-.512.676-.463 1.27.042.502.229 1.139.57 1.946l.02.044c-1.336.846-2.39 1.842-3.064 2.894L0 10.765l2.144 2.47-.069 3.266 3.773-1.358c.782.251 1.677.378 2.662.378.513 0 1.046-.035 1.588-.105l.011.038c.25.81.508 1.404.79 1.815.327.478.702.721 1.115.721.03 0 .059 0 .087-.003.434-.038.785-.338 1.043-.891.157-.337.286-.784.384-1.333.788.658 1.42.979 1.926.979.229 0 .434-.062.609-.184.367-.257.52-.709.455-1.343-.05-.49-.237-1.119-.553-1.87 1.42-.867 2.538-1.902 3.243-3.002.778-1.215.988-2.413.607-3.465zM9.031 8.007c-.18-.313-.346-.62-.5-.917.161-.083.325-.164.491-.241-.005.375-.002.762.009 1.158zm-.135-2.572c-.319.137-.63.283-.934.438-.326-.788-.414-1.234-.431-1.464.227.103.66.364 1.365 1.026zm-.387 8.745c-.875 0-1.656-.113-2.32-.337l-.357-.12-2.372.853.039-1.828-1.2-1.383 2.378-.856.197-.318c.543-.875 1.422-1.72 2.552-2.458.486.935 1.098 1.953 1.784 2.965.127 1.212.314 2.382.545 3.408-.426.05-.843.074-1.246.074zm1.92-9.38c.115-.92.272-1.376.376-1.592.032.045.07.103.11.175.167.293.338.71.5 1.218-.331.079-.664.17-.994.273l.008-.073zm.588 9.094c-.074-.325-.144-.666-.209-1.02.248.31.495.608.741.892-.177.047-.355.09-.532.128zm.958 2.685c-.026-.036-.055-.08-.086-.134-.174-.293-.354-.725-.523-1.254.33-.074.662-.16.992-.258-.113.94-.276 1.42-.383 1.646zm1.964-2.156l-.038-.035c.316-.13.628-.271.93-.42.217.528.357.977.407 1.308.007.049.012.09.015.127-.22-.1-.636-.351-1.314-.98zm4.6-5.773c-.164.534-.508 1.113-.994 1.673-.525.605-1.195 1.175-1.99 1.693-.807.526-1.706.973-2.674 1.33-.746-.824-1.534-1.818-2.284-2.887-.05-.07-.099-.141-.147-.211l-.025-.268c-.113-1.289-.151-2.549-.111-3.658 1.403-.494 2.836-.755 4.15-.755 1.105 0 2.08.185 2.819.534.657.31 1.083.725 1.267 1.232.141.39.138.834-.01 1.317z"}))}r.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n,class:r}){return i.h("svg",{width:t,height:n,class:r,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M13.45.068c.05.004.1.012.152.014.284.01.554.076.81.205.173.088.335.192.493.306 1.043.75 2.086 1.5 3.129 2.252.244.176.486.354.728.532.081.06.159.126.229.2.063.066.118.138.158.222.024.05.043.1.045.158.001.014.008.03.013.044v13.771c-.016.035-.013.073-.013.109-.003.157-.04.307-.095.452-.064.172-.172.31-.315.42-.144.111-.309.175-.482.219-.186.048-.375.064-.565.076-.213.014-.425.025-.639.037l-.293.018-.638.04-.632.038c-.207.013-.416.028-.623.04l-.64.038-.877.056-.45.027-.75.046-.639.04-.623.037c-.208.013-.416.028-.624.04l-.64.038-.877.056c-.3.02-.6.036-.9.054l-.293.018-.631.04-.632.038-.723.045c-.065.004-.129.008-.193.014-.019.003-.038.011-.058.016h-.37c-.02-.006-.038-.014-.059-.017-.063-.01-.127-.017-.19-.029-.27-.046-.503-.165-.694-.366-.076-.08-.15-.166-.218-.255-.355-.468-.707-.937-1.06-1.406l-1.412-1.876c-.135-.18-.262-.366-.368-.565-.146-.274-.253-.563-.28-.878-.001-.027-.005-.053-.026-.072V2.168c.024-.03.027-.068.03-.105.007-.1.025-.198.052-.294.104-.373.332-.628.69-.758.138-.05.278-.077.422-.088l.516-.037.254-.02.523-.04L3.68.79c.171-.013.343-.028.515-.04.172-.013.344-.024.516-.038l.723-.056.83-.063.84-.063.946-.07.246-.018.53-.04c.17-.014.339-.025.508-.038l.515-.04c.174-.014.35-.025.524-.038l.807-.061.254-.02.516-.04.523-.038c.24-.019.481-.043.724-.048.028 0 .055-.007.083-.01h.17zm3.977 4.5c-.085 0-.17.005-.254.01l-.23.018c-.152.009-.304.013-.455.023l-.91.056-.924.053-.307.019-.662.04-.648.038c-.215.013-.43.028-.647.04-.22.014-.441.025-.662.038l-.91.056-.924.053-.3.018-.654.041c-.219.013-.437.024-.655.038l-.91.056-.924.053-.3.018-.709.043c-.133.009-.268.013-.4.032-.27.04-.414.174-.477.424l-.006.03c-.022.12-.026.241-.026.362V17.49c0 .098.008.194.027.29.051.253.197.416.44.488l.03.008c.11.03.223.037.336.034.129-.004.257-.01.385-.017.224-.012.447-.024.67-.038l.917-.056.94-.053.307-.02.662-.04c.221-.012.442-.024.663-.038.216-.012.431-.026.647-.04l.672-.036v-.001l.23-.012.316-.02.655-.04.663-.037.916-.056c.221-.014.442-.025.663-.038l.316-.019.693-.041c.12-.008.241-.014.362-.02l.647-.041.562-.034c.096-.007.188-.028.278-.063.16-.064.272-.177.332-.341.022-.06.037-.121.048-.183.024-.127.026-.257.026-.385V5.349c0-.08-.004-.158-.01-.237-.011-.11-.038-.218-.094-.315-.06-.104-.143-.179-.26-.207-.048-.011-.097-.02-.145-.021zM16.05 6.686c.005.008.011.014.013.021.031.135.035.27-.004.406-.01.034-.023.07-.04.101-.05.096-.127.16-.231.182l-.46.096c-.054.01-.106.022-.158.033-.016.033-.01.065-.01.096v1.974l.001 6.277v.084c-.008.008-.013.014-.02.018-.248.14-.505.26-.779.338-.167.048-.336.076-.51.08-.118.004-.236-.007-.352-.03-.131-.026-.248-.085-.354-.167-.09-.07-.17-.152-.243-.24-.136-.166-.266-.336-.379-.518-1.162-1.87-2.326-3.738-3.489-5.606-.015-.024-.03-.049-.046-.072-.004-.006-.011-.008-.02-.014-.003.01-.007.017-.007.024v5.665c.13.036.26.06.387.09l.39.09.386.09v.05c-.026.177-.111.32-.246.433-.146.122-.316.185-.503.197-.303.019-.606.034-.91.052l-.9.056-.678.037-.24.014c-.018-.002-.038-.005-.062-.006-.034-.169-.01-.322.084-.462.048-.07.113-.12.196-.144l.579-.166.081-.026.008-.013.002-.008.001-7.477V8.2l-.007-.02c-.014-.003-.031-.008-.048-.01L6.82 8.12c-.059-.005-.118-.01-.177-.017-.017-.002-.034-.007-.053-.012-.018-.075-.015-.149-.006-.221.02-.169.086-.32.2-.444.112-.122.25-.19.415-.202l.823-.062.57-.037.57-.04.539-.038.269-.02h.044c.08.12.157.244.235.366l.241.377.237.37.24.377.474.74.24.376.237.37.236.37.241.377.236.37.241.377.237.37.236.37.241.376c.079.122.156.246.243.376.006-.018.011-.026.012-.035v-.055-5.077l-.002-.097c-.083-.023-.165-.024-.246-.035l-.246-.027-.237-.029-.245-.032c-.02-.06-.02-.117-.013-.175.042-.358.342-.572.588-.586.144-.008.288-.02.431-.028.226-.014.452-.028.678-.04.105-.008.21-.014.316-.02l.655-.037.47-.03h.06zm-3.043-5.492c-.27.019-.539.04-.808.06l-.269.02-.523.04-.524.038-.807.06-.27.02-.546.042-.507.037-.562.042-.5.037-.554.042-.5.037-.563.042-.492.036-.57.043-.492.037-.53.04-.516.038c-.192.014-.384.028-.577.044-.095.008-.19.017-.283.032-.074.011-.144.04-.2.095-.07.07-.076.144-.017.225.01.015.022.03.036.042.02.02.042.038.065.056.473.385.945.77 1.42 1.153.09.073.186.142.282.207.128.086.268.144.419.173.145.028.29.038.437.032.204-.008.407-.02.609-.033.208-.012.416-.027.623-.04l.632-.037c.205-.013.41-.028.615-.04.213-.014.427-.025.64-.038l.3-.019.64-.04c.21-.013.42-.024.63-.038l.632-.04.64-.037.885-.057.901-.053.308-.019.654-.04.354-.022.632-.04.639-.037.732-.045.292-.018c.058-.004.114-.014.171-.044-.017-.1-.067-.167-.14-.222-.648-.48-1.295-.962-1.944-1.44-.308-.227-.655-.345-1.032-.378-.154-.014-.308-.004-.462.007z"}))}r.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n,class:r}){return i.h("svg",{width:t,height:n,class:r,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M14.587.403c1.28.252 2.459.733 3.377 1.71.737.783 1.15 1.737 1.403 2.766.35 1.418.444 2.865.466 4.318.029 1.851-.02 3.695-.398 5.517-.546 2.638-2.093 4.167-4.737 4.723-1.554.326-3.123.4-4.702.403-1.761.003-3.517-.054-5.235-.493-1.852-.473-3.247-1.496-3.958-3.332-.38-.985-.551-2.012-.665-3.053-.049-.443-.092-.886-.138-1.328V8.18c.022-.139.056-.278.066-.418C.144 6.626.28 5.5.611 4.403c.566-1.87 1.736-3.17 3.628-3.714C5.141.429 6.08.233 7.012.15c2.531-.225 5.066-.241 7.575.252zM8.308 7.768c-2.051-.034-3.763 1.635-3.805 3.711-.043 2.117 1.605 3.823 3.744 3.876 2.069.052 3.797-1.636 3.84-3.751.041-2.096-1.638-3.801-3.779-3.836zm6.845-3.087H4.69v1.86h8.668v8.65h1.795V4.681zM8.27 9.618c1.078-.008 1.942.85 1.954 1.943.013 1.048-.868 1.93-1.928 1.931-1.052.002-1.92-.846-1.931-1.887-.012-1.1.832-1.98 1.905-1.987z"}))}r.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n,class:r}){return i.h("svg",{width:t,height:n,class:r,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M15.527 10.325c-2.383 0-4.314 1.93-4.314 4.312 0 2.383 1.931 4.314 4.314 4.314 2.382 0 4.313-1.931 4.313-4.314 0-2.381-1.931-4.312-4.313-4.312zm-11.206 0c-2.382 0-4.313 1.93-4.313 4.313 0 2.382 1.93 4.313 4.313 4.313 2.382 0 4.313-1.931 4.313-4.313 0-2.382-1.931-4.313-4.313-4.313zm9.916-5.392c0 2.382-1.931 4.314-4.313 4.314-2.383 0-4.314-1.932-4.314-4.314S7.541.62 9.924.62c2.382 0 4.313 1.931 4.313 4.313z"}))}r.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n,class:r}){return i.h("svg",{width:t,height:n,class:r,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M.649 1C.297.996.004 1.277 0 1.633c0 .036.004.076.008.112l2.72 16.51c.068.417.43.726.854.73H16.63c.317.004.59-.225.641-.537l2.72-16.699c.057-.348-.18-.677-.528-.733-.036-.004-.072-.008-.112-.008L.649 1zm11.454 11.931H7.937L6.81 7.041h6.302l-1.01 5.89z"}))}r.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n,class:r}){return i.h("svg",{width:t,height:n,class:r,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M.72 15.173c3.595-5.85 8.296-6.023 13.826-3.336 1.538.741 3.246 1.546 4.104 1.95.313.144.454.512.316.828l-1.954 4.42c-.069.155-.198.277-.358.336-.16.06-.337.052-.491-.021l-4.07-1.935c-2.948-1.408-4.583-1.737-6.209.947-.23.382-.442.738-.606 1.013-.087.146-.228.25-.392.29-.165.041-.338.014-.483-.075L.3 17.064c-.293-.18-.387-.562-.212-.858.196-.31.426-.698.631-1.033zM14.94.636c.171-.04.35-.006.496.092l4.103 2.525c.293.181.387.563.212.859-.196.31-.426.697-.631 1.032-3.596 5.843-8.297 6.023-13.84 3.34-1.537-.742-3.245-1.547-4.104-1.95-.313-.144-.454-.512-.315-.828l1.954-4.42c.068-.156.197-.277.357-.337.16-.06.338-.052.492.022L7.72 2.896c2.949 1.408 4.584 1.737 6.21-.947.23-.382.442-.738.606-1.013.087-.152.234-.26.404-.3z"}))}r.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n,class:r}){return i.h("svg",{width:t,height:n,class:r,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M13.771 6.655c1.063.224 1.895.766 2.426 1.727.373.673.482 1.397.346 2.144-.28 1.533-1.574 2.658-3.078 2.703-1.695.051-2.975-.964-3.446-2.704v.322c0 1.883.004 3.767 0 5.65-.004 1.77-1.275 3.139-3.065 3.308-1.624.154-3.148-1.037-3.463-2.706-.34-1.795.887-3.497 2.822-3.842-1.92-.507-3.002-1.67-2.828-3.66.145-1.648 1.21-2.572 2.854-2.946-1.305-.244-2.204-.914-2.669-2.088-.846-2.139.701-4.44 3.028-4.476C8.913.053 11.129.059 13.344.086c1.712.02 3.115 1.34 3.232 2.97.13 1.806-.996 3.248-2.805 3.6zm-3.74 2.71c.347-1.411 1.23-2.296 2.707-2.678H10.03v2.679z"}))}r.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n,class:r}){return i.h("svg",{width:t,height:n,class:r,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M18.659 4.98c-.895-1.531-2.108-2.745-3.64-3.639C13.487.447 11.814 0 10 0 8.187 0 6.513.447 4.98 1.341c-1.532.894-2.745 2.108-3.639 3.64C.447 6.513 0 8.186 0 10c0 2.179.636 4.138 1.908 5.879 1.271 1.74 2.914 2.945 4.928 3.613.234.044.408.013.52-.091.113-.104.17-.234.17-.39l-.007-.704c-.004-.442-.006-.829-.006-1.158l-.3.051c-.19.035-.432.05-.723.046-.29-.004-.592-.035-.904-.091-.313-.056-.604-.187-.873-.39-.269-.205-.46-.472-.573-.801l-.13-.3c-.087-.2-.223-.421-.41-.664-.187-.243-.375-.408-.566-.495l-.091-.065c-.061-.043-.118-.096-.17-.156-.052-.061-.09-.122-.117-.183-.026-.06-.004-.11.065-.15.07-.039.196-.058.378-.058l.26.04c.174.034.389.138.645.312.256.173.466.399.631.676.2.357.44.628.723.814.282.187.566.28.853.28.286 0 .533-.021.742-.065.208-.043.403-.108.586-.195.078-.582.29-1.029.638-1.341-.495-.052-.94-.13-1.335-.235-.395-.104-.803-.273-1.224-.508-.421-.234-.77-.525-1.048-.872s-.506-.803-.684-1.367c-.177-.565-.266-1.216-.266-1.954 0-1.05.343-1.944 1.028-2.682-.32-.79-.29-1.676.091-2.657.252-.078.625-.019 1.12.176.495.196.857.363 1.087.502.23.138.415.256.554.351.807-.225 1.64-.338 2.5-.338.86 0 1.693.113 2.5.338l.495-.312c.338-.209.738-.4 1.197-.573.46-.174.812-.222 1.056-.143.39.98.425 1.866.103 2.656.686.738 1.03 1.632 1.03 2.682 0 .738-.09 1.391-.268 1.96-.178.569-.407 1.024-.69 1.367-.282.343-.633.632-1.054.866-.421.235-.83.404-1.224.508-.395.104-.84.183-1.335.235.451.39.677 1.007.677 1.849v2.747c0 .156.054.286.163.39.108.105.28.135.514.092 2.014-.669 3.657-1.873 4.929-3.614C19.364 14.14 20 12.18 20 10c0-1.814-.448-3.487-1.341-5.02z"}))}r.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n,class:r}){return i.h("svg",{width:t,height:n,class:r,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M19.91 11.374L18.866 8.16c-.006-.03-.014-.059-.026-.086l-2.098-6.46c-.114-.341-.436-.57-.796-.568-.36-.002-.68.23-.787.573l-2 6.155H6.845L4.842 1.62c-.107-.341-.425-.574-.783-.573h-.005c-.36 0-.68.231-.794.574l-2.1 6.466c0 .006-.005.011-.006.017L.089 11.374c-.16.492.014 1.032.433 1.336l9.2 6.684c.165.12.39.12.555-.003l9.2-6.681c.42-.304.595-.844.434-1.336zM6.16 8.719l2.565 7.892-6.156-7.892h3.592zm5.118 7.893l2.46-7.566.105-.327h3.594l-5.569 7.134-.59.76zm4.675-14.387l1.802 5.55h-3.607l1.805-5.55zm-3.1 6.49l-1.787 5.498L10 17.487 7.152 8.715h5.7zM4.05 2.225l1.805 5.55H2.251l1.799-5.55zM1.076 11.95c-.09-.065-.126-.18-.092-.284l.79-2.43 5.799 7.434-6.497-4.72zm17.849 0l-6.498 4.718.022-.028 5.776-7.404.79 2.429c.036.104-.001.22-.09.284z"}))}r.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n,class:r}){return i.h("svg",{width:t,height:n,class:r,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M9.936 0h7.957c1.202 0 1.947.747 1.947 1.952v15.936c0 1.205-.745 1.952-1.946 1.952H1.936C.749 19.84 0 19.088 0 17.9V1.94C0 .751.75.001 1.936.001h8zm6.366 12.68c-.034.087-.052.166-.093.23-.193.308-.354.647-.597.908-.282.303-.635.165-.695-.245-.025-.172-.008-.362.035-.531.19-.736.391-1.47.598-2.202.184-.65.284-1.306.146-1.978-.265-1.288-1.434-1.959-2.681-1.542-.599.2-1.072.576-1.462 1.06-.16.2-.3.413-.486.669l.369-1.704c-1.003 0-1.973-.002-2.942.003-.042 0-.11.05-.122.088-.139.488-.27.978-.41 1.491H9.38c-.015.081-.023.145-.038.206-.247.989-.504 1.975-.737 2.967-.098.42-.294.778-.577 1.09-.395.439-.86.768-1.48.782-.387.009-.584-.206-.567-.59.005-.12.013-.244.042-.362.37-1.505.745-3.009 1.118-4.514l.288-1.161c-1.109 0-2.186-.002-3.263.003-.049 0-.128.051-.14.094-.14.487-.269.976-.407 1.488h1.394c-.013.075-.021.13-.035.186-.214.878-.435 1.755-.644 2.634-.147.62-.346 1.23-.325 1.882.036 1.07.892 1.799 1.952 1.66.843-.112 1.477-.56 1.989-1.21.06-.076.116-.154.175-.23l.033.017-.315 1.285c.09.005.16.012.228.012.51 0 1.02-.007 1.531.004.172.004.246-.038.29-.219.347-1.429.698-2.858 1.072-4.28.095-.363.25-.719.427-1.05.19-.356.495-.614.888-.746.731-.247 1.411.212 1.435.982.006.212-.02.432-.073.637-.114.438-.258.866-.383 1.301-.179.623-.335 1.251-.313 1.905.018.557.182 1.05.706 1.344.681.383 1.76.291 2.362-.205.586-.482.865-1.143 1.078-1.863l-.788-.295zM6.62 3.878c-.7-.003-1.19.474-1.193 1.162-.002.647.52 1.194 1.155 1.207.664.013 1.215-.523 1.22-1.189.004-.682-.492-1.177-1.182-1.18z"}))}r.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n,class:r}){return i.h("svg",{width:t,height:n,class:r,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M19.27 9.365L10.731.828 9.905 0 3.478 6.427.54 9.365c-.307.307-.307.803 0 1.11l5.871 5.872 3.494 3.493 6.426-6.427.1-.099 2.838-2.839c.307-.307.307-.803 0-1.11zm-9.365 3.488L6.972 9.92l2.933-2.933 2.933 2.933-2.933 2.933z"}))}r.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n,class:r}){return i.h("svg",{width:t,height:n,class:r,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M14.26 10.594c1.598 1.042 3.199 2.08 4.798 3.12.157.102.156.104-.004.208-2.997 1.95-5.994 3.898-8.986 5.852-.139.09-.22.03-.323-.037-1.235-.804-2.47-1.61-3.706-2.413L.826 13.935c-.054-.035-.118-.06-.163-.13l1.364-.89 3.569-2.32c.34.224.681.447 1.023.67l2.257 1.46c.307.198.616.392.918.599.103.07.175.065.278-.002 1.056-.69 2.115-1.375 3.173-2.062l.136-.095.879-.57zM10.079.073c2.985 1.947 5.974 3.889 8.962 5.832l.152.104c-.034.071-.1.091-.152.125l-.862.56c-1.599 1.042-3.198 2.081-4.798 3.122-.046.03-.09.063-.136.095-1.058.686-2.117 1.37-3.173 2.061-.103.068-.175.073-.278.002-.302-.207-.61-.401-.918-.6L6.62 9.917c-.812-.531-1.623-1.063-2.435-1.592C3.35 7.78 2.516 7.238 1.68 6.695L.797 6.12c-.046-.03-.091-.061-.15-.102l.54-.351C4.049 3.805 6.912 1.944 9.773.08c.109-.07.186-.085.306-.007z"}))}r.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n,class:r}){return i.h("svg",{width:t,height:n,class:r,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M19.84 6.933l-9.377 11.411c-.07.085-.135.173-.205.258-.197.24-.48.24-.677.002-1.698-2.072-3.396-4.144-5.096-6.215C3.03 10.618 1.575 8.85.119 7.08L0 6.933v-.271l.087-.125c1.227-1.772 2.451-3.545 3.685-5.31.069-.1.206-.194.322-.209.39-.05.785-.06 1.177-.089C6.274.857 7.278.78 8.282.713 8.916.672 9.555.594 10.187.63c1.777.097 3.551.253 5.328.363.316.019.495.136.669.39 1.21 1.766 2.435 3.521 3.656 5.28v.27zm-15.436.276L9.92 17.507l5.515-10.298H4.404zm.36-.838h10.311L9.92 1.558 4.764 6.371zm3.982-4.828l-.018-.048-1.192.085c-.959.067-1.918.135-2.877.2-.11.007-.157.05-.165.163-.076 1.03-.156 2.06-.234 3.088-.017.228-.03.456-.046.684l.042.02 4.49-4.192zm2.366-.047l-.019.047 4.534 4.232c-.008-.169-.01-.272-.018-.375-.087-1.132-.18-2.264-.257-3.397-.012-.182-.085-.22-.247-.23-.862-.055-1.724-.121-2.586-.182-.47-.033-.938-.063-1.407-.095zM7.45 14.72l.032-.031c-.013-.028-.023-.058-.038-.085-1.3-2.428-2.601-4.856-3.9-7.286-.05-.095-.109-.122-.21-.122-.634.005-1.266.002-1.9.003-.039 0-.08.011-.142.021l6.158 7.5zm4.907-.03l.034.027L18.566 7.2c-.708 0-1.36.006-2.01-.005-.154-.002-.224.053-.293.183-1.272 2.383-2.549 4.764-3.824 7.146-.03.054-.055.111-.082.168zm6.293-8.309l-2.375-3.43c-.015.007-.03.014-.043.022l.264 3.409h2.154zM1.194 6.376h2.15l.263-3.407-.046-.014-2.368 3.421z"}))}r.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({color:e,width:t,height:n,class:r}){return i.h("svg",{width:t,height:n,class:r,viewBox:"0 0 20 20"},i.h("path",{fill:e,d:"M17.371 0H2.481C1.112 0 0 1.11 0 2.48v14.88c0 1.37 1.111 2.48 2.482 2.48H17.37c1.366-.007 2.469-1.115 2.469-2.48V2.48c0-1.365-1.103-2.473-2.469-2.48zM8.635 15.028c-.007.652-.538 1.177-1.19 1.177H3.779c-.655.003-1.19-.523-1.197-1.177V3.77c0-.316.127-.62.351-.843.225-.223.53-.348.846-.346h3.666c.657 0 1.19.532 1.19 1.19v11.257zm8.638-4.96c0 .657-.533 1.19-1.19 1.19h-3.675c-.658 0-1.19-.533-1.19-1.19V3.774c-.001-.317.124-.62.347-.844.223-.224.527-.35.843-.35h3.675c.657 0 1.19.533 1.19 1.19v6.298z"}))}r.defaultProps={color:"var(--gandalf)",width:20,height:20},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({width:e,color:t}){return i.h("svg",{width:e,viewBox:"0 0 16 15"},i.h("path",{fill:t,d:"M16 12.002c0 .51-.385.933-.88.991l-.115.007h-2.817l-1.925 1.925L8.337 13H1c-.512 0-.934-.386-.992-.882L0 12V1C0 .486.387.064.884.006L1.001 0H15c.513 0 .936.386.993.883L16 1v11.002zM8.49.998L1.001 1 1 12.002 8.544 12h.207l1.512 1.511L11.774 12h3.23l-.003-4.477L15 7.5V1H8.5L8.49.999zM12.5 7.5c.277 0 .5.224.5.5 0 .246-.176.45-.41.492l-.09.008h-9c-.276 0-.5-.224-.5-.5 0-.246.177-.45.41-.492L3.5 7.5h9zm0-3c.277 0 .5.223.5.5 0 .246-.176.45-.41.492l-.09.008h-9c-.276 0-.5-.223-.5-.5 0-.246.177-.45.41-.492L3.5 4.5h9z"}))}r.defaultProps={color:"var(--teflon)",width:16},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({width:e,height:t,color:n}){return i.h("svg",{width:e,height:t,viewBox:"0 0 12 12"},i.h("g",{fill:n},i.h("rect",{x:"5",width:"2",height:"12",rx:"1"}),i.h("rect",{y:"5",width:"12",height:"2",rx:"1"})))}r.defaultProps={color:"var(--teflon)",width:12,height:12},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1);function r({width:e,height:t,color:n}){return i.h("svg",{width:e,height:t,viewBox:"0 0 12 12"},i.h("rect",{fill:n,y:"5",width:"12",height:"2",rx:"1"}))}r.defaultProps={color:"var(--teflon)",width:12,height:12},t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r);const s={DEFAULT:"default",OUTLINE:"outline"};function a({class:e,width:t,type:n}){return n===s.OUTLINE?i.h("svg",{class:e,width:t,viewBox:"0 0 25 20"},i.h("path",{fill:"#979197","fill-rule":"evenodd",d:"M19.418 12.996c-1.091.714-2.31 1.316-3.625 1.79l-.067.023c-1.01-1.098-2.066-2.427-3.092-3.893l-.24-.345-.04-.433c-.154-1.768-.199-3.468-.133-4.948l.097-.035c1.863-.672 3.773-1.028 5.523-1.028 1.458 0 2.751.248 3.738.715.922.437 1.524 1.032 1.79 1.768.206.57.203 1.21-.009 1.9-.223.727-.685 1.51-1.335 2.26-.69.798-1.566 1.547-2.607 2.226m-9.163 2.821c-1.153 0-2.185-.15-3.066-.449l-.34-.114-.338.121-3.04 1.097.047-2.308.009-.395-.26-.299-1.51-1.746 3.05-1.1.338-.122.188-.304C6.11 8.942 7.401 7.744 9.01 6.746c.644 1.287 1.495 2.722 2.47 4.159.177 1.725.448 3.37.781 4.767-.684.096-1.356.145-2.006.145m2.106-12.369c.276-2.214.744-2.49.774-2.504.047.004.226.113.484.567.261.461.528 1.143.772 1.972v.005c-.69.15-1.391.345-2.096.586.02-.215.041-.424.066-.626m6.121 11.283c.369.848.606 1.57.684 2.093.074.488-.012.617-.027.635-.005.002-.019.005-.045.005-.104 0-.693-.069-2.155-1.428-.133-.123-.272-.256-.412-.395l.003-.033c.683-.263 1.336-.557 1.952-.877m-5.289.782c-.218-.9-.409-1.912-.564-2.992.704.947 1.42 1.83 2.116 2.608-.519.153-1.037.282-1.552.384m2.357.483c-.223 2.386-.708 3.017-.833 3.06-.044-.005-.21-.106-.452-.514-.25-.423-.507-1.052-.742-1.818-.022-.07-.044-.142-.065-.215.678-.138 1.368-.319 2.062-.544l.03.031M9.295 5.12c-.853-2.02-.61-2.511-.583-2.554.007-.002.02-.004.042-.004.122 0 .82.088 2.569 1.82l-.004.053c-.677.272-1.322.575-1.93.903l-.094-.218m2.025 3.808C10.744 8 10.24 7.102 9.827 6.27c.459-.25.94-.484 1.436-.698-.031 1.043-.012 2.178.057 3.355M24.336 6.26c-.738-2.045-3.275-3.162-6.495-3.162-.8 0-1.642.07-2.509.21l-.014-.048c-.312-1.06-.648-1.872-1-2.41C13.95.285 13.552 0 13.134 0c-.028 0-.056.001-.083.004-.423.037-.773.344-1.042.914-.248.526-.434 1.271-.566 2.276-1.147-1.045-2.053-1.575-2.695-1.575-.22 0-.414.058-.578.173-.347.243-.497.685-.445 1.313.05.605.28 1.385.7 2.382l.141.324C6.738 6.929 5.312 8.277 4.46 9.657L0 11.265l2.49 2.878-.079 3.805 4.449-1.605c.982.331 2.136.502 3.395.502.726 0 1.486-.056 2.268-.172.032.112.065.221.098.328.308 1.002.622 1.73.96 2.226.35.513.733.773 1.139.773.027 0 .054-.001.08-.004.423-.036.775-.353 1.049-.941.241-.52.428-1.268.557-2.227 1.146 1.047 2.052 1.577 2.696 1.577.22 0 .415-.058.58-.173.358-.252.505-.723.435-1.4-.066-.646-.331-1.5-.787-2.541l-.01-.024c3.79-2.234 5.94-5.444 5.016-8.006"})):i.h("svg",{class:e,width:t,viewBox:"0 0 60 48"},i.h("path",{fill:"#FDBD39",d:"M9.22500276 33.0840797L6.086191 34.2307306l-.1685294 9.3377181 10.8655059-3.9692989c-3.7267412-1.2518612-6.4482353-3.4543705-7.55816474-6.5150701"}),i.h("path",{fill:"#F69833",d:"M10.8676263 23.2078406L-.023009 27.1863498l6.1092 7.0443808 3.13881176-1.1466509c-1.10668235-3.0517727-.4242-6.5015026 1.64262354-9.8762391"}),i.h("path",{fill:"#FECF33",d:"M29.1946263 9.73401033C15.3264381 14.8002244 6.38569688 25.2544118 9.22500276 33.0840797L59.4462381 14.7376295C56.6069322 6.9079262 43.0628498 4.6677609 29.1946263 9.73401033"}),i.h("path",{fill:"#EE6723",d:"M39.4765792 38.0876989c13.8682236-5.0662495 22.8257647-15.4740664 19.9696589-23.3500694L9.22500276 33.0840797C12.0810734 40.9601181 25.608391 43.1539129 39.4765792 38.0876989"}),i.h("path",{fill:"#F69833",d:"M59.4462381 14.7376295L9.22500276 33.0840797c.98340004 2.7118406 4.73350584 4.0478701 9.99532944 4.0478701 5.1298588 0 11.6965412-1.2689004 18.5425764-3.7698952 13.8682589-5.066214 23.6254589-13.2687587 21.6833295-18.6244251"}),i.h("path",{fill:"#FDBD39",d:"M49.4509086 10.689724c-5.1298941 0-11.6965411 1.2689358-18.542647 3.7698952C17.0400734 19.5258686 7.28283806 27.7283779 9.22500276 33.0840797L59.4462381 14.7376295c-.9834-2.711876-4.7335059-4.0479055-9.9953295-4.0479055"}),i.h("path",{fill:"#EE6723",d:"M46.6773557 44.0629018h-.0003529c-1.4775883 0-3.6574942-1.3346833-6.4792236-3.9669254-3.3382588-3.1141904-7.1622353-7.6754657-10.7676706-12.8435247-3.6052941-5.1678465-6.5678117-10.3344886-8.3418-14.548251-1.9328117-4.59195273-2.2083882-7.41538004-.8191058-8.3919232.3046235-.21389226.6718235-.32225536 1.0913294-.32225536 1.1300823 0 3.3320117.84136384 7.4037529 4.84984207l.0890471.08760443-.0120353.12458746c-.0278471.28796456-.0535059.57851512-.0763765.86368117l-.0453882.56625833-.3994588-.4024561c-4.3871648-4.41986127-6.3183883-4.89702732-6.9451412-4.89702732-.1787294 0-.3210706.03634538-.4231059.1080797-.6026118.4234273-.6414 2.4973107 1.2324706 6.94869962 1.7423294 4.1386627 4.6617529 9.2271587 8.2204941 14.3280886 3.5588824 5.1014258 7.3243412 9.5952885 10.6029176 12.6537919 3.5354471 3.2980073 5.1286236 3.6541284 5.6495295 3.6541284.1798588 0 .3260117-.038648.4344-.1148812.6357176-.4466657.6364588-2.6683395-1.4532353-7.4595188l-.0959294-.2199498.21-.1149521c.2100352-.1149874.4131529-.2282037.6036352-.3364959l.2515765-.1429727.1159765.2657181c1.4817176 3.3949284 2.8667647 7.7097919 1.0506 8.9864856-.3062118.2150967-.6752118.3241682-1.0969059.3241682zm-.0003529-.5236782h.000375l-.00025.2618214-.000125-.2618214z"}),i.h("path",{fill:"#EE6723",d:"M39.8132498 37.9445491l-.0211059.2609358c-.3506117 4.3383144-1.2737647 9.5539837-3.6807529 9.7650775-.0484235.0043217-.0986471.0065535-.1488706.0065535-1.6351412 0-3.1821176-2.3427897-4.5978706-6.9634008-1.3395176-4.3713653-2.3789647-10.240614-2.9268706-16.526524-.5479411-6.2845992-.5397176-12.2458096.0231177-16.78540512.6134823-4.9467631 1.7814353-7.53011956 3.4712117-7.6784059.0499412-.00460517.1017177-.0069786.1528589-.0069786 1.1862 0 2.9739176 1.3431498 4.8040588 7.59930332l-1.1949882.23064797c-.6110471-2.09063912-1.2769765-3.79100812-1.9380706-4.9594096-.6115412-1.0807262-1.2061412-1.67589077-1.6743883-1.67589077-.0153882 0-.0308823.00063764-.0461647.00194834-.7324235.06433063-1.7990823 1.84096826-2.3937529 6.63629225-.5528118 4.458155-.5594824 10.3300251-.0187765 16.5339631.5410235 6.204859 1.5634941 11.986397 2.8789765 16.2794391.5891294 1.9227277 1.2353294 3.5073299 1.8687176 4.5826007.5840824.9915631 1.1493177 1.537665 1.5915883 1.537665.0152117 0 .0303529-.0007085.0454588-.0019838.7008-.0614258 2.0214706-1.9102229 2.5773176-8.4149136l1.2283059-.4215144"}))}a.propTypes={width:o.a.number,type:o.a.oneOf(Object.values(s))},a.defaultProps={width:25,type:"default"},t.default=a},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(288);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(289);n(305);t.default=function(e){const{email:t}=e;return i.h(r.default,{onClose:e.onClose,width:444,class:"transferWarningDialog",positiveButtonText:"TRANSFER",negativeButtonText:"CANCEL",onPositiveButtonClick:e.onTransfer,hideNegativeButton:!1},i.h("div",{class:"dialogWrapper"},i.h("h1",{class:"dialogHeader"},"Transfer subscription"),i.h("div",{class:"dialogBody"},i.h("p",{class:"primaryInfo"},"You’re transferring your subscription to ",i.h("strong",null,'"',t,'"'),"."),i.h("p",null,"By transferring the subscription, you will ",i.h("strong",null,"transfer your billing information and all the projects under this account.")))))}},function(e,t,n){"use strict";n.r(t);var i=n(290);n.d(t,"BasicDialog",(function(){return i.default}));var r=n(302);n.d(t,"DismissibleDialog",(function(){return r.default}));var o=n(297);n.d(t,"DialogFooter",(function(){return o.default}));var s=n(292);n.d(t,"default",(function(){return s.default}))},function(e,t,n){"use strict";n.r(t);var i=n(291);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(11),a=n(292);n(301);function l(e){const{title:t,message:n,positiveButtonText:r,negativeButtonText:o,fallbackButtonText:l,onPositiveButtonClick:c,onNegativeButtonClick:d,onFallbackButtonClick:u,hideNegativeButton:h,onClose:p,width:f,loading:g,class:m}=e;return i.h(a.default,{class:Object(s.default)("basicDialog",m,{onlyMessage:!t}),positiveButtonText:r,negativeButtonText:o,fallbackButtonText:l,onPositiveButtonClick:c,onNegativeButtonClick:d,onFallbackButtonClick:u,hideNegativeButton:h,width:f,loading:g,onClose:p},i.h("div",{class:"dialogBody"},t&&i.h("h1",{class:"title"},t),i.h("div",{class:"message"},n)))}l.displayName="BasicDialog",l.propTypes={title:o.a.string,message:o.a.string.isRequired,positiveButtonText:o.a.string,negativeButtonText:o.a.string,fallbackButtonText:o.a.string,onPositiveButtonClick:o.a.func,onNegativeButtonClick:o.a.func,onFallbackButtonClick:o.a.func,hideNegativeButton:o.a.bool,onClose:o.a.func,width:o.a.number,loading:o.a.bool},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(293),a=n(62),l=n(24),c=n(11),d=n(43),u=n(297);n(300);class h extends i.Component{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this)}handleKeyDown(e){e.stopPropagation()}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown,!0),d.default.registerDialog(this.nodeRefs.dialog),this.nodeRefs.dialog.showModal()}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}render(){const{positiveButtonText:e,negativeButtonText:t,fallbackButtonText:n,positiveButtonType:r,negativeButtonType:o,fallbackButtonType:d,positiveButtonDisabled:h,negativeButtonDisabled:p,fallbackButtonDisabled:f,onPositiveButtonClick:g,onNegativeButtonClick:m,onFallbackButtonClick:b,hideNegativeButton:y,onClose:S,width:v,footer:C,loading:O,loadingText:E,class:T}=this.props;return i.h(s.default,null,i.h("dialog",{onClick:a.stopPropagation,onClose:S,style:{width:v},class:Object(c.default)(T,"dialog",{loading:O}),ref:Object(l.default)(this,"dialog")},i.h("div",{class:"body"},this.props.children),i.h(u.default,{positiveButtonText:e,negativeButtonText:t,fallbackButtonText:n,positiveButtonType:r,negativeButtonType:o,fallbackButtonType:d,positiveButtonDisabled:h,negativeButtonDisabled:p,fallbackButtonDisabled:f,onPositiveButtonClick:g,onNegativeButtonClick:m||S,onFallbackButtonClick:b,hideNegativeButton:y,footer:C,loading:O,loadingText:E})))}}h.defaultProps={positiveButtonText:"DONE",negativeButtonText:"CANCEL",hideNegativeButton:!0,positiveButtonType:"submit",negativeButtonType:"submit",fallbackButtonType:"submit"},h.propTypes={positiveButtonText:o.a.string.isRequired,negativeButtonText:o.a.string,fallbackButtonText:o.a.string,positiveButtonType:o.a.string.isRequired,negativeButtonType:o.a.string.isRequired,fallbackButtonType:o.a.string.isRequired,positiveButtonDisabled:o.a.bool,negativeButtonDisabled:o.a.bool,onPositiveButtonClick:o.a.func,onNegativeButtonClick:o.a.func,onFallbackButtonClick:o.a.func,hideNegativeButton:o.a.bool,width:o.a.oneOfType([o.a.number,o.a.string]),onClose:o.a.func,children:o.a.node,footer:o.a.node,loading:o.a.bool,loadingText:o.a.string},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(294);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(295),o=n(24);class s extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>"string"==typeof e?document.querySelector(e):e,(n="findNode")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){const{didRender:e}=this.props,{portal:t}=this.nodeRefs;e&&e(t.firstChild)}render(){const{children:e,into:t}=this.props;return Object(r.createPortal)(i.h("div",{ref:Object(o.default)(this,"portal")},e),this.findNode(t))}}s.defaultProps={into:document.body},t.default=s},function(e,t,n){"use strict";n.r(t),n.d(t,"version",(function(){return R})),n.d(t,"Children",(function(){return h})),n.d(t,"render",(function(){return D})),n.d(t,"hydrate",(function(){return k})),n.d(t,"unmountComponentAtNode",(function(){return N})),n.d(t,"createPortal",(function(){return O})),n.d(t,"createFactory",(function(){return I})),n.d(t,"cloneElement",(function(){return x})),n.d(t,"isValidElement",(function(){return A})),n.d(t,"findDOMNode",(function(){return L})),n.d(t,"PureComponent",(function(){return a})),n.d(t,"memo",(function(){return l})),n.d(t,"forwardRef",(function(){return d})),n.d(t,"unstable_batchedUpdates",(function(){return U})),n.d(t,"Suspense",(function(){return g})),n.d(t,"SuspenseList",(function(){return y})),n.d(t,"lazy",(function(){return b}));var i=n(296);n.d(t,"useState",(function(){return i.useState})),n.d(t,"useReducer",(function(){return i.useReducer})),n.d(t,"useEffect",(function(){return i.useEffect})),n.d(t,"useLayoutEffect",(function(){return i.useLayoutEffect})),n.d(t,"useRef",(function(){return i.useRef})),n.d(t,"useImperativeHandle",(function(){return i.useImperativeHandle})),n.d(t,"useMemo",(function(){return i.useMemo})),n.d(t,"useCallback",(function(){return i.useCallback})),n.d(t,"useContext",(function(){return i.useContext})),n.d(t,"useDebugValue",(function(){return i.useDebugValue})),n.d(t,"useErrorBoundary",(function(){return i.useErrorBoundary}));var r=n(1);function o(e,t){for(var n in t)e[n]=t[n];return e}function s(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var i in t)if("__source"!==i&&e[i]!==t[i])return!0;return!1}n.d(t,"createElement",(function(){return r.createElement})),n.d(t,"createContext",(function(){return r.createContext})),n.d(t,"createRef",(function(){return r.createRef})),n.d(t,"Fragment",(function(){return r.Fragment})),n.d(t,"Component",(function(){return r.Component}));var a=function(e){var t,n;function i(t){var n;return(n=e.call(this,t)||this).isPureReactComponent=!0,n}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.prototype.shouldComponentUpdate=function(e,t){return s(this.props,e)||s(this.state,t)},i}(r.Component);function l(e,t){function n(e){var n=this.props.ref,i=n==e.ref;return!i&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!i:s(this.props,e)}function i(t){return this.shouldComponentUpdate=n,Object(r.createElement)(e,o({},t))}return i.prototype.isReactComponent=!0,i.displayName="Memo("+(e.displayName||e.name)+")",i.t=!0,i}var c=r.options.__b;function d(e){function t(t){var n=o({},t);return delete n.ref,e(n,t.ref)}return t.prototype.isReactComponent=t.t=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}r.options.__b=function(e){e.type&&e.type.t&&e.ref&&(e.props.ref=e.ref,e.ref=null),c&&c(e)};var u=function(e,t){return e?Object(r.toChildArray)(e).reduce((function(e,n,i){return e.concat(t(n,i))}),[]):null},h={map:u,forEach:u,count:function(e){return e?Object(r.toChildArray)(e).length:0},only:function(e){if(1!==(e=Object(r.toChildArray)(e)).length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:r.toChildArray},p=r.options.__e;function f(e){return e&&((e=o({},e)).__c=null,e.__k=e.__k&&e.__k.map(f)),e}function g(e){this.__u=0,this.o=null,this.__b=null}function m(e){var t=e.__.__c;return t&&t.u&&t.u(e)}function b(e){var t,n,i;function o(o){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){i=e})),i)throw i;if(!n)throw t;return Object(r.createElement)(n,o)}return o.displayName="Lazy",o.t=!0,o}function y(){this.i=null,this.l=null}r.options.__e=function(e,t,n){if(e.then)for(var i,r=t;r=r.__;)if((i=r.__c)&&i.__c)return i.__c(e,t.__c);p(e,t,n)},(g.prototype=new r.Component).__c=function(e,t){var n=this;null==n.o&&(n.o=[]),n.o.push(t);var i=m(n.__v),r=!1,o=function(){r||(r=!0,i?i(s):s())};t.__c=t.componentWillUnmount,t.componentWillUnmount=function(){o(),t.__c&&t.__c()};var s=function(){var e;if(!--n.__u)for(n.__v.__k[0]=n.state.u,n.setState({u:n.__b=null});e=n.o.pop();)e.forceUpdate()};n.__u++||n.setState({u:n.__b=n.__v.__k[0]}),e.then(o,o)},g.prototype.render=function(e,t){return this.__b&&(this.__v.__k[0]=f(this.__b),this.__b=null),[Object(r.createElement)(r.Component,null,t.u?null:e.children),t.u&&e.fallback]};var S=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};(y.prototype=new r.Component).u=function(e){var t=this,n=m(t.__v),i=t.l.get(e);return i[0]++,function(r){var o=function(){t.props.revealOrder?(i.push(r),S(t,e,i)):r()};n?n(o):o()}},y.prototype.render=function(e){this.i=null,this.l=new Map;var t=Object(r.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},y.prototype.componentDidUpdate=y.prototype.componentDidMount=function(){var e=this;e.l.forEach((function(t,n){S(e,n,t)}))};var v=function(){function e(){}var t=e.prototype;return t.getChildContext=function(){return this.props.context},t.render=function(e){return e.children},e}();function C(e){var t=this,n=e.container,i=Object(r.createElement)(v,{context:t.context},e.vnode);return t.s&&t.s!==n&&(t.v.parentNode&&t.s.removeChild(t.v),Object(r._unmount)(t.h),t.p=!1),e.vnode?t.p?(n.__k=t.__k,Object(r.render)(i,n),t.__k=n.__k):(t.v=document.createTextNode(""),Object(r.hydrate)("",n),n.appendChild(t.v),t.p=!0,t.s=n,Object(r.render)(i,n,t.v),t.__k=t.v.__k):t.p&&(t.v.parentNode&&t.s.removeChild(t.v),Object(r._unmount)(t.h)),t.h=i,t.componentWillUnmount=function(){t.v.parentNode&&t.s.removeChild(t.v),Object(r._unmount)(t.h)},null}function O(e,t){return Object(r.createElement)(C,{vnode:e,container:t})}var E=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;r.Component.prototype.isReactComponent={};var T="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;function D(e,t,n){if(null==t.__k)for(;t.firstChild;)t.removeChild(t.firstChild);return Object(r.render)(e,t),"function"==typeof n&&n(),e?e.__c:null}function k(e,t,n){return Object(r.hydrate)(e,t),"function"==typeof n&&n(),e?e.__c:null}var w=r.options.event;function _(e,t){e["UNSAFE_"+t]&&!e[t]&&Object.defineProperty(e,t,{configurable:!1,get:function(){return this["UNSAFE_"+t]},set:function(e){this["UNSAFE_"+t]=e}})}r.options.event=function(e){w&&(e=w(e)),e.persist=function(){};var t=!1,n=!1,i=e.stopPropagation;e.stopPropagation=function(){i.call(e),t=!0};var r=e.preventDefault;return e.preventDefault=function(){r.call(e),n=!0},e.isPropagationStopped=function(){return t},e.isDefaultPrevented=function(){return n},e.nativeEvent=e};var j={configurable:!0,get:function(){return this.class}},P=r.options.vnode;r.options.vnode=function(e){e.$$typeof=T;var t=e.type,n=e.props;if(n.class!=n.className&&(j.enumerable="className"in n,null!=n.className&&(n.class=n.className),Object.defineProperty(n,"className",j)),"function"!=typeof t){var i,o,s;for(s in n.defaultValue&&void 0!==n.value&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),Array.isArray(n.value)&&n.multiple&&"select"===t&&(Object(r.toChildArray)(n.children).forEach((function(e){-1!=n.value.indexOf(e.props.value)&&(e.props.selected=!0)})),delete n.value),n)if(i=E.test(s))break;if(i)for(s in o=e.props={},n)o[E.test(s)?s.replace(/([A-Z0-9])/,"-$1").toLowerCase():s]=n[s]}!function(t){var n=e.type,i=e.props;if(i&&"string"==typeof n){var r={};for(var o in i)/^on(Ani|Tra|Tou)/.test(o)&&(i[o.toLowerCase()]=i[o],delete i[o]),r[o.toLowerCase()]=o;if(r.ondoubleclick&&(i.ondblclick=i[r.ondoubleclick],delete i[r.ondoubleclick]),r.onbeforeinput&&(i.onbeforeinput=i[r.onbeforeinput],delete i[r.onbeforeinput]),r.onchange&&("textarea"===n||"input"===n.toLowerCase()&&!/^fil|che|ra/i.test(i.type))){var s=r.oninput||"oninput";i[s]||(i[s]=i[r.onchange],delete i[r.onchange])}}}(),"function"==typeof t&&!t.m&&t.prototype&&(_(t.prototype,"componentWillMount"),_(t.prototype,"componentWillReceiveProps"),_(t.prototype,"componentWillUpdate"),t.m=!0),P&&P(e)};var R="16.8.0";function I(e){return r.createElement.bind(null,e)}function A(e){return!!e&&e.$$typeof===T}function x(e){return A(e)?r.cloneElement.apply(null,arguments):e}function N(e){return!!e.__k&&(Object(r.render)(null,e),!0)}function L(e){return e&&(e.base||1===e.nodeType&&e)||null}var U=function(e,t){return e(t)};t.default={useState:i.useState,useReducer:i.useReducer,useEffect:i.useEffect,useLayoutEffect:i.useLayoutEffect,useRef:i.useRef,useImperativeHandle:i.useImperativeHandle,useMemo:i.useMemo,useCallback:i.useCallback,useContext:i.useContext,useDebugValue:i.useDebugValue,version:"16.8.0",Children:h,render:D,hydrate:D,unmountComponentAtNode:N,createPortal:O,createElement:r.createElement,createContext:r.createContext,createFactory:I,cloneElement:x,createRef:r.createRef,Fragment:r.Fragment,isValidElement:A,findDOMNode:L,Component:r.Component,PureComponent:a,memo:l,forwardRef:d,unstable_batchedUpdates:U,Suspense:g,SuspenseList:y,lazy:b}},function(e,t,n){"use strict";n.r(t),n.d(t,"useState",(function(){return p})),n.d(t,"useReducer",(function(){return f})),n.d(t,"useEffect",(function(){return g})),n.d(t,"useLayoutEffect",(function(){return m})),n.d(t,"useRef",(function(){return b})),n.d(t,"useImperativeHandle",(function(){return y})),n.d(t,"useMemo",(function(){return S})),n.d(t,"useCallback",(function(){return v})),n.d(t,"useContext",(function(){return C})),n.d(t,"useDebugValue",(function(){return O})),n.d(t,"useErrorBoundary",(function(){return E}));var i,r,o,s=n(1),a=[],l=s.options.__r,c=s.options.diffed,d=s.options.__c,u=s.options.unmount;function h(e){s.options.__h&&s.options.__h(r);var t=r.__H||(r.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function p(e){return f(_,e)}function f(e,t,n){var o=h(i++);return o.__c||(o.__c=r,o.__=[n?n(t):_(void 0,t),function(t){var n=e(o.__[0],t);o.__[0]!==n&&(o.__[0]=n,o.__c.setState({}))}]),o.__}function g(e,t){var n=h(i++);w(n.__H,t)&&(n.__=e,n.__H=t,r.__H.__h.push(n))}function m(e,t){var n=h(i++);w(n.__H,t)&&(n.__=e,n.__H=t,r.__h.push(n))}function b(e){return S((function(){return{current:e}}),[])}function y(e,t,n){m((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))}function S(e,t){var n=h(i++);return w(n.__H,t)?(n.__H=t,n.__h=e,n.__=e()):n.__}function v(e,t){return S((function(){return e}),t)}function C(e){var t=r.context[e.__c];if(!t)return e.__;var n=h(i++);return null==n.__&&(n.__=!0,t.sub(r)),t.props.value}function O(e,t){s.options.useDebugValue&&s.options.useDebugValue(t?t(e):e)}function E(e){var t=h(i++),n=p();return t.__=e,r.componentDidCatch||(r.componentDidCatch=function(e){t.__&&t.__(e),n[1](e)}),[n[0],function(){n[1](void 0)}]}function T(){a.some((function(e){if(e.__P)try{e.__H.__h.forEach(D),e.__H.__h.forEach(k),e.__H.__h=[]}catch(r){return s.options.__e(r,e.__v),!0}})),a=[]}function D(e){e.t&&e.t()}function k(e){var t=e.__();"function"==typeof t&&(e.t=t)}function w(e,t){return!e||t.some((function(t,n){return t!==e[n]}))}function _(e,t){return"function"==typeof t?t(e):t}s.options.__r=function(e){l&&l(e),i=0,(r=e.__c).__H&&(r.__H.__h.forEach(D),r.__H.__h.forEach(k),r.__H.__h=[])},s.options.diffed=function(e){c&&c(e);var t=e.__c;if(t){var n=t.__H;n&&n.__h.length&&(1!==a.push(t)&&o===s.options.requestAnimationFrame||((o=s.options.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(i),cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);"undefined"!=typeof window&&(t=requestAnimationFrame(n))})(T))}},s.options.__c=function(e,t){t.some((function(e){try{e.__h.forEach(D),e.__h=e.__h.filter((function(e){return!e.__||k(e)}))}catch(o){t.some((function(e){e.__h&&(e.__h=[])})),t=[],s.options.__e(o,e.__v)}})),d&&d(e,t)},s.options.unmount=function(e){u&&u(e);var t=e.__c;if(t){var n=t.__H;if(n)try{n.__.forEach((function(e){return e.t&&e.t()}))}catch(e){s.options.__e(e,t.__v)}}}},function(e,t,n){"use strict";n.r(t);var i=n(298);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(11),a=n(18);n(299);function l(e){const{positiveButtonText:t,negativeButtonText:n,fallbackButtonText:r,positiveButtonType:o,negativeButtonType:l,fallbackButtonType:c,positiveButtonDisabled:d,negativeButtonDisabled:u,fallbackButtonDisabled:h,onPositiveButtonClick:p,onNegativeButtonClick:f,onFallbackButtonClick:g,hideNegativeButton:m,footer:b,loading:y,loadingText:S}=e;return i.h("form",{method:"dialog",class:Object(s.default)("buttonsContainer",{loading:y,hasLoadingText:Boolean(S)})},b&&i.h("div",{class:"footer"},b),!y&&r&&i.h("button",{class:"secondary fallback",onClick:g,type:c,disabled:h},r),!y&&!m&&i.h("button",{class:"secondary",onClick:f,type:l,disabled:u},n),i.h("button",{autofocus:!0,class:"primary",onClick:p,type:o,disabled:y||d},y?i.h(i.Fragment,null,i.h("img",{src:Object(a.imageUrl)("img/icSpinnerBlue.svg"),class:"spinning"}),S):t))}l.defaultProps={positiveButtonText:"DONE",negativeButtonText:"CANCEL",hideNegativeButton:!0,positiveButtonType:"submit",negativeButtonType:"submit",fallbackButtonType:"submit"},l.propTypes={positiveButtonText:o.a.string.isRequired,negativeButtonText:o.a.string,fallbackButtonText:o.a.string,positiveButtonType:o.a.string.isRequired,negativeButtonType:o.a.string.isRequired,fallbackButtonType:o.a.string.isRequired,positiveButtonDisabled:o.a.bool,negativeButtonDisabled:o.a.bool,onPositiveButtonClick:o.a.func,onNegativeButtonClick:o.a.func,onFallbackButtonClick:o.a.func,hideNegativeButton:o.a.bool,footer:o.a.node,loading:o.a.bool,loadingText:o.a.string},t.default=l},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(303);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(11),a=n(292),l=(n(304),n(158));function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),c(this,"state",{dismissChecked:!1}),c(this,"handleDismissCheckChange",e=>{this.setState({dismissChecked:e.target.checked})}),c(this,"handlePositiveButtonClick",()=>{const{dismissPrefKey:e,onPositiveButtonClick:t}=this.props,{dismissChecked:n}=this.state;t({[e]:n})}),c(this,"handleNegativeButtonClick",()=>{const{dismissPrefKey:e,onNegativeButtonClick:t}=this.props,{dismissChecked:n}=this.state;t({[e]:n})}),c(this,"handleFallbackButtonClick",()=>{const{dismissPrefKey:e,onFallbackButtonClick:t}=this.props,{dismissChecked:n}=this.state;t({[e]:n})}),c(this,"handleClose",()=>{const{dismissPrefKey:e,onClose:t}=this.props,{dismissChecked:n}=this.state;t({[e]:n})})}componentDidMount(){const{dismissChecked:e}=this.props;this.setState({dismissChecked:e})}componentDidUpdate(e){e.dismissChecked!==this.props.dismissChecked&&this.setState({dismissChecked:this.props.dismissChecked})}render(){const{title:e,message:t,positiveButtonText:n,negativeButtonText:r,fallbackButtonText:o,dismissText:c,hideNegativeButton:d,width:u,loading:h,class:p}=this.props,{dismissChecked:f}=this.state,g=Array.isArray(t)?t:[t];return i.h(a.default,{class:Object(s.default)("dismissibleDialog",p,{onlyMessage:!e}),positiveButtonText:n,negativeButtonText:r,fallbackButtonText:o,onPositiveButtonClick:this.handlePositiveButtonClick,onNegativeButtonClick:this.handleNegativeButtonClick,onFallbackButtonClick:this.handleFallbackButtonClick,hideNegativeButton:d,width:u,loading:h,onClose:this.handleClose},i.h("div",{class:"dialogBody"},e&&i.h("h1",{class:"title"},e),i.h("div",{class:"message"},g.map((e,t)=>i.h("p",{key:t},e))),i.h("label",{class:"dismissText"},i.h(l.default,{onChange:this.handleDismissCheckChange,checked:f}),i.h("span",null,c))))}}d.displayName="DismissibleDialog",d.defaultProps={dismissText:"Do not show this message again",dismissChecked:!1},d.propTypes={title:o.a.string,message:o.a.oneOfType([o.a.string,o.a.arrayOf(o.a.string)]),dismissPrefKey:o.a.string.isRequired,dismissText:o.a.string,dismissChecked:o.a.bool,positiveButtonText:o.a.string,negativeButtonText:o.a.string,fallbackButtonText:o.a.string,onPositiveButtonClick:o.a.func,onNegativeButtonClick:o.a.func,onFallbackButtonClick:o.a.func,hideNegativeButton:o.a.bool,onClose:o.a.func,width:o.a.number,loading:o.a.bool},t.default=d},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(307);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(289);n(308);t.default=function(e){const{isOrganizationPlan:t,periodEndDate:n,onCancelPlan:o,onClose:s}=e;return i.h(r.default,{width:484,class:"cancelPlanDialog",positiveButtonText:"CANCEL PLAN",negativeButtonText:"KEEP PLAN",onClose:s,onPositiveButtonClick:o,hideNegativeButton:!1},i.h("div",{class:"dialogWrapper"},i.h("h1",{class:"dialogHeader"},"Cancel Plan"),i.h("div",{class:"dialogBody"},i.h("p",null,"You can continue using your plan until your billing period ends on",i.h("strong",null," ",n),". Once the billing period ends, your projects and styleguides will be archived automatically."),t&&i.h("p",null,"Once your plan is cancelled, you’ll need to resubscribe to invite or remove members."))))}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(310);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(1),r=n(311);n(315);function o({period:e,currentPlan:t,currentPeriod:n,planInfo:o,onChoosePlanClick:s,onCancelPlanClick:a,cancelEnabled:l}){return i.h("div",{class:"plans"},i.h(r.Starter,{period:e,currentPlan:t,currentPeriod:n,planInfo:o,onChoosePlanClick:s,onCancelPlanClick:a,cancelEnabled:l}),i.h(r.GrowingBusiness,{period:e,currentPlan:t,currentPeriod:n,planInfo:o,onChoosePlanClick:s,onCancelPlanClick:a,cancelEnabled:l}),i.h(r.Organization,{period:e,currentPlan:t,currentPeriod:n,planInfo:o,onChoosePlanClick:s,onCancelPlanClick:a,cancelEnabled:l}))}},function(e,t,n){"use strict";n.r(t);var i=n(312);n.d(t,"Starter",(function(){return i.Starter})),n.d(t,"GrowingBusiness",(function(){return i.GrowingBusiness})),n.d(t,"Organization",(function(){return i.Organization}))},function(e,t,n){"use strict";n.r(t),n.d(t,"Starter",(function(){return f})),n.d(t,"GrowingBusiness",(function(){return g})),n.d(t,"Organization",(function(){return m}));var i=n(1),r=n(9),o=n(313),s=n(11);n(314);const a={monthly:{free:0,starter:1900,growing:2900,organization:1225},annual:{free:0,starter:1700,growing:2600,organization:1075}},l={free:0,starter:1,growing:2,organization:3};function c(e){return`$${Math.trunc(e/100)}${(e/100%1+""||"").substring(1,4)}`}function d(e,t,n,i){return t&&"free"!==t?function(e,t,n,i){return l[t]<l[e]||"monthly"===i&&"annual"===n&&t===e}(e,t,n,i)?"Upgrade":i===n&&t===e?"Current plan":"Change plan":"Get started"}function u(e){const t=e.monthly.organization&&e.annual.organization?e:a;return Math.trunc(100*(t.monthly.organization-t.annual.organization)/t.monthly.organization)}function h(e,t,n){return(e[n][t]?e:a)[n][t]}function p({planId:e,planImg:t,planName:n,price:o,period:a,details:l,recommended:u=!1,discountInfo:h="",priceDescription:p,description:f,priceInfo:g="",currentPlan:m,currentPeriod:b,planInfo:y,onChoosePlanClick:S,onCancelPlanClick:v,cancelEnabled:C}){const O=m===e&&b===a&&C,E=O||u;return i.h("div",{class:Object(s.default)("planContainer",{recommended:u})},i.h("div",{class:Object(s.default)("plan",e,{current:O}),"data-plan-id":e},i.h("div",{class:"planBody"},t,i.h("div",{class:"planInfo"},i.h("div",{class:"planTitle"},i.h("h4",{class:"planName"},n),h&&i.h("span",{class:"discountInfo"},h)),i.h("p",{class:"planDescription"},f),i.h("div",{class:"priceInfo"},i.h("div",{class:"price"},i.h("span",{class:"priceAmount"},y&&y[a]&&null!==y[a][e]?c(y[a][e]):c(o)),i.h("span",{class:"priceRate"},"/mo",g))),l)),i.h(r.default,{disabled:O,class:Object(s.default)("choosePlan",{primary:E}),onClick:function(){S(e,n)}},d(e,m,a,b)),O&&i.h("div",{class:"cancelPlanContainer"},i.h(r.default,{class:"cancelPlan",onClick:v},"Cancel plan")),p&&!O&&i.h("div",{class:"priceDescription"},p)))}function f({period:e,currentPlan:t,currentPeriod:n,planInfo:r,onChoosePlanClick:s,onCancelPlanClick:a,cancelEnabled:l}){return i.h(p,{period:e,planInfo:r,currentPlan:t,currentPeriod:n,description:"Personal plans for solo designers, freelancers",planId:"starter",planImg:i.h(o.default,{asset:"img/beans.png"}),planName:"Starter",price:h(r,"starter",e),details:i.h("div",{class:"planDetail"},i.h("div",{class:"projectCount"},"3 projects ")),onChoosePlanClick:s,onCancelPlanClick:a,cancelEnabled:l})}function g({period:e,currentPlan:t,currentPeriod:n,planInfo:r,onChoosePlanClick:s,onCancelPlanClick:a,cancelEnabled:l}){return i.h(p,{period:e,planInfo:r,currentPlan:t,currentPeriod:n,description:"Personal plans for solo designers, freelancers",planId:"growing",planImg:i.h(o.default,{asset:"img/corn.png"}),planName:"Growing Business",price:h(r,"growing",e),details:i.h("div",{class:"planDetail"},i.h("div",{class:"projectCount"},"12 projects ")),onChoosePlanClick:s,onCancelPlanClick:a,cancelEnabled:l})}function m({period:e,currentPlan:t,currentPeriod:n,planInfo:r,onChoosePlanClick:s,onCancelPlanClick:a,cancelEnabled:l}){const d=c(12*h(r,"organization",e));return i.h(p,{period:e,planInfo:r,currentPlan:t,currentPeriod:n,description:"Team plan with a shared workspace",recommended:!0,priceInfo:", per member",priceDescription:`Starts from ${d}/mo, with 12 members included`,planId:"organization",planImg:i.h(o.default,{asset:"img/cabbage.png"}),planName:"Organization",price:h(r,"organization",e),discountInfo:"annual"===e&&`Save ${u(r)}%`,details:i.h("div",{class:"planDetail"},i.h("div",{class:"projectCount"},"Unlimited projects")),onChoosePlanClick:s,onCancelPlanClick:a,cancelEnabled:l})}},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(18);function o(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}t.default=function(e){const{asset:t,descriptors:n}=e,s=o(e,["asset","descriptors"]),a=Object(r.imageUrl)(t);return i.h("img",Object.assign({src:a,srcset:Object(r.srcset)(a,n)},s))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(317);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(1),r=n(313),o=n(11);n(318);function s({image:e,imageClass:t,children:n,title:s,action:a,cardClass:l,link:c}){return i.h("div",{class:Object(o.default)("infoCard",l)},i.h("div",{class:"content"},i.h(r.default,{asset:e,class:t}),i.h("h4",{class:"cardTitle"},s),n),i.h("div",{class:Object(o.default)("cardAction",{featureLink:c})},a))}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(320);n.d(t,"SupportButtonActions",(function(){return i.default}));var r=n(322);n.d(t,"SupportButtonActionTypes",(function(){return r.default}));var o=n(321);n.d(t,"SupportButtonDispatcher",(function(){return o.default}));var s=n(323);n.d(t,"SupportButtonStore",(function(){return s.default}))},function(e,t,n){"use strict";n.r(t);var i=n(321),r=n(322);const o={setOverridingCategory(e){i.default.dispatch({type:r.default.SET_OVERRIDING_CATEGORY,overridingCategory:e})}};t.default=o},function(e,t,n){"use strict";n.r(t);var i=n(84);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);t.default={SET_OVERRIDING_CATEGORY:"supportButton/setOverridingCategory"}},function(e,t,n){"use strict";n.r(t);var i=n(73),r=n.n(i),o=n(321),s=n(322);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends r.a{constructor(){super(o.default)}getInitialState(){return{overridingCategory:null}}setOverridingCategory(e,t){return l(l({},e),{},{overridingCategory:t})}reduce(e,t){switch(t.type){case s.default.SET_OVERRIDING_CATEGORY:return this.setOverridingCategory(e,t.overridingCategory);default:return e}}}t.default=new d},function(e,t,n){"use strict";n.r(t),t.default={DEFAULT:"default",PROFILE:"profile",PRICING:"pricing",PROJECTS:"projects",STYLEGUIDES:"styleguides",STYLEGUIDE:"styleguide",PROJECT_DASHBOARD:"project-dashboard",PROJECT_STYLEGUIDE:"project-styleguide",PROJECT_SCREEN:"project-screen",ORGANIZATION_PROJECTS:"organization-projects",ORGANIZATION_PROFILE:"organization-profile",ORGANIZATION_DASHBOARD:"organization-dashboard"}},,,function(e,t,n){(function(e){var i=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(328),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(142))},function(e,t,n){(function(e){!function(e,t){"use strict";if(!e.setImmediate){var n,i,r,o,s,a=1,l={},c=!1,d=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?n=function(e){process.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((r=new MessageChannel).port1.onmessage=function(e){p(e.data)},n=function(e){r.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(i=d.documentElement,n=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(p,0,e)}:(o="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&p(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(o+t,"*")}),u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var r={callback:e,args:t};return l[a]=r,n(a),a++},u.clearImmediate=h}function h(e){delete l[e]}function p(e){if(c)setTimeout(p,0,e);else{var t=l[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{h(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(142))},,,,function(e,t,n){"use strict";n.r(t);var i=n(333);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(334),o=n(319),s=n(338),a=n(342),l=n(470),c=n(96),d=n(324);class u extends i.Component{static calculateState(){const{overridingCategory:e}=o.SupportButtonStore.getState(),{barrelId:t,barrelType:n,selectedView:i}=a.BarrelStore.getState(),{selectedOrganizationId:r,selectedTab:s}=l.SpaceStore.getState();if(e)return{category:e};if(!t)return{category:"projects"===s&&"user"!==r?d.default.ORGANIZATION_PROJECTS:s};let u;if(n===c.default.STYLEGUIDE)u=d.default.STYLEGUIDE;else switch(i){case"dashboard":u=d.default.PROJECT_DASHBOARD;break;case"styleguide":u=d.default.PROJECT_STYLEGUIDE;break;case"screen":u=d.default.PROJECT_SCREEN;break;default:u=d.default.DEFAULT}return{category:u}}static getStores(){return[o.SupportButtonStore,l.SpaceStore,a.BarrelStore]}render(){const{category:e}=this.state;return i.h(s.default,{category:e})}}t.default=Object(r.default)(u,{withProps:!0,pure:!1})},function(e,t,n){"use strict";n.r(t);var i=n(335),r=n.n(i),o=n(337);const s={pure:!0,withProps:!1,withContext:!1};t.default=(e,t)=>{const n=class extends e{constructor(e,n){super(e,n),this.options=Object.assign({},s,t||{}),this._getState=this._getState.bind(this),this._getStores=this._getStores.bind(this),this._fluxContainerSubscriptions=new r.a,this._fluxContainerSubscriptions.setStores(this._getStores(e)),this._fluxContainerSubscriptions.addListener(()=>{this.setState((e,t)=>this._getState(e,t,n))});const i=this._getState(void 0,e,n);this.state=Object.assign({},this.state||{},i)}_getState(t,n,i){const r=this.options.withProps?n:void 0,o=this.options.withContext?i:void 0;return e.calculateState(t,r,o)}_getStores(t,n){const i=this.options.withProps?t:void 0,r=this.options.withContext?n:void 0;return e.getStores(i,r)}componentWillReceiveProps(e,t){super.componentWillReceiveProps&&super.componentWillReceiveProps(e,t),(this.options.withProps||this.options.withContext)&&(this._fluxContainerSubscriptions.setStores(this._getStores(e,t)),this.setState(n=>this._getState(n,e,t)))}shouldComponentUpdate(e,t){return this.options.pure?Object(o.default)(this.props,e)||Object(o.default)(this.state,t):super.shouldComponentUpdate?super.shouldComponentUpdate(e,t):void 0}componentWillUnmount(){super.componentWillUnmount&&super.componentWillUnmount(),this._fluxContainerSubscriptions.reset()}};return n.displayName=`FluxContainer(${e.displayName||e.name})`,n}},function(e,t,n){"use strict";var i=n(336);var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._callbacks=[]}return e.prototype.setStores=function(e){var t=this;if(!this._stores||!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(this._stores,e)){this._stores=e,this._resetTokens(),this._resetStoreGroup();var n,r=!1;n=function(){r=!0},t._tokens=e.map((function(e){return e.addListener(n)}));this._storeGroup=new i(e,(function(){r&&(t._callbacks.forEach((function(e){return e()})),r=!1)}))}},e.prototype.addListener=function(e){this._callbacks.push(e)},e.prototype.reset=function(){this._resetTokens(),this._resetStoreGroup(),this._resetCallbacks(),this._resetStores()},e.prototype._resetTokens=function(){this._tokens&&(this._tokens.forEach((function(e){return e.remove()})),this._tokens=null)},e.prototype._resetStoreGroup=function(){this._storeGroup&&(this._storeGroup.release(),this._storeGroup=null)},e.prototype._resetStores=function(){this._stores=null},e.prototype._resetCallbacks=function(){this._callbacks=[]},e}();e.exports=r},function(e,t,n){"use strict";var i=n(80),r=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._dispatcher=function(e){e&&e.length||i(!1),!1;return e[0].getDispatcher()}(t);var o=t.map((function(e){return e.getDispatchToken()}));this._dispatchToken=this._dispatcher.register((function(e){r._dispatcher.waitFor(o),n()}))}return e.prototype.release=function(){this._dispatcher.unregister(this._dispatchToken)},e}();e.exports=r},function(e,t,n){"use strict";n.r(t);t.default=(e,t)=>{for(let n in e)if(!(n in t))return!0;for(let n in t)if(e[n]!==t[n])return!0;return!1}},function(e,t,n){"use strict";n.r(t);var i=n(339);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(340),o=n(11),s=n(18),a=n(324);n(341);const l={[a.default.DEFAULT]:[{text:"Downloading Mac and Windows apps",url:"https://support.zeplin.io/en/articles/244698-downloading-mac-and-windows-apps"},{text:"Creating a project",url:"https://support.zeplin.io/en/articles/367394-creating-a-project"},{text:"Exporting assets from Sketch",url:"https://support.zeplin.io/en/articles/367379-exporting-assets-from-sketch"},{text:"Exporting designs from Photoshop",url:"https://support.zeplin.io/en/articles/1067453-exporting-designs-from-photoshop"},{text:"Updating plans, billing information",url:"https://support.zeplin.io/en/collections/48596-pricing-plans"}],[a.default.PRICING]:[{text:"Pricing & Plans",url:"https://support.zeplin.io/en/collections/48596-pricing-plans"},{text:"Creating an account",url:"https://support.zeplin.io/en/articles/1067135-creating-an-account"},{text:"Collaborating with your team",url:"https://support.zeplin.io/en/articles/1067492-collaborating-with-your-team"},{text:"Changing your plan",url:"https://support.zeplin.io/en/articles/412471-upgrading-downgrading-or-cancelling-your-plan"},{text:"Choosing a subscription plan",url:"https://support.zeplin.io/en/articles/1166181-choosing-a-subscription-plan"}],[a.default.PROJECTS]:[{text:"Adding a user to a project",url:"https://support.zeplin.io/en/articles/1988444-adding-a-user-to-a-project"},{text:"Exporting designs",url:"https://support.zeplin.io/en/articles/1067477-exporting-designs-from-sketch"},{text:"Managing profile",url:"https://support.zeplin.io/en/collections/48616-profile"},{text:"Creating a project",url:"https://support.zeplin.io/en/articles/367394-creating-a-project"},{text:"Transferring a project",url:"https://support.zeplin.io/en/articles/246355-transferring-a-project"}],[a.default.PROJECT_DASHBOARD]:[{text:"Adding a project to Slack",url:"https://support.zeplin.io/en/articles/246424-adding-a-project-to-slack"},{text:"Downloading all available assets in a screen",url:"https://support.zeplin.io/en/articles/1338605-downloading-all-available-assets-in-a-screen"},{text:"Downloading screens as images",url:"https://support.zeplin.io/en/articles/774216-downloading-screens-as-images"},{text:"Organizing screens with Sections",url:"https://support.zeplin.io/en/articles/1396666-organizing-screens-with-sections"},{text:"Collaborating with the team",url:"https://support.zeplin.io/en/articles/1067492-collaborating-with-your-team"}],[a.default.PROJECT_STYLEGUIDE]:[{text:"Organizing styleguide colors",url:"https://support.zeplin.io/en/articles/1444421-organizing-styleguide-colors"},{text:"Organizing styleguide text styles",url:"https://support.zeplin.io/en/articles/1504520-organizing-styleguide-text-styles"},{text:"Exporting colors from Sketch",url:"https://support.zeplin.io/en/articles/1444521-exporting-colors-from-sketch"},{text:"Exporting text styles from Sketch",url:"https://support.zeplin.io/en/articles/367382-exporting-text-styles-from-sketch"},{text:"Linking a project to a styleguide",url:"https://support.zeplin.io/en/articles/2998318-linking-a-project-to-a-styleguide"}],[a.default.PROJECT_SCREEN]:[{text:"Updating a screen",url:"https://support.zeplin.io/en/articles/1090335-updating-a-screen"},{text:"Exporting assets",url:"https://support.zeplin.io/en/articles/1067477-exporting-designs-from-sketch"},{text:"Downloading all available assets in a screen",url:"https://support.zeplin.io/en/articles/1338605-downloading-all-available-assets-in-a-screen"},{text:"Comparing app/website with designs using Pop Out",url:"https://support.zeplin.io/en/articles/1437093-comparing-app-website-with-designs-using-pop-out"},{text:"Changing units",url:"https://support.zeplin.io/en/articles/377715-changing-units"}],[a.default.STYLEGUIDES]:[{text:"Creating a styleguide",url:"https://support.zeplin.io/en/articles/2886183-creating-a-styleguide"},{text:"Choosing a styleguide type",url:"https://support.zeplin.io/en/articles/2885272-choosing-a-styleguide-type"},{text:"Defining parent and child styleguides",url:"https://support.zeplin.io/en/articles/3005199-defining-parent-and-child-styleguides"},{text:"Exporting to a styleguide",url:"https://support.zeplin.io/en/articles/3043624-exporting-to-a-styleguide"},{text:"Linking a project to a styleguide",url:"https://support.zeplin.io/en/articles/2998318-linking-a-project-to-a-styleguide"}],[a.default.STYLEGUIDE]:[{text:"Learning styleguide types",url:"https://support.zeplin.io/en/articles/2885272-choosing-a-styleguide-type"},{text:"Defining parent and child styleguides",url:"https://support.zeplin.io/en/articles/3005199-defining-parent-and-child-styleguides"},{text:"Exporting to a styleguide",url:"https://support.zeplin.io/en/articles/3043624-exporting-to-a-styleguide"},{text:"Adding a user to a styleguide",url:"https://support.zeplin.io/en/articles/3074305-adding-a-user-to-a-styleguide"},{text:"Linking a project to a styleguide",url:"https://support.zeplin.io/en/articles/2998318-linking-a-project-to-a-styleguide"}],[a.default.ORGANIZATION_DASHBOARD]:[{text:"Assigning roles to organization members",url:"https://support.zeplin.io/en/articles/387773-assigning-roles-to-organization-members"},{text:"Restricting organization members",url:"https://support.zeplin.io/en/articles/581979-restricting-organization-members"},{text:"Grouping organization members by tags",url:"https://support.zeplin.io/en/articles/419850-grouping-organization-members-by-tags"},{text:"Updating organization profile and billing information",url:"https://support.zeplin.io/en/articles/419843-updating-organization-profile-and-billing-information"},{text:"Transfer organization ownership",url:"https://support.zeplin.io/en/articles/1374947-transferring-an-organization"}],[a.default.ORGANIZATION_PROJECTS]:[{text:"Transferring personal projects to organization",url:"https://support.zeplin.io/en/articles/246355-transferring-a-project"},{text:"Exporting designs",url:"https://support.zeplin.io/en/articles/1067477-exporting-designs-from-sketch"},{text:"Assigning roles to organization members",url:"https://support.zeplin.io/en/articles/387773-assigning-roles-to-organization-members"},{text:"Updating organization profile and billing information",url:"https://support.zeplin.io/en/articles/419843-updating-organization-profile-and-billing-information"},{text:"Archiving a project",url:"https://support.zeplin.io/en/articles/867652-archiving-a-project"}],[a.default.ORGANIZATION_PROFILE]:[{text:"Updating organization profile and billing information",url:"https://support.zeplin.io/en/articles/419843-updating-organization-profile-and-billing-information"},{text:"Updating invoice and billing information",url:"https://support.zeplin.io/en/articles/377740-updating-invoice-and-billing-information"},{text:"Setting a billing email",url:"https://support.zeplin.io/en/articles/469347-setting-a-billing-email"},{text:"Updating credit card",url:"https://support.zeplin.io/en/articles/481582-updating-credit-card"},{text:"Sending Invoices",url:"https://support.zeplin.io/en/articles/479220-sending-invoices"}],[a.default.PROFILE]:[{text:"Setting your profile picture",url:"https://support.zeplin.io/en/articles/246033-setting-your-profile-picture"},{text:"Updating invoice and billing information",url:"https://support.zeplin.io/en/articles/377740-updating-invoice-and-billing-information"},{text:"Setting a billing email",url:"https://support.zeplin.io/en/articles/469347-setting-a-billing-email"},{text:"Changing your plan",url:"https://support.zeplin.io/en/articles/412471-upgrading-downgrading-or-cancelling-your-plan"},{text:"Transferring subscription",url:"https://support.zeplin.io/en/articles/980050-transferring-a-subscription"}]};class c extends r.default{constructor(){super(),this.closePopup=this.closePopup.bind(this),this.escHandler=this.escHandler.bind(this),this.buttonClickHandler=this.buttonClickHandler.bind(this),this.popupClickHandler=this.popupClickHandler.bind(this),this.showMessages=this.showMessages.bind(this),this.state={popupOpen:!1,unreadCount:0}}closePopup(){this.state.popupOpen&&this.setState({popupOpen:!1})}showMessages(){Intercom("showMessages")}handleLinkClick(e){mixpanel.webapp.track("Clicked support link",{article:e.target.textContent})}buttonClickHandler(e){e.stopPropagation(),this.setState(e=>({popupOpen:!e.popupOpen}))}escHandler(e){this.state.popupOpen&&e.keyCode===Zeplin.KEY_CODE.ESC&&this.closePopup()}popupClickHandler(e){e.stopPropagation(),this.closePopup()}componentDidMount(){Intercom("onShow",()=>{this.setState({intercomOpen:!0})}),Intercom("onHide",()=>{this.setState({intercomOpen:!1})}),Intercom("onUnreadCountChange",e=>{this.setState({unreadCount:e})})}componentDidUpdate(){this.state.popupOpen?(document.addEventListener("click",this.closePopup),document.addEventListener("keydown",this.escHandler)):(document.removeEventListener("click",this.closePopup),document.removeEventListener("keydown",this.escHandler))}componentWillUnmount(){document.removeEventListener("click",this.closePopup),document.removeEventListener("keydown",this.escHandler)}renderPopup(){if(!this.state.popupOpen)return null;const{category:e}=this.props,t=l[e].map(e=>i.h("li",{key:e.url},i.h("a",{href:e.url,target:"_blank",onClick:this.handleLinkClick},i.h("span",null,e.text))));return i.h("div",{class:"supportPopup",onClick:this.popupClickHandler},i.h("h3",null,"Handy articles:"),i.h("ul",null,t),i.h("hr",null),i.h("a",{href:"https://support.zeplin.io",target:"_blank"},"Got another question? ☝️"),i.h("hr",null),i.h("button",{type:"button",onClick:this.showMessages},i.h("span",null,"Contact us",this.renderUnreadBadge())))}renderUnreadBadge(){return this.state.unreadCount?i.h("div",{class:"unreadBadge"}):null}render(){const{popupOpen:e,intercomOpen:t}=this.state,n=Object(o.default)("supportButton",{popupOpen:e,intercomOpen:t});return i.h("div",{class:n,onClick:this.buttonClickHandler},i.h("img",{src:s.imageUrl("img/icLifeBuoy.svg")}),this.renderPopup(),this.renderUnreadBadge())}}c.defaultProps={category:a.default.DEFAULT},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(337);class o extends i.Component{shouldComponentUpdate(e,t){return Object(r.default)(this.props,e)||Object(r.default)(this.state,t)}}o.isPureReactComponent=!0,t.default=o},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(343);n.d(t,"BarrelActions",(function(){return i.default}));var r=n(92);n.d(t,"BarrelActionTypes",(function(){return r.default}));var o=n(100);n.d(t,"BarrelDispatcher",(function(){return o.default}));var s=n(344);n.d(t,"BarrelHelpers",(function(){return s.default}));var a=n(99);n.d(t,"BarrelStore",(function(){return a.default}));n(358)},function(e,t,n){"use strict";n.r(t);var i=n(100),r=n(92),o=n(99),s=n(344),a=n(127),l=n(356),c=n(123),d=n(98),u=n(19),h=n(20),p=n(96),f=n(133);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const y=24;function S(e={}){if(!e.bid){const{barrelId:t}=o.default.getState();e.bid=t}if(!e.barrelType){const{barrelType:t}=o.default.getState();e.barrelType=t}return e}const v={reset(){i.default.dispatch({type:r.default.RESET})},load(e){i.default.dispatch(m({type:r.default.LOAD},e))},updateState(e){i.default.dispatch({type:r.default.UPDATE_STATE,update:e})},setOrganizationId({oid:e}){i.default.dispatch({type:r.default.SET_ORGANIZATION_ID,oid:e})},setBarrelId({barrelId:e}){i.default.dispatch({type:r.default.SET_BARREL_ID,barrelId:e})},addToSlack(e){const{bid:t,barrelType:n}=S(e),{name:o}=s.default.getBarrel({bid:t});i.default.dispatch({type:r.default.ADD_TO_SLACK,bid:t,barrelType:n,name:o})},add({oid:e,oseid:t,barrel:n,barrelType:o,syncWithApi:s=!1}){i.default.dispatch({type:r.default.ADD,oid:e,oseid:t,barrel:n,barrelType:o,syncWithApi:s})},activate(e){const{bid:t,barrelType:n,syncWithApi:o=!1}=S(e);let s=[t];if(n===p.default.STYLEGUIDE){const{styleguides:e}=c.default.getState();s=Object(f.getStyleguideAndItsDescendants)(e,t)}i.default.dispatch({type:r.default.ACTIVATE,bid:t,barrelType:n,affectedIds:s,syncWithApi:o})},archive(e){const{bid:t,barrelType:n,uid:l,syncWithApi:d=!1}=S(e),{barrelId:u}=o.default.getState(),{name:h}=s.default.getBarrel({bid:t});let g=[t];if(n===p.default.STYLEGUIDE){const{styleguides:e}=c.default.getState();g=Object(f.getStyleguideAndItsDescendants)(e,t)}const{userId:m}=a.default.getState(),b=s.default.findUser({bid:t,uid:l});i.default.dispatch({type:r.default.ARCHIVE,bid:t,barrelType:n,currentBid:u,affectedIds:g,name:h,uid:l,currentUserId:m,user:b,syncWithApi:d})},remove(e){const{bid:t,barrelType:n,uid:l,syncWithApi:c=!1}=S(e),{barrelId:u}=o.default.getState(),h=s.default.getBarrel({bid:t}),f=s.default.findBarrelOrganizationId(t),g=n===p.default.PROJECT?d.default.findProjectOrganizationSectionId(t):null,{userId:m}=a.default.getState(),b=s.default.findUser({bid:t,uid:l});i.default.dispatch({type:r.default.REMOVE,oid:f,oseid:g,bid:t,barrelType:n,currentBid:u,oldBarrel:h,uid:l,currentUserId:m,user:b,syncWithApi:c})},updateName(e){const{bid:t,barrelType:n,name:o,syncWithApi:a=!1}=S(e);let l;a&&({name:l}=s.default.getBarrel({bid:t})),i.default.dispatch({type:r.default.UPDATE_NAME,bid:t,barrelType:n,name:o,oldName:l,syncWithApi:a})},updateDescription(e){const{bid:t,barrelType:n,description:o,syncWithApi:a=!1}=S(e);let l;a&&({description:l}=s.default.getBarrel({bid:t})),i.default.dispatch({type:r.default.UPDATE_DESCRIPTION,bid:t,barrelType:n,description:o,oldDescription:l,syncWithApi:a})},updateDensityScale(e){const{bid:t,barrelType:n,densityScale:o,syncWithApi:a=!1}=S(e);let l;a&&({densityScale:l}=s.default.getBarrel({bid:t})),i.default.dispatch({type:r.default.UPDATE_DENSITY_SCALE,bid:t,barrelType:n,densityScale:o,oldDensityScale:l,syncWithApi:a})},updateThumbnail(e){const{bid:t,barrelType:n,thumbnail:o,syncWithApi:a=!1}=S(e);let l;a&&({thumbnail:l}=s.default.getBarrel({bid:t})),i.default.dispatch({type:r.default.UPDATE_THUMBNAIL,bid:t,barrelType:n,thumbnail:o,oldThumbnail:l,syncWithApi:a})},addIntegration(e){const{bid:t,intype:n,integration:o,syncWithApi:s=!1}=S(e);i.default.dispatch({type:r.default.ADD_INTEGRATION,bid:t,intype:n,integration:o,syncWithApi:s})},removeIntegration(e){const{bid:t,barrelType:n,intype:o,inid:a,syncWithApi:l=!1}=S(e);let c;if(l){c=s.default.getBarrel({bid:t}).integration[o].find(({_id:e})=>e===a)}i.default.dispatch({type:r.default.REMOVE_INTEGRATION,bid:t,barrelType:n,intype:o,inid:a,removedIntegration:c,syncWithApi:l})},toggleScene(e){const{bid:t,barrelType:n,accessibility:o,syncWithApi:a=!1}=S(e);let l;a&&({public:l}=s.default.getBarrel({bid:t})),i.default.dispatch({type:r.default.TOGGLE_SCENE,bid:t,barrelType:n,accessibility:o,oldAccessibility:l,syncWithApi:a})},enableScene(){v.toggleScene({accessibility:!0,syncWithApi:!0})},unshareScene(){v.toggleScene({accessibility:!1,syncWithApi:!0})},addMembers(e){const{bid:t,barrelType:n,members:o,shouldLoadBarrel:s=!1,syncWithApi:a=!1}=S(e);i.default.dispatch({type:r.default.ADD_MEMBERS,bid:t,barrelType:n,members:o,shouldLoadBarrel:s,syncWithApi:a})},updateUserRole(e){const{bid:t,barrelType:n,uid:o,role:a,syncWithApi:l=!1}=S(e);let c;if(l){const e=s.default.getBarrel({bid:t});({role:c}=e.findUser(o))}i.default.dispatch({type:r.default.UPDATE_USER_ROLE,bid:t,barrelType:n,uid:o,role:a,oldRole:c,syncWithApi:l})},updateUserData(e){const{bid:t,uid:n,userData:o,syncWithApi:a=!1}=S(e);let l;if(a){const e=s.default.getBarrel({bid:t});({user:l}=e.findUser(n))}i.default.dispatch({type:r.default.UPDATE_USER_DATA,bid:t,uid:n,userData:o,oldUserData:l,syncWithApi:a})},transferOwnership(e){const{bid:t,barrelType:n,uid:o}=S(e);i.default.dispatch({type:r.default.TRANSFER_OWNERSHIP,syncWithApi:!0,bid:t,barrelType:n,uid:o})},ownershipTransferred(e){const{bid:t,barrelType:n,uid:s}=S(e),{barrelUser:{user:{_id:a}},organizationId:l}=o.default.getState();let d;if(n===p.default.STYLEGUIDE){const{styleguides:e}=c.default.getState();d=Object(f.getStyleguideAndItsDescendants)(e,t)}i.default.dispatch({type:r.default.OWNERSHIP_TRANSFERRED,toOrganization:!1,fromUserId:a,targetId:s,oid:l,bid:t,affectedIds:d})},removeMember(e){const{bid:t,uid:n,mid:l,barrelType:c,syncWithApi:u=!1}=S(e),h=s.default.findBarrelOrganizationId(t),{restricted:p}=d.default.getOrganizationProfile(h)||{},f="user"!==h&&d.default.findProjectOrganizationSectionId(t),{barrelId:g}=o.default.getState(),m=s.default.getBarrel({bid:t}),{userId:b}=a.default.getState(),y=(p||"user"===h)&&l===b,v=s.default.findUser({bid:t,uid:n});let C,O;y?C=m:O=s.default.findUser({bid:t,uid:l}),i.default.dispatch({type:r.default.REMOVE_MEMBER,oid:h,bid:t,uid:n,mid:l,oseid:f,barrelType:c,shouldRemoveBarrel:y,currentBid:g,currentUserId:b,removingUser:v,removedBarrel:C,removedMember:O,syncWithApi:u})},addColor(e){const{bid:t,barrelType:n,color:o,syncWithApi:a=!1}=S(e);let l=o;if(a){const e=s.default.getBarrel({bid:t}),{id:n=Object(u.getRandomString)(y),name:i=e.getColorName(new h.default(o))}=o;l=m(m({},o),{},{name:i,_id:n})}i.default.dispatch({type:r.default.ADD_COLOR,bid:t,barrelType:n,color:l,syncWithApi:a})},addMultipleColors(e){const t=S(e),{bid:n,barrelType:o,syncWithApi:a=!1}=t;let{colors:l}=t;if(a){const e=s.default.getBarrel({bid:n});l=l.map(t=>{const n=t.name?t.name:e.getColorName(new h.default(t)),i=t.id?t.id:Object(u.getRandomString)();return m(m({},t),{},{name:n,_id:i})})}i.default.dispatch({type:r.default.ADD_MULTIPLE_COLORS,bid:n,barrelType:o,colors:l,syncWithApi:a})},updateColor(e){const{bid:t,barrelType:n,cid:o,colorData:a,syncWithApi:l=!1}=S(e);let c;if(l){var d=s.default.getBarrel({bid:t}).findColorById(o);({}=d),c=Object.assign({},d)}i.default.dispatch({type:r.default.UPDATE_COLOR,bid:t,barrelType:n,cid:o,colorData:a,oldColorData:c,syncWithApi:l})},removeColor(e){const{bid:t,barrelType:n,cid:o,syncWithApi:a=!1}=S(e);let l;if(a){l=s.default.getBarrel({bid:t}).findColorById(o)}i.default.dispatch({type:r.default.REMOVE_COLOR,bid:t,barrelType:n,cid:o,removedColor:l,syncWithApi:a})},removeAllColors(e){const{bid:t,barrelType:n,syncWithApi:o=!1}=S(e);let a;if(o){a=s.default.getBarrel({bid:t}).colors}i.default.dispatch({type:r.default.REMOVE_ALL_COLORS,bid:t,barrelType:n,colorsToRemove:a,syncWithApi:o})},updateColorOrder(e){const{bid:t,barrelType:n,cid:o,to:s}=S(e);i.default.dispatch({type:r.default.UPDATE_COLOR_ORDER,bid:t,barrelType:n,cid:o,to:s})},addTextStyle(e){const{bid:t,barrelType:n,textStyle:o,syncWithApi:a=!1}=S(e);let l=o;if(a){const e=s.default.getBarrel({bid:t}),{id:n=Object(u.getRandomString)(y),name:i=e.getTextStyleName()}=o;l=m(m({},o),{},{name:i,_id:n})}i.default.dispatch({type:r.default.ADD_TEXT_STYLE,bid:t,barrelType:n,textStyle:l,syncWithApi:a})},addMultipleTextStyles(e){const t=S(e),{bid:n,barrelType:o,syncWithApi:a=!1}=t;let{textStyles:l}=t;if(a){const e=s.default.getBarrel({bid:n});l=l.map(t=>{const n=t.name?t.name:e.getTextStyleName(),i=t.id?t.id:Object(u.getRandomString)();return m(m({},t),{},{name:n,_id:i})})}i.default.dispatch({type:r.default.ADD_MULTIPLE_TEXT_STYLES,bid:n,barrelType:o,textStyles:l,syncWithApi:a})},updateTextStyle(e){const{bid:t,barrelType:n,tsid:o,textStyleData:a,syncWithApi:l=!1}=S(e);let c;if(l){var d=s.default.getBarrel({bid:t}).findTextStyleById(o);({}=d),c=Object.assign({},d)}i.default.dispatch({type:r.default.UPDATE_TEXT_STYLE,bid:t,barrelType:n,tsid:o,textStyleData:a,oldTextStyleData:c,syncWithApi:l})},removeTextStyle(e){const{bid:t,barrelType:n,tsid:o,syncWithApi:a=!1}=S(e);let l;if(a){l=s.default.getBarrel({bid:t}).findTextStyleById(o)}i.default.dispatch({type:r.default.REMOVE_TEXT_STYLE,bid:t,barrelType:n,tsid:o,removedTextStyle:l,syncWithApi:a})},removeAllTextStyles(e){const{bid:t,barrelType:n,syncWithApi:o=!1}=S(e);let a;if(o){a=s.default.getBarrel({bid:t}).textStyles}i.default.dispatch({type:r.default.REMOVE_ALL_TEXT_STYLES,bid:t,barrelType:n,textStylesToRemove:a,syncWithApi:o})},addSpacingSection(e){const{bid:t,barrelType:n,spacingSection:o,syncWithApi:s=!1}=S(e);let a=o;if(s){const{_id:e=Object(u.getRandomString)(y)}=o;a=m(m({},o),{},{_id:e})}i.default.dispatch({type:r.default.ADD_SPACING_SECTION,bid:t,barrelType:n,spacingSection:a,syncWithApi:s})},updateSpacingSection(e){const{bid:t,barrelType:n,ssid:o,updatedSpacingSection:a,syncWithApi:l=!1}=S(e);let c={};if(l){c=s.default.getBarrel({bid:t}).findSpacingSectionById(o)}i.default.dispatch({type:r.default.UPDATE_SPACING_SECTION,bid:t,barrelType:n,ssid:o,updatedSpacingSection:a,oldSpacingSection:c,syncWithApi:l})},removeSpacingSection(e){const{bid:t,barrelType:n,ssid:o,syncWithApi:a=!1}=S(e);let l;if(a){l=s.default.getBarrel({bid:t}).findSpacingSectionById(o)}i.default.dispatch({type:r.default.REMOVE_SPACING_SECTION,bid:t,barrelType:n,ssid:o,removedSpacingSection:l,syncWithApi:a})},addSpacingToken(e){const{bid:t,barrelType:n,ssid:o,spacingToken:s,isBaseToken:a=!1,syncWithApi:l=!1}=S(e);let c=s;if(l){const{_id:e=Object(u.getRandomString)(y)}=s;c=m(m({},s),{},{_id:e})}i.default.dispatch({type:r.default.ADD_SPACING_TOKEN,bid:t,barrelType:n,ssid:o,isBaseToken:a,spacingToken:c,syncWithApi:l})},updateSpacingToken(e){const{bid:t,barrelType:n,ssid:o,sptid:a,updatedSpacingToken:l,syncWithApi:c=!1}=S(e);let d={};if(c){d=s.default.getBarrel({bid:t}).findSpacingTokenInsideSectionById(o,a)}i.default.dispatch({type:r.default.UPDATE_SPACING_TOKEN,bid:t,barrelType:n,ssid:o,sptid:a,updatedSpacingToken:l,oldSpacingToken:d,syncWithApi:c})},removeSpacingToken(e){const{bid:t,barrelType:n,ssid:o,sptid:a,syncWithApi:l=!1}=S(e),c=s.default.getBarrel({bid:t}),{baseTokenId:d}=c.findSpacingSectionById(o),u=d===a;let h;l&&(h=c.findSpacingTokenInsideSectionById(o,a)),i.default.dispatch({type:r.default.REMOVE_SPACING_TOKEN,bid:t,barrelType:n,ssid:o,sptid:a,removedSpacingToken:h,isBaseToken:u,syncWithApi:l})},updateRemPreferences(e){const{bid:t,barrelType:n,updatedRemPreferences:o,syncWithApi:a=!1}=S(e);let l={};if(a){l=s.default.getBarrel({bid:t}).remPreferences}i.default.dispatch({type:r.default.UPDATE_REM_PREFERENCES,bid:t,barrelType:n,updatedRemPreferences:o,oldRemPreferences:l,syncWithApi:a})},addComponent(e){const{bid:t,csids:n,component:o,index:s}=S(e);i.default.dispatch({type:r.default.ADD_COMPONENT,bid:t,csids:n,component:o,index:s})},updateComponent(e){const{bid:t,barrelType:n,csids:o,coid:a,componentData:l,syncWithApi:c=!1}=S(e);let d;if(c){var u=s.default.getBarrel({bid:t}).findComponentById(a);({}=u),d=Object.assign({},u)}i.default.dispatch({type:r.default.UPDATE_COMPONENT,bid:t,barrelType:n,csids:o,coid:a,componentData:l,oldComponentData:d,syncWithApi:c})},removeComponent(e){const{bid:t,barrelType:n,csids:o,coid:a,syncWithApi:l=!1}=S(e);let c;if(l){c=s.default.getBarrel({bid:t}).findComponentById(a)}i.default.dispatch({type:r.default.REMOVE_COMPONENT,bid:t,barrelType:n,csids:o,coid:a,oldComponent:c,syncWithApi:l})},addComponentVersion(e){const{bid:t,csids:n,coid:o,componentVersion:s}=S(e);i.default.dispatch({type:r.default.ADD_COMPONENT_VERSION,bid:t,csids:n,coid:o,componentVersion:s})},addComponentSection(e){const{bid:t,barrelType:n,csids:o,componentSection:s,syncWithApi:a=!1}=S(e);i.default.dispatch({type:r.default.ADD_COMPONENT_SECTION,bid:t,barrelType:n,csids:o,componentSection:s,syncWithApi:a})},updateComponentSection(e){const{bid:t,barrelType:n,csids:o,componentSectionData:a,syncWithApi:l=!1}=S(e);let c;if(l){var d=s.default.getBarrel({bid:t}).findComponentSection(o);({}=d),c=Object.assign({},d)}i.default.dispatch({type:r.default.UPDATE_COMPONENT_SECTION,bid:t,barrelType:n,csids:o,componentSectionData:a,oldComponentSectionData:c,syncWithApi:l})},mergeComponentSection(e){const{bid:t,barrelType:n,csids:o,tcsids:a,flatten:l,index:c,syncWithApi:d=!1}=S(e);let u,h=a,p=l;if(d){const e=o.slice(0,o.length-1),n=s.default.getBarrel({bid:t}),i=n.findComponentSection(e);u=n.findComponentSection(o);const r=i.componentSections.indexOf(u);let a=i.componentSections[r-1];a||(a=i),p="default"===a.name,h=a.idPath}i.default.dispatch({type:r.default.MERGE_COMPONENT_SECTION,bid:t,barrelType:n,csids:o,tcsids:h,flatten:p,index:c,oldComponentSection:u,syncWithApi:d})},removeComponentSection(e){const{bid:t,csids:n}=S(e);i.default.dispatch({type:r.default.REMOVE_COMPONENT_SECTION,bid:t,csids:n})},removeComponentSections(e){const{bid:t,componentSections:n}=S(e);i.default.dispatch({type:r.default.REMOVE_COMPONENT_SECTIONS,bid:t,componentSections:n})},updateComponentSectionsOrder(e){const{bid:t,barrelType:n,componentSections:o,syncWithApi:s=!1}=S(e);i.default.dispatch({type:r.default.UPDATE_COMPONENT_SECTIONS_ORDER,bid:t,barrelType:n,componentSections:o,syncWithApi:s})},updateComponentsOrder(e){const{bid:t,barrelType:n,components:o,syncWithApi:a=!1}=S(e);if(a){const e=s.default.getBarrel({bid:t});o.forEach(t=>{void 0===t.to&&(t.to=e.findComponentSection(t.tcsid).components.length)})}i.default.dispatch({type:r.default.UPDATE_COMPONENTS_ORDER,bid:t,barrelType:n,components:o,syncWithApi:a})},changeSelectedView(e){i.default.dispatch({type:r.default.CHANGE_SELECTED_VIEW,selectedView:e})},updateWorkflowStatus(e){const{barrelType:t,bid:n,workflowStatus:o,syncWithApi:a=!1}=S(e),l=a?s.default.getBarrel({bid:n}).workflowStatus:{},c=s.default.findBarrelOrganizationId(n),{name:u}=d.default.getOrganization(c);i.default.dispatch({type:r.default.UPDATE_WORKFLOW_STATUS,oid:c,organizationName:u,barrelType:t,bid:n,workflowStatus:o,oldWorkflowStatusData:l,syncWithApi:a})},deleteWorkflowStatus(e){const{barrelType:t,bid:n,syncWithApi:o=!1}=S(e),a=o?s.default.getBarrel({bid:n}).workflowStatus:{},l=s.default.findBarrelOrganizationId(n),{name:c}=d.default.getOrganization(l);i.default.dispatch({type:r.default.DELETE_WORKFLOW_STATUS,oid:l,organizationName:c,barrelType:t,bid:n,oldWorkflowStatusData:a,syncWithApi:o})},setAssetExportTarget(e){i.default.dispatch({type:r.default.SET_ASSET_EXPORT_TARGET,assetExportTarget:e})},changeAssetName(e){const{bid:t,containerId:n,snapshot:o,assetId:s,name:a}=S(e);i.default.dispatch({type:r.default.CHANGE_ASSET_NAME,bid:t,containerId:n,snapshot:o,assetId:s,name:a})},changeAssetDensityScalePref(e,t){const{bid:n}=S();i.default.dispatch({type:r.default.CHANGE_ASSET_DENSITY_SCALE_PREF,bid:n,format:e,assetDensityScalePrefsOfFormat:t})},changeAssetNamingConvention(e){const{bid:t}=S();i.default.dispatch({type:r.default.CHANGE_ASSET_NAMING_CONVENTION,bid:t,assetNamingConvention:e})},toggleSVGOptimization(e){const{bid:t}=S();i.default.dispatch({type:r.default.TOGGLE_SVG_OPTIMIZATION,bid:t,showOptimizedSVG:e})},goToDashboard(){const{selectedView:e}=o.default.getState();if("dashboard"===e)return;const{bid:t}=S(),{tagFilter:n}=l.default.getState();i.default.dispatch({type:r.default.GO_TO_DASHBOARD,bid:t,tagFilter:n})},goToStyleguide(){const{selectedView:e}=o.default.getState();if("styleguide"===e)return;const{bid:t}=S();i.default.dispatch({type:r.default.GO_TO_STYLEGUIDE,bid:t})},changeExportTarget(){i.default.dispatch({type:r.default.CHANGE_EXPORT_TARGET})},openExportTarget(){i.default.dispatch({type:r.default.OPEN_EXPORT_TARGET})},downloadAsset({containerName:e,version:t,assetId:n,format:a,toastContainer:l}){const{barrelId:c,assetDensityScalePrefs:d,assetNamingConvention:u,showOptimizedSVG:h}=o.default.getState(),{type:p}=s.default.getBarrel({bid:c});i.default.dispatch({type:r.default.DOWNLOAD_ASSET,barrelId:c,assetDensityScalePrefs:d,assetNamingConvention:u,showOptimizedSVG:h,platform:p,containerName:e,version:t,assetId:n,format:a,toastContainer:l})},downloadMultipleAsset({containerName:e,version:t,assetList:n,toastContainer:a}){const{barrelId:l,assetDensityScalePrefs:c,assetNamingConvention:d,showOptimizedSVG:u}=o.default.getState(),{type:h}=s.default.getBarrel({bid:l});i.default.dispatch({type:r.default.DOWNLOAD_MULTIPLE_ASSET,barrelId:l,assetDensityScalePrefs:c,assetNamingConvention:d,showOptimizedSVG:u,platform:h,containerName:e,version:t,assetList:n,toastContainer:a})},exportCode(e){const{bid:t,resourceType:n,exportObjects:o,extension:a}=S(e),{name:l,type:c}=s.default.getBarrel({bid:t});i.default.dispatch({type:r.default.EXPORT_CODE,barrelName:l,platform:c,resourceType:n,exportObjects:o,extension:a})},hideNoVectorAssetInfo(){i.default.dispatch({type:r.default.HIDE_NO_VECTOR_ASSET_INFO})},hideDensityMismatchWarning(){i.default.dispatch({type:r.default.HIDE_DENSITY_MISMATCH_WARNING})},hideSourceFileInfo(){i.default.dispatch({type:r.default.HIDE_SOURCE_FILE_INFO})},dismissFlowLinkInfo(){i.default.dispatch({type:r.default.DISMISS_FLOW_LINK_INFO})},dismissNoResourceInfo(){const{bid:e}=S();i.default.dispatch({type:r.default.DISMISS_NO_RESOURCE_INFO,bid:e})},hideSlackReconnectionAuntie(){const{bid:e}=S();i.default.dispatch({type:r.default.HIDE_SLACK_RECONNECTION_AUNTIE,bid:e})},openJumpToPopup(){i.default.dispatch({type:r.default.OPEN_JUMP_TO_POPUP})},closeJumpToPopup(){i.default.dispatch({type:r.default.CLOSE_JUMP_TO_POPUP})},copyComponentSectionWebLink(e){const{bid:t,barrelType:n,seid:o}=S(e);i.default.dispatch({type:r.default.COPY_COMPONENT_SECTION_WEB_LINK,bid:t,barrelType:n,seid:o})},copyComponentSectionAppURI(e){const{bid:t,barrelType:n,cseid:o}=S(e);i.default.dispatch({type:r.default.COPY_COMPONENT_SECTION_APP_URI,bid:t,barrelType:n,cseid:o})},join(e){const{bid:t,barrelType:n,shouldLoadBarrel:o=!0}=S(e);i.default.dispatch({type:r.default.JOIN,bid:t,barrelType:n,shouldLoadBarrel:o,syncWithApi:!0})},stopLoadingJoin(){i.default.dispatch({type:r.default.STOP_JOIN_LOADING})},enableDevMode(){const{bid:e,barrelType:t}=S(),{styleguideLink:n,ancestors:o}=s.default.getBarrel({bid:e});i.default.dispatch({type:r.default.ENABLE_DEV_MODE,bid:e,barrelType:t,styleguideLink:n,ancestors:o})},disableDevMode(){i.default.dispatch({type:r.default.DISABLE_DEV_MODE})},reloadLocalConnectedComponents(){const{bid:e,barrelType:t}=S(),{styleguideLink:n,ancestors:o}=s.default.getBarrel({bid:e});i.default.dispatch({type:r.default.RELOAD_LOCAL_CONNECTED_COMPONENTS,bid:e,barrelType:t,styleguideLink:n,ancestors:o})},setLocalConnectedComponents(e){const{bid:t,localConnectedComponents:n}=S(e);i.default.dispatch({type:r.default.SET_LOCAL_CONNECTED_COMPONENTS,bid:t,localConnectedComponents:n})},setConnectedComponentsLocalWorkspace(e){const{bid:t,workspace:n}=S(e);i.default.dispatch({type:r.default.SET_CONNECTED_COMPONENTS_LOCAL_WORKSPACE,bid:t,workspace:n})},getConnectedComponentsEditorInfo(){const{bid:e}=S();i.default.dispatch({type:r.default.GET_CONNECTED_COMPONENTS_EDITOR_INFO,bid:e})},setConnectedComponentsEditorInfo(e){i.default.dispatch({type:r.default.SET_CONNECTED_COMPONENTS_EDITOR_INFO,editorInfo:e})},setConnectedComponentsEditorPreference(e,t){i.default.dispatch({type:r.default.SET_CONNECTED_COMPONENTS_EDITOR_PREFERENCE,extension:e,editor:t})},setConnectedComponentsWorkspacePath(e){i.default.dispatch({type:r.default.SET_CONNECTED_COMPONENTS_WORKSPACE_PATH,workspacePath:e})},selectConnectedComponentsWorkspaceFolder(){const{bid:e}=S();i.default.dispatch({type:r.default.SELECT_CONNECTED_COMPONENTS_WORKSPACE_FOLDER,bid:e})},openComponentFileInEditor(e,t){const{bid:n}=S();i.default.dispatch({type:r.default.OPEN_COMPONENT_FILE_IN_EDITOR,bid:n,filePath:e,editor:t})},moveResourcesRequest(e){const{bid:t,barrelType:n,resourceType:o,resources:a,targetStyleguideId:l}=S(e);let c;s.default.getBarrel({bid:l}).densityScale||({densityScale:c}=s.default.getBarrel({bid:t})),i.default.dispatch({type:r.default.MOVE_RESOURCES_REQUEST,bid:t,barrelType:n,densityScale:c,targetStyleguideId:l,resourceType:o,resources:a,syncWithApi:!0})},moveResourcesSuccess(e){const{bid:t,barrelType:n,resourceType:o,resources:s,targetStyleguideId:a}=S(e);i.default.dispatch({type:r.default.MOVE_RESOURCES_SUCCESS,bid:t,barrelType:n,resourceType:o,resources:s,targetStyleguideId:a})},moveResourcesFail(){i.default.dispatch({type:r.default.MOVE_RESOURCES_FAIL})},attachJiraIssue(e){const{bid:t,jira:n}=S(e);i.default.dispatch({type:r.default.ATTACH_JIRA_ISSUE,bid:t,jira:n})},removeJiraIssueAttachment(e){const{bid:t,aid:n}=S(e);i.default.dispatch({type:r.default.REMOVE_JIRA_ISSUE_ATTACHMENT,bid:t,aid:n})},updateConnectedComponents(e){const{bid:t,connectedComponents:n}=S(e);i.default.dispatch({type:r.default.UPDATE_CONNECTED_COMPONENTS,bid:t,connectedComponents:n})}};t.default=v},function(e,t,n){"use strict";n.r(t);var i=n(99),r=n(345),o=n(346),s=n(72),a=n(98),l=n(349),c=n(96),d=n(44),u=n(62),h=n(118),p=n(353);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function y({bid:e}={}){let t=e;if(t||({barrelId:t}=i.default.getState()),!t)return null;const{projects:n}=r.ProjectsDataStore.getState();if(n&&t in n)return n[t];const{styleguides:s}=o.StyleguidesDataStore.getState();return s&&t in s?s[t]:null}function S({bid:e,uid:t}={}){const n=y({bid:e});if(!n)return null;let i=t;if(i||({userId:i}=l.UserStore.getState()),Object(u.isOrganizationProject)(n)){const{members:e}=a.default.getOrganization()||{};if(e)return e.find(({user:e})=>e._id===i)}return n.users.find(({user:e})=>e._id===i)}function v(e){const{organizationId:t="user",barrelType:n=c.default.PROJECT}=i.default.getState(),r=S(),o=n===c.default.PROJECT?"projects":"styleguides";return"user"!==t&&r&&"pawn"!==r.role?Object(d.urlResolve)("organization-"+o,{url:{oid:t},query:e}):Object(d.urlResolve)(o,{query:e})}function C(e,t){return e.some(({user:{_id:e}})=>e===t._id)}function O(e,t){let n;if("linked"===e.status){const e=t.find(e=>"linked"!==e.remPreferences.status);n=e&&e.remPreferences}return n||e}function E(e,t){let n;return"linked"!==e.status&&(n=t.find(e=>"linked"!==e.remPreferences.status&&"web"===e.type)),n&&{name:n.name,remPreferences:n.remPreferences}}t.default={hasProject:function(e){const{projects:t}=r.ProjectsDataStore.getState();return t&&e in t},hasStyleguide:function(e){const{styleguides:t}=o.StyleguidesDataStore.getState();return t&&e in t},getBarrel:y,findUser:S,isUserRestricted:function(){const{organizationTransitionFinished:e}=i.default.getState(),t=S();return t&&"pawn"===t.role&&e},findBarrelOrganizationId:function(e){if(!y({bid:e}))return null;const{organizationProjects:t,organizationStyleguides:n}=s.default.getState();for(const[i,r]of Object.entries(t))if(r.includes(e))return i;for(const[i,r]of Object.entries(n))if(r.includes(e))return i;return null},getWorkspaceURL:v,getStyleguidesData:function({barrelStore:e,styleguidesDataStore:t,projectsDataStore:n}){const i=e.getState(),{loading:r}=i,o=b(i,["loading"]);if(r)return[];const{styleguides:s}=t.getState(),a=y(),l=S(),{barrelId:d,barrelType:p}=o;if(a.partial||!l)return[];const{name:f,type:m,colors:v,textStyles:T,spacingSections:D,remPreferences:k,componentSections:w,connectedComponents:_,localConnectedComponents:j,users:P,dimensionSuffix:R,densityScale:I}=a,A=p===c.default.STYLEGUIDE?f:"Local Styleguide",x=function(e,t){if(t===c.default.STYLEGUIDE)return[...e.ancestors].reverse();if(!e.styleguideLink)return[];const{styleguideLink:{styleguide:n,status:i}}=e;if("active"===i){const e=[...n.ancestors].reverse();return[n._id,...e]}return[]}(a,p).map(e=>s[e]).filter(Boolean);return[{id:d,name:A,type:m,colors:v,textStyles:T,spacingSections:D.map(e=>g(g({},e),{},{spacingTokens:Object(h.sortArrayOfObjectsByPropertyName)(e.spacingTokens,"value")})),remPreferences:O(k,x),parentStyleguideToInheritRemPreferences:E(k,x),componentSections:w,connectedComponents:_,localConnectedComponents:j,isMember:C(P,l.user),isOrganizationBarrel:Object(u.isOrganizationProject)(a),dimensionSuffix:R,densityScale:I},...x.map((e,t)=>({id:e._id,name:e.name,type:e.type,colors:e.colors,textStyles:e.textStyles,spacingSections:e.spacingSections.map(e=>g(g({},e),{},{spacingTokens:Object(h.sortArrayOfObjectsByPropertyName)(e.spacingTokens,"value")})),remPreferences:O(e.remPreferences,x.slice(t+1)),componentSections:e.componentSections,connectedComponents:e.connectedComponents,localConnectedComponents:e.localConnectedComponents,isMember:C(e.users,l.user),isOrganizationBarrel:Object(u.isOrganizationProject)(e),dimensionSuffix:e.dimensionSuffix,densityScale:e.densityScale}))]},navigateToWorkspace:function(e){const t=v(e);setTimeout(()=>p.default.history.push(t),4)}}},function(e,t,n){"use strict";n.r(t);var i=n(131);n.d(t,"ProjectsActions",(function(){return i.default}));var r=n(88);n.d(t,"ProjectsActionTypes",(function(){return r.default}));var o=n(116);n.d(t,"ProjectsDispatcher",(function(){return o.default}));var s=n(103);n.d(t,"ProjectsDataStore",(function(){return s.default}))},function(e,t,n){"use strict";n.r(t);var i=n(132);n.d(t,"StyleguidesActions",(function(){return i.default}));var r=n(89);n.d(t,"StyleguidesActionTypes",(function(){return r.default}));var o=n(124);n.d(t,"StyleguidesDispatcher",(function(){return o.default}));var s=n(123);n.d(t,"StyleguidesDataStore",(function(){return s.default}));n(347)},function(e,t,n){"use strict";n.r(t);n(348)},function(e,t,n){"use strict";n.r(t);var i=n(140),r=n(124),o=n(89);const s={usedStyleguides(){i.userPrefs.set("styleguidesUsed",!0)}};r.default.register(e=>{switch(e.type){case o.default.CREATE_STYLEGUIDE:s.usedStyleguides()}})},function(e,t,n){"use strict";n.r(t);var i=n(350);n.d(t,"UserActions",(function(){return i.default}));var r=n(128);n.d(t,"UserDispatcher",(function(){return r.default}));var o=n(127);n.d(t,"UserStore",(function(){return o.default}));n(351)},function(e,t,n){"use strict";n.r(t);var i=n(129),r=n(128),o=n(45),s=n(62),a=n(137);const l=Object(s.debouncePromise)(a.updateEmailNotifications);function c(e,t){r.default.dispatch({type:i.default.SET_USER_ATTRIBUTE,name:e,value:t})}const d={loadUser(e){r.default.dispatch({type:i.default.LOAD_USER,user:e})},updateUser(e){r.default.dispatch({type:i.default.UPDATE_USER,user:e})},setUsername(e){c("username",e)},setEmail(e){c("email",e)},setFullName(e){c("fullName",e)},setBio(e){c("bio",e)},setEmotar(e){c("emotar",e)},setAvatar(e){c("avatar",e)},setEmailNotifications(e){c("isEmailNotificationEnabled",e)},setVerified(){c("verified",!0)},setDesktopNotifications(e){c("isDesktopNotificationEnabled",e)},setBilling(e){c("billing",e)},setSelectedView(e){r.default.dispatch({type:i.default.SET_SELECTED_VIEW,selectedView:e})},updateEmailNotifications(e){const t=Zeplin.user.emailNotifications;d.setEmailNotifications(e),l(e).then(()=>{Zeplin.updateUser({emailNotifications:e})}).catch(e=>{d.setEmailNotifications(t),o.handleError(e)})},updateUserEmotar(e){const t=Zeplin.user.emotar;d.setEmotar(e),Object(a.updateUserEmotar)(e).then(()=>{Zeplin.updateUser({emotar:e}),mixpanel.webapp.track("Updated emotar",{emoji:e})}).catch(e=>{d.setEmotar(t),o.handleError(e)})},markZeplinThreeZeroWhatsNewAsSeen(){r.default.dispatch({type:i.default.MARK_ZEPLIN_THREE_ZERO_WHATS_NEW_AS_SEEN})},stopPromotingSpacingSectionDescriptionEditButton(){r.default.dispatch({type:i.default.STOP_PROMOTING_SPACING_SECTION_DESCRIPTION_EDIT_BUTTON})},hideStyleguideTutorial(){r.default.dispatch({type:i.default.HIDE_STYLEGUIDE_TUTORIAL})},logout(){Object(a.logoutUser)().finally(Zeplin.logout)}};t.default=d},function(e,t,n){"use strict";n.r(t);n(352)},function(e,t,n){"use strict";n.r(t);var i=n(140),r=n(128),o=n(129);const s={setUserAttribute({name:e,value:t}){switch(e){case"verified":Zeplin.updateUser({status:"verified"});break;case"isEmailNotificationEnabled":Zeplin.updateUser({emailNotifications:t});break;case"isDesktopNotificationEnabled":i.userPrefs.set("notificationStatus",t);break;default:Zeplin.updateUser({[e]:t})}},markZeplinThreeZeroWhatsNewAsSeen(){i.userPrefs.set("zeplinThreeZeroWhatsNewSeen",!0)},stopPromotingSpacingSectionDescriptionEditButton(){i.userPrefs.set("shouldPromoteSpacingSectionDescriptionEditButton",!1)},hideStyleguideTutorial(){i.userPrefs.set("shouldDisplayStyleguideTutorial",!1)}};r.default.register(e=>{switch(e.type){case o.default.SET_USER_ATTRIBUTE:s.setUserAttribute(e);break;case o.default.MARK_ZEPLIN_THREE_ZERO_WHATS_NEW_AS_SEEN:s.markZeplinThreeZeroWhatsNewAsSeen();break;case o.default.STOP_PROMOTING_SPACING_SECTION_DESCRIPTION_EDIT_BUTTON:s.stopPromotingSpacingSectionDescriptionEditButton();break;case o.default.HIDE_STYLEGUIDE_TUTORIAL:s.hideStyleguideTutorial()}})},function(e,t,n){"use strict";n.r(t);var i=n(46),r=n.n(i),o=n(44),s=n(64),a=n(354);function l(){this._routes=[],this._history=new c,this._history.attach(e=>{this._handle(e.url)})}function c(){this._history=window.history,this._listeners={},this._listenerCount=0,this._flowNavigationStack=[],window.addEventListener("popstate",this._handlePopState.bind(this))}function d(e,t){this._element=e,this._router=t,this._element._routerLink&&this._element.removeEventListener("click",this._element._routerLink._boundClickHandler),this._boundClickHandler=this._clickHandler.bind(this),this._element._routerLink=this,this._element.addEventListener("click",this._boundClickHandler)}Object.defineProperties(l.prototype,{history:{get:function(){return this._history}},match:{value(e){return e=this._getUrl(e),!!this._findRoutes(e).length}},route:{value:function(e,t,{unshift:n}={unshift:!1}){return this._register({regex:e,handler:t},{unshift:n}),this}},start:{value(e){return this._hookAppLinks(e),this._handle(window.location.href),this}},reload:{value(){return this._handle(window.location.href,{reload:!0})}},_createLink:{value:function(e){return new d(e,this)}},_register:{value:function(e,{unshift:t}){t?this._routes.unshift(e):this._routes.push(e)}},_getUrl:{value:function(e){return"string"==typeof e?new URL(e,window.location.origin):e}},_findRoutes:{value(e){return this._routes.filter(t=>t.regex.test(e.pathname))}},_handle:{value(e,{reload:t=!1}={}){const n=this._getUrl(e),i=this._findRoutes(n);if(i.length)return i.reduce((e,i)=>e.then(()=>i.handler({url:n,match:n.pathname.match(i.regex).slice(1),query:Object(o.parseUrlParams)(n.search),reload:t})),Promise.resolve());location.assign(n)}},_searchAppLinks:{value:function(e){var t=this;return e.nodeType!==Node.ELEMENT_NODE?[]:e.hasAttribute("data-link-type")&&"inApp"===e.dataset.linkType?[e]:Array.from(e.childNodes).reduce((function(e,n){return e.concat(t._searchAppLinks(n))}),[])}},_hookAppLinks:{value:function(e){var t=this,n=e.querySelectorAll('[data-link-type="inApp"]');Array.from(n).forEach((function(e){t._createLink(e)}));new MutationObserver((function(e){e.forEach((function(e){switch(e.type){case"attributes":"inApp"===e.target.dataset.linkType&&t._createLink(e.target);break;case"childList":Array.from(e.addedNodes).forEach((function(e){t._searchAppLinks(e).forEach((function(e){t._createLink(e)}))}))}}))})).observe(e,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["data-link-type"]})}}}),Object.defineProperties(c.prototype,{actions:{value:{PUSH_STATE:"PUSH_STATE",POP_STATE:"POP_STATE",REPLACE_STATE:"REPLACE_STATE"}},attach:{value:function(e){var t=this._listenerCount;return this._listeners[t]=e,this._listenerCount++,t}},detach:{value:function(e){delete this._listeners[e]}},push:{value:function(e,{state:t,flowNavigation:n}={}){n?this._flowNavigationStack.push({url:location.href,state:this._history.state}):this._flowNavigationStack.length=0,this._history.pushState(t,null,e),this._notifyListeners({action:this.actions.PUSH_STATE,state:t,url:e})}},replace:{value:function(e,{state:t,flowNavigation:n}={}){n?this._flowNavigationStack.push({url:location.href,state:this._history.state}):this._flowNavigationStack.length=0,this._history.replaceState(t,null,e),this._notifyListeners({action:this.actions.REPLACE_STATE,state:t,url:e})}},pop:{value:function(){if(!this._flowNavigationStack.length)return;const{state:e,url:t}=this._flowNavigationStack.pop();this._history.pushState(e,null,t),this._notifyListeners({action:this.actions.PUSH_STATE,state:e,url:window.location.toString()})}},_notifyListeners:{value:function(e){Object.keys(this._listeners).forEach((function(t){this._listeners[t](e)}),this)}},_handlePopState:{value:function(e){this._notifyListeners({action:this.actions.POP_STATE,state:e.state,url:window.location.toString()})}}}),Object.defineProperties(d.prototype,{element:{get(){return this._element}},navigationOperation:{get(){return this._element.dataset.navOp}},_clickHandler:{value(e){if("#"!==this._element.href&&(!this._router.match(this._element.href)||Object(s.cmdKey)(e)))return;if(e.preventDefault(),this._element.href===window.location.href)return;const t={};"flowNav"in this._element.dataset&&(t.flowNavigation=!0);const n=location.href;switch(this.navigationOperation){case"replace":this._router.history.replace(this._element.href,t);break;case"pop":this._router.history.pop();break;case"push":default:this._router.history.push(this._element.href,t)}"back"in this._element.dataset&&(this._element.dataset.back?a.default.setBackButton(this._element.dataset.back,n):a.default.resetBackButton())}}});const u=new l;window.addEventListener("online",()=>{r.a.get("userToken")&&(a.default.reset(),setTimeout(async()=>{try{await u.reload()}catch(e){location.reload()}},1e3))}),t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(84),r=n(91),o=n(355);const s={loadWorkspaceData({organization:e,focusedBarrels:t,projects:n,styleguides:o,dialogDismissParams:s,oid:a}){i.default.dispatch({type:r.default.LOAD_WORKSPACE_DATA,organization:e,focusedBarrels:t,projects:n,styleguides:o,dialogDismissParams:s,oid:a})},reset(){i.default.dispatch({type:r.default.RESET})},hydrateEmbeddedData({projects:e,styleguides:t,focusedBarrels:n,oid:o,organizations:s,organizationProfiles:a,barrel:l,versions:c,dots:d,project:u,linkedStyleguides:h,ancestors:p,organization:f,user:g}){i.default.dispatch({type:r.default.HYDRATE_EMBEDDED_DATA,projects:e,styleguides:t,focusedBarrels:n,oid:o,organizations:s,organizationProfiles:a,barrel:l,versions:c,dots:d,project:u,linkedStyleguides:h,ancestors:p,organization:f,user:g})},initRecentlyLoadedBarrels({projects:e,styleguides:t}){i.default.dispatch({type:r.default.INIT_RECENTLY_LOADED_BARRELS,projects:e,styleguides:t})},resetBackButton(){i.default.dispatch({type:r.default.RESET_BACK_BUTTON})},setBackButton(e,t){i.default.dispatch({type:r.default.SET_BACK_BUTTON,label:e,link:t})},generateShortlink(e,t){const{shortlinks:n}=o.default.getState();e in n&&n[e]!==e||i.default.dispatch({type:r.default.GENERATE_SHORTLINK,longURL:e,path:t})},setShortlink(e,t){i.default.dispatch({type:r.default.SET_SHORTLINK,longURL:e,shortURL:t})},setPage(e){i.default.dispatch({type:r.default.SET_PAGE,page:e})}};t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(73),r=n.n(i),o=n(91),s=n(84),a=n(92),l=n(102);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends r.a{constructor(){super(s.default)}getInitialState(){return{backButtonLabel:null,backButtonLink:null,shortlinks:{},page:"workspace"}}reset({shortlinks:e}){return d(d({},this.getInitialState()),{},{shortlinks:e})}resetBackButton(e){return d(d({},e),{},{backButtonLabel:null,backButtonLink:null})}setBackButton(e,{label:t,link:n}){return d(d({},e),{},{backButtonLabel:t,backButtonLink:n})}updateForUpdateComponent(e,{coid:t,componentData:n}){if(!("name"in n))return e;const{backButtonLink:i}=e;if(!i)return e;return t!==new URL(i).searchParams.get("coid")?e:d(d({},e),{},{backButtonLabel:n.name})}updateForRemoveComponent(e,{coid:t}){const{backButtonLink:n}=e;if(!n)return e;return t!==new URL(e.backButtonLink).searchParams.get("coid")?e:this.resetBackButton(e)}updateForUpdateScreenName(e,{sid:t,name:n}){const{backButtonLink:i}=e;return i&&i.endsWith(t)?d(d({},e),{},{backButtonLabel:n}):e}updateForRemoveScreen(e,{sid:t}){const{backButtonLink:n}=e;return n&&n.endsWith(t)?this.resetBackButton(e):e}setShortlink(e,{longURL:t,shortURL:n}){return d(d({},e),{},{shortlinks:d(d({},e.shortlinks),{},{[t]:n})})}setPage(e,{page:t}){return d(d({},e),{},{page:t})}reduce(e,t){switch(t.type){case o.default.RESET:return this.reset(e);case o.default.RESET_BACK_BUTTON:return this.resetBackButton(e);case o.default.SET_BACK_BUTTON:return this.setBackButton(e,t);case o.default.SET_SHORTLINK:return this.setShortlink(e,t);case o.default.SET_PAGE:return this.setPage(e,t);case a.default.UPDATE_COMPONENT:return this.updateForUpdateComponent(e,t);case a.default.REMOVE_COMPONENT:return this.updateForRemoveComponent(e,t);case l.default.UPDATE_NAME:return this.updateForUpdateScreenName(e,t);case l.default.REMOVE_SCREEN:return this.updateForRemoveScreen(e,t);default:return e}}}t.default=new h},function(e,t,n){"use strict";n.r(t);var i=n(73),r=n.n(i),o=n(119),s=n(357),a=n(91),l=n(92),c=n(96),d=n(102);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends r.a{constructor(){super(s.default)}getInitialState(){return{sortType:"default",filterValue:"",fixedThumbnailSize:!1,sidebarWidth:280,tagFilter:{tags:[],untagged:!1},jiraIssueFilter:[],collapsedSections:{},highlightedSection:null,highlightedScreens:[]}}reset(){return this.getInitialState()}changeSortType(e,t){return h(h({},e),{},{sortType:t,highlightedScreens:[]})}changeFilterValue(e,t){return h(h({},e),{},{filterValue:t,tagFilter:{tags:[],untagged:!1},jiraIssueFilter:[],highlightedScreens:[]})}changeTagFilter(e,t){return h(h({},e),{},{tagFilter:t,filterValue:"",highlightedScreens:[]})}changeJiraIssueFilter(e,t){return h(h({},e),{},{jiraIssueFilter:t,filterValue:"",tagFilter:{tags:[],untagged:!1},highlightedScreens:[]})}convertTagToSection(e,t){const{tags:n,untagged:i}=e.tagFilter,r=n.filter(e=>e!==t);return h(h({},e),{},{tagFilter:{tags:r,untagged:i}})}toggleFixedThumbnailSize(e){return h(h({},e),{},{fixedThumbnailSize:!e.fixedThumbnailSize})}changeSidebarWidth(e,t){return h(h({},e),{},{sidebarWidth:t})}expandSection(e,t){return h(h({},e),{},{collapsedSections:h(h({},e.collapsedSections),{},{[t]:!1})})}setCollapsedSections(e,t){return h(h({},e),{},{collapsedSections:t})}collapseSection(e,t){return h(h({},e),{},{collapsedSections:h(h({},e.collapsedSections),{},{[t]:!0})})}highlightScreens(e,t){return h(h({},e),{},{highlightedScreens:[].concat(t).filter(Boolean)})}unhighlightScreen(e,t){return h(h({},e),{},{highlightedScreens:e.highlightedScreens.filter(e=>e!==t)})}highlightSection(e,t){return h(h({},e),{},{highlightedSection:t})}unhighlightSection(e){return h(h({},e),{},{highlightedSection:null})}highlightUpdatedSection(e,{seid:t,highlight:n,sectionData:i}){if(!n)return e;const r=i._id||t;return h(h({},e),{},{highlightedSection:r})}updateForOpenScreen(e,{screenId:t,shouldResetDashboardFilters:n}){let i={};return n&&(i={tagFilter:{tags:[],untagged:!1},jiraIssueFilter:[]}),h(h(h({},e),i),{},{highlightedScreens:[t]})}load(e,t){const{barrel:{barrelType:n},dashboard:i={},data:{project:r}}=t;return n===c.default.STYLEGUIDE||r.partial?e:h(h({},e),i)}reduce(e,t){switch(t.type){case l.default.LOAD:return this.load(e,t);case a.default.RESET:case l.default.RESET:return this.reset();case l.default.CHANGE_SELECTED_VIEW:return this.highlightScreens(e,[]);case o.default.CHANGE_SORT_TYPE:return this.changeSortType(e,t.sortType);case o.default.CHANGE_FILTER_VALUE:return this.changeFilterValue(e,t.filterValue);case o.default.CHANGE_TAG_FILTER:return this.changeTagFilter(e,t.tagFilter);case o.default.CHANGE_JIRA_ISSUE_FILTER:return this.changeJiraIssueFilter(e,t.jiraIssueFilter);case o.default.CONVERT_TAG_TO_SECTION:return this.convertTagToSection(e,t.section.name);case o.default.TOGGLE_FIXED_THUMBNAIL_SIZE:return this.toggleFixedThumbnailSize(e);case o.default.CHANGE_SIDEBAR_WIDTH:return this.changeSidebarWidth(e,t.sidebarWidth);case o.default.SET_COLLAPSED_SECTIONS:return this.setCollapsedSections(e,t.collapsedSections);case o.default.EXPAND_SECTION:return this.expandSection(e,t.seid);case o.default.COLLAPSE_SECTION:return this.collapseSection(e,t.seid);case o.default.HIGHLIGHT_SCREENS:return this.highlightScreens(e,t.sids);case o.default.UNHIGHLIGHT_SCREEN:return this.unhighlightScreen(e,t.sid);case o.default.HIGHLIGHT_SECTION:return this.highlightSection(e,t.seid);case o.default.UNHIGHLIGHT_SECTION:return this.unhighlightSection(e);case o.default.UPDATE_SECTION:return this.highlightUpdatedSection(e,t);case d.default.OPEN_SCREEN:return this.updateForOpenScreen(e,t);default:return e}}}t.default=new f},function(e,t,n){"use strict";n.r(t);var i=n(84);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);n(359),n(360),n(468),n(469)},function(e,t,n){"use strict";n.r(t);var i=n(100),r=n(92),o=n(343),s=n(62),a=n(97),l=n(96),c=n(122),d=n(45),u=n(47),h=n(48),p=n(137);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b={project:p.project,styleguide:p.styleguide},y={[c.RESOURCE_TYPE.COLORS]:"updateColorsStyleguide",[c.RESOURCE_TYPE.TEXT_STYLES]:"updateTextStylesStyleguide",[c.RESOURCE_TYPE.COMPONENTS]:"updateComponentSectionsStyleguide"},S={[c.RESOURCE_TYPE.COLORS]:"Moved colors to styleguide",[c.RESOURCE_TYPE.TEXT_STYLES]:"Moved text styles to styleguide",[c.RESOURCE_TYPE.COMPONENTS]:"Moved components to styleguide"},v={handleActivate({bid:e,barrelType:t}){b[t].activate(e).catch(t=>{Object(d.handleError)(t),o.default.archive({bid:e})})},handleArchive({bid:e,barrelType:t}){b[t].archive(e).catch(t=>{Object(d.handleError)(t),o.default.activate({bid:e})})},handleRemove({bid:e,oid:t,oseid:n,barrelType:i,oldBarrel:r}){b[i].delete(e).catch(e=>{Object(d.handleError)(e),o.default.add({barrel:r,oid:t,oseid:n,barrelType:i})})},handleUpdateName({bid:e,barrelType:t,name:n,oldName:i}){b[t].updateName(e,n).catch(t=>{Object(d.handleError)(t),o.default.updateName({bid:e,name:i})})},handleUpdateDescription({bid:e,barrelType:t,description:n,oldDescription:i}){b[t].updateDescription(e,n).catch(t=>{Object(d.handleError)(t),o.default.updateDescription({bid:e,description:i})})},handleUpdateDensityScale({bid:e,barrelType:t,densityScale:n,oldDensityScale:i}){b[t].updateDensityScale(e,n).catch(t=>{Object(d.handleError)(t),o.default.updateDensityScale({bid:e,densityScale:i})})},handleUpdateThumbnail({bid:e,barrelType:t,thumbnail:n,oldThumbnail:i}){b[t].updateThumbnail(e,n).catch(t=>{Object(d.handleError)(t),o.default.updateThumbnail({bid:e,thumbnail:i})})},handleRemoveIntegration({bid:e,barrelType:t,intype:n,inid:i,removedIntegration:r}){b[t].deleteIntegration(e,n,i).catch(t=>{Object(d.handleError)(t),o.default.addIntegration({bid:e,intype:n,integration:r})})},handleToggleScene({bid:e,barrelType:t,accessibility:n,oldAccessibility:i}){b[t].updateAccessibility(e,n).catch(t=>{Object(d.handleError)(t),o.default.toggleScene({bid:e,accessibility:i})})},handleAddMembers({members:e}){},handleJoin({bid:e,barrelType:t,shouldLoadBarrel:n}){b[t].inviteUser(e).then(i=>{o.default.addMembers({bid:e,barrelType:t,shouldLoadBarrel:n,members:[i]})}).catch(e=>{Object(d.handleError)(e)}).finally(()=>{o.default.stopLoadingJoin()})},handleUpdateUserRole({bid:e,barrelType:t,uid:n,role:i,oldRole:r}){b[t].updateUserRole(e,n,i).catch(t=>{Object(d.handleError)(t),o.default.updateUserRole({bid:e,uid:n,role:r})})},handleTransferOwnership({bid:e,barrelType:t,uid:n}){b[t].transferOwnership(e,n).then(()=>{o.default.ownershipTransferred({bid:e,barrelType:t,uid:n})}).catch(d.handleError)},handleRemoveMember({oid:e,bid:t,barrelType:n,mid:i,shouldRemoveBarrel:r,removedBarrel:s,removedMember:a}){b[n].removeUser(t,i).catch(i=>{Object(d.handleError)(i),r?o.default.add({oid:e,barrelType:n,barrel:s}):o.default.addMembers({bid:t,barrelType:n,members:[a]})})},handleAddColor({bid:e,barrelType:t,color:n}){const i=n._id,r=g({},n);delete r._id,delete r.id,b[t].createColor(e,r).then(({_id:t})=>{const n=g(g({},r),{},{_id:t});o.default.updateColor({bid:e,cid:i,colorData:n})}).catch(t=>{Object(d.handleError)(t),o.default.removeColor({bid:e,cid:i})})},handleAddMultipleColors({bid:e,barrelType:t,colors:n}){const i=[],r=n.map(n=>{const r=g({},n);return delete r._id,delete r.id,i.push(r),b[t].createColor(e,r)}).map(e=>e.catch(e=>e));Promise.all(r).then(t=>{t.forEach((t,r)=>{const s=i[r],a=n[r]._id;if(t instanceof u.default||t instanceof h.default)return Object(d.handleError)(t),void o.default.removeColor({bid:e,cid:a});const{_id:l}=t,c=g(g({},s),{},{_id:l});o.default.updateColor({bid:e,cid:a,colorData:c})})})},handleUpdateColor({bid:e,barrelType:t,cid:n,colorData:i,oldColorData:r}){b[t].updateColor(e,n,i).catch(t=>{Object(d.handleError)(t),o.default.updateColor({bid:e,cid:n,colorData:r})})},handleRemoveColor({bid:e,barrelType:t,cid:n,removedColor:i}){b[t].deleteColor(e,n).catch(t=>{Object(d.handleError)(t),o.default.addColor({bid:e,color:i})})},handleRemoveAllColors({bid:e,barrelType:t,colorsToRemove:n}){const i=n.map(({id:e})=>e);b[t].deleteAllColors(e,{colors:i}).catch(t=>{Object(d.handleError)(t),o.default.addMultipleColors({bid:e,colors:n})})},handleAddTextStyle({bid:e,barrelType:t,textStyle:n}){const i=n._id,r=g({},n);delete r._id,delete r.id,delete r.fontFamily,delete r.fontStretch,delete r.fontStyle,delete r.fontWeight,delete r.weightText,b[t].createTextStyle(e,r).then(({_id:t})=>{o.default.removeTextStyle({bid:e,tsid:i});const n=g(g({},r),{},{_id:t});o.default.addTextStyle({bid:e,textStyle:n})}).catch(t=>{Object(d.handleError)(t),o.default.removeTextStyle({bid:e,tsid:i})})},handleAddMultipleTextStyles({bid:e,barrelType:t,textStyles:n}){const i=[],r=n.map(n=>{const r=g({},n);return delete r._id,delete r.id,delete r.fontFamily,delete r.fontStretch,delete r.fontStyle,delete r.fontWeight,delete r.weightText,i.push(r),b[t].createTextStyle(e,r)}).map(e=>e.catch(e=>e));Promise.all(r).then(t=>{t.forEach((t,r)=>{const s=i[r],a=n[r]._id;if(t instanceof u.default||t instanceof h.default)return Object(d.handleError)(t),void o.default.removeTextStyle({bid:e,tsid:a});const{_id:l}=t,c=g(g({},s),{},{_id:l});o.default.updateTextStyle({bid:e,tsid:a,textStyleData:c})})})},handleUpdateTextStyle({bid:e,barrelType:t,tsid:n,textStyleData:i,oldTextStyleData:r}){b[t].updateTextStyle(e,n,i).catch(t=>{Object(d.handleError)(t),o.default.updateTextStyle({bid:e,tsid:n,textStyleData:r})})},handleRemoveTextStyle({bid:e,barrelType:t,tsid:n,removedTextStyle:i}){b[t].deleteTextStyle(e,n).catch(t=>{Object(d.handleError)(t),o.default.addTextStyle({bid:e,textStyle:i})})},handleRemoveAllTextStyles({bid:e,barrelType:t,textStylesToRemove:n}){const i=n.map(({id:e})=>e);b[t].deleteAllTextStyles(e,{textStyles:i}).catch(t=>{Object(d.handleError)(t),o.default.addMultipleTextStyles({bid:e,textStyles:n})})},handleAddSpacingSection({bid:e,barrelType:t,spacingSection:n}){const i=n._id,r=g({},n);delete r._id,b[t].createSpacingSection(e,r).then(({_id:t})=>{o.default.updateSpacingSection({bid:e,ssid:i,updatedSpacingSection:g(g({},r),{},{_id:t})})}).catch(t=>{Object(d.handleError)(t),o.default.removeSpacingSection({bid:e,ssid:i})})},handleUpdateSpacingSection({bid:e,barrelType:t,ssid:n,updatedSpacingSection:i,oldSpacingSection:r}){b[t].updateSpacingSection(e,n,i).catch(t=>{Object(d.handleError)(t),o.default.updateSpacingSection({bid:e,ssid:n,updatedSpacingSection:r})})},handleRemoveSpacingSection({bid:e,barrelType:t,ssid:n,removedSpacingSection:i}){b[t].deleteSpacingSection(e,n).catch(t=>{Object(d.handleError)(t),o.default.addSpacingSection({bid:e,spacingSection:i})})},handleAddSpacingToken({bid:e,barrelType:t,ssid:n,spacingToken:i}){const r=i._id,s=g({},i);delete s._id,b[t].createSpacingToken(e,n,s).then(({_id:t})=>{o.default.updateSpacingToken({bid:e,ssid:n,sptid:r,updatedSpacingToken:g(g({},s),{},{_id:t})})}).catch(t=>{Object(d.handleError)(t),o.default.removeSpacingToken({bid:e,ssid:n,sptid:r})})},handleUpdateSpacingToken({bid:e,barrelType:t,ssid:n,sptid:i,updatedSpacingToken:r,oldSpacingToken:s}){b[t].updateSpacingToken(e,n,i,r).catch(t=>{Object(d.handleError)(t),o.default.updateSpacingToken({bid:e,ssid:n,sptid:i,updatedSpacingToken:s})})},handleRemoveSpacingToken({bid:e,barrelType:t,ssid:n,sptid:i,isBaseToken:r,removedSpacingToken:s}){b[t].deleteSpacingToken(e,n,i).catch(t=>{Object(d.handleError)(t),o.default.addSpacingToken({bid:e,ssid:n,isBaseToken:r,spacingToken:s})})},handleUpdateRemPreferences({bid:e,barrelType:t,updatedRemPreferences:n,oldRemPreferences:i}){b[t].updateRemPreferences(e,n).catch(t=>{Object(d.handleError)(t),o.default.updateRemPreferences({bid:e,updatedRemPreferences:i})})},handleUpdateComponent({bid:e,barrelType:t,csids:n,coid:i,componentData:r,oldComponentData:s}){b[t].updateComponent(e,n,i,r).catch(t=>{Object(d.handleError)(t),o.default.updateComponent({bid:e,csids:n,coid:i,componentData:s})})},handleRemoveComponent({bid:e,barrelType:t,csids:n,coid:i,oldComponent:r}){b[t].deleteComponent(e,n,i).catch(t=>{Object(d.handleError)(t),o.default.addComponent({bid:e,csids:n,component:r})})},handleUpdateComponentSection({bid:e,barrelType:t,csids:n,componentSectionData:i,oldComponentSectionData:r}){b[t].updateComponentSection(e,n,i).catch(t=>{Object(d.handleError)(t),o.default.updateComponentSection({bid:e,csids:n,componentSectionData:r})})},handleMergeComponentSection({bid:e,barrelType:t,csids:n,tcsids:i,index:r,flatten:a,oldComponentSection:l}){b[t].mergeComponentSection(e,n,i,a).catch(t=>{Object(d.handleError)(t),a||l.componentSections.forEach(t=>{o.default.removeComponentSection({bid:e,csids:t.idPath})});(a?Object(s.collectComponents)([l]):l.components).forEach(t=>{o.default.removeComponent({bid:e,csids:i,coid:t._id})}),o.default.addComponentSection({bid:e,csids:n,componentSection:l,index:r})})},handleMoveResourcesRequest(e){const{bid:t,barrelType:n,densityScale:i,resourceType:r,resources:s,targetStyleguideId:a}=e;let u=Promise.resolve();r===c.RESOURCE_TYPE.COMPONENTS&&i&&(u=b[l.default.STYLEGUIDE].updateDensityScale(a,i));const h=y[r],p=s.map(e=>e._id);u.then(()=>b[n][h](t,a,p)).then(()=>{mixpanel.master.track(S[r]),o.default.moveResourcesSuccess({resourceType:r,resources:s,bid:t,barrelType:n,targetStyleguideId:a})}).catch(e=>{Object(d.handleError)(e),o.default.moveResourcesFail()})},updateComponentsOrder({bid:e,barrelType:t,components:n}){const i={components:n.map(e=>({coid:e.coid,csid:e.csid.join("/"),tcsid:e.tcsid.join("/"),to:e.to}))};b[t].updateComponentsOrder(e,i).catch(t=>{Object(d.handleError)(t);const i=n.map(e=>({coid:e.coid,csid:e.tcsid,tcsid:e.csid,sourceIndex:e.to,to:e.sourceIndex}));o.default.updateComponentsOrder({bid:e,components:i})})},addComponentSection({bid:e,barrelType:t,csids:n,componentSection:i}){const r={index:i.index,name:i.name,components:i.components.map(e=>({coid:e.coid,csid:e.csid.join("/")}))};b[t].addComponentSection(e,n,r).then(({_id:t})=>{o.default.updateComponentSection({bid:e,csids:n.concat(a.TEMPORARY_COMPONENT_SECTION_ID),componentSectionData:{_id:t,csids:n.concat(t),newSection:!1}})}).catch(t=>{Object(d.handleError)(t);const r=i.components.map(e=>({coid:e.coid,csid:n.concat(a.TEMPORARY_COMPONENT_SECTION_ID),tcsid:e.csid,to:e.index}));o.default.updateComponentsOrder({bid:e,components:r}),o.default.removeComponentSection({bid:e,csids:n.concat(a.TEMPORARY_COMPONENT_SECTION_ID)})})},handleUpdateComponentSectionsOrder({bid:e,barrelType:t,componentSections:n}){const i={componentSections:n.map(e=>{const t={csid:e.csid.join("/"),to:e.to};return e.tcsid&&(t.tcsid=e.tcsid.join("/")),t})};b[t].updateComponentSectionsOrder(e,i).catch(t=>{Object(d.handleError)(t);const i=n.map(e=>({csid:e.csid,to:e.sourceIndex}));o.default.updateComponentSectionsOrder({bid:e,componentSections:i})})},handleUpdateWorkflowStatus({barrelType:e,bid:t,workflowStatus:{_id:n},oldWorkflowStatusData:i}){b[e].updateWorkflowStatus([t],n).catch(e=>{Object(d.handleError)(e),o.default.updateWorkflowStatus({bid:t,workflowStatus:i})})},handleDeleteWorkflowStatus({barrelType:e,bid:t,oldWorkflowStatusData:n}){b[e].deleteWorkflowStatus([t]).catch(e=>{Object(d.handleError)(e),o.default.updateWorkflowStatus({bid:t,workflowStatus:n})})}};i.default.register(e=>{if(e.syncWithApi)switch(e.type){case r.default.ACTIVATE:v.handleActivate(e);break;case r.default.ARCHIVE:v.handleArchive(e);break;case r.default.REMOVE:v.handleRemove(e);break;case r.default.UPDATE_NAME:v.handleUpdateName(e);break;case r.default.UPDATE_DESCRIPTION:v.handleUpdateDescription(e);break;case r.default.UPDATE_DENSITY_SCALE:v.handleUpdateDensityScale(e);break;case r.default.UPDATE_THUMBNAIL:v.handleUpdateThumbnail(e);break;case r.default.REMOVE_INTEGRATION:v.handleRemoveIntegration(e);break;case r.default.TOGGLE_SCENE:v.handleToggleScene(e);break;case r.default.ADD_MEMBERS:v.handleAddMembers(e);break;case r.default.UPDATE_USER_ROLE:v.handleUpdateUserRole(e);break;case r.default.TRANSFER_OWNERSHIP:v.handleTransferOwnership(e);break;case r.default.REMOVE_MEMBER:v.handleRemoveMember(e);break;case r.default.ADD_COLOR:v.handleAddColor(e);break;case r.default.ADD_MULTIPLE_COLORS:v.handleAddMultipleColors(e);break;case r.default.UPDATE_COLOR:v.handleUpdateColor(e);break;case r.default.REMOVE_COLOR:v.handleRemoveColor(e);break;case r.default.REMOVE_ALL_COLORS:v.handleRemoveAllColors(e);break;case r.default.ADD_TEXT_STYLE:v.handleAddTextStyle(e);break;case r.default.ADD_MULTIPLE_TEXT_STYLES:v.handleAddMultipleTextStyles(e);break;case r.default.UPDATE_TEXT_STYLE:v.handleUpdateTextStyle(e);break;case r.default.REMOVE_TEXT_STYLE:v.handleRemoveTextStyle(e);break;case r.default.REMOVE_ALL_TEXT_STYLES:v.handleRemoveAllTextStyles(e);break;case r.default.ADD_SPACING_SECTION:v.handleAddSpacingSection(e);break;case r.default.UPDATE_SPACING_SECTION:v.handleUpdateSpacingSection(e);break;case r.default.REMOVE_SPACING_SECTION:v.handleRemoveSpacingSection(e);break;case r.default.ADD_SPACING_TOKEN:v.handleAddSpacingToken(e);break;case r.default.UPDATE_SPACING_TOKEN:v.handleUpdateSpacingToken(e);break;case r.default.REMOVE_SPACING_TOKEN:v.handleRemoveSpacingToken(e);break;case r.default.UPDATE_REM_PREFERENCES:v.handleUpdateRemPreferences(e);break;case r.default.UPDATE_COMPONENT_SECTION:v.handleUpdateComponentSection(e);break;case r.default.MERGE_COMPONENT_SECTION:v.handleMergeComponentSection(e);break;case r.default.UPDATE_COMPONENT:v.handleUpdateComponent(e);break;case r.default.REMOVE_COMPONENT:v.handleRemoveComponent(e);break;case r.default.JOIN:v.handleJoin(e);break;case r.default.MOVE_RESOURCES_REQUEST:v.handleMoveResourcesRequest(e);break;case r.default.UPDATE_COMPONENTS_ORDER:v.updateComponentsOrder(e);break;case r.default.ADD_COMPONENT_SECTION:v.addComponentSection(e);break;case r.default.UPDATE_COMPONENT_SECTIONS_ORDER:v.handleUpdateComponentSectionsOrder(e);break;case r.default.UPDATE_WORKFLOW_STATUS:v.handleUpdateWorkflowStatus(e);break;case r.default.DELETE_WORKFLOW_STATUS:v.handleDeleteWorkflowStatus(e)}})},function(e,t,n){"use strict";n.r(t);var i=n(354),r=n(100),o=n(92),s=n(343),a=n(344),l=n(62),c=n(44),d=n(19),u=n(361),h=n(56),p=n(467),f=n(40),g=n(42),m=n(466),b=n(96),y=n(65),S=n(20),v=n(353),C=n(137);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const D={handleGoToDashboard({bid:e,tagFilter:t}){const n=Object(c.getTagQueryParams)(t),i=Object(c.urlResolve)("project-dashboard",{url:{pid:e},query:n});v.default.history.push(i)},handleGoToStyleguide({bid:e}){const t=Object(c.urlResolve)("project-styleguide",{url:{bid:e}});v.default.history.push(t)},handleAdd({barrel:e,barrelType:t}){Object(p.subscribeToBarrelChannel)(t,e._id)},handleArchive({currentBid:e,affectedIds:t,name:n,uid:i,currentUserId:r,user:o,syncWithApi:s}){if(t.includes(e)){if(!s&&i!==r){const e=o&&o.user.username,t=o?`${e} archived “${n}”.`:`“${n}” is archived.`,i="You won’t be able to access its resources from now on."+(o?`\nIf you think this is a mistake, please contact ${e}.`:"");g.create({title:t,message:i})}a.default.navigateToWorkspace()}},handleRemove({bid:e,currentBid:t,barrelType:n,oldBarrel:i,uid:r,currentUserId:o,user:s,syncWithApi:l}){if(Object(p.unsubscribeFromBarrelChannel)(n,e),e===t){if(!l&&r!==o){const e=s&&s.user.username,{name:t}=i,n=s?`${e} deleted “${t}”.`:`“${t}” is deleted.`,r="You won’t be able to access its resources from now on."+(s?`\nIf you think this is a mistake, please contact ${e}.`:"");g.create({title:n,message:r})}a.default.navigateToWorkspace()}},handleAddMembers({bid:e,barrelType:t,shouldLoadBarrel:n}){if(n){const n=t===b.default.PROJECT?Object(c.urlResolve)("project-dashboard",{url:{pid:e}}):Object(c.urlResolve)("styleguide",{url:{bid:e}});setTimeout(()=>{v.default.history.push(n)},4)}},handleRemoveMember({bid:e,uid:t,barrelType:n,currentBid:i,currentUserId:r,removingUser:o,shouldRemoveBarrel:s,removedBarrel:l,syncWithApi:c}){if(s){if(Object(p.unsubscribeFromBarrelChannel)(n,e),!c&&t!==r&&e===i){const e=o&&o.user.username,{name:t}=l,n=o?`${e} removed you from “${t}”.`:`You’re removed from “${t}”.`,i="You won’t be able to access its resources from now on."+(o?`\nIf you think this is a mistake, please contact ${e}.`:"");g.create({title:n,message:i})}e===i&&a.default.navigateToWorkspace()}},handleDownloadAsset({barrelId:e,assetDensityScalePrefs:t,assetNamingConvention:n,showOptimizedSVG:i,platform:r,containerName:o,version:s,assetId:a,format:c,toastContainer:d}){Object(u.downloadAsset)({barrelId:e,platform:r,containerName:o,version:s,assetId:a,format:c,assetDensityScalePrefs:t,assetNamingConvention:n,showOptimizedSVG:i,toastContainer:d}),Object(C.createIntercomUserTag)(Object(l.getDeveloperString)(r))},handleDownloadMultipleAsset({barrelId:e,assetDensityScalePrefs:t,assetNamingConvention:n,showOptimizedSVG:i,platform:r,containerName:o,version:s,assetList:a,toastContainer:c}){Object(u.downloadMultipleAsset)({barrelId:e,platform:r,containerName:o,version:s,assetList:a,assetDensityScalePrefs:t,assetNamingConvention:n,showOptimizedSVG:i,toastContainer:c}),Object(C.createIntercomUserTag)(Object(l.getDeveloperString)(r))},handleExportCode({barrelName:e,platform:t,resourceType:n,exportObjects:i,extension:r}){Object(u.exportCode)({resourceType:n,barrelName:e,exportObjects:i}),Object(C.createIntercomUserTag)(Object(l.getDeveloperString)(t)),mixpanel.webapp.track("Exported extension file",{type:n,extension:r})},handleOpenExportTarget(){m.openExportTarget()},handleChangeExportTarget(){m.changeExportTarget()},handleCopyComponentSectionWebLink({bid:e,barrelType:t,seid:n}){const i=t===b.default.PROJECT?"project-styleguide-components":"styleguide-components",r=document.querySelector("."+t),o=Object(c.urlResolve)(i,{url:{bid:e},query:{seid:n}});Object(h.copyContent)({content:o,toastContainer:r})},handleCopyComponentSectionAppURI({bid:e,barrelType:t,cseid:n}){const i=t===b.default.PROJECT?"pid":"stid",r=document.querySelector("."+t),o=`${f.ZPL_PROTOCOL}//components?${i}=${e}&cseid=${n}`;Object(h.copyContent)({content:o,toastContainer:r})},setBarrelShortlinks(e){const{barrel:{barrelType:t,barrelId:n},data:{[t]:r}}=e,o=Object(c.urlResolve)(t,{url:{bid:n}});if(setTimeout(()=>{i.default.generateShortlink(o)},4),r.public){const e=Object(c.urlResolve)(t,{origin:f.SCENE_URL,url:{bid:n}});setTimeout(()=>{i.default.generateShortlink(e,"scene")},4)}},addToSlack({bid:e,barrelType:t}){if(y.default.isWindowsApp)return;const n=Object(d.getRandomString)();localStorage.setItem("slackState",n);const i=t===b.default.PROJECT?{pid:e}:{stid:e},r={scope:"incoming-webhook,emoji:read,links:read,links:write",client_id:"2330702581.8730394641",redirect_uri:Object(c.urlResolve)("huggingSlack",{query:i}),state:n},o="https://slack.com/oauth/authorize?"+Object.entries(r).map(([e,t])=>`${e}=${encodeURIComponent(t)}`).join("&");Object(h.openLink)(o,{inNewTab:!1})},trackEnableLocalConfiguration(){mixpanel.master.track("Enabled local configuration for connected components")},fetchLocalConnectedComponents({bid:e,barrelType:t,styleguideLink:n,ancestors:i}){if(t===b.default.PROJECT){if(Object(C.getProjectLocalConnectedComponents)(e).then(t=>{s.default.setLocalConnectedComponents(E({bid:e},t))}),!n)return;const{status:t,styleguide:i}=n;if("active"===!t)return;const r=[i._id,...i.ancestors];return void Promise.all(r.map(e=>Object(C.getStyleguideLocalConnectedComponents)(e))).then(e=>{e.forEach((e,t)=>{s.default.setLocalConnectedComponents(E({bid:r[t]},e))})})}const r=[e,...i];Promise.all(r.map(e=>Object(C.getStyleguideLocalConnectedComponents)(e))).then(e=>{e.forEach((e,t)=>{s.default.setLocalConnectedComponents(E({bid:r[t]},e))})})},handleAddSpacingSection(){mixpanel.master.track("Created spacing section")},handleUpdateSpacingSection({updatedSpacingSection:e}){e.name&&mixpanel.master.track("Changed spacing section name",{Name:e.name}),e.hasOwnProperty("description")&&mixpanel.master.track("Changed spacing section description")},handleAddSpacingToken(){mixpanel.master.track("Created spacing token")},handleUpdateSpacingToken({updatedSpacingToken:e}){const{value:t,color:n}=e;e.hasOwnProperty("value")&&mixpanel.master.track("Changed spacing token value",{Value:t}),n&&mixpanel.master.track("Changed spacing token color",{Color:new S.default(n).toHexString()})},handleUpdateRemPreferences({updatedRemPreferences:e}){const{status:t,useForFontSizes:n,useForMeasurements:i,remRootFontSize:r}=e,o={};t&&(o["Is Enabled"]="enabled"===t),e.hasOwnProperty("useForFontSizes")&&(o["Use for Font Size"]=n),e.hasOwnProperty("useForMeasurements")&&(o["Use for Measurements"]=i),r&&(o["Root Font Size"]=r),mixpanel.master.track("Changed rem settings",o)},handleUpdateWorkflowStatus({oid:e,organizationName:t,bid:n,workflowStatus:i}){mixpanel.master.track("Set project status",{Name:i.name,Color:i.color.toHexString(),"Project ID":n,"Organization ID":e,"Organization Name":t})},handleDeleteWorkflowStatus({oid:e,organizationName:t,bid:n}){mixpanel.master.track("Remove project status",{"Project ID":n,"Organization ID":e,"Organization Name":t})}};r.default.register(e=>{switch(e.type){case o.default.GO_TO_DASHBOARD:D.handleGoToDashboard(e);break;case o.default.GO_TO_STYLEGUIDE:D.handleGoToStyleguide(e);break;case o.default.ADD:D.handleAdd(e);break;case o.default.ARCHIVE:D.handleArchive(e);break;case o.default.REMOVE:D.handleRemove(e);break;case o.default.ADD_MEMBERS:D.handleAddMembers(e);break;case o.default.REMOVE_MEMBER:D.handleRemoveMember(e);break;case o.default.DOWNLOAD_ASSET:D.handleDownloadAsset(e);break;case o.default.DOWNLOAD_MULTIPLE_ASSET:D.handleDownloadMultipleAsset(e);break;case o.default.EXPORT_CODE:D.handleExportCode(e);break;case o.default.OPEN_EXPORT_TARGET:D.handleOpenExportTarget();break;case o.default.CHANGE_EXPORT_TARGET:D.handleChangeExportTarget();break;case o.default.COPY_COMPONENT_SECTION_WEB_LINK:D.handleCopyComponentSectionWebLink(e);break;case o.default.COPY_COMPONENT_SECTION_APP_URI:D.handleCopyComponentSectionAppURI(e);break;case o.default.ADD_TO_SLACK:D.addToSlack(e);break;case o.default.LOAD:D.setBarrelShortlinks(e);break;case o.default.ENABLE_DEV_MODE:D.trackEnableLocalConfiguration();case o.default.RELOAD_LOCAL_CONNECTED_COMPONENTS:D.fetchLocalConnectedComponents(e);break;case o.default.ADD_SPACING_SECTION:e.syncWithApi&&D.handleAddSpacingSection();break;case o.default.UPDATE_SPACING_SECTION:e.syncWithApi&&D.handleUpdateSpacingSection(e);break;case o.default.ADD_SPACING_TOKEN:e.syncWithApi&&D.handleAddSpacingToken();break;case o.default.UPDATE_SPACING_TOKEN:e.syncWithApi&&D.handleUpdateSpacingToken(e);break;case o.default.UPDATE_REM_PREFERENCES:e.syncWithApi&&D.handleUpdateRemPreferences(e);break;case o.default.UPDATE_WORKFLOW_STATUS:e.syncWithApi&&D.handleUpdateWorkflowStatus(e);break;case o.default.DELETE_WORKFLOW_STATUS:e.syncWithApi&&D.handleDeleteWorkflowStatus(e)}})},function(e,t,n){"use strict";n.r(t),n.d(t,"MIME_TYPE",(function(){return m})),n.d(t,"downloadAsset",(function(){return _})),n.d(t,"downloadMultipleAsset",(function(){return P})),n.d(t,"exportCode",(function(){return R})),n.d(t,"triggerDownload",(function(){return D})),n.d(t,"downloadScreens",(function(){return A}));var i=n(362),r=n.n(i),o=n(62),s=n(465),a=n(56),l=n(140),c=n(122),d=n(40),u=n(65),h=n(466);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=Object.freeze({jpg:"image/jpeg",js:"application/javascript",javascript:"application/javascript",pdf:"application/pdf",png:"image/png",svg:"image/svg+xml",xml:"application/xml"});function b(e,t){const n=Object(s.getExportName)(e,t);if(["svg","pdf"].includes(e.format))return n;const{density:i,densityScale:r=Object(o.getDensityScale)(i)}=e;return n+(r===c.DENSITY.BASE?"":`@${r}x`)}function y(e,t,n){const{localName:i,layerName:r,displayName:o,contents:a}=e;return a.filter(e=>e.format===t&&Object(s.isSupportedAssetContent)(n,e)).map(e=>f({localName:i,layerName:r,displayName:o},e))}function S(e,t){return"svg"===e.format&&t&&Object.assign(e,e.optimized),fetch(e.url).then(e=>e.arrayBuffer()).then(t=>f({data:t},e))}function v({projectId:e,platform:t,formatGroups:n,namingConvention:i,toastContainer:r}){Object.keys(n).forEach((o,s)=>{setTimeout(s=>{h.downloadAssets({projectId:e,projectType:t,format:o,assets:n[o],namingConvention:i,toastContainer:r})},s>0?300:0)})}function C(e){const{projectId:t,platform:n}=e;"android"===n?l.barrelPrefs.get(t,"androidResFolderReminderSeen").then(n=>{if(n)return void v(e);l.barrelPrefs.set(t,"androidResFolderReminderSeen",!0);const i=document.getElementById("androidResFolderReminderDoneButton");i&&i.addEventListener("click",(function(t){t.stopPropagation(),v(e)}));const r=document.getElementById("androidResFolderReminderDialog");r&&r.showModal()}):v(e)}function O(e,t=(e=>e.displayName)){const n={},i=new r.a;return e.forEach(e=>{let r=e;const o=t(r)+r.format;o in n||(n[o]=0);const s=++n[o];s>1&&(r=Object.assign({},e),r.displayName+="_"+s,r.layerName+="_"+s),i.file(t(r)+"."+r.format,r.data)}),i}function E(e,t,n=!1){const i=n?"assets_"+e:Object(s.getExportName)(t[0],"snakeCase");return O(t,e=>{const t=Object(s.getExportName)(e,"snakeCase"),{density:n,densityScale:i=Object(o.getDensityScale)(n)}=e,r=Object(o.getDensityScaleRepresentation)("android",i);return"svg"===e.format?t:`drawable-${r}/${t}`}).generateAsync({type:"blob"}).then((function(e){return{data:URL.createObjectURL(e),name:`${i}_${(new Date).toISOString().substr(0,10)}.zip`}}))}function T(e,t,n,i=!1){let r;if(1===t.length){const e=t[0],i=new Blob([e.data],{type:m[e.format]});return r=`${b(e,n)}.${e.format}`,Promise.resolve({data:URL.createObjectURL(i),name:r})}const o=(new Date).toISOString().substr(0,10),a=O(t,e=>b(e,n));return r=`${i?"assets_"+e:Object(s.getExportName)(t[0],n)}_${o}.zip`,a.generateAsync({type:"blob"}).then(e=>({data:URL.createObjectURL(e),name:r}))}function D(e){const t=document.createElement("a");t.href=e.data,t.download=e.name||"assets.zip",t.style.display="none",document.body.appendChild(t),t.addEventListener("click",n=>{n.stopPropagation(),setTimeout(URL.revokeObjectURL,1500,e.data),t.remove()}),t.click()}function k(e,t,n,i){return f(f({},e),{},{contents:e.contents.filter(e=>Object(s.isSupportedAssetContent)(t,e)).map(e=>{const r="svg"===e.format&&"svg"===n&&i&&e.optimized?e.optimized.url:e.url,{densityScale:s,density:a=Object(o.getDensityScaleRepresentation)(t,s)}=e;return f(f({},e),{},{url:r,density:a})})})}function w(e,t,n,i){return e.map(e=>k(e,t,n,i))}function _({barrelId:e,platform:t,containerName:n,version:i,assetId:r,format:o,assetDensityScalePrefs:s,assetNamingConvention:l,showOptimizedSVG:c,toastContainer:d}){if(!Object(a.canDownload)())return;const h=j(i.snapshot.assets,s);if(u.default.isWindowsApp){let n;if(n="all"===r?h:[h.find(e=>e._id===r)],0===n.length)return;C({projectId:e,platform:t,formatGroups:{[o]:w(n,t,o,c)},namingConvention:l,toastContainer:d})}else(function(e,t,n,i,r){let o;if("all"===n)o=[].concat.apply([],e.map(e=>y(e,i,t)));else{const r=e.find(e=>e._id===n);if(!r)return Promise.reject(`Asset with id ${n} not found.`);o=y(r,i,t)}return Promise.all(o.map(e=>S(e,r)))})(h,t,r,o,c).then(e=>("android"===t&&"svg"!==o?E:T)(n,e,l,"all"===r)).then(D)}function j(e,t){return e.map(e=>f(f({},e),{},{contents:e.contents.filter(e=>{const{format:n,density:i,densityScale:r=Object(o.getDensityScale)(i)}=e;return Object(s.isAssetDensityScaleSelected)(t,n,r)})}))}function P({barrelId:e,platform:t,containerName:n,version:i,assetList:r,assetDensityScalePrefs:o,assetNamingConvention:s,showOptimizedSVG:l,toastContainer:c}){if(!Object(a.canDownload)())return;const d=j(i.snapshot.assets,o);if(u.default.isWindowsApp){const n={};return r.forEach(({assetId:e,format:i})=>{const r=d.find(t=>t._id===e);if(!r)return;let o;i in n?o=n[i]:(o=[],n[i]=o),o.push(k(r,t,i,l))}),void C({projectId:e,platform:t,formatGroups:n,namingConvention:s,toastContainer:c})}(function(e,t,n,i){const r=t.map(({assetId:t,format:r})=>{const o=e.find(e=>e._id===t);return o?y(o,r,i).map(e=>S(e,n)):null}).filter(Boolean);return r.length?Promise.all(r.reduce((e,t)=>e.concat(t))):Promise.reject("Selected assets not found.")})(d,r,l,t).then(e=>("android"===t?E:T)(n,e,!0)).then(D)}function R({resourceType:e,barrelName:t,exportObjects:n}){if(Array.isArray(n)){const i=new r.a;n.forEach(e=>{i.file(e.filename,e.code)}),i.generateAsync({type:"blob"}).then(n=>{D({data:URL.createObjectURL(n),name:`${e}s_${t}.zip`})})}else D({data:URL.createObjectURL(new Blob([n.code],{type:m[n.language]})),name:n.filename})}async function I(e){const{name:t,versions:[{snapshot:{url:n}}]}=e,i=await fetch(n),r=await i.arrayBuffer();return{name:t+".png",blob:new Blob([r],{type:m.png})}}async function A(e,t){if(!Object(a.canDownload)()){if(1!==e.length)return;let{versions:[{snapshot:{url:t}}]}=screen;if(!t.includes("raven-warehouse")){const{pathname:e}=new URL(t);t=d.CDN_URL+e}return void Object(a.openLink)(t)}if(1===e.length){const{name:t,blob:n}=await I(e[0]);return void D({data:URL.createObjectURL(n),name:t})}const n=new r.a,i=await Promise.all(e.map(I)),o={};i.forEach(({name:e,blob:t})=>{let i;o[e]>0?i=e.replace(/(.*)\.(.*$)/,`$1 (${o[e]++}).$2`):(o[e]=1,i=e),n.file(i,t)});const s=await n.generateAsync({type:"blob"});D({data:URL.createObjectURL(s),name:t})}},function(e,t,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}i.prototype=n(363),i.prototype.loadAsync=n(456),i.support=n(366),i.defaults=n(427),i.version="3.1.5",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=n(420),e.exports=i},function(e,t,n){"use strict";var i=n(364),r=n(365),o=n(423),s=n(424),a=n(427),l=n(428),c=n(433),d=n(434),u=n(398),h=n(455),p=function(e,t,n){var i,s=r.getTypeOf(t),d=r.extend(n||{},a);d.date=d.date||new Date,null!==d.compression&&(d.compression=d.compression.toUpperCase()),"string"==typeof d.unixPermissions&&(d.unixPermissions=parseInt(d.unixPermissions,8)),d.unixPermissions&&16384&d.unixPermissions&&(d.dir=!0),d.dosPermissions&&16&d.dosPermissions&&(d.dir=!0),d.dir&&(e=g(e)),d.createFolders&&(i=f(e))&&m.call(this,i,!0);var p="string"===s&&!1===d.binary&&!1===d.base64;n&&void 0!==n.binary||(d.binary=!p),(t instanceof l&&0===t.uncompressedSize||d.dir||!t||0===t.length)&&(d.base64=!1,d.binary=!0,t="",d.compression="STORE",s="string");var b=null;b=t instanceof l||t instanceof o?t:u.isNode&&u.isStream(t)?new h(e,t):r.prepareContent(e,t,d.binary,d.optimizedBinaryString,d.base64);var y=new c(e,b,d);this.files[e]=y},f=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},g=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},m=function(e,t){return t=void 0!==t?t:a.createFolders,e=g(e),this.files[e]||p.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function b(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,i;for(t in this.files)this.files.hasOwnProperty(t)&&(i=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,i))},filter:function(e){var t=[];return this.forEach((function(n,i){e(n,i)&&t.push(i)})),t},file:function(e,t,n){if(1===arguments.length){if(b(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var r=this.files[this.root+e];return r&&!r.dir?r:null}return e=this.root+e,p.call(this,e,t,n),this},folder:function(e){if(!e)return this;if(b(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=m.call(this,t),i=this.clone();return i.root=n.name,i},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=r.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");r.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var a=n.comment||this.comment||"";t=d.generateWorker(this,n,a)}catch(l){(t=new o("error")).error(l)}return new s(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};e.exports=y},function(e,t,n){"use strict";for(var i=n(365),r=n(366),o=n(398),s=n(423),a=new Array(256),l=0;l<256;l++)a[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;a[254]=a[254]=1;function c(){s.call(this,"utf-8 decode"),this.leftOver=null}function d(){s.call(this,"utf-8 encode")}t.utf8encode=function(e){return r.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,n,i,o,s,a=e.length,l=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=r.uint8array?new Uint8Array(l):new Array(l),s=0,o=0;s<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t}(e)},t.utf8decode=function(e){return r.nodebuffer?i.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,r,o,s=e.length,l=new Array(2*s);for(n=0,t=0;t<s;)if((r=e[t++])<128)l[n++]=r;else if((o=a[r])>4)l[n++]=65533,t+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&t<s;)r=r<<6|63&e[t++],o--;o>1?l[n++]=65533:r<65536?l[n++]=r:(r-=65536,l[n++]=55296|r>>10&1023,l[n++]=56320|1023&r)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),i.applyFromCharCode(l)}(e=i.transformTo(r.uint8array?"uint8array":"array",e))},i.inherits(c,s),c.prototype.processChunk=function(e){var n=i.transformTo(r.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var o=n;(n=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),n.set(o,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var s=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}(n),l=n;s!==n.length&&(r.uint8array?(l=n.subarray(0,s),this.leftOver=n.subarray(s,n.length)):(l=n.slice(0,s),this.leftOver=n.slice(s,n.length))),this.push({data:t.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=c,i.inherits(d,s),d.prototype.processChunk=function(e){this.push({data:t.utf8encode(e.data),meta:e.meta})},t.Utf8EncodeWorker=d},function(e,t,n){"use strict";var i=n(366),r=n(397),o=n(398),s=n(399),a=n(420);function l(e){return e}function c(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}t.newBlob=function(e,n){t.checkSupport("blob");try{return new Blob([e],{type:n})}catch(r){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(n)}catch(r){throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(e,t,n){var i=[],r=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;r<o;)"array"===t||"nodebuffer"===t?i.push(String.fromCharCode.apply(null,e.slice(r,Math.min(r+n,o)))):i.push(String.fromCharCode.apply(null,e.subarray(r,Math.min(r+n,o)))),r+=n;return i.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var n=65536,i=t.getTypeOf(e),r=!0;if("uint8array"===i?r=d.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=d.applyCanBeUsed.nodebuffer),r)for(;n>1;)try{return d.stringifyByChunk(e,i,n)}catch(o){n=Math.floor(n/2)}return d.stringifyByChar(e)}function h(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}t.applyFromCharCode=u;var p={};p.string={string:l,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return p.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,o.allocBuffer(e.length))}},p.array={string:u,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},p.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return h(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},p.uint8array={string:u,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return o.newBufferFrom(e)}},p.nodebuffer={string:u,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return p.nodebuffer.uint8array(e).buffer},uint8array:function(e){return h(e,new Uint8Array(e.length))},nodebuffer:l},t.transformTo=function(e,n){if(n||(n=""),!e)return n;t.checkSupport(e);var i=t.getTypeOf(n);return p[i][e](n)},t.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":i.nodebuffer&&o.isBuffer(e)?"nodebuffer":i.uint8array&&e instanceof Uint8Array?"uint8array":i.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){if(!i[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)i+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return i},t.delay=function(e,t,n){s((function(){e.apply(n||null,t||[])}))},t.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},t.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},t.prepareContent=function(e,n,o,s,l){return a.Promise.resolve(n).then((function(e){return i.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new a.Promise((function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){n(e.target.error)},i.readAsArrayBuffer(e)})):e})).then((function(n){var d,u=t.getTypeOf(n);return u?("arraybuffer"===u?n=t.transformTo("uint8array",n):"string"===u&&(l?n=r.decode(n):o&&!0!==s&&(n=c(d=n,i.uint8array?new Uint8Array(d.length):new Array(d.length)))),n):a.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},function(e,t,n){"use strict";(function(e){if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer=void 0!==e,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var i=new ArrayBuffer(0);try{t.blob=0===new Blob([i],{type:"application/zip"}).size}catch(o){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),t.blob=0===r.getBlob("application/zip").size}catch(o){t.blob=!1}}}try{t.nodestream=!!n(371).Readable}catch(o){t.nodestream=!1}}).call(this,n(367).Buffer)},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var i=n(368),r=n(369),o=n(370);function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return c(this,e,t,n)}function c(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=h(e,t);return e}(e,t,n,i):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|f(t,n),r=(e=a(e,i)).write(t,n);r!==i&&(e=e.slice(0,r));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|p(t.length);return 0===(e=a(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(i=t.length)!=i?a(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function d(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t){if(d(t),e=a(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|p(t.length);e=a(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function p(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(i)return z(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return w(this,t,n);case"latin1":case"binary":return _(this,t,n);case"base64":return D(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function m(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function b(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=l.from(t,i)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,i,r);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,i,r){var o,s=1,a=e.length,l=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(r){var d=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===d?0:o-d)){if(-1===d&&(d=o),o-d+1===l)return d*s}else-1!==d&&(o-=o-d),d=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){for(var u=!0,h=0;h<l;h++)if(c(e,o+h)!==c(t,h)){u=!1;break}if(u)return o}return-1}function S(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function v(e,t,n,i){return H(z(t,e.length-n),e,n,i)}function C(e,t,n,i){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function O(e,t,n,i){return C(e,t,n,i)}function E(e,t,n,i){return H(F(t),e,n,i)}function T(e,t,n,i){return H(function(e,t){for(var n,i,r,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(t,e.length-n),e,n,i)}function D(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,s,a,l,c=e[r],d=null,u=c>239?4:c>223?3:c>191?2:1;if(r+u<=n)switch(u){case 1:c<128&&(d=c);break;case 2:128==(192&(o=e[r+1]))&&(l=(31&c)<<6|63&o)>127&&(d=l);break;case 3:o=e[r+1],s=e[r+2],128==(192&o)&&128==(192&s)&&(l=(15&c)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:o=e[r+1],s=e[r+2],a=e[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(l=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(d=l)}null===d?(d=65533,u=1):d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|1023&d),i.push(d),r+=u}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,e.slice(i,i+=4096));return n}(i)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=s(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,i){return d(t),t<=0?a(e,t):void 0!==n?"string"==typeof i?a(e,t).fill(n,i):a(e,t).fill(n):a(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return u(null,e)},l.allocUnsafeSlow=function(e){return u(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=l.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var s=e[n];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,r),r+=s.length}return i},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):g.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,i,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(i>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(i,r),d=e.slice(t,n),u=0;u<a;++u)if(c[u]!==d[u]){o=c[u],s=d[u];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},l.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return S(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return C(this,e,t,n);case"latin1":case"binary":return O(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function w(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(127&e[r]);return i}function _(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;r<n;++r)i+=String.fromCharCode(e[r]);return i}function j(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=t;o<n;++o)r+=B(e[o]);return r}function P(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,i,r,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function A(e,t,n,i){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);r<o;++r)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function x(e,t,n,i){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);r<o;++r)e[n+r]=t>>>8*(i?r:3-r)&255}function N(e,t,n,i,r,o){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,i,o){return o||N(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function U(e,t,n,i,o){return o||N(e,0,n,8),r.write(e,t,n,i,52,8),n+8}l.prototype.slice=function(e,t){var n,i=this.length;if((e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;n=new l(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},l.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,i){(e=+e,t|=0,n|=0,i)||I(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):x(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);I(this,e,t,n,r-1,-r)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var r=Math.pow(2,8*n-1);I(this,e,t,n,r-1,-r)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):x(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var r,o=i-n;if(this===e&&n<t&&t<i)for(r=o-1;r>=0;--r)e[r+t]=this[r+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=l.isBuffer(e)?e:z(new l(e,i).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var M=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],s=0;s<i;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function F(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}}).call(this,n(142))},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],i=t[1];return 3*(n+i)/4-i},t.toByteArray=function(e){var t,n,i=c(e),s=i[0],a=i[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),d=0,u=a>0?s-4:s;for(n=0;n<u;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[d++]=t>>16&255,l[d++]=t>>8&255,l[d++]=255&t;2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[d++]=255&t);1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[d++]=t>>8&255,l[d++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,r=n%3,o=[],s=0,a=n-r;s<a;s+=16383)o.push(d(e,s,s+16383>a?a:s+16383));1===r?(t=e[n-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)i[a]=s[a],r[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function d(e,t,n){for(var r,o,s=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,i,r){var o,s,a=8*r-i-1,l=(1<<a)-1,c=l>>1,d=-7,u=n?r-1:0,h=n?-1:1,p=e[t+u];for(u+=h,o=p&(1<<-d)-1,p>>=-d,d+=a;d>0;o=256*o+e[t+u],u+=h,d-=8);for(s=o&(1<<-d)-1,o>>=-d,d+=i;d>0;s=256*s+e[t+u],u+=h,d-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,i),o-=c}return(p?-1:1)*s*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var s,a,l,c=8*o-r-1,d=(1<<c)-1,u=d>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,f=i?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=d):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+u>=1?h/l:h*Math.pow(2,1-u))*l>=2&&(s++,l/=2),s+u>=d?(a=0,s=d):s+u>=1?(a=(t*l-1)*Math.pow(2,r),s+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,r),s=0));r>=8;e[n+p]=255&a,p+=f,a/=256,r-=8);for(s=s<<r|a,c+=r;c>0;e[n+p]=255&s,p+=f,s/=256,c-=8);e[n+p-f]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){e.exports=n(372)},function(e,t,n){e.exports=r;var i=n(373).EventEmitter;function r(){i.call(this)}n(374)(r,i),r.Readable=n(375),r.Writable=n(393),r.Duplex=n(394),r.Transform=n(395),r.PassThrough=n(396),r.Stream=r,r.prototype.pipe=function(e,t){var n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",a),n.on("close",l));var s=!1;function a(){s||(s=!0,e.end())}function l(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(d(),0===i.listenerCount(this,"error"))throw e}function d(){n.removeListener("data",r),e.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",l),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",d),n.removeListener("close",d),e.removeListener("close",d)}return n.on("error",c),e.on("error",c),n.on("end",d),n.on("close",d),e.on("close",d),e.emit("pipe",n),e}},function(e,t,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var l=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function d(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function u(e,t,n,i){var r,o,s,a;if(c(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=d(e))>0&&s.length>r&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,a=l,console&&console.warn&&console.warn(a)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=h.bind(i);return r.listener=n,i.wrapFn=r,r}function f(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):m(r,r.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=r[e];if(void 0===l)return!1;if("function"==typeof l)o(l,this,t);else{var c=l.length,d=m(l,c);for(n=0;n<c;++n)o(d[n],this,t)}return!0},a.prototype.addListener=function(e,t){return u(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return u(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,i,r,o,s;if(c(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){(t=e.exports=n(376)).Stream=t,t.Readable=t,t.Writable=n(387),t.Duplex=n(386),t.Transform=n(391),t.PassThrough=n(392)},function(e,t,n){"use strict";(function(t){var i=n(377);e.exports=y;var r,o=n(378);y.ReadableState=b;n(373).EventEmitter;var s=function(e,t){return e.listeners(t).length},a=n(379),l=n(380).Buffer,c=t.Uint8Array||function(){};var d=Object.create(n(381));d.inherits=n(374);var u=n(382),h=void 0;h=u&&u.debuglog?u.debuglog("stream"):function(){};var p,f=n(383),g=n(385);d.inherits(y,a);var m=["error","close","destroy","pause","resume"];function b(e,t){e=e||{};var i=t instanceof(r=r||n(386));this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:i&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(389).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function y(e){if(r=r||n(386),!(this instanceof y))return new y(e);this._readableState=new b(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function S(e,t,n,i,r){var o,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,O(e)}(e,s)):(r||(o=function(e,t){var n;i=t,l.isBuffer(i)||i instanceof c||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var i;return n}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),i?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):v(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?v(e,s,t,!1):T(e,s)):v(e,s,t,!1))):i||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function v(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&O(e)),T(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=l.from(e,t),t=""),n=!0),S(this,e,t,!1,n)},y.prototype.unshift=function(e){return S(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return p||(p=n(389).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};function C(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function O(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(E,e):E(e))}function E(e){h("emit readable"),e.emit("readable"),_(e)}function T(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(D,e,t))}function D(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function k(e){h("readable nexttick read 0"),e.read(0)}function w(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),_(e),t.flowing&&!t.reading&&e.read(0)}function _(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function j(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var i;e<t.head.data.length?(i=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):i=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,i=1,r=n.data;e-=r.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(s===o.length?r+=o:r+=o.slice(0,e),0===(e-=s)){s===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++i}return t.length-=i,r}(e,t):function(e,t){var n=l.allocUnsafe(e),i=t.head,r=1;i.data.copy(n),e-=i.data.length;for(;i=i.next;){var o=i.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),0===(e-=s)){s===o.length?(++r,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=o.slice(s));break}++r}return t.length-=r,n}(e,t);return i}(e,t.buffer,t.decoder),n);var n}function P(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(R,t,e))}function R(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function I(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}y.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?P(this):O(this),null;if(0===(e=C(e,t))&&t.ended)return 0===t.length&&P(this),null;var i,r=t.needReadable;return h("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",r=!0),t.ended||t.reading?h("reading or ended",r=!1):r&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=C(n,t))),null===(i=e>0?j(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&P(this)),null!==i&&this.emit("data",i),i},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,h("pipe count=%d opts=%j",r.pipesCount,t);var a=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?c:y;function l(t,i){h("onunpipe"),t===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,h("cleanup"),e.removeListener("close",m),e.removeListener("finish",b),e.removeListener("drain",d),e.removeListener("error",g),e.removeListener("unpipe",l),n.removeListener("end",c),n.removeListener("end",y),n.removeListener("data",f),u=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function c(){h("onend"),e.end()}r.endEmitted?i.nextTick(a):n.once("end",a),e.on("unpipe",l);var d=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,_(e))}}(n);e.on("drain",d);var u=!1;var p=!1;function f(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==I(r.pipes,e))&&!u&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function g(t){h("onerror",t),y(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",b),y()}function b(){h("onfinish"),e.removeListener("close",m),y()}function y(){h("unpipe"),n.unpipe(e)}return n.on("data",f),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",g),e.once("close",m),e.once("finish",b),e.emit("pipe",n),r.flowing||(h("pipe resume"),n.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var i=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<r;o++)i[o].emit("unpipe",this,n);return this}var s=I(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},y.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&O(this):i.nextTick(k,this))}return n},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(w,e,t))}(this,e)),this},y.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,n=this._readableState,i=!1;for(var r in e.on("end",(function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(r){(h("wrapped data"),n.decoder&&(r=n.decoder.write(r)),n.objectMode&&null==r)||(n.objectMode||r&&r.length)&&(t.push(r)||(i=!0,e.pause()))})),e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var o=0;o<m.length;o++)e.on(m[o],this.emit.bind(this,m[o]));return this._read=function(t){h("wrapped _read",t),i&&(i=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=j}).call(this,n(142))},function(e,t,n){"use strict";"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,n,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var r,o,s=arguments.length;switch(s){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick((function(){e.call(null,t)}));case 3:return process.nextTick((function(){e.call(null,t,n)}));case 4:return process.nextTick((function(){e.call(null,t,n,i)}));default:for(r=new Array(s-1),o=0;o<r.length;)r[o++]=arguments[o];return process.nextTick((function(){e.apply(null,r)}))}}}:e.exports=process},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){e.exports=n(373).EventEmitter},function(e,t,n){var i=n(367),r=i.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(o(i,t),t.Buffer=s),o(r,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(367).Buffer)},function(e,t){},function(e,t,n){"use strict";var i=n(380).Buffer,r=n(384);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var t,n,r,o=i.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,n=o,r=a,t.copy(n,r),a+=s.data.length,s=s.next;return o},e}(),r&&r.inspect&&r.inspect.custom&&(e.exports.prototype[r.inspect.custom]=function(){var e=r.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){"use strict";var i=n(377);function r(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||i.nextTick(r,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(i.nextTick(r,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var i=n(377),r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var o=Object.create(n(381));o.inherits=n(374);var s=n(376),a=n(387);o.inherits(u,s);for(var l=r(a.prototype),c=0;c<l.length;c++){var d=l[c];u.prototype[d]||(u.prototype[d]=a.prototype[d])}function u(e){if(!(this instanceof u))return new u(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||i.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),u.prototype._destroy=function(e,t){this.push(null),this.end(),i.nextTick(t,e)}},function(e,t,n){"use strict";(function(t,i){var r=n(377);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var i=e.entry;e.entry=null;for(;i;){var r=i.callback;t.pendingcb--,r(n),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=b;var s,a=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?t:r.nextTick;b.WritableState=m;var l=Object.create(n(381));l.inherits=n(374);var c={deprecate:n(388)},d=n(379),u=n(380).Buffer,h=i.Uint8Array||function(){};var p,f=n(385);function g(){}function m(e,t){s=s||n(386),e=e||{};var i=t instanceof s;this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var l=e.highWaterMark,c=e.writableHighWaterMark,d=this.objectMode?16:16384;this.highWaterMark=l||0===l?l:i&&(c||0===c)?c:d,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),E(e,t))}(e,n,i,t,o);else{var s=C(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||v(e,n),i?a(S,e,n,s,o):S(e,n,s,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function b(e){if(s=s||n(386),!(p.call(b,this)||this instanceof s))return new b(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),d.call(this)}function y(e,t,n,i,r,o,s){t.writelen=i,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}function S(e,t,n,i){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),E(e,t)}function v(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,r=new Array(i),s=t.corkedRequestsFree;s.entry=n;for(var a=0,l=!0;n;)r[a]=n,n.isBuf||(l=!1),n=n.next,a+=1;r.allBuffers=l,y(e,t,!0,t.length,r,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,d=n.encoding,u=n.callback;if(y(e,t,!1,t.objectMode?1:c.length,c,d,u),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function O(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),E(e,t)}))}function E(e,t){var n=C(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,r.nextTick(O,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}l.inherits(b,d),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===b&&(e&&e._writableState instanceof m)}})):p=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,n){var i,o=this._writableState,s=!1,a=!o.objectMode&&(i=e,u.isBuffer(i)||i instanceof h);return a&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=g),o.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),r.nextTick(t,n)}(this,n):(a||function(e,t,n,i){var o=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),r.nextTick(i,s),o=!1),o}(this,o,e,n))&&(o.pendingcb++,s=function(e,t,n,i,r,o){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,n));return t}(t,i,r);i!==s&&(n=!0,r="buffer",i=s)}var a=t.objectMode?1:i.length;t.length+=a;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,a,i,r,o);return l}(this,o,a,e,t,n)),s},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||v(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),b.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,n){t.ending=!0,E(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),b.prototype.destroy=f.destroy,b.prototype._undestroy=f.undestroy,b.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(327).setImmediate,n(142))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(i){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}}}).call(this,n(142))},function(e,t,n){"use strict";var i=n(390).Buffer,r=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=d,this.end=u,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function d(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var n=function(e,t,n){var i=t.length-1;if(i<n)return 0;var r=s(t[i]);if(r>=0)return r>0&&(e.lastNeed=r-1),r;if(--i<n||-2===r)return 0;if((r=s(t[i]))>=0)return r>0&&(e.lastNeed=r-2),r;if(--i<n||-2===r)return 0;if((r=s(t[i]))>=0)return r>0&&(2===r?r=0:e.lastNeed=r-3),r;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var i=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){var i=n(367),r=i.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(o(i,t),t.Buffer=s),o(r,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},function(e,t,n){"use strict";e.exports=s;var i=n(386),r=Object.create(n(381));function o(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);i.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){l(e,t,n)})):l(this,null,null)}function l(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}r.inherits=n(374),r.inherits(s,i),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,i.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var n=this;i.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){"use strict";e.exports=o;var i=n(391),r=Object.create(n(381));function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}r.inherits=n(374),r.inherits(o,i),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(387)},function(e,t,n){e.exports=n(386)},function(e,t,n){e.exports=n(375).Transform},function(e,t,n){e.exports=n(375).PassThrough},function(e,t,n){"use strict";var i=n(365),r=n(366),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e){for(var t,n,r,s,a,l,c,d=[],u=0,h=e.length,p=h,f="string"!==i.getTypeOf(e);u<e.length;)p=h-u,f?(t=e[u++],n=u<h?e[u++]:0,r=u<h?e[u++]:0):(t=e.charCodeAt(u++),n=u<h?e.charCodeAt(u++):0,r=u<h?e.charCodeAt(u++):0),s=t>>2,a=(3&t)<<4|n>>4,l=p>1?(15&n)<<2|r>>6:64,c=p>2?63&r:64,d.push(o.charAt(s)+o.charAt(a)+o.charAt(l)+o.charAt(c));return d.join("")},t.decode=function(e){var t,n,i,s,a,l,c=0,d=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var u,h=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&h--,e.charAt(e.length-2)===o.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(u=r.uint8array?new Uint8Array(0|h):new Array(0|h);c<e.length;)t=o.indexOf(e.charAt(c++))<<2|(s=o.indexOf(e.charAt(c++)))>>4,n=(15&s)<<4|(a=o.indexOf(e.charAt(c++)))>>2,i=(3&a)<<6|(l=o.indexOf(e.charAt(c++))),u[d++]=t,64!==a&&(u[d++]=n),64!==l&&(u[d++]=i);return u}},function(e,t,n){"use strict";(function(t){e.exports={isNode:void 0!==t,newBufferFrom:function(e,n){return new t(e,n)},allocBuffer:function(e){return t.alloc?t.alloc(e):new t(e)},isBuffer:function(e){return t.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}}).call(this,n(367).Buffer)},function(e,t,n){n(400),e.exports=n(403).setImmediate},function(e,t,n){var i=n(401),r=n(416);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},function(e,t,n){var i=n(402),r=n(403),o=n(404),s=n(406),a=function(e,t,n){var l,c,d,u=e&a.F,h=e&a.G,p=e&a.S,f=e&a.P,g=e&a.B,m=e&a.W,b=h?r:r[t]||(r[t]={}),y=b.prototype,S=h?i:p?i[t]:(i[t]||{}).prototype;for(l in h&&(n=t),n)(c=!u&&S&&void 0!==S[l])&&l in b||(d=c?S[l]:n[l],b[l]=h&&"function"!=typeof S[l]?n[l]:g&&c?o(d,i):m&&S[l]==d?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):f&&"function"==typeof d?o(Function.call,d):d,f&&((b.virtual||(b.virtual={}))[l]=d,e&a.R&&y&&!y[l]&&s(y,l,d)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,e.exports=a},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){var i=n(405);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var i=n(407),r=n(415);e.exports=n(411)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(408),r=n(410),o=n(414),s=Object.defineProperty;t.f=n(411)?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return s(e,t,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(409);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(411)&&!n(412)((function(){return 7!=Object.defineProperty(n(413)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){e.exports=!n(412)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){var i=n(409),r=n(402).document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t,n){var i=n(409);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i,r,o,s=n(404),a=n(417),l=n(418),c=n(413),d=n(402),u=d.process,h=d.setImmediate,p=d.clearImmediate,f=d.MessageChannel,g=0,m={},b=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},y=function(e){b.call(e.data)};h&&p||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++g]=function(){a("function"==typeof e?e:Function(e),t)},i(g),g},p=function(e){delete m[e]},"process"==n(419)(u)?i=function(e){u.nextTick(s(b,e,1))}:f?(o=(r=new f).port2,r.port1.onmessage=y,i=s(o.postMessage,o,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(i=function(e){d.postMessage(e+"","*")},d.addEventListener("message",y,!1)):i="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),b.call(e)}}:function(e){setTimeout(s(b,e,1),0)}),e.exports={set:h,clear:p}},function(e,t){e.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){e.exports=n(402).document&&document.documentElement},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";var i=null;i="undefined"!=typeof Promise?Promise:n(421),e.exports={Promise:i}},function(e,t,n){"use strict";var i=n(422);function r(){}var o={},s=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==r&&p(this,e)}function d(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function u(e,t,n){i((function(){var i;try{i=t(n)}catch(r){return o.reject(e,r)}i===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,i)}))}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function i(t){n||(n=!0,o.reject(e,t))}function r(t){n||(n=!0,o.resolve(e,t))}var s=f((function(){t(r,i)}));"error"===s.status&&i(s.value)}function f(e,t){var n={};try{n.value=e(t),n.status="success"}catch(i){n.status="error",n.value=i}return n}e.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===s)return this;var n=new this.constructor(r);this.state!==l?u(n,this.state===a?e:t,this.outcome):this.queue.push(new d(n,e,t));return n},d.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){o.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=f(h,t);if("error"===n.status)return o.reject(e,n.value);var i=n.value;if(i)p(e,i);else{e.state=a,e.outcome=t;for(var r=-1,s=e.queue.length;++r<s;)e.queue[r].callFulfilled(t)}return e},o.reject=function(e,t){e.state=s,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},c.resolve=function(e){if(e instanceof this)return e;return o.resolve(new this(r),e)},c.reject=function(e){var t=new this(r);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);var s=new Array(n),a=0,l=-1,c=new this(r);for(;++l<n;)d(e[l],l);return c;function d(e,r){t.resolve(e).then((function(e){s[r]=e,++a!==n||i||(i=!0,o.resolve(c,s))}),(function(e){i||(i=!0,o.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);var s=-1,a=new this(r);for(;++s<n;)l=e[s],t.resolve(l).then((function(e){i||(i=!0,o.resolve(a,e))}),(function(e){i||(i=!0,o.reject(a,e))}));var l;return a}},function(e,t,n){"use strict";(function(t){var n,i,r=t.MutationObserver||t.WebKitMutationObserver;if(r){var o=0,s=new r(d),a=t.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){d(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(d,0)};else{var l=new t.MessageChannel;l.port1.onmessage=d,n=function(){l.port2.postMessage(0)}}var c=[];function d(){var e,t;i=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}i=!1}e.exports=function(e){1!==c.push(e)||i||n()}}).call(this,n(142))},function(e,t,n){"use strict";function i(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},e.exports=i},function(e,t,n){"use strict";(function(t){var i=n(365),r=n(425),o=n(423),s=n(397),a=n(366),l=n(420),c=null;if(a.nodestream)try{c=n(426)}catch(h){}function d(e,n){return new l.Promise((function(r,o){var a=[],l=e._internalType,c=e._outputType,d=e._mimeType;e.on("data",(function(e,t){a.push(e),n&&n(t)})).on("error",(function(e){a=[],o(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),n);case"base64":return s.encode(t);default:return i.transformTo(e,t)}}(c,function(e,n){var i,r=0,o=null,s=0;for(i=0;i<n.length;i++)s+=n[i].length;switch(e){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(o=new Uint8Array(s),i=0;i<n.length;i++)o.set(n[i],r),r+=n[i].length;return o;case"nodebuffer":return t.concat(n);default:throw new Error("concat : unsupported type '"+e+"'")}}(l,a),d);r(e)}catch(h){o(h)}a=[]})).resume()}))}function u(e,t,n){var s=t;switch(t){case"blob":case"arraybuffer":s="uint8array";break;case"base64":s="string"}try{this._internalType=s,this._outputType=t,this._mimeType=n,i.checkSupport(s),this._worker=e.pipe(new r(s)),e.lock()}catch(h){this._worker=new o("error"),this._worker.error(h)}}u.prototype={accumulate:function(e){return d(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){i.delay(t,arguments,n)})),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},e.exports=u}).call(this,n(367).Buffer)},function(e,t,n){"use strict";var i=n(423),r=n(365);function o(e){i.call(this,"ConvertWorker to "+e),this.destType=e}r.inherits(o,i),o.prototype.processChunk=function(e){this.push({data:r.transformTo(this.destType,e.data),meta:e.meta})},e.exports=o},function(e,t,n){"use strict";var i=n(371).Readable;function r(e,t,n){i.call(this,t),this._helper=e;var r=this;e.on("data",(function(e,t){r.push(e)||r._helper.pause(),n&&n(t)})).on("error",(function(e){r.emit("error",e)})).on("end",(function(){r.push(null)}))}n(365).inherits(r,i),r.prototype._read=function(){this._helper.resume()},e.exports=r},function(e,t,n){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},function(e,t,n){"use strict";var i=n(420),r=n(429),o=n(430),s=n(431);o=n(430);function a(e,t,n,i,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=i,this.compressedContent=r}a.prototype={getContentWorker:function(){var e=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(e,t,n){return e.pipe(new s).pipe(new o("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},e.exports=a},function(e,t,n){"use strict";var i=n(365),r=n(423);function o(e){r.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=i.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}i.inherits(o,r),o.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=o},function(e,t,n){"use strict";var i=n(365),r=n(423);function o(e){r.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}i.inherits(o,r),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}r.prototype.processChunk.call(this,e)},e.exports=o},function(e,t,n){"use strict";var i=n(423),r=n(432);function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n(365).inherits(o,i),o.prototype.processChunk=function(e){this.streamInfo.crc32=r(e.data,this.streamInfo.crc32||0),this.push(e)},e.exports=o},function(e,t,n){"use strict";var i=n(365);var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t){return void 0!==e&&e.length?"string"!==i.getTypeOf(e)?function(e,t,n,i){var o=r,s=i+n;e^=-1;for(var a=i;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}(0|t,e,e.length,0):function(e,t,n,i){var o=r,s=i+n;e^=-1;for(var a=i;a<s;a++)e=e>>>8^o[255&(e^t.charCodeAt(a))];return-1^e}(0|t,e,e.length,0):0}},function(e,t,n){"use strict";var i=n(424),r=n(429),o=n(364),s=n(428),a=n(423),l=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};l.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var s=!this._dataBinary;s&&!r&&(t=t.pipe(new o.Utf8EncodeWorker)),!s&&r&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(l){(t=new a("error")).error(l)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof a?this._data:new r(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<c.length;u++)l.prototype[c[u]]=d;e.exports=l},function(e,t,n){"use strict";var i=n(435),r=n(453);t.generateWorker=function(e,t,n){var o=new r(t.streamFiles,n,t.platform,t.encodeFileName),s=0;try{e.forEach((function(e,n){s++;var r=function(e,t){var n=e||t,r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r}(n.options.compression,t.compression),a=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,c=n.date;n._compressWorker(r,a).withStreamInfo("file",{name:e,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=s}catch(a){o.error(a)}return o}},function(e,t,n){"use strict";var i=n(423);t.STORE={magic:"\0\0",compressWorker:function(e){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},t.DEFLATE=n(436)},function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=n(437),o=n(365),s=n(423),a=i?"uint8array":"array";function l(e,t){s.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}t.magic="\b\0",o.inherits(l,s),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(a,e.data),!1)},l.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},t.compressWorker=function(e){return new l("Deflate",e)},t.uncompressWorker=function(){return new l("Inflate",{})}},function(e,t,n){"use strict";var i={};(0,n(438).assign)(i,n(439),n(447),n(451)),e.exports=i},function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(e[i]=n[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,s;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(s=new Uint8Array(i),r=0,t=0,n=e.length;t<n;t++)o=e[t],s.set(o,r),r+=o.length;return s}},s={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,s))},t.setTyped(i)},function(e,t,n){"use strict";var i=n(440),r=n(438),o=n(445),s=n(444),a=n(446),l=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(s[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var d;if(d="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=i.deflateSetDictionary(this.strm,d)))throw new Error(s[n]);this._dict_set=!0}}function d(e,t){var n=new c(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}c.prototype.push=function(e,t){var n,s,a=this.strm,c=this.options.chunkSize;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,"string"==typeof e?a.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new r.Buf8(c),a.next_out=0,a.avail_out=c),1!==(n=i.deflate(a,s))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(o.buf2binstring(r.shrinkBuf(a.output,a.next_out))):this.onData(r.shrinkBuf(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&1!==n);return 4===s?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==s||(this.onEnd(0),a.avail_out=0,!0)},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=c,t.deflate=d,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,d(e,t)}},function(e,t,n){"use strict";var i,r=n(438),o=n(441),s=n(442),a=n(443),l=n(444);function c(e,t){return e.msg=l[t],t}function d(e){return(e<<1)-(e>4?9:0)}function u(e){for(var t=e.length;--t>=0;)e[t]=0}function h(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function p(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,h(e.strm)}function f(e,t){e.pending_buf[e.pending++]=t}function g(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function m(e,t){var n,i,r=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,c=e.window,d=e.w_mask,u=e.prev,h=e.strstart+258,p=c[o+s-1],f=c[o+s];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do{if(c[(n=t)+s]===f&&c[n+s-1]===p&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<h);if(i=258-(h-o),o=h-258,i>s){if(e.match_start=t,s=i,i>=a)break;p=c[o+s-1],f=c[o+s]}}}while((t=u[t&d])>l&&0!=--r);return s<=e.lookahead?s:e.lookahead}function b(e){var t,n,i,o,l,c,d,u,h,p,f=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=f+(f-262)){r.arraySet(e.window,e.window,f,f,0),e.match_start-=f,e.strstart-=f,e.block_start-=f,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=f?i-f:0}while(--n);t=n=f;do{i=e.prev[--t],e.prev[t]=i>=f?i-f:0}while(--n);o+=f}if(0===e.strm.avail_in)break;if(c=e.strm,d=e.window,u=e.strstart+e.lookahead,h=o,p=void 0,(p=c.avail_in)>h&&(p=h),n=0===p?0:(c.avail_in-=p,r.arraySet(d,c.input,c.next_in,p,u),1===c.state.wrap?c.adler=s(c.adler,d,p,u):2===c.state.wrap&&(c.adler=a(c.adler,d,p,u)),c.next_in+=p,c.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function y(e,t){for(var n,i;;){if(e.lookahead<262){if(b(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=m(e,n)),e.match_length>=3)if(i=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(p(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(p(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}function S(e,t){for(var n,i,r;;){if(e.lookahead<262){if(b(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=m(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(p(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=o._tr_tally(e,0,e.window[e.strstart-1]))&&p(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(p(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}function v(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function C(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),u(this.dyn_ltree),u(this.dyn_dtree),u(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),u(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),u(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function O(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):c(e,-2)}function E(e){var t,n=O(e);return 0===n&&((t=e.state).window_size=2*t.w_size,u(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function T(e,t,n,i,o,s){if(!e)return-2;var a=1;if(-1===t&&(t=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),o<1||o>9||8!==n||i<8||i>15||t<0||t>9||s<0||s>4)return c(e,-2);8===i&&(i=9);var l=new C;return e.state=l,l.strm=e,l.wrap=a,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=s,l.method=n,E(e)}i=[new v(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(b(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,p(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(p(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(p(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(p(e,!1),e.strm.avail_out),1)})),new v(4,4,8,4,y),new v(4,5,16,8,y),new v(4,6,32,32,y),new v(4,4,16,16,S),new v(8,16,32,32,S),new v(8,16,128,128,S),new v(8,32,128,256,S),new v(32,128,258,1024,S),new v(32,258,258,4096,S)],t.deflateInit=function(e,t){return T(e,t,8,15,8,0)},t.deflateInit2=T,t.deflateReset=E,t.deflateResetKeep=O,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?-2:(e.state.gzhead=t,0):-2},t.deflate=function(e,t){var n,r,s,l;if(!e||!e.state||t>5||t<0)return e?c(e,-2):-2;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||666===r.status&&4!==t)return c(e,0===e.avail_out?-5:-2);if(r.strm=e,n=r.last_flush,r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,f(r,31),f(r,139),f(r,8),r.gzhead?(f(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),f(r,255&r.gzhead.time),f(r,r.gzhead.time>>8&255),f(r,r.gzhead.time>>16&255),f(r,r.gzhead.time>>24&255),f(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),f(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(f(r,255&r.gzhead.extra.length),f(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=a(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(f(r,0),f(r,0),f(r,0),f(r,0),f(r,0),f(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),f(r,3),r.status=113);else{var m=8+(r.w_bits-8<<4)<<8;m|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(m|=32),m+=31-m%31,r.status=113,g(r,m),0!==r.strstart&&(g(r,e.adler>>>16),g(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(s=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),h(e),s=r.pending,r.pending!==r.pending_buf_size));)f(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),h(e),s=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,f(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),0===l&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),h(e),s=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,f(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>s&&(e.adler=a(e.adler,r.pending_buf,r.pending-s,s)),0===l&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&h(e),r.pending+2<=r.pending_buf_size&&(f(r,255&e.adler),f(r,e.adler>>8&255),e.adler=0,r.status=113)):r.status=113),0!==r.pending){if(h(e),0===e.avail_out)return r.last_flush=-1,0}else if(0===e.avail_in&&d(t)<=d(n)&&4!==t)return c(e,-5);if(666===r.status&&0!==e.avail_in)return c(e,-5);if(0!==e.avail_in||0!==r.lookahead||0!==t&&666!==r.status){var y=2===r.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(b(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(p(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(p(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}(r,t):3===r.strategy?function(e,t){for(var n,i,r,s,a=e.window;;){if(e.lookahead<=258){if(b(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=a[r=e.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r]){s=e.strstart+258;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<s);e.match_length=258-(s-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(p(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(p(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}(r,t):i[r.level].func(r,t);if(3!==y&&4!==y||(r.status=666),1===y||3===y)return 0===e.avail_out&&(r.last_flush=-1),0;if(2===y&&(1===t?o._tr_align(r):5!==t&&(o._tr_stored_block(r,0,0,!1),3===t&&(u(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),h(e),0===e.avail_out))return r.last_flush=-1,0}return 4!==t?0:r.wrap<=0?1:(2===r.wrap?(f(r,255&e.adler),f(r,e.adler>>8&255),f(r,e.adler>>16&255),f(r,e.adler>>24&255),f(r,255&e.total_in),f(r,e.total_in>>8&255),f(r,e.total_in>>16&255),f(r,e.total_in>>24&255)):(g(r,e.adler>>>16),g(r,65535&e.adler)),h(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?c(e,-2):(e.state=null,113===t?c(e,-3):0):-2},t.deflateSetDictionary=function(e,t){var n,i,o,a,l,c,d,h,p=t.length;if(!e||!e.state)return-2;if(2===(a=(n=e.state).wrap)||1===a&&42!==n.status||n.lookahead)return-2;for(1===a&&(e.adler=s(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===a&&(u(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new r.Buf8(n.w_size),r.arraySet(h,t,p-n.w_size,n.w_size,0),t=h,p=n.w_size),l=e.avail_in,c=e.next_in,d=e.input,e.avail_in=p,e.next_in=0,e.input=t,b(n);n.lookahead>=3;){i=n.strstart,o=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+3-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--o);n.strstart=i,n.lookahead=2,b(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=c,e.input=d,e.avail_in=l,n.wrap=a,0},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";var i=n(438);function r(e){for(var t=e.length;--t>=0;)e[t]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],s=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576);r(c);var d=new Array(60);r(d);var u=new Array(512);r(u);var h=new Array(256);r(h);var p=new Array(29);r(p);var f,g,m,b=new Array(30);function y(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function S(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function v(e){return e<256?u[e]:u[256+(e>>>7)]}function C(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function O(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,C(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function E(e,t,n){O(e,n[2*t],n[2*t+1])}function T(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function D(e,t,n){var i,r,o=new Array(16),s=0;for(i=1;i<=15;i++)o[i]=s=s+n[i-1]<<1;for(r=0;r<=t;r++){var a=e[2*r+1];0!==a&&(e[2*r]=T(o[a]++,a))}}function k(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function w(e){e.bi_valid>8?C(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function _(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function j(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&_(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!_(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function P(e,t,n){var i,r,a,l,c=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],r=e.pending_buf[e.l_buf+c],c++,0===i?E(e,r,t):(E(e,(a=h[r])+256+1,t),0!==(l=o[a])&&O(e,r-=p[a],l),E(e,a=v(--i),n),0!==(l=s[a])&&O(e,i-=b[a],l))}while(c<e.last_lit);E(e,256,t)}function R(e,t){var n,i,r,o=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[r]=0,e.opt_len--,a&&(e.static_len-=s[2*r+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)j(e,o,n);r=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],j(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,j(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,s,a,l=t.dyn_tree,c=t.max_code,d=t.stat_desc.static_tree,u=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,f=t.stat_desc.max_length,g=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=l[2*l[2*(i=e.heap[n])+1]+1]+1)>f&&(o=f,g++),l[2*i+1]=o,i>c||(e.bl_count[o]++,s=0,i>=p&&(s=h[i-p]),a=l[2*i],e.opt_len+=a*(o+s),u&&(e.static_len+=a*(d[2*i+1]+s)));if(0!==g){do{for(o=f-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[f]--,g-=2}while(g>0);for(o=f;0!==o;o--)for(i=e.bl_count[o];0!==i;)(r=e.heap[--n])>c||(l[2*r+1]!==o&&(e.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}(e,t),D(o,c,e.bl_count)}function I(e,t,n){var i,r,o=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=t[2*(i+1)+1],++a<l&&r===s||(a<c?e.bl_tree[2*r]+=a:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,o=r,0===s?(l=138,c=3):r===s?(l=6,c=3):(l=7,c=4))}function A(e,t,n){var i,r,o=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),i=0;i<=n;i++)if(r=s,s=t[2*(i+1)+1],!(++a<l&&r===s)){if(a<c)do{E(e,r,e.bl_tree)}while(0!=--a);else 0!==r?(r!==o&&(E(e,r,e.bl_tree),a--),E(e,16,e.bl_tree),O(e,a-3,2)):a<=10?(E(e,17,e.bl_tree),O(e,a-3,3)):(E(e,18,e.bl_tree),O(e,a-11,7));a=0,o=r,0===s?(l=138,c=3):r===s?(l=6,c=3):(l=7,c=4)}}r(b);var x=!1;function N(e,t,n,r){O(e,0+(r?1:0),3),function(e,t,n,r){w(e),r&&(C(e,n),C(e,~n)),i.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){x||(!function(){var e,t,n,i,r,l=new Array(16);for(n=0,i=0;i<28;i++)for(p[i]=n,e=0;e<1<<o[i];e++)h[n++]=i;for(h[n-1]=i,r=0,i=0;i<16;i++)for(b[i]=r,e=0;e<1<<s[i];e++)u[r++]=i;for(r>>=7;i<30;i++)for(b[i]=r<<7,e=0;e<1<<s[i]-7;e++)u[256+r++]=i;for(t=0;t<=15;t++)l[t]=0;for(e=0;e<=143;)c[2*e+1]=8,e++,l[8]++;for(;e<=255;)c[2*e+1]=9,e++,l[9]++;for(;e<=279;)c[2*e+1]=7,e++,l[7]++;for(;e<=287;)c[2*e+1]=8,e++,l[8]++;for(D(c,287,l),e=0;e<30;e++)d[2*e+1]=5,d[2*e]=T(e,5);f=new y(c,o,257,286,15),g=new y(d,s,0,30,15),m=new y(new Array(0),a,0,19,7)}(),x=!0),e.l_desc=new S(e.dyn_ltree,f),e.d_desc=new S(e.dyn_dtree,g),e.bl_desc=new S(e.bl_tree,m),e.bi_buf=0,e.bi_valid=0,k(e)},t._tr_stored_block=N,t._tr_flush_block=function(e,t,n,i){var r,o,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),R(e,e.l_desc),R(e,e.d_desc),s=function(e){var t;for(I(e,e.dyn_ltree,e.l_desc.max_code),I(e,e.dyn_dtree,e.d_desc.max_code),R(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*l[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==t?N(e,t,n,i):4===e.strategy||o===r?(O(e,2+(i?1:0),3),P(e,c,d)):(O(e,4+(i?1:0),3),function(e,t,n,i){var r;for(O(e,t-257,5),O(e,n-1,5),O(e,i-4,4),r=0;r<i;r++)O(e,e.bl_tree[2*l[r]+1],3);A(e,e.dyn_ltree,t-1),A(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),P(e,e.dyn_ltree,e.dyn_dtree)),k(e),i&&w(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(h[n]+256+1)]++,e.dyn_dtree[2*v(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){O(e,2,3),E(e,256,c),function(e){16===e.bi_valid?(C(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";e.exports=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{o=o+(r=r+t[i++]|0)|0}while(--s);r%=65521,o%=65521}return r|o<<16|0}},function(e,t,n){"use strict";var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,r){var o=i,s=r+n;e^=-1;for(var a=r;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){"use strict";var i=n(438),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(c){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(c){o=!1}for(var s=new i.Buf8(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",s=0;s<t;s++)n+=String.fromCharCode(e[s]);return n}s[254]=s[254]=1,t.string2buf=function(e){var t,n,r,o,s,a=e.length,l=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(l),s=0,o=0;s<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,i,r,o,a=t||e.length,c=new Array(2*a);for(i=0,n=0;n<a;)if((r=e[n++])<128)c[i++]=r;else if((o=s[r])>4)c[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&n<a;)r=r<<6|63&e[n++],o--;o>1?c[i++]=65533:r<65536?c[i++]=r:(r-=65536,c[i++]=55296|r>>10&1023,c[i++]=56320|1023&r)}return l(c,i)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";var i=n(448),r=n(438),o=n(445),s=n(451),a=n(444),l=n(446),c=n(452),d=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,t.windowBits);if(n!==s.Z_OK)throw new Error(a[n]);if(this.header=new c,i.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===d.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=i.inflateSetDictionary(this.strm,t.dictionary))!==s.Z_OK))throw new Error(a[n])}function h(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}u.prototype.push=function(e,t){var n,a,l,c,u,h=this.strm,p=this.options.chunkSize,f=this.options.dictionary,g=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof e?h.input=o.binstring2buf(e):"[object ArrayBuffer]"===d.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new r.Buf8(p),h.next_out=0,h.avail_out=p),(n=i.inflate(h,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&f&&(n=i.inflateSetDictionary(this.strm,f)),n===s.Z_BUF_ERROR&&!0===g&&(n=s.Z_OK,g=!1),n!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&n!==s.Z_STREAM_END&&(0!==h.avail_in||a!==s.Z_FINISH&&a!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(h.output,h.next_out),c=h.next_out-l,u=o.buf2string(h.output,l),h.next_out=c,h.avail_out=p-c,c&&r.arraySet(h.output,h.output,l,c,0),this.onData(u)):this.onData(r.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(g=!0)}while((h.avail_in>0||0===h.avail_out)&&n!==s.Z_STREAM_END);return n===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK):a!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),h.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){e===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=u,t.inflate=h,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},t.ungzip=h},function(e,t,n){"use strict";var i=n(438),r=n(442),o=n(443),s=n(449),a=n(450);function l(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function c(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(852),t.distcode=t.distdyn=new i.Buf32(592),t.sane=1,t.back=-1,0):-2}function u(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,d(e)):-2}function h(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,u(e))):-2}function p(e,t){var n,i;return e?(i=new c,e.state=i,i.window=null,0!==(n=h(e,t))&&(e.state=null),n):-2}var f,g,m=!0;function b(e){if(m){var t;for(f=new i.Buf32(512),g=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(1,e.lens,0,288,f,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(2,e.lens,0,32,g,0,e.work,{bits:5}),m=!1}e.lencode=f,e.lenbits=9,e.distcode=g,e.distbits=5}function y(e,t,n,r){var o,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new i.Buf8(s.wsize)),r>=s.wsize?(i.arraySet(s.window,t,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((o=s.wsize-s.wnext)>r&&(o=r),i.arraySet(s.window,t,n-r,o,s.wnext),(r-=o)?(i.arraySet(s.window,t,n-r,r,0),s.wnext=r,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}t.inflateReset=u,t.inflateReset2=h,t.inflateResetKeep=d,t.inflateInit=function(e){return p(e,15)},t.inflateInit2=p,t.inflate=function(e,t){var n,c,d,u,h,p,f,g,m,S,v,C,O,E,T,D,k,w,_,j,P,R,I,A,x=0,N=new i.Buf8(4),L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(n=e.state).mode&&(n.mode=13),h=e.next_out,d=e.output,f=e.avail_out,u=e.next_in,c=e.input,p=e.avail_in,g=n.hold,m=n.bits,S=p,v=f,R=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;m<16;){if(0===p)break e;p--,g+=c[u++]<<m,m+=8}if(2&n.wrap&&35615===g){n.check=0,N[0]=255&g,N[1]=g>>>8&255,n.check=o(n.check,N,2,0),g=0,m=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&g)<<8)+(g>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&g)){e.msg="unknown compression method",n.mode=30;break}if(m-=4,P=8+(15&(g>>>=4)),0===n.wbits)n.wbits=P;else if(P>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<P,e.adler=n.check=1,n.mode=512&g?10:12,g=0,m=0;break;case 2:for(;m<16;){if(0===p)break e;p--,g+=c[u++]<<m,m+=8}if(n.flags=g,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=g>>8&1),512&n.flags&&(N[0]=255&g,N[1]=g>>>8&255,n.check=o(n.check,N,2,0)),g=0,m=0,n.mode=3;case 3:for(;m<32;){if(0===p)break e;p--,g+=c[u++]<<m,m+=8}n.head&&(n.head.time=g),512&n.flags&&(N[0]=255&g,N[1]=g>>>8&255,N[2]=g>>>16&255,N[3]=g>>>24&255,n.check=o(n.check,N,4,0)),g=0,m=0,n.mode=4;case 4:for(;m<16;){if(0===p)break e;p--,g+=c[u++]<<m,m+=8}n.head&&(n.head.xflags=255&g,n.head.os=g>>8),512&n.flags&&(N[0]=255&g,N[1]=g>>>8&255,n.check=o(n.check,N,2,0)),g=0,m=0,n.mode=5;case 5:if(1024&n.flags){for(;m<16;){if(0===p)break e;p--,g+=c[u++]<<m,m+=8}n.length=g,n.head&&(n.head.extra_len=g),512&n.flags&&(N[0]=255&g,N[1]=g>>>8&255,n.check=o(n.check,N,2,0)),g=0,m=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((C=n.length)>p&&(C=p),C&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,c,u,C,P)),512&n.flags&&(n.check=o(n.check,c,C,u)),p-=C,u+=C,n.length-=C),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===p)break e;C=0;do{P=c[u+C++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P))}while(P&&C<p);if(512&n.flags&&(n.check=o(n.check,c,C,u)),p-=C,u+=C,P)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===p)break e;C=0;do{P=c[u+C++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P))}while(P&&C<p);if(512&n.flags&&(n.check=o(n.check,c,C,u)),p-=C,u+=C,P)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;m<16;){if(0===p)break e;p--,g+=c[u++]<<m,m+=8}if(g!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}g=0,m=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;m<32;){if(0===p)break e;p--,g+=c[u++]<<m,m+=8}e.adler=n.check=l(g),g=0,m=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=h,e.avail_out=f,e.next_in=u,e.avail_in=p,n.hold=g,n.bits=m,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){g>>>=7&m,m-=7&m,n.mode=27;break}for(;m<3;){if(0===p)break e;p--,g+=c[u++]<<m,m+=8}switch(n.last=1&g,m-=1,3&(g>>>=1)){case 0:n.mode=14;break;case 1:if(b(n),n.mode=20,6===t){g>>>=2,m-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}g>>>=2,m-=2;break;case 14:for(g>>>=7&m,m-=7&m;m<32;){if(0===p)break e;p--,g+=c[u++]<<m,m+=8}if((65535&g)!=(g>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&g,g=0,m=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(C=n.length){if(C>p&&(C=p),C>f&&(C=f),0===C)break e;i.arraySet(d,c,u,C,h),p-=C,u+=C,f-=C,h+=C,n.length-=C;break}n.mode=12;break;case 17:for(;m<14;){if(0===p)break e;p--,g+=c[u++]<<m,m+=8}if(n.nlen=257+(31&g),g>>>=5,m-=5,n.ndist=1+(31&g),g>>>=5,m-=5,n.ncode=4+(15&g),g>>>=4,m-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;m<3;){if(0===p)break e;p--,g+=c[u++]<<m,m+=8}n.lens[L[n.have++]]=7&g,g>>>=3,m-=3}for(;n.have<19;)n.lens[L[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,I={bits:n.lenbits},R=a(0,n.lens,0,19,n.lencode,0,n.work,I),n.lenbits=I.bits,R){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;D=(x=n.lencode[g&(1<<n.lenbits)-1])>>>16&255,k=65535&x,!((T=x>>>24)<=m);){if(0===p)break e;p--,g+=c[u++]<<m,m+=8}if(k<16)g>>>=T,m-=T,n.lens[n.have++]=k;else{if(16===k){for(A=T+2;m<A;){if(0===p)break e;p--,g+=c[u++]<<m,m+=8}if(g>>>=T,m-=T,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}P=n.lens[n.have-1],C=3+(3&g),g>>>=2,m-=2}else if(17===k){for(A=T+3;m<A;){if(0===p)break e;p--,g+=c[u++]<<m,m+=8}m-=T,P=0,C=3+(7&(g>>>=T)),g>>>=3,m-=3}else{for(A=T+7;m<A;){if(0===p)break e;p--,g+=c[u++]<<m,m+=8}m-=T,P=0,C=11+(127&(g>>>=T)),g>>>=7,m-=7}if(n.have+C>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;C--;)n.lens[n.have++]=P}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,I={bits:n.lenbits},R=a(1,n.lens,0,n.nlen,n.lencode,0,n.work,I),n.lenbits=I.bits,R){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,I={bits:n.distbits},R=a(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,I),n.distbits=I.bits,R){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(p>=6&&f>=258){e.next_out=h,e.avail_out=f,e.next_in=u,e.avail_in=p,n.hold=g,n.bits=m,s(e,v),h=e.next_out,d=e.output,f=e.avail_out,u=e.next_in,c=e.input,p=e.avail_in,g=n.hold,m=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;D=(x=n.lencode[g&(1<<n.lenbits)-1])>>>16&255,k=65535&x,!((T=x>>>24)<=m);){if(0===p)break e;p--,g+=c[u++]<<m,m+=8}if(D&&0==(240&D)){for(w=T,_=D,j=k;D=(x=n.lencode[j+((g&(1<<w+_)-1)>>w)])>>>16&255,k=65535&x,!(w+(T=x>>>24)<=m);){if(0===p)break e;p--,g+=c[u++]<<m,m+=8}g>>>=w,m-=w,n.back+=w}if(g>>>=T,m-=T,n.back+=T,n.length=k,0===D){n.mode=26;break}if(32&D){n.back=-1,n.mode=12;break}if(64&D){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&D,n.mode=22;case 22:if(n.extra){for(A=n.extra;m<A;){if(0===p)break e;p--,g+=c[u++]<<m,m+=8}n.length+=g&(1<<n.extra)-1,g>>>=n.extra,m-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;D=(x=n.distcode[g&(1<<n.distbits)-1])>>>16&255,k=65535&x,!((T=x>>>24)<=m);){if(0===p)break e;p--,g+=c[u++]<<m,m+=8}if(0==(240&D)){for(w=T,_=D,j=k;D=(x=n.distcode[j+((g&(1<<w+_)-1)>>w)])>>>16&255,k=65535&x,!(w+(T=x>>>24)<=m);){if(0===p)break e;p--,g+=c[u++]<<m,m+=8}g>>>=w,m-=w,n.back+=w}if(g>>>=T,m-=T,n.back+=T,64&D){e.msg="invalid distance code",n.mode=30;break}n.offset=k,n.extra=15&D,n.mode=24;case 24:if(n.extra){for(A=n.extra;m<A;){if(0===p)break e;p--,g+=c[u++]<<m,m+=8}n.offset+=g&(1<<n.extra)-1,g>>>=n.extra,m-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===f)break e;if(C=v-f,n.offset>C){if((C=n.offset-C)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}C>n.wnext?(C-=n.wnext,O=n.wsize-C):O=n.wnext-C,C>n.length&&(C=n.length),E=n.window}else E=d,O=h-n.offset,C=n.length;C>f&&(C=f),f-=C,n.length-=C;do{d[h++]=E[O++]}while(--C);0===n.length&&(n.mode=21);break;case 26:if(0===f)break e;d[h++]=n.length,f--,n.mode=21;break;case 27:if(n.wrap){for(;m<32;){if(0===p)break e;p--,g|=c[u++]<<m,m+=8}if(v-=f,e.total_out+=v,n.total+=v,v&&(e.adler=n.check=n.flags?o(n.check,d,v,h-v):r(n.check,d,v,h-v)),v=f,(n.flags?g:l(g))!==n.check){e.msg="incorrect data check",n.mode=30;break}g=0,m=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;m<32;){if(0===p)break e;p--,g+=c[u++]<<m,m+=8}if(g!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}g=0,m=0}n.mode=29;case 29:R=1;break e;case 30:R=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=h,e.avail_out=f,e.next_in=u,e.avail_in=p,n.hold=g,n.bits=m,(n.wsize||v!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&y(e,e.output,e.next_out,v-e.avail_out)?(n.mode=31,-4):(S-=e.avail_in,v-=e.avail_out,e.total_in+=S,e.total_out+=v,n.total+=v,n.wrap&&v&&(e.adler=n.check=n.flags?o(n.check,d,v,e.next_out-v):r(n.check,d,v,e.next_out-v)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===S&&0===v||4===t)&&0===R&&(R=-5),R)},t.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?-2:(n.head=t,t.done=!1,0):-2},t.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?-2:11===n.mode&&r(1,t,i,0)!==n.check?-3:y(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,0):-2},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,i,r,o,s,a,l,c,d,u,h,p,f,g,m,b,y,S,v,C,O,E,T,D,k;n=e.state,i=e.next_in,D=e.input,r=i+(e.avail_in-5),o=e.next_out,k=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),l=n.dmax,c=n.wsize,d=n.whave,u=n.wnext,h=n.window,p=n.hold,f=n.bits,g=n.lencode,m=n.distcode,b=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{f<15&&(p+=D[i++]<<f,f+=8,p+=D[i++]<<f,f+=8),S=g[p&b];t:for(;;){if(p>>>=v=S>>>24,f-=v,0===(v=S>>>16&255))k[o++]=65535&S;else{if(!(16&v)){if(0==(64&v)){S=g[(65535&S)+(p&(1<<v)-1)];continue t}if(32&v){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}C=65535&S,(v&=15)&&(f<v&&(p+=D[i++]<<f,f+=8),C+=p&(1<<v)-1,p>>>=v,f-=v),f<15&&(p+=D[i++]<<f,f+=8,p+=D[i++]<<f,f+=8),S=m[p&y];n:for(;;){if(p>>>=v=S>>>24,f-=v,!(16&(v=S>>>16&255))){if(0==(64&v)){S=m[(65535&S)+(p&(1<<v)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(O=65535&S,f<(v&=15)&&(p+=D[i++]<<f,(f+=8)<v&&(p+=D[i++]<<f,f+=8)),(O+=p&(1<<v)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=v,f-=v,O>(v=o-s)){if((v=O-v)>d&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(E=0,T=h,0===u){if(E+=c-v,v<C){C-=v;do{k[o++]=h[E++]}while(--v);E=o-O,T=k}}else if(u<v){if(E+=c+u-v,(v-=u)<C){C-=v;do{k[o++]=h[E++]}while(--v);if(E=0,u<C){C-=v=u;do{k[o++]=h[E++]}while(--v);E=o-O,T=k}}}else if(E+=u-v,v<C){C-=v;do{k[o++]=h[E++]}while(--v);E=o-O,T=k}for(;C>2;)k[o++]=T[E++],k[o++]=T[E++],k[o++]=T[E++],C-=3;C&&(k[o++]=T[E++],C>1&&(k[o++]=T[E++]))}else{E=o-O;do{k[o++]=k[E++],k[o++]=k[E++],k[o++]=k[E++],C-=3}while(C>2);C&&(k[o++]=k[E++],C>1&&(k[o++]=k[E++]))}break}}break}}while(i<r&&o<a);i-=C=f>>3,p&=(1<<(f-=C<<3))-1,e.next_in=i,e.next_out=o,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=o<a?a-o+257:257-(o-a),n.hold=p,n.bits=f}},function(e,t,n){"use strict";var i=n(438),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,c,d,u,h){var p,f,g,m,b,y,S,v,C,O=h.bits,E=0,T=0,D=0,k=0,w=0,_=0,j=0,P=0,R=0,I=0,A=null,x=0,N=new i.Buf16(16),L=new i.Buf16(16),U=null,M=0;for(E=0;E<=15;E++)N[E]=0;for(T=0;T<l;T++)N[t[n+T]]++;for(w=O,k=15;k>=1&&0===N[k];k--);if(w>k&&(w=k),0===k)return c[d++]=20971520,c[d++]=20971520,h.bits=1,0;for(D=1;D<k&&0===N[D];D++);for(w<D&&(w=D),P=1,E=1;E<=15;E++)if(P<<=1,(P-=N[E])<0)return-1;if(P>0&&(0===e||1!==k))return-1;for(L[1]=0,E=1;E<15;E++)L[E+1]=L[E]+N[E];for(T=0;T<l;T++)0!==t[n+T]&&(u[L[t[n+T]]++]=T);if(0===e?(A=U=u,y=19):1===e?(A=r,x-=257,U=o,M-=257,y=256):(A=s,U=a,y=-1),I=0,T=0,E=D,b=d,_=w,j=0,g=-1,m=(R=1<<w)-1,1===e&&R>852||2===e&&R>592)return 1;for(;;){S=E-j,u[T]<y?(v=0,C=u[T]):u[T]>y?(v=U[M+u[T]],C=A[x+u[T]]):(v=96,C=0),p=1<<E-j,D=f=1<<_;do{c[b+(I>>j)+(f-=p)]=S<<24|v<<16|C|0}while(0!==f);for(p=1<<E-1;I&p;)p>>=1;if(0!==p?(I&=p-1,I+=p):I=0,T++,0==--N[E]){if(E===k)break;E=t[n+u[T]]}if(E>w&&(I&m)!==g){for(0===j&&(j=w),b+=D,P=1<<(_=E-j);_+j<k&&!((P-=N[_+j])<=0);)_++,P<<=1;if(R+=1<<_,1===e&&R>852||2===e&&R>592)return 1;c[g=I&m]=w<<24|_<<16|b-d|0}}return 0!==I&&(c[b+I]=E-j<<24|64<<16|0),h.bits=w,0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,n){"use strict";var i=n(365),r=n(423),o=n(364),s=n(432),a=n(454),l=function(e,t){var n,i="";for(n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i},c=function(e,t,n,r,c,d){var u,h,p=e.file,f=e.compression,g=d!==o.utf8encode,m=i.transformTo("string",d(p.name)),b=i.transformTo("string",o.utf8encode(p.name)),y=p.comment,S=i.transformTo("string",d(y)),v=i.transformTo("string",o.utf8encode(y)),C=b.length!==p.name.length,O=v.length!==y.length,E="",T="",D="",k=p.dir,w=p.date,_={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(_.crc32=e.crc32,_.compressedSize=e.compressedSize,_.uncompressedSize=e.uncompressedSize);var j=0;t&&(j|=8),g||!C&&!O||(j|=2048);var P,R,I,A=0,x=0;k&&(A|=16),"UNIX"===c?(x=798,A|=(P=p.unixPermissions,R=k,I=P,P||(I=R?16893:33204),(65535&I)<<16)):(x=20,A|=63&(p.dosPermissions||0)),u=w.getUTCHours(),u<<=6,u|=w.getUTCMinutes(),u<<=5,u|=w.getUTCSeconds()/2,h=w.getUTCFullYear()-1980,h<<=4,h|=w.getUTCMonth()+1,h<<=5,h|=w.getUTCDate(),C&&(T=l(1,1)+l(s(m),4)+b,E+="up"+l(T.length,2)+T),O&&(D=l(1,1)+l(s(S),4)+v,E+="uc"+l(D.length,2)+D);var N="";return N+="\n\0",N+=l(j,2),N+=f.magic,N+=l(u,2),N+=l(h,2),N+=l(_.crc32,4),N+=l(_.compressedSize,4),N+=l(_.uncompressedSize,4),N+=l(m.length,2),N+=l(E.length,2),{fileRecord:a.LOCAL_FILE_HEADER+N+m+E,dirRecord:a.CENTRAL_FILE_HEADER+l(x,2)+N+l(S.length,2)+"\0\0\0\0"+l(A,4)+l(r,4)+m+E+S}},d=function(e){return a.DATA_DESCRIPTOR+l(e.crc32,4)+l(e.compressedSize,4)+l(e.uncompressedSize,4)};function u(e,t,n,i){r.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(u,r),u.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,r.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-i-1))/n:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=c(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=c(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:d(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,r=function(e,t,n,r,o){var s=i.transformTo("string",o(r));return a.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(e,2)+l(e,2)+l(t,4)+l(n,4)+l(s.length,2)+s}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},u.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!r.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},u.prototype.lock=function(){r.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},e.exports=u},function(e,t,n){"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\b"},function(e,t,n){"use strict";var i=n(365),r=n(423);function o(e,t){r.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}i.inherits(o,r),o.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=o},function(e,t,n){"use strict";var i=n(365),r=n(420),o=n(364),s=(i=n(365),n(457)),a=n(431),l=n(398);function c(e){return new r.Promise((function(t,n){var i=e.decompressed.getContentWorker().pipe(new a);i.on("error",(function(e){n(e)})).on("end",(function(){i.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}e.exports=function(e,t){var n=this;return t=i.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(e)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new s(t);return n.load(e),n})).then((function(e){var n=[r.Promise.resolve(e)],i=e.files;if(t.checkCRC32)for(var o=0;o<i.length;o++)n.push(c(i[o]));return r.Promise.all(n)})).then((function(e){for(var i=e.shift(),r=i.files,o=0;o<r.length;o++){var s=r[o];n.file(s.fileNameStr,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n}))}},function(e,t,n){"use strict";var i=n(458),r=n(365),o=n(454),s=n(464),a=(n(364),n(366));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(t)+", expected "+r.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4)===t;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=a.uint8array?"uint8array":"array",n=r.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw!this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=t-n;if(i>0)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(e){this.reader=i(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=l},function(e,t,n){"use strict";var i=n(365),r=n(366),o=n(459),s=n(461),a=n(462),l=n(463);e.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new a(e):r.uint8array?new l(i.transformTo("uint8array",e)):new o(i.transformTo("array",e)):new s(e)}},function(e,t,n){"use strict";var i=n(460);function r(e){i.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}n(365).inherits(r,i),r.prototype.byteAt=function(e){return this.data[this.zero+e]},r.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},r.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&i===o[2]&&r===o[3]},r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=r},function(e,t,n){"use strict";var i=n(365);function r(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},e.exports=r},function(e,t,n){"use strict";var i=n(460);function r(e){i.call(this,e)}n(365).inherits(r,i),r.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},r.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},r.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=r},function(e,t,n){"use strict";var i=n(463);function r(e){i.call(this,e)}n(365).inherits(r,i),r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=r},function(e,t,n){"use strict";var i=n(459);function r(e){i.call(this,e)}n(365).inherits(r,i),r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=r},function(e,t,n){"use strict";var i=n(458),r=n(365),o=n(428),s=n(432),a=n(364),l=n(435),c=n(366);function d(e,t){this.options=e,this.loadOptions=t}d.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,i,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<r;)t=e.readInt(2),n=e.readInt(2),i=e.readData(n),this.extraFields[t]={id:t,length:n,value:i}},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=r.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var o=r.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=i(e.value);return 1!==t.readInt(1)||s(this.fileName)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=i(e.value);return 1!==t.readInt(1)||s(this.fileComment)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null}},e.exports=d},function(e,t,n){"use strict";n.r(t),n.d(t,"getSupportedDensityScales",(function(){return c})),n.d(t,"initAssetDensityScalePrefsIfNecessary",(function(){return d})),n.d(t,"isAssetDensityScaleSelected",(function(){return u})),n.d(t,"sortFormats",(function(){return h})),n.d(t,"formatName",(function(){return p})),n.d(t,"getExportName",(function(){return f})),n.d(t,"isSupportedAssetContent",(function(){return g})),n.d(t,"findAsset",(function(){return m}));var i=n(21),r=n(122),o=n(62);const s={png:0,jpg:1,svg:2,pdf:3},a=Object.freeze({[r.PLATFORM.BASE]:["svg"],[r.PLATFORM.ANDROID]:["png","jpg","svg"],[r.PLATFORM.IOS]:["png","jpg","pdf"],[r.PLATFORM.OSX]:["png","jpg","pdf"],[r.PLATFORM.WEB]:["png","jpg","svg"]}),l=Object.freeze({[r.PLATFORM.BASE]:[r.DENSITY._1x],[r.PLATFORM.ANDROID]:[r.DENSITY.MDPI,r.DENSITY.HDPI,r.DENSITY.XHDPI,r.DENSITY.XXHDPI,r.DENSITY.XXXHDPI],[r.PLATFORM.IOS]:[r.DENSITY._1x,r.DENSITY._2x,r.DENSITY._3x],[r.PLATFORM.OSX]:[r.DENSITY._1x,r.DENSITY._2x],[r.PLATFORM.WEB]:[r.DENSITY._1x,r.DENSITY._2x,r.DENSITY._3x]});function c(e){return l[e]}function d(e,t){return t&&t.png?t:{png:c(e)}}function u(e,t,n){return!e[t]||e[t].includes(n)}function h(e,t){return s[e]-s[t]}function p(e,t){return"default"===t?e.displayName:"original"===t?e.layerName:Object(i.default)(e.layerName,t)}function f(e,t){return e.localName?e.localName:p(e,t)}function g(e,t){const{format:n,density:i,densityScale:r=Object(o.getDensityScale)(i)}=t;return a[e].includes(n)&&l[e].includes(r)}function m(e,t){return t.exportable&&Array.isArray(e.assets)?e.assets.find(e=>e.layerId?e.layerId===t.sourceId:e.layerName===t.name):null}},function(e,t,n){"use strict";n.r(t),n.d(t,"queryAssetDownloadTarget",(function(){return h})),n.d(t,"downloadAssets",(function(){return p})),n.d(t,"changeExportTarget",(function(){return f})),n.d(t,"openExportTarget",(function(){return g}));var i=n(67),r=n(61);function o(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}let s,a,l,c,d;function u(e){l=e;const t=l+":asset-download-target";i.default.ipcRenderer.removeAllListeners(t),i.default.ipcRenderer.once(t,(e,t)=>{a=t.projectFolder,s(t)})}function h(e,t,n){s=n,c=t,u(e),i.default.ipcRenderer.send("query-asset-download-target",e)}function p(e){const{toastContainer:t}=e,n=o(e,["toastContainer"]);u(e.projectId),i.default.ipcRenderer.removeAllListeners("assets-downloaded"),i.default.ipcRenderer.once("assets-downloaded",(e,n)=>function(e,t){clearTimeout(d),d=setTimeout(n=>{Object(r.default)({text:"Exported to "+e.projectName,container:t,source:"assetExportTargetProject"})},200),"android"===c&&mixpanel.webapp.track("Exported assets",{folderType:e.projectFolderType,projectType:c})}(n,t)),i.default.ipcRenderer.send("download-assets",n)}function f(){l&&c&&(u(l),i.default.ipcRenderer.send("change-asset-download-target",{projectId:l,projectType:c}))}function g(){a&&i.default.ipcRenderer.send("open-item",a)}},function(e,t,n){"use strict";n.r(t),n.d(t,"subscribeToOrganizationChannel",(function(){return a})),n.d(t,"unsubscribeFromOrganizationChannel",(function(){return l})),n.d(t,"subscribeToStyleguideChannel",(function(){return c})),n.d(t,"unsubscribeFromStyleguideChannel",(function(){return d})),n.d(t,"subscribeToProjectChannel",(function(){return u})),n.d(t,"unsubscribeFromProjectChannel",(function(){return h})),n.d(t,"subscribeToBarrelChannel",(function(){return p})),n.d(t,"unsubscribeFromBarrelChannel",(function(){return f}));var i=n(168),r=n(96),o=n(40);function s(e,t){if(!e||!t)return;const n=e+t;return i.default.channel(n)||i.default.subscribe(n)}function a(e){return s(o.ORGANIZATION_CHANNEL_PREFIX,e)}function l(e){i.default.unsubscribe(o.ORGANIZATION_CHANNEL_PREFIX+e)}function c(e){return s(o.STYLEGUIDE_CHANNEL_PREFIX,e)}function d(e){i.default.unsubscribe(o.STYLEGUIDE_CHANNEL_PREFIX+e)}function u(e){return s(o.PROJECT_CHANNEL_PREFIX,e)}function h(e){i.default.unsubscribe(o.PROJECT_CHANNEL_PREFIX+e)}function p(e,t){e===r.default.PROJECT?u(t):c(t)}function f(e,t){e===r.default.PROJECT?h(t):d(t)}},function(e,t,n){"use strict";n.r(t);var i=n(100),r=n(92),o=n(140);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c={changeAssetName({bid:e,containerId:t,snapshot:n,assetId:i,name:r}){const s=n.assets.find(e=>e._id===i);return s?(s.localName=r,o.barrelPrefs.get(e,t,"assetNames").then((n={})=>(null===r?delete n[i]:n[i]=r,o.barrelPrefs.set(e,t,"assetNames",n)))):Promise.resolve()},setAssetDensityScalePrefs:({bid:e,format:t,assetDensityScalePrefsOfFormat:n})=>o.barrelPrefs.get(e,"assetDensityScalePrefs").then(i=>o.barrelPrefs.set(e,"assetDensityScalePrefs",a(a({},i),{},{[t]:n}))),changeAssetNamingConvention:({bid:e,assetNamingConvention:t})=>o.barrelPrefs.set(e,"assetNamingConvention",t),toggleSVGOptimization:({bid:e,showOptimizedSVG:t})=>o.barrelPrefs.set(e,"showOptimizedSVG",t),dismissNoResourceInfo:({bid:e})=>o.barrelPrefs.set(e,"noResourceInfoDismissed",!0),markSlackReconnectionAuntieAsSeen:({bid:e})=>o.barrelPrefs.set(e,"slackReconnectionAuntieSeen",!0),hideNoVectorAssetInfo:()=>o.userPrefs.set("noVectorAssetInfoHidden",!0),hideDensityMismatchWarning:()=>o.userPrefs.set("densityMismatchWarningHidden",!0),hideSourceFileInfo:()=>o.userPrefs.set("sourceFileInfoHidden",!0),dismissFlowLinkInfo:()=>o.userPrefs.set("flowLinkInfoDismissed",!0),enableDevMove:()=>sessionStorage.setItem("connectedComponentsDevModeEnabled","true"),disableDevMode:()=>sessionStorage.setItem("connectedComponentsDevModeEnabled","false"),setConnectedComponentsLocalWorkspace:({bid:e,workspace:t})=>o.barrelPrefs.set(e,"connectedComponentsLocalWorkspace",t)};i.default.register(e=>{switch(e.type){case r.default.CHANGE_ASSET_NAME:c.changeAssetName(e);break;case r.default.CHANGE_ASSET_DENSITY_SCALE_PREF:c.setAssetDensityScalePrefs(e);break;case r.default.CHANGE_ASSET_NAMING_CONVENTION:c.changeAssetNamingConvention(e);break;case r.default.TOGGLE_SVG_OPTIMIZATION:c.toggleSVGOptimization(e);break;case r.default.DISMISS_NO_RESOURCE_INFO:c.dismissNoResourceInfo(e);break;case r.default.HIDE_SLACK_RECONNECTION_AUNTIE:c.markSlackReconnectionAuntieAsSeen(e);break;case r.default.HIDE_NO_VECTOR_ASSET_INFO:c.hideNoVectorAssetInfo();break;case r.default.HIDE_DENSITY_MISMATCH_WARNING:c.hideDensityMismatchWarning();break;case r.default.HIDE_SOURCE_FILE_INFO:c.hideSourceFileInfo();break;case r.default.DISMISS_FLOW_LINK_INFO:c.dismissFlowLinkInfo();break;case r.default.ENABLE_DEV_MODE:c.enableDevMove();break;case r.default.DISABLE_DEV_MODE:c.disableDevMode();break;case r.default.SET_CONNECTED_COMPONENTS_LOCAL_WORKSPACE:c.setConnectedComponentsLocalWorkspace(e)}})},function(e,t,n){"use strict";n.r(t);var i=n(92),r=n(343),o=n(100),s=n(67),a=n(65);function l(e){const t=e+"-workspace-path";s.default.ipcRenderer.removeAllListeners(t),s.default.ipcRenderer.once(t,(e,t)=>{r.default.setConnectedComponentsWorkspacePath(t)})}const c={addToSlack({bid:e,barrelType:t,name:n}){s.default.ipcRenderer.send("add-to-slack",{id:e,barrelType:t,name:n})},getConnectedComponentsEditorInfo({bid:e}){s.default.ipcRenderer.removeAllListeners("editor-info"),s.default.ipcRenderer.once("editor-info",(e,t)=>{r.default.setConnectedComponentsEditorInfo(t)}),s.default.ipcRenderer.send("query-editor-info",{bid:e})},setConnectedComponentsEditorPreference({extension:e,editor:t}){s.default.ipcRenderer.send("set-default-editor",{extension:e,editor:t})},selectConnectedComponentsWorkspaceFolder({bid:e}){l(e),s.default.ipcRenderer.send("select-connected-components-workspace-folder",{bid:e})},openComponentFileInEditor({bid:e,filePath:t,editor:n}){l(e),s.default.ipcRenderer.send("open-file-in-editor",{bid:e,filePath:t,editor:n})}};o.default.register(e=>{if(a.default.isWindowsApp)switch(e.type){case i.default.ADD_TO_SLACK:c.addToSlack(e);break;case i.default.GET_CONNECTED_COMPONENTS_EDITOR_INFO:c.getConnectedComponentsEditorInfo(e);break;case i.default.SET_CONNECTED_COMPONENTS_EDITOR_PREFERENCE:c.setConnectedComponentsEditorPreference(e);break;case i.default.SELECT_CONNECTED_COMPONENTS_WORKSPACE_FOLDER:c.selectConnectedComponentsWorkspaceFolder(e);break;case i.default.OPEN_COMPONENT_FILE_IN_EDITOR:c.openComponentFileInEditor(e)}})},function(e,t,n){"use strict";n.r(t);var i=n(471);n.d(t,"SpaceActions",(function(){return i.default}));var r=n(90);n.d(t,"SpaceActionTypes",(function(){return r.default}));var o=n(126);n.d(t,"SpaceDispatcher",(function(){return o.default}));var s=n(125);n.d(t,"SpaceStore",(function(){return s.default}));var a=n(472);n.d(t,"SpaceHelpers",(function(){return a.default}));n(479)},function(e,t,n){"use strict";n.r(t);var i=n(126),r=n(90),o=n(125),s=n(98);const a={updatePageState(e){i.default.dispatch({type:r.default.UPDATE_PAGE_STATE,updateState:e})},changeSelectedTab(e){i.default.dispatch({type:r.default.CHANGE_SELECTED_TAB,tab:e})},changeSelectedOrganization(e){i.default.dispatch({type:r.default.CHANGE_SELECTED_ORGANIZATION,oid:e})},changeFilterValue(e){i.default.dispatch({type:r.default.CHANGE_FILTER_VALUE,filterValue:e})},changeWorkflowStatusFilter({workflowStatus:e}){const{selectedOrganizationId:t}=o.default.getState(),{name:n}=s.default.getOrganization(t);i.default.dispatch({type:r.default.CHANGE_WORKFLOW_STATUS_FILTER,oid:t,organizationName:n,workflowStatusFilter:e._id,workflowStatus:e})},changeProjectSelectedSortType(e){const{selectedOrganizationId:t}=o.default.getState();i.default.dispatch({type:r.default.CHANGE_PROJECT_SELECTED_SORT_TYPE,oid:t,sortType:e})},toggleArchivedProjects(){i.default.dispatch({type:r.default.TOGGLE_ARCHIVED_PROJECTS})},unhighlightBarrel(e){i.default.dispatch({type:r.default.UNHIGHLIGHT_BARREL,bid:e})},unhighlightSection(){i.default.dispatch({type:r.default.UNHIGHLIGHT_SECTION})},expandSection(e){const{selectedOrganizationId:t}=o.default.getState();i.default.dispatch({type:r.default.EXPAND_SECTION,oid:t,oseid:e})},collapseSection(e){const{selectedOrganizationId:t}=o.default.getState();i.default.dispatch({type:r.default.COLLAPSE_SECTION,oid:t,oseid:e})},setStyleguidesTabVisited(){i.default.dispatch({type:r.default.SET_STYLEGUIDES_TAB_VISITED})},openDialog(e,t={}){i.default.dispatch({type:r.default.OPEN_DIALOG,dialogType:e,dialogParams:t})},closeDialog(){const{visibleDialogType:e,visibleDialogParams:t}=o.default.getState();i.default.dispatch({type:r.default.CLOSE_DIALOG,dialogType:e,dialogParams:t})},hideLoading(){i.default.dispatch({type:r.default.HIDE_LOADING})},setWorkspaceLoading(e){i.default.dispatch({type:r.default.SET_WORKSPACE_LOADING,oid:e})},trackBarrelClick({isFromPinArea:e}){const{selectedOrganizationId:t}=o.default.getState(),{name:n}=s.default.getOrganization(t)||{};i.default.dispatch({type:r.default.TRACK_BARREL_CLICK,oid:t,organizationName:n,isFromPinArea:e})}};t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(125),r=n(65),o=n(349),s=n(473),a=n(62),l=n(342),c=n(96);const d={[c.default.PROJECT]:a.permissions.canCreateProject,[c.default.STYLEGUIDE]:a.permissions.canCreateStyleguide};function u(e){const{barrelId:t}=l.BarrelStore.getState(),{selectedOrganizationId:n}=i.default.getState(),{paymentPlan:a}=o.UserStore.getState(),{organizations:c,organizationProfiles:u}=s.OrganizationStore.getState(),h=t?l.BarrelHelpers.findBarrelOrganizationId(t):n,p="free"!==a.id;if("user"===h)return p||r.default.isWindowsApp;const f=c.find(e=>e._id===h),g=u[h];return f&&"suspended"!==f.status&&g&&d[e](g)}t.default={canCreateProject:function(){return u(c.default.PROJECT)},canCreateStyleguide:function(){return u(c.default.STYLEGUIDE)}}},function(e,t,n){"use strict";n.r(t);var i=n(474);n.d(t,"OrganizationActions",(function(){return i.default}));var r=n(87);n.d(t,"OrganizationActionTypes",(function(){return r.default}));var o=n(83);n.d(t,"OrganizationDispatcher",(function(){return o.default}));var s=n(98);n.d(t,"OrganizationHelpers",(function(){return s.default}));var a=n(72);n.d(t,"OrganizationStore",(function(){return a.default}));n(475)},function(e,t,n){"use strict";n.r(t);var i=n(87),r=n(83),o=n(72),s=n(98),a=n(125);function l(e){let{oid:t,selectedOrganizationId:n,organizationName:i}=e;return n=n||t,n||(({selectedOrganizationId:n}=a.default.getState()),e.oid=n),n&&"user"!==n&&!i&&(({name:i}=s.default.getOrganization(n)),e.organizationName=i),e}const c={getBarrels(e){r.default.dispatch({type:i.default.GET_BARRELS,oid:e})},requestInvite(e,t){r.default.dispatch({type:i.default.REQUEST_INVITE,id:e,container:t})},addOrganization(e){r.default.dispatch({type:i.default.ADD_ORGANIZATION,organization:e})},addOrganizationWorkflowStatus(e){const{oid:t,organizationName:n,workflowStatusData:o,syncWithApi:s=!1}=l(e);r.default.dispatch({type:i.default.ADD_ORGANIZATION_WORKFLOW_STATUS,oid:t,organizationName:n,workflowStatusData:o,syncWithApi:s})},updateOrganization(e,t){r.default.dispatch({type:i.default.UPDATE_ORGANIZATION,id:e,organization:t})},updateOrganizationProfile(e,t){r.default.dispatch({type:i.default.UPDATE_ORGANIZATION_PROFILE,id:e,organizationProfile:t})},updateOrganizationWorkflowStatus(e){const{oid:t,organizationName:n,workflowStatusId:o,workflowStatusData:a,syncWithApi:c=!1}=l(e),d=c?s.default.getOrganizationWorkflowStatus(t,o):{};r.default.dispatch({type:i.default.UPDATE_ORGANIZATION_WORKFLOW_STATUS,oid:t,organizationName:n,workflowStatusId:o,workflowStatusData:a,oldWorkflowStatusData:d,syncWithApi:c})},updateOrganizationWorkflowStatusName({workflowStatusId:e,name:t,syncWithApi:n}){this.updateOrganizationWorkflowStatus({workflowStatusId:e,workflowStatusData:{name:t},syncWithApi:n})},updateOrganizationWorkflowStatusColor({workflowStatusId:e,color:t,syncWithApi:n}){this.updateOrganizationWorkflowStatus({workflowStatusId:e,workflowStatusData:{color:t},syncWithApi:n})},removeOrganization(e){r.default.dispatch({type:i.default.REMOVE_ORGANIZATION,id:e})},deleteOrganizationWorkflowStatus(e){const{oid:t,organizationName:n,workflowStatusId:o,syncWithApi:a=!1}=l(e),c=a?s.default.getOrganizationWorkflowStatus(t,o):{};r.default.dispatch({type:i.default.DELETE_ORGANIZATION_WORKFLOW_STATUS,oid:t,organizationName:n,workflowStatusId:o,oldWorkflowStatusData:c,syncWithApi:a})},getOrganizationsSuccess(e){r.default.dispatch({type:i.default.GET_ORGANIZATIONS_SUCCESS,organizations:e})},getOrganizationSuccess(e){r.default.dispatch({type:i.default.GET_ORGANIZATION_SUCCESS,organization:e})},getOrganizationMembersSuccess(e){r.default.dispatch({type:i.default.GET_ORGANIZATION_MEMBERS_SUCCESS,organizationMembers:e})},getOrganizationMemberProfilesSuccess(e){r.default.dispatch({type:i.default.GET_ORGANIZATION_MEMBER_PROFILES_SUCCESS,organizationProfiles:e})},addOrganizationProfile(e,t){r.default.dispatch({type:i.default.ADD_ORGANIZATION_MEMBER_PROFILE,organizationProfile:e,oid:t})},getFocusedBarrelsSuccess(e){const{focusedBarrels:t,oid:n}=l(e);r.default.dispatch({type:i.default.GET_FOCUSED_BARRELS_SUCCESS,focusedBarrels:t,oid:n})},addBarrelToFocus(e){const{mid:t,bid:n,barrelType:s,shouldPopOldestBarrel:a,oid:c,syncWithApi:d}=l(e),{focusedBarrels:u}=o.default.getState();let h;u[c]&&u[c].length&&(h=u[c][0]),r.default.dispatch({type:i.default.ADD_BARREL_TO_FOCUS,oid:c,mid:t,bid:n,barrelType:s,poppedBarrel:h,shouldPopOldestBarrel:a,syncWithApi:d})},addBarrelToFocusSuccess(e){const{oid:t,organizationName:n}=l(e);r.default.dispatch({type:i.default.ADD_BARREL_TO_FOCUS_SUCCESS,oid:t,organizationName:n})},removeBarrelFromFocus(e){const{mid:t,bid:n,barrelType:o,poppedBarrel:s,oid:a,syncWithApi:c}=l(e);r.default.dispatch({type:i.default.REMOVE_BARREL_FROM_FOCUS,oid:a,mid:t,bid:n,barrelType:o,poppedBarrel:s,syncWithApi:c})},unpinBarrelFromFocus(e){const{mid:t,bid:n,barrelType:o,oid:s,syncWithApi:a}=l(e);r.default.dispatch({type:i.default.UNPIN_BARREL_FROM_FOCUS,oid:s,mid:t,bid:n,barrelType:o,syncWithApi:a})},unpinBarrelFromFocusSuccess(e){const{oid:t,bid:n,organizationName:o}=l(e);r.default.dispatch({type:i.default.UNPIN_BARREL_FROM_FOCUS_SUCCESS,oid:t,organizationName:o,bid:n})},repinBarrelToFocus(e){const{selectedOrganizationId:t,bid:n}=l(e);r.default.dispatch({type:i.default.REPIN_BARREL_TO_FOCUS,oid:t,bid:n})},hitPinLimit(e){const{pinnedAnyway:t,focusCountLimit:n,oid:o,organizationName:s}=l(e);r.default.dispatch({type:i.default.HIT_PIN_LIMIT,oid:o,organizationName:s,pinnedAnyway:t,focusCountLimit:n})},updateMemberAccessibility({oid:e,mid:t}){const n=s.default.getOrganizationProjects(e),o=s.default.getOrganizationStyleguides(e),a=n.filter(({users:e})=>e.some(({user:e})=>e._id===t)).map(({_id:e})=>e),l=o.filter(({users:e})=>e.some(({user:e})=>e._id===t)).map(({_id:e})=>e);r.default.dispatch({type:i.default.UPDATE_MEMBER_ACCESSIBILITY,oid:e,remainingProjects:a,remainingStyleguides:l})},addProjectSection(e){const{oid:t,index:n,sectionData:o,shouldCalculateActualIndex:a,dialogDismissParams:c,syncWithApi:d}=l(e),{name:u,sections:h}=s.default.getOrganization(t);let p;d&&(p=s.default.findSectionIndicesOfProjects(t,o.projects));let f=n;if(void 0===f){const e=h.findIndex(e=>e.projects.includes(o.projects[0]));f=0===e?h.length:e+1}a&&(f=s.default.whereToDropSectionInWorkspace({oid:t,index:f})),r.default.dispatch({type:i.default.ADD_PROJECT_SECTION,oid:t,organizationName:u,index:f,sectionData:o,oldIndices:p,dialogDismissParams:c,syncWithApi:d})},addProjectSectionId(e){const{oid:t,index:n,oseid:o}=l(e);r.default.dispatch({type:i.default.ADD_PROJECT_SECTION_ID,oid:t,index:n,oseid:o})},updateProjectSection(e){const{oid:t,oseid:n,sectionData:o,syncWithApi:a=!1}=l(e);let c;if(a){c=s.default.getOrganization(t).sections.find(e=>e._id===n)}r.default.dispatch({type:i.default.UPDATE_PROJECT_SECTION,oid:t,oseid:n,sectionData:o,oldSectionData:c,syncWithApi:a})},removeProjectSection(e){const{oid:t,oseid:n,syncWithApi:o=!1}=l(e);let a,c,d;if(o){const e=s.default.getOrganization(t);a=e.name,d=e.sections.findIndex(e=>e._id===n),c=e.sections[d]}r.default.dispatch({type:i.default.REMOVE_PROJECT_SECTION,oid:t,organizationName:a,oseid:n,oldSectionIndex:d,oldSectionData:c,syncWithApi:o})},updateProjectSectionOrder(e){const{oid:t,oseid:n,index:o,shouldCalculateActualIndex:a,dialogDismissParams:c,syncWithApi:d=!1}=l(e);let u,h;if(d){const{name:e,sections:i}=s.default.getOrganization(t);u=e,h=i.findIndex(e=>e._id===n)}let p=o;a&&(p=s.default.whereToDropSectionInWorkspace({oid:t,index:o})),r.default.dispatch({type:i.default.UPDATE_PROJECT_SECTION_ORDER,oid:t,organizationName:u,oseid:n,index:p,oldSectionIndex:h,dialogDismissParams:c,syncWithApi:d})},updateProjectOrder(e){const{oid:t,oseid:n,projects:o,index:a,shouldCalculateActualIndex:c,dialogDismissParams:d,syncWithApi:u=!1}=l(e);let h,p,f=[];if(u){const{name:e,sections:i}=s.default.getOrganization(t);h=e,p=n===i[0]._id,f=s.default.findSectionIndicesOfProjects(t,o)}let g=a;c&&(g=s.default.whereToDropProjectInSection({oid:t,oseid:n,index:a})),r.default.dispatch({type:i.default.UPDATE_PROJECT_ORDER,oid:t,organizationName:h,oseid:n,projects:o,index:g,oldIndices:f,isDefaultSection:p,dialogDismissParams:d,syncWithApi:u})},addSectionLink(e){const{oid:t,oseid:n,linkData:o,syncWithApi:a=!1}=l(e);let c;if(a){const{name:e}=s.default.getOrganization(t);c=e}r.default.dispatch({type:i.default.ADD_SECTION_LINK,oid:t,organizationName:c,oseid:n,linkData:o,syncWithApi:a})},updateSectionLink(e){const{oid:t,oseid:n,oselid:o,linkData:a,syncWithApi:c=!1}=l(e);let d;if(c){d=s.default.getOrganization(t).sections.find(({_id:e})=>e===n).links.find(e=>e._id===o)}r.default.dispatch({type:i.default.UPDATE_SECTION_LINK,oid:t,oseid:n,oselid:o,linkData:a,oldLink:d,syncWithApi:c})},removeSectionLink(e){const{oid:t,oseid:n,oselid:o,syncWithApi:a=!1}=l(e);let c,d;if(a){const e=s.default.getOrganization(t),i=e.sections.find(({_id:e})=>e===n);c=e.name,d=i.links.find(e=>e._id===o)}r.default.dispatch({type:i.default.REMOVE_SECTION_LINK,oid:t,organizationName:c,oseid:n,oselid:o,oldLink:d,syncWithApi:a})}};t.default=c},function(e,t,n){"use strict";n.r(t);n(476),n(477),n(478)},function(e,t,n){"use strict";n.r(t);var i=n(137),r=n(45),o=n(61),s=n(474),a=n(87),l=n(83),c=n(131),d=n(132),u=n(97);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g=!1;function m(e){return e.map(e=>p(p({},e),{},{complete:!1}))}const b={getBarrels(e){Promise.all([i.getProjects(e),i.getStyleguides(e)]).then(([t,n])=>{c.default.getProjectsSuccess({oid:e,projects:m(t)}),d.default.getStyleguidesSuccess({oid:e,styleguides:m(n)})}).catch(r.handleError)},requestInvitation(e,t){g?Object(o.default)({text:"Already sent!",container:t,source:"requestOrganizationInvitation"}):(g=!0,i.requestOrganizationInvitation(e),Object(o.default)({text:"Invitation sent!",container:t,source:"requestOrganizationInvitation"}))},addBarrelToFocus({oid:e,mid:t,bid:n,barrelType:o,poppedBarrel:a,syncWithApi:l}){l&&i.addBarrelToOrganizationMemberFocus({oid:e,mid:t,bid:n,barrelType:o}).then(t=>{s.default.addBarrelToFocusSuccess({oid:e})}).catch(e=>{s.default.removeBarrelFromFocus({mid:t,bid:n,poppedBarrel:a}),r.handleError(e)})},removeBarrelFromFocus({oid:e,mid:t,bid:n,barrelType:o,syncWithApi:a}){a&&i.removeBarrelFromOrganizationMemberFocus({oid:e,mid:t,bid:n,barrelType:o}).then(t=>{s.default.unpinBarrelFromFocusSuccess({oid:e,bid:n})}).catch(e=>{s.default.addBarrelToFocus({bid:n}),r.handleError(e)})},unpinBarrelFromFocus({oid:e,mid:t,bid:n,barrelType:o,syncWithApi:a}){a&&i.removeBarrelFromOrganizationMemberFocus({oid:e,mid:t,bid:n,barrelType:o}).then(t=>{s.default.unpinBarrelFromFocusSuccess({oid:e,bid:n})}).catch(e=>{s.default.repinBarrelToFocus({bid:n}),r.handleError(e)})},addOrganizationWorkflowStatus({oid:e,workflowStatusData:{_id:t,name:n,color:o},syncWithApi:a}){a&&i.addOrganizationWorkflowStatus(e,{name:n,color:o}).then(({_id:e})=>{s.default.updateOrganizationWorkflowStatus({workflowStatusId:t,workflowStatusData:{_id:e,name:n,color:o}})}).catch(e=>{s.default.deleteOrganizationWorkflowStatus({workflowStatusId:t}),r.handleError(e)})},updateOrganizationWorkflowStatus({oid:e,workflowStatusId:t,workflowStatusData:n,oldWorkflowStatusData:o,syncWithApi:a=!0}){a&&i.updateOrganizationWorkflowStatus(e,t,n).catch(e=>{s.default.updateOrganizationWorkflowStatus({workflowStatusId:t,workflowStatusData:{_id:t,name:o.name,color:o.color}}),r.handleError(e)})},deleteOrganizationWorkflowStatus({oid:e,workflowStatusId:t,oldWorkflowStatusData:n,syncWithApi:o}){o&&i.deleteOrganizationWorkflowStatus(e,t).catch(e=>{s.default.addOrganizationWorkflowStatus({workflowStatusId:t,workflowStatusData:n}),r.handleError(e)})},addProjectSection({oid:e,index:t,sectionData:{name:n,description:o,projects:a},oldIndices:l=[],syncWithApi:c}){c&&i.createOrganizationSection({oid:e,index:t,name:n,description:o,projects:a}).then(({_id:t})=>{s.default.updateProjectSection({oid:e,oseid:u.TEMPORARY_PROJECT_SECTION_ID,sectionData:{_id:t,newSection:!1}})}).catch(t=>{r.handleError(t),l.forEach(({pid:t,oseid:n,index:i})=>{s.default.updateProjectOrder({oid:e,oseid:n,index:i,projects:[t],shouldCalculateActualIndex:!0})}),s.default.removeProjectSection({oid:e,oseid:u.TEMPORARY_PROJECT_SECTION_ID})})},removeProjectSection({oid:e,oseid:t,oldSectionIndex:n,oldSectionData:o,syncWithApi:a}){a&&i.deleteOrganizationSection(e,t).catch(t=>{r.handleError(t),s.default.addProjectSection({oid:e,index:n,sectionData:o,shouldCalculateActualIndex:!0})})},updateProjectSection({oid:e,oseid:t,sectionData:n,oldSectionData:o,syncWithApi:a}){a&&i.updateOrganizationSection({oid:e,oseid:t,sectionData:n}).catch(n=>{s.default.updateProjectSection({oid:e,oseid:t,sectionData:o}),r.handleError(n)})},handleUpdateProjectSectionOrder({oid:e,oseid:t,index:n,oldSectionIndex:o,syncWithApi:a}){a&&i.updateOrganizationSectionsOrder(e,{index:n,sections:[t]}).catch(n=>{r.handleError(n),s.default.updateProjectSectionOrder({oid:e,oseid:t,index:o,shouldCalculateActualIndex:!0})})},handleUpdateProjectOrder({oid:e,oseid:t,index:n,projects:o,oldIndices:a=[],syncWithApi:l}){l&&i.updateOrganizationSectionProjects(e,t,n,o).catch(t=>{r.handleError(t),a.forEach(({pid:t,oseid:n,index:i})=>{s.default.updateProjectOrder({oid:e,projects:[t],oseid:n,index:i,shouldCalculateActualIndex:!0})})})},addSectionLink({oid:e,oseid:t,linkData:{_id:n,title:o,url:a},syncWithApi:l}){l&&i.createOrganizationSectionLink(e,t,{title:o,url:a}).then(({_id:i})=>{s.default.updateSectionLink({oid:e,oseid:t,oselid:n,linkData:{_id:i,title:o,url:a}})}).catch(i=>{r.handleError(i),s.default.removeSectionLink({oid:e,oseid:t,oselid:n})})},updateSectionLink({oid:e,oseid:t,oselid:n,linkData:{title:o,url:a},oldLink:l,syncWithApi:c}){c&&i.updateOrganizationSectionLink(e,t,n,{title:o,url:a}).catch(i=>{r.handleError(i),s.default.updateSectionLink({oid:e,oseid:t,oselid:n,linkData:l})})},removeSectionLink({oid:e,oseid:t,oselid:n,oldLink:o,syncWithApi:a}){a&&i.deleteOrganizationSectionLink(e,t,n).catch(n=>{r.handleError(n),s.default.addSectionLink({oid:e,oseid:t,linkData:o})})}};l.default.register(e=>{switch(e.type){case a.default.GET_BARRELS:b.getBarrels(e.oid);break;case a.default.REQUEST_INVITE:b.requestInvitation(e.id,e.container);break;case a.default.ADD_BARREL_TO_FOCUS:b.addBarrelToFocus(e);break;case a.default.REMOVE_BARREL_FROM_FOCUS:b.removeBarrelFromFocus(e);break;case a.default.UNPIN_BARREL_FROM_FOCUS:b.unpinBarrelFromFocus(e);break;case a.default.ADD_ORGANIZATION_WORKFLOW_STATUS:b.addOrganizationWorkflowStatus(e);break;case a.default.UPDATE_ORGANIZATION_WORKFLOW_STATUS:b.updateOrganizationWorkflowStatus(e);break;case a.default.DELETE_ORGANIZATION_WORKFLOW_STATUS:b.deleteOrganizationWorkflowStatus(e);break;case a.default.UPDATE_PROJECT_SECTION_ORDER:b.handleUpdateProjectSectionOrder(e);break;case a.default.UPDATE_PROJECT_ORDER:b.handleUpdateProjectOrder(e);break;case a.default.ADD_PROJECT_SECTION:b.addProjectSection(e);break;case a.default.REMOVE_PROJECT_SECTION:b.removeProjectSection(e);break;case a.default.UPDATE_PROJECT_SECTION:b.updateProjectSection(e);break;case a.default.ADD_SECTION_LINK:b.addSectionLink(e);break;case a.default.UPDATE_SECTION_LINK:b.updateSectionLink(e);break;case a.default.REMOVE_SECTION_LINK:b.removeSectionLink(e)}})},function(e,t,n){"use strict";n.r(t);var i=n(87),r=n(83);const o={addBarrelToFocusSuccess({oid:e,organizationName:t}){mixpanel.master.track("Pinned project",{"Organization ID":e,"Organization Name":t})},unpinBarrelFromFocusSuccess({oid:e,organizationName:t}){mixpanel.master.track("Unpinned project",{"Organization ID":e,"Organization Name":t})},onHitPinLimit({oid:e,organizationName:t,focusCountLimit:n,pinnedAnyway:i}){mixpanel.master.track("Hit pin limit",{"Organization ID":e,"Organization Name":t,"Pin Limit":n,"Pinned Anyway":i})},onAddOrganizationWorkflowStatus({oid:e,organizationName:t,workflowStatusData:n}){mixpanel.master.track("Created status",{Name:n.name,Color:n.color.toHexString(),"Organization ID":e,"Organization Name":t})},onUpdateOrganizationWorkflowStatus({oid:e,organizationName:t,workflowStatusData:n,oldWorkflowStatusData:i}){let r;const o={"Organization ID":e,"Organization Name":t};n.hasOwnProperty("name")?(r="Changed status name",o.Name=n.name,o.Color=i.color.toHexString(),o["From Name"]=i.name):n.hasOwnProperty("color")&&(r="Changed status color",o.Name=i.name,o.Color=n.color.toHexString(),o["From Color"]=i.color.toHexString()),mixpanel.master.track(r,o)},onDeleteOrganizationWorkflowStatus({oid:e,organizationName:t,oldWorkflowStatusData:n}){mixpanel.master.track("Removed status",{Name:n.name,Color:n.color.toHexString(),"Organization ID":e,"Organization Name":t})},onAddProjectSection({oid:e,organizationName:t,sectionData:{projects:n}}){mixpanel.master.track("Created project section",{"Organization ID":e,"Organization Name":t,"Is Empty":0===n.length})},onRemoveProjectSection({oid:e,organizationName:t}){mixpanel.master.track("Disbanded project section",{"Organization ID":e,"Organization Name":t})},onAddSectionLink({oid:e,organizationName:t}){mixpanel.master.track("Added link to project section",{"Organization ID":e,"Organization Name":t})},onRemoveSectionLink({oid:e,organizationName:t}){mixpanel.master.track("Removed link from project section",{"Organization ID":e,"Organization Name":t})},onUpdateProjectOrder({oid:e,organizationName:t,isDefaultSection:n}){const i=n?"Removed project from section":"Moved project to section";mixpanel.master.track(i,{"Organization ID":e,"Organization Name":t})}};r.default.register(e=>{switch(e.type){case i.default.ADD_BARREL_TO_FOCUS_SUCCESS:o.addBarrelToFocusSuccess(e);break;case i.default.UNPIN_BARREL_FROM_FOCUS_SUCCESS:o.unpinBarrelFromFocusSuccess(e);break;case i.default.HIT_PIN_LIMIT:o.onHitPinLimit(e);break;case i.default.ADD_ORGANIZATION_WORKFLOW_STATUS:e.syncWithApi&&o.onAddOrganizationWorkflowStatus(e);break;case i.default.UPDATE_ORGANIZATION_WORKFLOW_STATUS:e.syncWithApi&&o.onUpdateOrganizationWorkflowStatus(e);break;case i.default.DELETE_ORGANIZATION_WORKFLOW_STATUS:e.syncWithApi&&o.onDeleteOrganizationWorkflowStatus(e);break;case i.default.ADD_PROJECT_SECTION:e.syncWithApi&&o.onAddProjectSection(e);break;case i.default.REMOVE_PROJECT_SECTION:e.syncWithApi&&o.onRemoveProjectSection(e);break;case i.default.ADD_SECTION_LINK:e.syncWithApi&&o.onAddSectionLink(e);break;case i.default.REMOVE_SECTION_LINK:e.syncWithApi&&o.onRemoveSectionLink(e);break;case i.default.UPDATE_PROJECT_ORDER:e.syncWithApi&&o.onUpdateProjectOrder(e)}})},function(e,t,n){"use strict";n.r(t);var i=n(87),r=n(84),o=n(140);const s={addBarrelToFocusSuccess(){o.userPrefs.set("pinnedBarrelOnce",!0)},updateDialogDismissStates({oid:e,dialogDismissParams:t}){if(t)for(const[n,i]of Object.entries(t))o.organizationPrefs.set(e,"dialogDismissStates",n,i)}};r.default.register(e=>{switch(e.type){case i.default.ADD_BARREL_TO_FOCUS_SUCCESS:s.addBarrelToFocusSuccess();break;case i.default.ADD_PROJECT_SECTION:case i.default.UPDATE_PROJECT_ORDER:case i.default.UPDATE_PROJECT_SECTION_ORDER:s.updateDialogDismissStates(e)}})},function(e,t,n){"use strict";n.r(t);n(480),n(482)},function(e,t,n){"use strict";n.r(t);var i=n(90),r=n(126),o=n(345),s=n(346),a=n(45),l=n(137),c=n(481);const d={project:{get:l.getProject},styleguide:{get:l.getStyleguide}},u={project:{getRequest:o.ProjectsActions.getProjectRequest,getSuccess:o.ProjectsActions.getProjectSuccess,getFailed:o.ProjectsActions.getProjectFailed},styleguide:{getRequest:s.StyleguidesActions.getStyleguideRequest,getSuccess:s.StyleguidesActions.getStyleguideSuccess,getFailed:s.StyleguidesActions.getStyleguideFailed}},h={project:o.ProjectsDataStore,styleguide:s.StyleguidesDataStore},p={onPreview({dialogType:e,dialogParams:{previewBarrelId:t}}){if(!t)return;const n=e===c.default.PREVIEW_PROJECT?"project":"styleguide",{[n+"s"]:i}=h[n].getState(),r=i[t];if(r&&(r.screens||r.componentSections))return;const o=u[n];o.getRequest(),d[n].get(t).then(e=>{o.getSuccess({[n]:e})}).catch(e=>{o.getFailed(e),a.handleError(e)})}};r.default.register(e=>{switch(e.type){case i.default.OPEN_DIALOG:setTimeout(p.onPreview,0,e)}})},function(e,t,n){"use strict";n.r(t),t.default={TRANSFER:"transferOwnership",ARCHIVE:"archive",LEAVE:"leave",DELETE:"delete",SELECT_PARENT:"selectParent",REMOVE_PARENT:"removeParent",CREATE_PROJECT:"createProject",CREATE_STYLEGUIDE:"createStyleguide",UPGRADE_PLAN:"upgradePlan",RESTRICTED_EDITOR_WARNING:"restrictedEditorWarning",PREVIEW_PROJECT:"previewProject",PREVIEW_STYLEGUIDE:"previewStyleguide"}},function(e,t,n){"use strict";n.r(t);var i=n(90),r=n(126);const o={onWorkflowStatusFilterChange({oid:e,organizationName:t,workflowStatus:n}){mixpanel.master.track("Filtered by status",{Name:n.name,Color:n.color.toHexString(),"Organization ID":e,"Organization Name":t})}};r.default.register(e=>{switch(e.type){case i.default.CHANGE_WORKFLOW_STATUS_FILTER:return o.onWorkflowStatusFilterChange(e)}})},,,,,function(e,t,n){"use strict";n.r(t);var i=n(488);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(489),a=n(11);n(493);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),c(this,"state",{error:null,isFocused:!1}),c(this,"handleChange",e=>{const{name:t,onChange:n,validate:i}=this.props,r=e.target.value;i&&this.setState({error:i(t,r)}),n(t,r)}),c(this,"handleFocus",()=>{this.setState({isFocused:!0})}),c(this,"handleBlur",()=>{const{name:e,value:t,validate:n,onBlur:i}=this.props;n?this.setState({error:n(e,t),isFocused:!1}):this.setState({isFocused:!1}),i&&i()}),c(this,"handleKeyDown",e=>{const{name:t,onEscape:n,onEnter:i}=this.props;e.keyCode===Zeplin.KEY_CODE.ESC?(e.preventDefault(),e.target.blur(),n&&n(t)):e.keyCode===Zeplin.KEY_CODE.ENTER&&i&&(e.preventDefault(),e.target.blur(),i())})}get shouldDisplayCountDown(){const{maxLength:e,shouldDisplayCountDown:t}=this.props,{isFocused:n}=this.state;return t&&Boolean(e)&&n}get remainingCharCount(){const{maxLength:e,value:t}=this.props;return e-t.length}render(){const{error:e,isFocused:t}=this.state,{name:n,class:r,label:o,value:c,placeholder:d,customSuccessMessage:u,customErrorMessage:h,tipText:p,pendingText:f,nativeProps:g,maxLength:m,rows:b,disabled:y,autoFocus:S,shouldAlwaysDisplayTipText:v,isPending:C}=this.props;return i.h(s.default,{class:Object(a.default)("textFormField",r,{hasCountDown:this.shouldDisplayCountDown}),label:o,successMessage:!this.shouldDisplayCountDown&&u,errorMessage:!this.shouldDisplayCountDown&&(h||e),tipText:p,pendingText:f,disabled:y,shouldDisplayErrorMessageIcon:Boolean(c),shouldDisplayTipText:t||v,isPending:C},b?i.h("textarea",l({name:n,value:c,placeholder:d,maxlength:m,rows:b,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,autoFocus:S,disabled:y},g)):i.h("input",l({name:n,value:c,placeholder:d,maxlength:m,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,autoFocus:S,disabled:y},g)),this.shouldDisplayCountDown&&i.h("div",{class:Object(a.default)("countDown",{exceed:0===this.remainingCharCount})},this.remainingCharCount))}}d.propTypes={name:o.a.string.isRequired,class:o.a.string,label:o.a.string,value:o.a.string,placeholder:o.a.string,customSuccessMessage:o.a.node,customErrorMessage:o.a.node,tipText:o.a.node,pendingText:o.a.string,nativeProps:o.a.object,maxLength:o.a.number,rows:o.a.number,disabled:o.a.bool,autoFocus:o.a.bool,shouldDisplayCountDown:o.a.bool,shouldAlwaysDisplayTipText:o.a.bool,isPending:o.a.bool,onChange:o.a.func.isRequired,onBlur:o.a.func,onEscape:o.a.func,onEnter:o.a.func,validate:o.a.func},d.defaultProps={value:"",shouldDisplayCountDown:!0},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(490),a=n(491),l=n(263),c=n(11);n(492);function d(e){const{children:t,class:n,label:r,successMessage:o,errorMessage:d,tipText:u,pendingText:h,disabled:p,shouldDisplayErrorMessageIcon:f,shouldDisplayTipText:g,isPending:m}=e;let b;return d?b=i.h("div",{class:"formFieldMessageContainer error"},f&&i.h(a.default,null),i.h("p",{class:"formFieldMessage"},d)):m?b=i.h("div",{class:"formFieldMessageContainer pending"},i.h(l.default,null),i.h("p",{class:"formFieldMessage"},h)):o&&(b=i.h("div",{class:"formFieldMessageContainer success"},i.h(s.default,null),i.h("p",{class:"formFieldMessage"},o))),i.h("div",{class:Object(c.default)("formField",n,{disabled:p,hasMessage:Boolean(o||d)||m})},i.h("div",{class:"formFieldLabel"},r),i.h("div",{class:"formFieldContent"},t,b,Boolean(u)&&g&&i.h("div",{className:"formFieldTipText"},u)))}d.propTypes={class:o.a.string,label:o.a.string,children:o.a.node.isRequired,successMessage:o.a.node,errorMessage:o.a.node,tipText:o.a.node,pendingText:o.a.string,disabled:o.a.bool,shouldDisplayErrorMessageIcon:o.a.bool,shouldDisplayTipText:o.a.bool,isPending:o.a.bool},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r);function s(e){const{width:t,color:n}=e,r=11*t/14;return i.h("svg",{width:t,height:r,viewBox:"0 0 14 11"},i.h("path",{fill:n,"fill-rule":"evenodd",d:"M5.057 7.264l6.8-7.055c.268-.279.702-.279.97 0l.972 1.008c.268.278.268.73 0 1.007l-8.256 8.567c-.268.279-.703.279-.971 0L.202 6.256c-.27-.278-.27-.73 0-1.008l.97-1.008c.269-.278.703-.278.972 0l2.913 3.024z"}))}s.propTypes={width:o.a.number,color:o.a.string},s.defaultProps={width:14,color:"#C8CF2D"},t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r);function s(e){const{width:t,color:n}=e,r=12*t/12;return i.h("svg",{width:t,height:r,viewBox:"0 0 12 12"},i.h("path",{fill:n,"fill-rule":"evenodd",d:"M6 3.898L2.317.215c-.282-.282-.759-.284-1.052.01l-1.04 1.04c-.298.298-.298.764-.01 1.052L3.898 6 .215 9.683c-.282.282-.284.759.01 1.052l1.04 1.04c.298.298.764.298 1.052.01L6 8.102l3.683 3.683c.282.282.759.284 1.052-.01l1.04-1.04c.298-.298.298-.764.01-1.052L8.102 6l3.683-3.683c.282-.282.284-.759-.01-1.052l-1.04-1.04c-.298-.298-.764-.298-1.052-.01L6 3.898z"}))}s.propTypes={width:o.a.number,color:o.a.string},s.defaultProps={width:12,color:"#EE6723"},t.default=s},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var i=n(514);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(11),a=n(24);n(515);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(...e){super(...e),l(this,"state",{loading:!0,error:!1}),l(this,"handleLoad",()=>{this.setState({loading:!1,error:!1})}),l(this,"handleError",()=>{this.setState({error:!0})})}componentDidMount(){const{loading:e,error:t}=this.state,{img:n}=this.nodeRefs;e&&!t&&n.src&&n.complete&&this.handleLoad()}componentWillReceiveProps(e){e.src===this.props.src&&e.srcset===this.props.srcset||this.setState({loading:!0,error:!1})}componentDidUpdate(){const{loading:e,error:t}=this.state,{img:n}=this.nodeRefs;e&&!t&&n.src&&n.complete&&this.handleLoad()}render(){const{loading:e,error:t}=this.state,{width:n,height:r,src:o,srcset:l,type:c,bgSize:d,title:u,class:h}=this.props,p=Object(s.default)("avatarFrame",{placeholder:e||t},c,h),f={};return"bgSize"in this.props&&(f.backgroundSize=d),i.h("div",{class:p,style:f,title:u},i.h("img",{ref:Object(a.default)(this,"img"),srcSet:l,src:o,width:n,height:r,onLoad:this.handleLoad,onError:this.handleError,alt:"👤"}))}}c.propTypes={width:o.a.oneOfType([o.a.string,o.a.number]),height:o.a.oneOfType([o.a.string,o.a.number]),bgSize:o.a.number,class:o.a.string,type:o.a.oneOf(["user","organization"]),title:o.a.string,srcset:o.a.string,src:o.a.string},c.defaultProps={width:32,height:32},t.default=c},function(e,t){},,function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(340);function o(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}class s extends r.default{render(){const e=this.props,{class:t,children:n,type:r}=e,s=o(e,["class","children","type"]),a=`<${r} ${Object.entries(s).map(([e,t])=>`${e}="${t}"`).join(" ")}></${r}>`;return i.h("span",{class:t,dangerouslySetInnerHTML:{__html:a}})}}t.default=s},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var i=n(537);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(62),a=n(24),l=n(56);n(538);const c=100;function d(e,t,n){return`<line x1="${e}" y1="0.5" x2="${t}" y2="0.5" stroke="%23419bf9" stroke-width="1" stroke-linecap="${n}"/>`}function u(...e){return`<svg xmlns="http://www.w3.org/2000/svg" width="3" height="1">${e.join(" ")}</svg>`}class h extends i.Component{constructor(e){super(e),this.handleSubmit=this.handleSubmit.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleInput=this.handleInput.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleClick=this.handleClick.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleDocumentMouseUp=this.handleDocumentMouseUp.bind(this),this.handleDocumentMouseMove=Object(s.debounce)(this.handleDocumentMouseMove).bind(this),this.handleSelectionChange=Object(s.debounce)(this.handleSelectionChange).bind(this),this.getSelectionPoints=this.getSelectionPoints.bind(this),this.state={focusWithin:!1,discard:!1,selectionPoints:{selectionStart:0,selectionEnd:0},shouldCheckRightSelection:!1,value:e.value}}getSelectionPoints(){return{selectionStart:this.nodeRefs.input.selectionStart,selectionEnd:this.nodeRefs.input.selectionEnd}}calculateShouldCheckRightSelection(){const{widthlessMirror:e,inputContainer:t}=this.nodeRefs;return e.scrollWidth>=t.offsetWidth}highlight(){Object(l.highlightInput)(this.nodeRefs.input)}focus(){this.nodeRefs.input.focus()}handleBlur(){const{required:e,value:t,readOnly:n}=this.props;if(n)return;const{value:i}=this.state;let r=this.state.discard;const o={focusWithin:!1};e&&!i&&(o.value=t,r=!0),this.setState(o),this.props.onBlur({discard:r,value:i})}handleFocus(){this.props.readOnly||this.setState({focusWithin:!0,discard:!1})}handleInput(e){const{onAttemptToChange:t}=this.props;if(t)return void t();const n=e.target.value;if(n===this.state.value)return;const i=this.getSelectionPoints();this.setState({value:n,selectionPoints:i})}handleKeyDown(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:{e.stopPropagation();const{value:t}=this.props;this.setState({value:t,discard:!0}),this.nodeRefs.input.blur();break}case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:case Zeplin.KEY_CODE.ArrowUp:case Zeplin.KEY_CODE.ArrowDown:this.handleSelectionChange()}}handleMouseDown(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(e.stopPropagation(),document.addEventListener("mousemove",this.handleDocumentMouseMove),document.addEventListener("mouseup",this.handleDocumentMouseUp))}handleDocumentMouseMove(e){1&e.buttons?this.handleSelectionChange():(document.removeEventListener("mousemove",this.handleDocumentMouseMove),document.removeEventListener("mouseup",this.handleDocumentMouseUp))}handleDocumentMouseUp(){this.handleSelectionChange(),document.removeEventListener("mousemove",this.handleDocumentMouseMove),document.removeEventListener("mouseup",this.handleDocumentMouseUp)}handleClick(e){e.stopPropagation(),this.handleSelectionChange()}handleSubmit(e){e.preventDefault(),this.nodeRefs.input.blur()}handleSelectionChange(){const e=this.getSelectionPoints();this.setState({selectionPoints:e})}componentDidMount(){this.setState({shouldCheckRightSelection:this.calculateShouldCheckRightSelection()})}componentWillReceiveProps(e){const t={};this.state.focusWithin||e.value===this.state.value||(t.value=e.value),Object.keys(t).length&&this.setState(t)}componentDidUpdate(e,t){this.state.value!==t.value&&this.setState({shouldCheckRightSelection:this.calculateShouldCheckRightSelection()})}render(){const{required:e,readOnly:t,maxLength:n=c,showRemaining:r,fontStyle:o,tabIndex:s=0}=this.props,{focusWithin:l,value:h,selectionPoints:p,shouldCheckRightSelection:f}=this.state;let g=Object.assign({},o);if(l&&!t){const{selectionStart:e,selectionEnd:t}=p,n=function(e,t){return e&&t?u(d(0,2.5,"butt")):e?u(d(0,1.5,"butt"),d(1.5,2.5,"round")):t?u(d(.5,1.5,"round"),d(1.5,2.5,"butt")):void 0}(e!==t&&0===e,f&&e!==t&&t===h.length);n&&Object.assign(g,{borderImageSource:`url('data:image/svg+xml;utf8,${n}')`,borderImageSlice:"0 1 1 1",borderImageRepeat:"stretch"})}return i.h("div",{class:"expandableInputWrapper"},i.h("form",{ref:Object(a.default)(this,"inputContainer"),class:"expandableInputForm",onSubmit:this.handleSubmit},i.h("span",{ref:Object(a.default)(this,"widthlessMirror"),class:"mirror widthless",style:o},h||" "),i.h("span",{class:"mirror",style:o},h||" "),i.h("input",{style:g,type:"text",name:"expandableInput",class:"expandableInput",minlength:"1",maxlength:n,autocomplete:"off",spellCheck:"false",required:e,value:h,readonly:t,tabIndex:s,ref:Object(a.default)(this,"input"),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onSelect:this.handleSelectionChange,onKeyDown:this.handleKeyDown,onInput:this.handleInput,onFocus:this.handleFocus,onBlur:this.handleBlur})),r&&l&&i.h("span",{class:"remainingCounter"},n-h.length))}}h.propTypes={value:o.a.string,required:o.a.bool,onBlur:o.a.func,readOnly:o.a.bool,maxLength:o.a.oneOfType([o.a.number,o.a.string]),showRemaining:o.a.bool,fontStyle:o.a.object,inputRef:o.a.func,tabIndex:o.a.number},t.default=h},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var i=n(583);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(293),a=n(11),l=n(24),c=n(62);n(584);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"positionPopover",()=>{const{open:e,offsetX:t,topOffset:n,bottomOffset:i,targetNode:r,left:o,top:s,faceLeft:a,faceTop:l,centerX:c,centerY:d,anchorTop:u,stickToEdge:h,showAnchor:p,openToLeft:f,originParent:g}=this.props,m=r||this.nodeRefs.container,b=this.nodeRefs.popover,y=this.nodeRefs.anchor,S=g===window?g.innerWidth:g.clientWidth,v=g===window?g.innerHeight:g.clientHeight;if(!e||!b||!m)return;const C=m.getBoundingClientRect(),O=b.getBoundingClientRect(),E=o,T=s;let D=a?C.left:C.right;D+=c?(C.width-O.width)/2:E;let k=l||p?C.top:C.bottom;k+=d?(C.height-O.height)/2:T;let w=!1;const _=C.right-O.width-C.width-o;if((f&&_>t||D+O.width+t>S)&&(D=_,w=!0),h&&k+n<0?k=n||64:k+O.height+n>v&&(k=h?v-O.height-i:Math.max(k-O.height,0)),n&&k<n&&(k=n),b.style.transform=`translate3d(${D}px, ${k}px, 0)`,p){const e=C.top-k+(C.height-y.offsetHeight)/2+u;y.style.top=Math.min(Math.max(e,28),O.height-28)+"px",y.classList.toggle("faceLeft",w)}}),d(this,"registerListeners",()=>{window.addEventListener("resize",this.handleResize),document.addEventListener("click",this.handleDocumentClick,!0),document.addEventListener("keydown",this.handleKeyDown)}),d(this,"removeListeners",()=>{window.removeEventListener("resize",this.handleResize),document.removeEventListener("click",this.handleDocumentClick,!0),document.removeEventListener("keydown",this.handleKeyDown)}),d(this,"handleToggle",e=>{const{open:t,onOpen:n,onClose:i}=this.props;e.stopPropagation(),t&&i?i():!t&&n&&n()}),d(this,"handleClose",()=>{const{onClose:e}=this.props;e&&e()}),d(this,"handleDocumentClick",e=>{if(e.button!==Zeplin.MOUSE_BUTTON.LEFT)return;const{container:t,popover:n}=this.nodeRefs;if(t.contains(e.target))return;n&&n.contains(e.target)||this.handleClose()}),d(this,"handleKeyDown",e=>{e.keyCode===Zeplin.KEY_CODE.ESC&&this.handleClose()}),d(this,"handleResize",()=>{requestAnimationFrame(this.positionPopover)})}componentDidMount(){const{targetNode:e,open:t}=this.props;e&&t&&this.registerListeners()}componentDidUpdate(e){!e.open&&this.props.open?this.registerListeners():e.open&&!this.props.open&&this.removeListeners()}componentWillUnmount(){this.removeListeners()}renderAnchor(){const{faceLeft:e}=this.props,t=Object(a.default)("popoverAnchor",{faceLeft:e});return i.h("div",{ref:Object(l.default)(this,"anchor"),class:t})}renderPopoverContent(){const{content:e,showAnchor:t,contentClass:n}=this.props,r=Object(a.default)("popoverContent",n),o="function"==typeof e?e():e;return i.h("div",{onClick:c.stopPropagation,class:r,ref:Object(l.default)(this,"popover")},t&&this.renderAnchor(),i.toChildArray(o))}render(){const{open:e,children:t,portalInto:n,class:r}=this.props,o=Object(a.default)(r,"popoverContainer");return i.h("div",{ref:Object(l.default)(this,"container"),class:o,onClick:this.handleToggle},i.h(i.Fragment,null,t,e&&i.h(s.default,{didRender:this.positionPopover,into:n},this.renderPopoverContent())))}}u.defaultProps={offsetX:0,topOffset:0,bottomOffset:12,left:0,top:0,anchorTop:0,originParent:window},u.propTypes={open:o.a.bool.isRequired,children:o.a.node,onClose:o.a.func,onOpen:o.a.func,portalInto:o.a.object,contentClass:o.a.string,class:o.a.string,offsetX:o.a.number,topOffset:o.a.number,bottomOffset:o.a.number,targetNode:o.a.oneOfType([o.a.node,o.a.object]),left:o.a.number,top:o.a.number,faceLeft:o.a.bool,faceTop:o.a.bool,centerX:o.a.bool,anchorTop:o.a.number,openToLeft:o.a.bool,originParent:o.a.object},t.default=u},function(e,t){},,,,,function(e,t,n){"use strict";n.r(t);var i=n(590);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(289),o=n(156);n(591);class s extends i.Component{constructor(e){super(e),this.handleInputChange=this.handleInputChange.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.state={value:""}}handleInputChange(e){this.setState({value:e})}handleKeyPress(e){if(e.keyCode!==Zeplin.KEY_CODE.ENTER)return;const{value:t}=this.state,{confirmationText:n,onDelete:i}=this.props;t===n&&i()}render(){const{value:e}=this.state,{onDelete:t,onClose:n,title:s,placeholder:a,confirmationText:l,loading:c}=this.props,d=l!==e;return i.h(r.default,{class:"deleteDialog",positiveButtonText:"DELETE",negativeButtonText:"CANCEL",positiveButtonDisabled:d,onPositiveButtonClick:t,hideNegativeButton:!1,onClose:n,width:400,loading:c},i.h("div",{class:"deleteDialogBody"},i.h("h2",null,s),i.h(o.default,{label:a,onInput:this.handleInputChange,onKeyPress:this.handleKeyPress,primary:!0})))}}t.default=s},function(e,t){},,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var i=n(166),r=n(68),o=n(42),s=n(62),a=n(45),l=(n(604),n(65)),c=n(104),d=n(140),u=n(353),h=n(466),p=n(605),f=n(606),g=n(658),m=n(473),b=n(635),y=n(680),S=n(342),v=n(683),C=n(646),O=n(690),E=n(349),T=n(52),D=n(137),k=n(346),w=n(19),_=n(697),j=n(465),P=n(61),R=n(44),I=n(652),A=n(467);function x(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=document.getElementById("androidResFolderReminderDialog");function B(e){const{projectName:t,projectFolderType:n,projectFolder:i,projectFolderPathParts:r}=e;S.BarrelActions.setAssetExportTarget({name:t,type:n,path:i,pathParts:r})}function z(e,t,n){if(document.body.dataset.projectType=e.type,t){const o=t._id;if("pawn"===n&&-1!==t.transitionLeft){const n=Math.ceil(t.transitionLeft/1e3/60/60/24);!function(e,t,n){const i="transitionBannerStatus"+e;if("dismissed"===sessionStorage.getItem(i))return;r.show({content:`This project now belongs to an organization but looks like you’re not a member yet. For ${Object(w.pluralize)(n,"day",{one:"a"})}, you’ll be able to access its resources but if you’re a designer or a developer, <a href="#">request an invite</a> from admins.`,type:"info",contentType:"html",group:"transition",closeCallback(){sessionStorage.setItem(i,"dismissed")},bodyCallbacks:{a(e){e.preventDefault(),m.OrganizationActions.requestInvite(t,document.querySelector("main")),sessionStorage.setItem(i,"dismissed"),r.closeBanner("transition")}}})}(e._id,o,n)}"past_due"===t.subscriptionStatus?i.showFailedPaymentBanner({oid:o,currentRole:n}):"will_cancel_at_period_end"===t.subscriptionStatus&&i.showCancelledSubscriptionBannerIfNecessary({oid:o,currentRole:n,subscriptionCancelAt:t.subscriptionCancelAt})}else{const t=e.findOwner();"past_due"===t.user.subscriptionStatus?i.showFailedPaymentBanner({currentRole:n,ownerEmail:t.user.email}):"will_cancel_at_period_end"===t.user.subscriptionStatus&&i.showCancelledSubscriptionBannerIfNecessary({currentRole:n,subscriptionCancelAt:t.user.subscriptionCancelAt})}var o;e.integration.slacks.length>0&&(o=e.id,D.getProjectSlackIntegrationEmojis(o).catch(()=>{}).then(e=>{e&&"emoji"in e&&f.default.addCustomEmojis(e.emoji)})).then(J)}function F(e,t){if(!e.length)return Promise.resolve({});const n=e.map(e=>function(e,t){const n=m.OrganizationHelpers.getOrganizationProfile(e);return n||D.getOrganizationMemberProfile(e,t)}(e,t));return Promise.all(n).then(t=>Object.fromEntries(Object(I.default)(e,t))).catch(a.handleError)}function H(e,t){if(!t)return Promise.resolve([]);const{status:n,styleguide:i}=t;return"active"!==n?Promise.resolve([]):Promise.all([i._id,...i.ancestors].map(t=>function(e,{projectId:t}){const n=S.BarrelHelpers.getBarrel({bid:e});return n&&n.complete?n:D.getStyleguide(e,{projectId:t})}(t,{projectId:e})))}function W(e,{projectId:t}){const n=S.BarrelHelpers.getBarrel({bid:e});return n&&n.connectedComponents?{connectedComponents:n.connectedComponents}:D.getStyleguideConnectedComponents(e,{projectId:t})}function V(e,{projectId:t}){const n=S.BarrelHelpers.getBarrel({bid:e});return n&&n.localConnectedComponents?{localConnectedComponents:n.localConnectedComponents}:D.getStyleguideLocalConnectedComponents(e,{projectId:t})}function G(e,t,{local:n=!1}){if(!t)return Promise.resolve([]);const{status:i,styleguide:r}=t;if("active"!==i)return Promise.resolve([]);const o=n?V:W;return Promise.all([r._id,...r.ancestors].map(t=>o(t,{projectId:e})))}function q(e,t){const n=function(e){const t=S.BarrelHelpers.getBarrel({bid:e});return t&&t.connectedComponents?{connectedComponents:t.connectedComponents}:D.getProjectConnectedComponents(e)}(e),i=G(e,t,{local:!1}),r="true"===sessionStorage.getItem("connectedComponentsDevModeEnabled");return[n,i,r?D.getProjectLocalConnectedComponents(e):Promise.resolve({localConnectedComponents:null}),r?G(e,t,{local:!0}):Promise.resolve([])]}function $(e){return e.map(e=>L(L({},e),{},{complete:!1}))}function Z(e){let t=null,n=[],i=[];return e.did?(1===e.did.length?(t=e.did[0],e.cmid&&(i=e.cmid)):e.did.length>1&&(n=e.did),{dotId:t,highlightedDots:n,highlightedComments:i}):{}}async function Y(e,t,n,i){const{pid:r,sid:o}=e;let s;if(t.complete)s=t;else{const e=await D.getProjectComponentSections(r);s=L(L({},t),e)}const[a,{connectedComponents:u},p,{localConnectedComponents:f},b]=await Promise.all([H(r,t.styleguideLink),...q(r,t.styleguideLink)]),y=new c.default(L(L({},s),{},{connectedComponents:u,localConnectedComponents:f,complete:!0})),{userId:v}=E.UserStore.getState(),{role:C}=y.findUser(v);z(y,n,C),p.forEach((e,t)=>{a[t].connectedComponents=e.connectedComponents}),b.forEach((e,t)=>{a[t].localConnectedComponents=e.localConnectedComponents});const T=n?n._id:"user",k=F(i.map(e=>e._id),v),w="pawn"!==C?function(e){const t=m.OrganizationHelpers.getOrganizationProjects(e);return t||D.getProjects("user"===e?null:e).then($)}(T):Promise.resolve(),_="pawn"!==C?function(e){const t=m.OrganizationHelpers.getOrganizationStyleguides(e);return t||D.getStyleguides("user"===e?null:e).then($)}(T):Promise.resolve();a.forEach(e=>Object(A.subscribeToStyleguideChannel)(e._id));const[{assetDensityScalePrefs:P,assetNamingConvention:R,collapsedSections:I,dashboardSidebarWidth:x,extensions:N,fixedThumbnailSize:U,lastNoteColorUsed:M,layoutGridEnabled:W,noteVisibility:V,noteStatusFilter:G,noteColorFilter:Y,noResourceInfoDismissed:K,screenSidebarWidth:J,showOptimizedSVG:X,slackReconnectionAuntieSeen:ee,styleguideLeftSidebarWidth:te,styleguideRightSidebarWidth:ne,versionsSidebarWidth:ie,zoomLevel:re,connectedComponentsLocalWorkspace:oe,[o]:{versionsLastSeen:se}={}},{noVectorAssetInfoHidden:ae,densityMismatchWarningHidden:le,sourceFileInfoHidden:ce,flowLinkInfoDismissed:de,versionsTutorialSeen:ue},he,pe,fe]=await Promise.all([d.barrelPrefs.getAll(y.id),d.userPrefs.getAll(),k,w,_]);return S.BarrelActions.load({barrel:{barrelType:"project",barrelId:r,organizationId:T,organizationTransitionFinished:n&&-1===n.transitionLeft,assetDensityScalePrefs:Object(j.initAssetDensityScalePrefsIfNecessary)(y.type,P),assetNamingConvention:"android"===y.type?"snakeCase":R,showOptimizedSVG:X,noResourceInfoDismissed:K,noVectorAssetInfoHidden:ae,densityMismatchWarningHidden:le,sourceFileInfoHidden:ce,flowLinkInfoDismissed:de,showSlackReconnectionAuntie:!ee,connectedComponentsDevModeEnabled:"true"===sessionStorage.getItem("connectedComponentsDevModeEnabled"),connectedComponentsLocalWorkspace:oe},styleguide:{selectedStyleguideSection:"colors",leftSidebarWidth:te,rightSidebarWidth:ne},dashboard:{collapsedSections:I,fixedThumbnailSize:U,sidebarWidth:x},screen:{layoutGridEnabled:W,zoomLevel:re,notesVisible:V,screenSidebarWidth:J,showVersionsTutorial:!ue,versionsLastSeen:se,versionsSidebarWidth:ie},dots:L(L({},Z(e)),{},{statusFilter:G,colorFilter:Y,lastNoteColorUsed:M}),notifications:{notificationLastReadTime:Zeplin.user.notificationLastReadTime},data:{project:y,organization:"pawn"!==C?n:null,organizations:i,organizationProfiles:he,organizationProjects:pe,organizationStyleguides:fe,linkedStyleguides:a}}),requestIdleCallback(async()=>{if(!n||n.members||"pawn"===C)return;const e=he[T].restricted?{_id:T,members:[],wildlings:[]}:await function(e){const t=m.OrganizationHelpers.getOrganization(e);return t&&t.members&&t.wildlings?t:D.getOrganizationMembers(e)}(T);m.OrganizationActions.getOrganizationMembersSuccess(e)}),g.ExtensionsActions.init({enabledExtensions:N}),O.SlackPreferencesActions.init(),l.default.isWindowsApp&&(S.BarrelActions.getConnectedComponentsEditorInfo(),h.queryAssetDownloadTarget(y.id,y.type,B)),Q(y),y}async function K(e,{reload:t=!1}={}){const{pid:n}=e;try{const t=function(){const{organizations:e}=m.OrganizationStore.getState();return e.length?Promise.resolve(e):D.getOrganizations()}(),i=await function(e){const t=S.BarrelHelpers.getBarrel({bid:e});return t&&t.complete?Promise.resolve(t):D.getProject(e)}(n),r=function(e){if(!s.isOrganizationProject(e))return Promise.resolve(null);const t=S.BarrelHelpers.findBarrelOrganizationId(e._id);let n=m.OrganizationHelpers.getOrganization(t);return n||(n=Object(T.fetchEmbeddedData)("organization")),n?Promise.resolve(n):D.getProjectOrganization(e._id).catch(()=>null)}(i),[o,a]=await Promise.all([r,t]),{barrelId:l}=S.BarrelStore.getState();return l&&l!==n&&Object(A.unsubscribeFromProjectChannel)(n),i.partial?function(e,t,n,i){const r=new c.default(L(L({},t),{},{complete:!1})),o=n?n._id:"user";return S.BarrelActions.load({barrel:{barrelType:"project",barrelId:r.id,organizationId:o},data:{project:r,organization:n,organizations:i}}),Q(r),r}(0,i,o,a):Y(e,i,o,a)}catch(i){if(t)throw i;!function(e){a.handleError(e,{clientErrorHandler(){o.create({title:e.title,message:e.message}),S.BarrelHelpers.navigateToWorkspace()}})}(i)}}function J(){const e=document.querySelectorAll(".customEmojiPlainText");Array.prototype.forEach.call(e,e=>{const t=s.escapeHTML(e.innerText.trim()),n=p.formatEmojiString(t);e.outerHTML=n})}function X(...e){const{body:{integration:t}}=e[e.length-1],n=S.BarrelHelpers.getBarrel(),i=t.slacks.filter(e=>!n.integration.slacks.find(t=>t._id===e._id));i.length&&(i.forEach(e=>{S.BarrelActions.addIntegration({intype:"slacks",integration:e})}),function(){const e=S.BarrelStore.findUser();s.permissions.canUpdateProject(e)&&O.SlackPreferencesActions.init()}())}function Q(e){const t=Object(A.subscribeToProjectChannel)(e._id);t.bind("UpdateUserSubscription",({params:{uid:t},body:{plan:n,subscriptionStatus:r}})=>{const o=e.findUser(t);if(!o)return;const s=o.user.paymentPlan;o.user.paymentPlan=n;const a=o.user.subscriptionStatus;o.user.subscriptionStatus=r,"owner"===o.role&&("will_cancel_at_period_end"===a&&(i.hideCancelledSubscriptionBanner(),o.user.subscriptionCancelAt=null),i.getPlans().then(t=>{const{versionLimit:i}=t.find(e=>e.id===s),{versionLimit:r}=t.find(e=>e.id===n),o=b.ScreenHelpers.getScreen();if(i>r){if(e.screens.forEach(e=>{e.allowedVersionCount=r,e.versions.length>r&&(e.versions.length=r)}),o){b.ScreenHelpers.getVersion()||(b.ScreenActions.setVersionId(o.versions[0]._id),Object(P.default)({text:"Displayed version is not available anymore.",container:document.querySelector("main"),source:"UpdateUserSubscription"}))}}else i<r&&(e.screens.forEach(e=>{e.allowedVersionCount=r,e.totalVersionCount&&e.totalVersionCount>i&&delete e.totalVersionCount}),o&&(!o.totalVersionCount||o.totalVersionCount>i)&&b.ScreenActions.getVersions())}))}),t.bind("CancelUserSubscription",({params:{uid:e},body:{plan:t,subscriptionStatus:n,subscriptionCancelAt:r}})=>{const o=S.BarrelHelpers.findUser();o&&(S.BarrelActions.updateUserData({uid:e,userData:{paymentPlan:t,subscriptionStatus:n,subscriptionCancelAt:r}}),"owner"===o.role&&"will_cancel_at_period_end"===n&&i.showCancelledSubscriptionBannerIfNecessary({currentRole:o.role,subscriptionCancelAt:r}))}),t.bind("AuthProjectSlack",X),t.bind("UpdateProjectUserRole",({params:{pid:e,mid:t},body:{role:n}})=>{const{barrelId:i}=S.BarrelStore.getState(),{userId:o}=E.UserStore.getState();i===e&&o===t&&"pawn"!==n&&r.closeBanner("transition")}),t.bind("TransferProjectOwnership",({params:{pid:e,oid:t="user"},body:{users:n}})=>{n.forEach(({user:{_id:t},role:n})=>{S.BarrelActions.updateUserRole({bid:e,uid:t,role:n})}),S.BarrelActions.setOrganizationId({oid:t})}),t.bind("RequestPaymentFail",(function(e){const t=S.BarrelHelpers.findUser(),n={currentRole:t.role};Object.assign(n,e.params),e.params.oid||"owner"===t.role||(n.ownerEmail=e.body.email),i.showFailedPaymentBanner(n)}))}function ee(e,t){const{pid:n}=e;if(!n||!s.validateId(n,"project"))return o.create({title:"Invalid project link",message:"There might be a typo, please try again."}),S.BarrelHelpers.navigateToWorkspace(),Promise.reject();const i=S.BarrelHelpers.getBarrel();return!i||i.id!==n||i.partial?(S.BarrelActions.reset(),K(e,t)):Promise.resolve(i)}o.polyfill.registerDialog(M),u.default.route(/\/project\/([\da-f]{24})\/screen\/([\da-f]{24})(?:\/version\/([\da-f]{24}))?/i,(function(e){ga("set","location",location.href),ga("set","title","Screen - Zeplin"),ga("send","pageview");const{match:[t,n,i],query:r,query:{did:[a]=[],cmid:[l]=[]},reload:c}=e,d=Object.assign({pid:t,sid:n,vid:i},r);return y.AppActions.setPage("barrel"),ee(d,{reload:c}).then(e=>{if(!e||e.partial)return;const{screenId:r,versionId:c}=b.ScreenStore.getState(),{dotId:d}=b.DotsStore.getState();s.validateId(n,"screen")?r&&r===n?r&&r===n&&(c!==i&&b.ScreenActions.setVersionId(i),a&&d!==a&&b.ScreenActions.selectDot(a,l)):b.ScreenActions.openScreen(n,i,a,l):(o.create({title:"Invalid screen link",message:"There might be a typo, please try again."}),S.BarrelActions.goToDashboard()),a&&history.replaceState(null,null,Object(R.urlResolve)("project-screen",{url:{pid:t,sid:n,vid:i}}))})})),u.default.route(/\/project\/([\da-f]{24})\/styleguide\/colors/i,(function(e){ga("set","location",location.href),ga("set","title","Color Palette - Styleguide - Zeplin"),ga("send","pageview");const{match:[t],query:n,query:{cid:i=[],seid:[r]=[]}={},reload:o}=e,s=Object.assign({pid:t},n);return y.AppActions.setPage("barrel"),ee(s,{reload:o}).then(e=>{e&&!e.partial&&(S.BarrelActions.changeSelectedView("styleguide"),v.StyleguideActions.changeSelectedNavigatorId({selectedStyleguideSection:"colors",selectedNavigatorId:r}),v.StyleguideActions.highlightColors(i))})})),u.default.route(/\/project\/([\da-f]{24})\/styleguide\/textstyles/i,(function(e){ga("set","location",location.href),ga("set","title","Text Style Catalog - Styleguide - Zeplin"),ga("send","pageview");const{match:[t],query:n,query:{tsid:i=[],seid:[r]=[]}={},reload:o}=e,s=Object.assign({pid:t},n);return y.AppActions.setPage("barrel"),ee(s,{reload:o}).then(e=>{e&&!e.partial&&(S.BarrelActions.changeSelectedView("styleguide"),v.StyleguideActions.changeSelectedNavigatorId({selectedStyleguideSection:"textStyles",selectedNavigatorId:r}),v.StyleguideActions.highlightTextStyles(i))})})),u.default.route(/\/project\/([\da-f]{24})\/styleguide\/spacing/i,(function(e){ga("set","location",location.href),ga("set","title","Spacing and Layout - Styleguide - Zeplin"),ga("send","pageview");const{match:[t],query:n,query:{sptid:i=[],seid:[r]=[]}={},reload:o}=e,s=Object.assign({pid:t},n);return y.AppActions.setPage("barrel"),ee(s,{reload:o}).then(e=>{e&&!e.partial&&(S.BarrelActions.changeSelectedView("styleguide"),v.StyleguideActions.changeSelectedNavigatorId({selectedStyleguideSection:"spacing",selectedNavigatorId:r}),v.StyleguideActions.highlightSpacingTokens(i))})})),u.default.route(/\/project\/([\da-f]{24})\/styleguide\/components/i,(function(e){ga("set","location",location.href),ga("set","title","Components - Styleguide - Zeplin"),ga("send","pageview");const{match:[t],query:n,query:{coid:[i]=[],cseid:[r]=[],seid:[o]=[r]}={},reload:s}=e,a=Object.assign({pid:t},n);return y.AppActions.setPage("barrel"),ee(a,{reload:s}).then(e=>{if(!e||e.partial)return;S.BarrelActions.changeSelectedView("styleguide");const t=S.BarrelHelpers.getStyleguidesData({barrelStore:S.BarrelStore,styleguidesDataStore:k.StyleguidesDataStore}),{component:n}=i?Object(_.findComponentById)(t,i):{};v.StyleguideActions.changeSelectedNavigatorId({selectedStyleguideSection:"components",selectedNavigatorId:o}),v.StyleguideActions.changeSelection({selectionComponentId:i,selection:n})})})),u.default.route(/\/project\/([\da-f]{24})(?:\/(dashboard|styleguide))?$/i,(function(e){const{match:[t,n="dashboard"],query:i,reload:r}=e;ga("set","location",location.href),ga("set","title",Object(w.uppercaseFirst)(n)+" - Zeplin"),ga("send","pageview");const o=Object.assign({pid:t,subpage:n},i);return y.AppActions.setPage("barrel"),function(e,t){const{subpage:n}=e,i=x(e,["subpage"]);return ee(e,t).then(e=>{if(!e||e.partial)return;const{selectedView:t}=S.BarrelStore.getState();if("sid"in i){"dashboard"!==t&&S.BarrelActions.changeSelectedView("dashboard"),C.DashboardActions.highlightScreens(i.sid);const{tagFilter:{tags:e}}=C.DashboardStore.getState();e.length&&C.DashboardActions.changeTagFilter({tags:[],untagged:!1})}else if("seid"in i)C.DashboardActions.highlightSection(i.seid[0]),"dashboard"!==t&&S.BarrelActions.changeSelectedView("dashboard");else if("eid"in i){"dashboard"!==t&&S.BarrelActions.changeSelectedView("dashboard");const{userId:n}=E.UserStore.getState();g.ExtensionsActions.load({bid:e.id,eid:i.eid[0],uid:n})}else if("dashboard"===n){"dashboard"!==t&&S.BarrelActions.changeSelectedView("dashboard");const{filterValue:n,tagFilter:r,jiraIssueFilter:o}=C.DashboardStore.getState();if(i.tag||i.ja){if(i.tag){!s.arrayEqual(r.tags,i.tag,e=>i.tag.includes(e))&&C.DashboardActions.changeTagFilter({tags:i.tag,untagged:!1})}if(i.ja){!s.arrayEqual(o,i.ja,e=>i.ja.includes(e))&&C.DashboardActions.changeJiraIssueFilter(i.ja)}}else{let t={tags:[],untagged:!1},s="q"in i&&i.q[0]||"";"untagged"in i&&"true"===i.untagged[0]&&e.tags&&e.tags.length&&(t.untagged=!0),(r.tags.length||r.untagged!==t.untagged)&&C.DashboardActions.changeTagFilter(t),n!==s&&C.DashboardActions.changeFilterValue(s),o&&o.length&&C.DashboardActions.changeJiraIssueFilter([])}}else"cid"in i||"tsid"in i?"styleguide"!==t&&S.BarrelActions.changeSelectedView("styleguide"):"styleguide"===n&&"styleguide"!==t&&S.BarrelActions.changeSelectedView("styleguide")})}(o,{reload:r})}))},function(e,t,n){"use strict";n.r(t);var i=n(42),r=n(605),o=n(609),s=n(610),a=n(627),l=n(612),c=n(62),d=n(64),u=n(114),h=n(56),p=n(19),f=n(44),g=n(173),m=n(635),b=n(342),y=n(349);function S(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const v=document.getElementById("dotPopup"),C=document.getElementById("dotPopupAnchor"),O=document.getElementById("dotColors"),E=document.getElementById("commentTemplate"),T=document.getElementById("dotComments"),D=document.getElementById("newComment"),k=document.getElementById("newCommentButtons"),w=document.getElementById("newCommentButton"),_=document.getElementById("newCommentMirror"),j=document.getElementById("newCommentNote"),P=document.getElementById("newCommentSendButton"),R=document.getElementById("newCommentArea"),I=document.getElementById("suggestedUsersContainer"),A=document.getElementById("suggestedEmojisContainer"),x=new g.default(a.default,v),N={};function L(e){if(e&&e.length)if(Array.isArray(e)){let t,n=m.ScreenHelpers.getDot().comments.length;if(e.forEach(e=>{const i=T.querySelector(`.comment[data-id="${e}"]`);i&&i.classList.add("highlight");const r=Array.from(i.parentElement.children).indexOf(i);r<n&&(n=r,t=i)}),t){const e=v.getBoundingClientRect().top,n=t.getBoundingClientRect().top-e;setTimeout(()=>{T.scrollTop+=n-24},200)}else i.create({message:"Comments not available anymore."})}else{const t="string"==typeof e?T.querySelector(`.comment[data-id="${e}"]`):e;if(!t)return void i.create({message:"Comment not available anymore."});t.classList.add("new"),t.scrollIntoView(),setTimeout(()=>{t.classList.add("highlight"),setTimeout(()=>{t.classList.remove("highlight"),t.addEventListener("transitionend",()=>{t.classList.remove("new")},{once:!0})},1e3)},150)}}function U(e,t,n){if(t.innerHTML=Object(c.escapeHTML)(e.value)+"&nbsp;",e.selectionStart!==e.selectionEnd)return;const i=Object(p.getFirstWhitespaceIndex)(e.value.substring(0,e.selectionStart),!0),s=e.value.charAt(i);if("@"===s||" "===s){const i=o.manageSuggestedUsers(e,t);i&&M(i,n,o)}else if(":"===s){const i=r.manageSuggestedEmojis(e,t);i&&M(i,n,r)}else o.close(),r.close()}function M(e,t,n){e.style.top="",e.style.left="",e.style.bottom="",e.style.right="",t.appendChild(e),n.open();const i=t.getBoundingClientRect(),r=v.getBoundingClientRect();i.bottom+42>=window.innerHeight?(e.style.bottom=r.bottom-i.bottom+t.offsetHeight+"px",e.style.top=""):(e.style.top=i.bottom-r.top+"px",e.style.bottom="",e.style.maxHeight=window.innerHeight-i.bottom-6+"px")}function B(){const e=r.formatEmojiString(j.value.trim(),!0);if(!e)return;D.classList.remove("composing");const t=m.ScreenHelpers.getDot(),{name:n}=t,i=S(t,["name"]);i.comments=[{note:e}],m.ScreenActions.createComment({did:i._id,note:e}),m.ScreenActions.addDot({dot:i,syncWithApi:!0})}function z(e){e.classList.remove(...u.colorNames)}function F(){w.textContent=T.lastElementChild.classList.contains("commentOwner")?"POST":"REPLY"}function H(e,t,n,i){delete e.status;const r=document.importNode(E.content,!0);!async function(e,t,n,i,r){const o=e.querySelector(".commentAuthorImage"),s=e.querySelector(".commentAuthorName");Object(h.setAvatar)(o,t.author),s.textContent=t.author?t.author.fullName||t.author.username:"Anonymous",e.dataset.id=t._id,e.classList.toggle("commentOwner",t.author&&t.author._id===Zeplin.user._id);const a=new Date(t.created),l=new Date(t.updated);e.querySelector(".commentLink").href=Object(f.urlResolve)("project-screen",{url:{pid:n,sid:i},query:{did:r,cmid:t._id}}),e.querySelector(".commentCreated").setAttribute("datetime",a);const c=e.querySelector(".commentMirror");c.innerHTML="",await W(t.note,c),e.querySelector(".commentEdited").setAttribute("datetime",l-a>3e5?l:""),o.addEventListener("mouseenter",e=>G(e,t.author._id)),o.addEventListener("mouseleave",q),s.addEventListener("mouseenter",e=>G(e,t.author._id,!1)),s.addEventListener("mouseleave",q);const d=T.querySelectorAll(".user");for(const u of d)u.addEventListener("mouseenter",e=>G(e,u.dataset.uniqueId,!1)),u.addEventListener("mouseleave",q)}(r.querySelector(".comment"),e,t,n,i),T.appendChild(r);const o=T.lastElementChild,s=o.querySelector(".commentNote"),a=o.querySelector(".commentMirror");return s.addEventListener("input",()=>{U(s,a,o),ne()}),s.addEventListener("keyup",e=>{switch(e.keyCode){case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:U(s,a,o)}}),o}function W(e,t){new g.default(s.default,t).render({children:e,disabledFeatures:[l.CustomRules.SPOTIFY,l.CustomRules.YOUTUBE,l.MarkdownRules.IMAGE,l.MarkdownRules.CHECKBOX,l.MarkdownRules.TABLE,l.MarkdownRules.HEADING]})}let V;function G(e,t,n=!0){q(),V=setTimeout(()=>{const i=b.BarrelHelpers.findUser({uid:t});i&&(x.render({targetNode:e.target,user:i.user,tags:i.tags,openToLeft:n,class:"dotPopupUserProfileCardPopoverContent",toastContainer:document.querySelector(".screenContainer"),originParent:document.querySelector(".screenView")}),document.querySelector(".dotPopupUserProfileCardPopoverContent").addEventListener("mouseenter",()=>clearTimeout(V)),document.querySelector(".dotPopupUserProfileCardPopoverContent").addEventListener("mouseleave",q))},300)}function q(){clearTimeout(V),x.isRendered()&&(V=setTimeout(()=>{x.remove()},100))}function $({scroll:e=!1}={}){T.innerHTML="",j.value="";const{barrelId:t}=b.BarrelStore.getState(),{screenId:n}=m.ScreenStore.getState(),{dotId:i}=m.DotsStore.getState();m.ScreenHelpers.getDot().comments.forEach(e=>H(e,t,n,i)),e&&Object(h.scrollIfNecessary)(T.lastElementChild),D.classList.remove("hidden"),F(),ne()}function Z({hasReaction:e=!1}={}){const t=r.formatEmojiString(j.value.trim(),!0);r.close(),o.close(),t&&(D.classList.remove("composing"),m.ScreenActions.createComment({note:t,hasReaction:e,syncWithApi:!0}))}function Y(e){const t=e.querySelector(".commentNote"),n=r.formatEmojiString(t.value.trim(),!0);if(r.close(),o.close(),""===n)return void K(e.dataset.id);const{screenId:i}=m.ScreenStore.getState(),{dotId:s}=m.DotsStore.getState(),a=e.dataset.id;m.ScreenActions.updateComment({sid:i,did:s,cmid:a,commentData:{note:n,updated:new Date},syncWithApi:!0})}function K(e){const{userId:t}=y.UserStore.getState(),{screenId:n}=m.ScreenStore.getState(),{dotId:r}=m.DotsStore.getState(),o=m.ScreenHelpers.getDot(),s=m.ScreenHelpers.getComment({sid:n,did:r,cmid:e}),a=1===o.comments.length?"note":"comment";let l;l=s.author?s.author._id===t?`Delete your ${a}?`:`Delete ${s.author.username}’s ${a}?`:`Delete ${a}?`,i.create({title:l,message:`Deleted ${a}s cannot be restored.`,done:{name:"DELETE",cb(){1===o.comments.length&&m.ScreenActions.removeDot({sid:n,did:r,syncWithApi:!0}),m.ScreenActions.removeComment({sid:n,did:r,cmid:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}})}function J(){o.close(),r.close(),x.remove(),T.innerHTML="",T.scrollTop=0,v.dataset.id="",z(v),v.classList.remove("open","resolved"),v.classList.add("hidden"),v.classList.remove("left","right")}function X(){J(),document.removeEventListener("click",oe),document.removeEventListener("keydown",se);const e=document.querySelector('.dot[data-id^="new"]');e&&setTimeout(()=>{m.ScreenActions.removeDot({did:e.dataset.id})},4)}function Q(){const{screenId:e}=m.ScreenStore.getState();if(!v.classList.contains("hidden")&&e){N[e]=N[e]||{};const t=v.dataset.id;t.startsWith("new")?N[e].comment=j.value:(N[e].reply=N[e].reply||{},N[e].reply[t]=j.value)}}function ee(){Q(),X()}function te(e,t){const{id:n,users:i}=b.BarrelHelpers.getBarrel();if(!e||!i)return void J();Array.isArray(t)&&1===t.length&&(t=t[0]);const r=m.ScreenHelpers.getDot({did:e});if(!r)return;if(v.dataset.id===r._id)return void L(t);J();const o=b.BarrelHelpers.findUser();v.dataset.id=e,v.classList.add(Object(u.getColorName)(r.color),r.x<=.5?"left":"right"),v.classList.toggle("canRemoveNotes",c.permissions.canRemoveNotes(o)),_.innerHTML="&nbsp;",j.value="",D.classList.remove("hidden");const{screenId:s}=m.ScreenStore.getState();if(e.startsWith("new"))v.classList.add("open"),D.classList.add("composing"),N[s]&&N[s].comment&&(_.innerHTML=Object(c.escapeHTML)(N[s].comment)+"&nbsp;",j.value=N[s].comment),setTimeout((function(){j.focus(),j.setSelectionRange(j.value.length,j.value.length)}),4);else{v.classList.add(r.status),r.comments.forEach(t=>H(t,n,s,e)),L(t);const i=N[s]&&N[s].reply&&N[s].reply[e];i?(D.classList.add("composing"),_.innerHTML=Object(c.escapeHTML)(i)+"&nbsp;",j.value=i,setTimeout((function(){j.focus(),j.setSelectionRange(j.value.length,j.value.length)}),4)):(F(),D.classList.remove("composing"))}e.startsWith("new")?re():setTimeout((function(){!function(e){const n=document.querySelector(".screenViewContainer section.screenView");if(Object(h.isElementVisible)(e,n))re();else{const t=e.getBoundingClientRect();let i=n.scrollLeft,r=n.scrollTop;t.left<0?i=n.scrollLeft+t.left-60:t.right>n.offsetWidth&&(i=t.right-n.offsetWidth+60),t.top<92?r=n.scrollTop+t.top-60-29-60:t.bottom>window.innerHeight&&(r=n.scrollTop+(t.bottom-window.innerHeight)+60),"scrollTo"in Element.prototype?(n.scrollTo({left:i,top:r,behavior:"smooth"}),setTimeout(re,450)):(n.scrollLeft=i,n.scrollTop=r,re())}t?L(t):T.lastElementChild.scrollIntoView()}(document.querySelector(`.dot[data-id="${e}"]`))}),200)}function ne(){const{dotId:e}=m.DotsStore.getState();if(!e)return;const t=document.querySelector(`.dot[data-id="${e}"]`);if(!t)return;const n=document.querySelector(".screenViewContainer section.screenView").getBoundingClientRect(),i=t.getBoundingClientRect(),r=v.getBoundingClientRect();let o=6,s=6,a=29,l=!1;i.right<=0?(l=!0,o=6):i.left>=n.right?(l=!0,o=n.width-6-r.width):i.left<=r.width+6+13?(v.classList.remove("left"),v.classList.add("right"),o=i.right+13):i.right+13+r.width+6>=n.right?(v.classList.remove("right"),v.classList.add("left"),o=i.left-13-r.width):(v.classList.remove("left","right"),v.classList.add(t.dataset.position),o="left"===t.dataset.position?i.left-13-r.width:i.right+13),i.top<=n.top+26+6?(l=!0,s=n.top+6):i.bottom>=window.innerHeight-26?(l=!0,s=window.innerHeight-r.height-6):i.top>=window.innerHeight-r.height+26-6?(s=window.innerHeight-r.height-6,a=i.top-s+6):i.top+r.height-29>window.innerHeight?(l=!0,s=window.innerHeight-r.height-6):s=i.top-26,v.classList.toggle("overflown",l),v.style.transform="translate("+o.toFixed()+"px, "+s.toFixed()+"px)",C.style.top=a+"px",x.isRendered()&&x.update()}O.addEventListener("click",e=>{e.target.classList.contains("dotColor")&&function(e,t){const n=Object(u.getColorValueByName)(e);if(t.startsWith("new"))return void m.ScreenActions.updateDotColor({did:t,color:n});m.ScreenActions.updateDotColor({did:t,color:n,syncWithApi:!0});const{colorFilter:i}=m.DotsStore.getState();i&&i!==e&&X()}(e.target.dataset.color,v.dataset.id)}),T.addEventListener("mouseover",e=>{e.target!==T&&e.target.closest(".comment").classList.remove("highlight")}),k.addEventListener("click",e=>{if(e.button!==Zeplin.MOUSE_BUTTON.LEFT)return;if(v.classList.contains("resolved")){const e=document.querySelector("#dotPopup .comment:first-child .commentButtons");e.classList.add("flashing");return void e.animate([{opacity:0},{opacity:1},{opacity:0}],{duration:1e3,easing:"ease-in-out"}).addEventListener("finish",()=>{e.classList.remove("flashing")})}if(e.target.closest("#newCommentButton"))return D.classList.add("composing"),void j.focus();const t=e.target.closest(".newCommentReaction"),n=m.ScreenHelpers.getDot(),i=n.comments[n.comments.length-1];if(i.author&&i.author._id===Zeplin.user._id&&i.note===u.reactions[t.dataset.reaction])return;const r=j.value;j.value=u.reactions[t.dataset.reaction],Z({hasReaction:!0}),j.value=r}),j.addEventListener("input",()=>{U(j,_,R),ne()}),Object(d.getBrowser)()===d.BROWSER.SAFARI&&(j.addEventListener("beforeinput",e=>{const t=e.data||"";j.value.length+t.length>j.maxLength&&e.preventDefault()}),v.addEventListener("beforeinput",e=>{const t=e.target,n=e.data||"";t.value.length+n.length>t.maxLength&&e.preventDefault()})),j.addEventListener("click",e=>{e.stopPropagation(),U(j,_,R)}),P.addEventListener("click",()=>{const{dotId:e}=m.DotsStore.getState();e.startsWith("new")?B():Z()}),j.addEventListener("keyup",e=>{switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:U(j,_,R)}}),j.addEventListener("keydown",e=>{if(e.stopPropagation(),I.classList.contains("hidden")&&A.classList.contains("hidden"))switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:if(Object(d.cmdKey)(e)){const{dotId:e}=m.DotsStore.getState();e.startsWith("new")?B():Z()}break;case Zeplin.KEY_CODE.ESC:{const{screenId:e}=m.ScreenStore.getState(),{dotId:t}=m.DotsStore.getState();N[e]&&(t.startsWith("new")?N[e].comment=null:N[e].reply&&(N[e].reply[t]=null)),D.classList.remove("composing"),_.innerHTML="&nbsp;",j.value="",t.startsWith("new")&&X();break}}});let ie=!1;function re(){document.addEventListener("click",oe),document.addEventListener("keydown",se),v.classList.remove("hidden"),ne()}function oe(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&m.ScreenActions.closeDotPopup()}function se(e){if(e.keyCode===Zeplin.KEY_CODE.ESC){if(x.isRendered())return void x.remove();m.ScreenActions.closeDotPopup()}}v.addEventListener("click",e=>{if(e.stopPropagation(),"A"===e.target.tagName)return;const t=v.dataset.id;if(e.target.classList.contains("dotResolveButton"))m.ScreenActions.updateDotStatus({did:t,status:"resolved",syncWithApi:!0});else if(e.target.classList.contains("dotReopenButton"))m.ScreenActions.updateDotStatus({did:t,status:"open",syncWithApi:!0});else if(e.target.classList.contains("commentEditButton")){const n=v.querySelector(".comment.editing");if(n){const e=m.ScreenHelpers.getComment({did:t,cmid:n.dataset.id}),i=n.querySelector(".commentMirror");i.innerHTML="",W(e.note,i),n.classList.remove("editing")}o.close(),r.close(),D.classList.add("hidden"),D.classList.remove("composing"),_.innerHTML="&nbsp;",j.value="";const i=e.target.closest(".comment"),s=i.querySelector(".commentMirror"),a=i.querySelector(".commentNote"),l=i.dataset.id,d=m.ScreenHelpers.getComment({did:t,cmid:l});s.innerHTML=Object(c.escapeHTML)(d.note)+"&nbsp",a.value=d.note,i.classList.add("editing"),a.setSelectionRange(d.note.length,d.note.length),a.focus(),ne()}else if(e.target.classList.contains("commentDeleteButton")){K(e.target.closest(".comment").dataset.id)}else if(e.target.classList.contains("commentDoneButton")){Y(e.target.closest(".comment"))}x.isRendered()&&x.remove()}),v.addEventListener("keydown",e=>{if(e.target.classList.contains("commentNote")){e.stopPropagation();const t=e.target.closest(".comment");switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:Object(d.cmdKey)(e)&&Y(t);break;case Zeplin.KEY_CODE.ESC:{o.close(),r.close(),t.classList.remove("editing"),D.classList.remove("hidden");const n=t.querySelector(".commentMirror"),i=m.ScreenHelpers.getComment({cmid:t.dataset.id});n.innerHTML="",W(i.note,n),e.target.blur(),ne();break}}}}),b.BarrelDispatcher.register(e=>{switch(e.type){case b.BarrelActionTypes.RESET:X();break;case b.BarrelActionTypes.CHANGE_SELECTED_VIEW:ee();break;case b.BarrelActionTypes.UPDATE_USER_ROLE:{const{uid:t,role:n}=e,{userId:i}=y.UserStore.getState();t===i&&v.classList.toggle("canRemoveNotes",c.permissions.canRemoveNotes({role:n}));break}case b.BarrelActionTypes.UPDATE_USER_DATA:{const{dotId:e}=m.DotsStore.getState();e&&$();break}case b.BarrelActionTypes.REMOVE_MEMBER:o.checkStatus()}}),m.ScreenDispatcher.register(e=>{switch(e.type){case m.ScreenActionTypes.OPEN_SCREEN:e.dotId?(X(),te(e.dotId,e.commentId)):ee();break;case m.ScreenActionTypes.SELECT_LAYER:ee();break;case m.ScreenActionTypes.ZOOM_APPLIED:case m.ScreenActionTypes.ZOOM_WITH_GESTURE:case m.ScreenActionTypes.ZOOM_WITH_WHEEL:!function(){const{dotId:e}=m.DotsStore.getState();e&&!ie&&(requestAnimationFrame((function(){ne(),ie=!1})),ie=!0)}();break;case m.ScreenActionTypes.SET_DOTS:{const{loadingDots:e,dotId:t,highlightedComments:n}=m.DotsStore.getState();!e&&t&&(Q(),te(t,n));break}case m.ScreenActionTypes.SELECT_DOT:X(),te(e.dotId,e.commentId);break;case m.ScreenActionTypes.CLOSE_DOT_POPUP:ee();break;case m.ScreenActionTypes.CHANGE_DOT_FILTER:e.dotId||ee();break;case m.ScreenActionTypes.OPEN_DOT_MENU:o.close(),r.close(),ee();break;case m.ScreenActionTypes.CREATE_NOTE:ee(),setTimeout(te,4,e.dot._id);break;case m.ScreenActionTypes.UPDATE_DOT:e.did===v.dataset.id&&(v.dataset.id=e.dotData._id,function(){const{dotId:e}=m.DotsStore.getState();e&&(X(),te(e))}());break;case m.ScreenActionTypes.UPDATE_DOT_COLOR:t=e.did,n=e.color,v.dataset.id===t&&(z(v),v.classList.add(Object(u.getColorName)(n)));break;case m.ScreenActionTypes.UPDATE_DOT_STATUS:e.did!==v.dataset.id||v.classList.contains(e.status)||X();break;case m.ScreenActionTypes.REMOVE_DOT:e.did===v.dataset.id&&X();break;case m.ScreenActionTypes.CREATE_COMMENT:case m.ScreenActionTypes.ADD_COMMENT:{const{dotId:t}=m.DotsStore.getState();t===e.did&&$({scroll:!0});break}case m.ScreenActionTypes.UPDATE_COMMENT:case m.ScreenActionTypes.REMOVE_COMMENT:e.did===v.dataset.id&&$();break;case m.ScreenActionTypes.DESELECT_LAYER:X();break;case m.ScreenActionTypes.REMOVE_SCREEN:e.removingCurrentScreen&&X()}var t,n})},function(e,t,n){"use strict";n.r(t),n.d(t,"manageSuggestedEmojis",(function(){return S})),n.d(t,"open",(function(){return C})),n.d(t,"close",(function(){return O})),n.d(t,"formatEmojiString",(function(){return v})),n.d(t,"replace",(function(){return y}));var i=n(62),r=n(606),o=n(608);const s=document.getElementById("suggestedEmojisContainer"),a=document.getElementById("suggestedEmojiTemplate");let l,c,d,u,h=0,p=[];const f=/:(\S+?):/g;function g(e){return e?(u=e,p=r.default.getSuggestedEmojis(e),p.length?(p.forEach(m),l&&(t=l,p.some((function(e){return e.emoji===t.emoji})))?h=s.querySelector(`.suggestedItem[data-emoji="${l.emoji}"]`).dataset.index:(h=0,l=p[0]),s):void(l=null)):(l=null,h=0,void O());var t}function m(e,t){const n=s.querySelector(".suggestedListBox"),i=document.importNode(a.content,!0),r=i.querySelector(".suggestedItem"),o=e.alias.replace(/\s/gi,"_");r.dataset.index=t,r.dataset.emoji=e.emoji,e.customEmoji?(r.querySelector(".emojiImg").src=e.emoji,r.classList.add("customEmoji")):r.querySelector(".emojiChar").textContent=e.emoji,r.querySelector(".emojiAlias").textContent=o,r.querySelector(".emojiAlias").title=o,n.appendChild(i)}function b(e){const t=c.selectionStart,n=c.value.substring(0,t),r=n.length-n.split("").reverse().join("").search(/:/)-1,o=c.value.substring(r,t),s=e.alias.replace(/\s/g,"_");c.value=c.value.substring(0,r)+o.replace(u,s+": ")+c.value.substring(t),d.innerHTML=Object(i.escapeHTML)(c.value)+"&nbsp;";const a=t-u.length+s.length+2;c.focus(),c.setSelectionRange(a,a),O()}function y(e,t,n){return e.replace(f,(function(e,i){const o=r.default.searchEmoji(i);if(o){if(n)return"";if(!o.customEmoji)return o.emoji;if(!t)return'<img class="customEmoji" src="'+o.emoji+'" title="'+i+'">'}return t?e:`<span class="customEmojiPlainText">${e}</span>`}))}function S(e,t){if(c=e,d=t,!s.classList.contains("hidden")){const e=s.querySelector(".suggestedItem.selected");e&&(l=p[e.dataset.index])}const n=e.value.substring(0,e.selectionStart),i=n.lastIndexOf(":"),o=e.value.substring(i,e.selectionStart).match(/^:(.+)/);if(o){const e=o[0].substring(1);if(u===e&&!s.classList.contains("hidden"))return;O();const t=n.substring(0,i).lastIndexOf(":"),a=n.substring(t,i+1).match(f);if(a&&r.default.searchEmoji(a[0].substring(1,a[0].length-1)))return;return g(e)}h=0,l=null,O()}function v(e,t){return y(e,t)}function C(){const e={elements:{textContainer:c,suggestedListContainer:s},cb:{autoComplete:b},index:h,list:p};o.open(e)}function O(){o.close()}},function(e,t,n){"use strict";n.r(t);var i=n(607),r=n(19);function o(e){return e=e.replace(/_/g," "),i.default.find((function(t){return t.aliases.includes(e)}))}t.default={addCustomEmojis:function(e){var t={};Object.keys(e).forEach((function(n){var r=e[n];if(n=n.replace(/_/g," "),r.startsWith("alias:"))t[n]=r.substring(6);else{var s=o(n);s?s.aliases.push(n):i.default.push({emoji:r,aliases:[n],customEmoji:!0})}})),Object.keys(t).forEach((function(e){var n=o(t[e]);n&&n.aliases.push(e)}))},getSuggestedEmojis:function(e){var t=[];return e=e.toLowerCase().replace(/_/g," ").trim(),i.default.forEach((function(n){for(var i=0;i<n.aliases.length;i++)if(Object(r.anyWordStartsWith)(n.aliases[i],e)||n.aliases[i].startsWith(e))return void t.push({emoji:n.emoji,alias:n.aliases[i],customEmoji:n.customEmoji,formattedAlias:n.aliases[i].replace(/\s/g,"_")})})),t},searchEmoji:o}},function(e,t,n){"use strict";n.r(t),t.default=[{emoji:"😀",aliases:["grinning"]},{emoji:"😃",aliases:["smiley"]},{emoji:"😄",aliases:["smile"]},{emoji:"😁",aliases:["grin"]},{emoji:"😆",aliases:["laughing","satisfied"]},{emoji:"😅",aliases:["sweat smile"]},{emoji:"😂",aliases:["joy"]},{emoji:"🤣",aliases:["rofl"]},{emoji:"☺️",aliases:["relaxed"]},{emoji:"😊",aliases:["blush"]},{emoji:"😇",aliases:["innocent"]},{emoji:"🙂",aliases:["slightly smiling face"]},{emoji:"🙃",aliases:["upside down face"]},{emoji:"😉",aliases:["wink"]},{emoji:"😌",aliases:["relieved"]},{emoji:"😍",aliases:["heart eyes"]},{emoji:"😘",aliases:["kissing heart"]},{emoji:"😗",aliases:["kissing"]},{emoji:"😙",aliases:["kissing smiling eyes"]},{emoji:"😚",aliases:["kissing closed eyes"]},{emoji:"😋",aliases:["yum"]},{emoji:"😜",aliases:["stuck out tongue winking eye"]},{emoji:"😝",aliases:["stuck out tongue closed eyes"]},{emoji:"😛",aliases:["stuck out tongue"]},{emoji:"🤑",aliases:["money mouth face"]},{emoji:"🤗",aliases:["hugs"]},{emoji:"🤓",aliases:["nerd face"]},{emoji:"😎",aliases:["sunglasses"]},{emoji:"🤡",aliases:["clown face"]},{emoji:"🤠",aliases:["cowboy hat face"]},{emoji:"😏",aliases:["smirk"]},{emoji:"😒",aliases:["unamused"]},{emoji:"😞",aliases:["disappointed"]},{emoji:"😔",aliases:["pensive"]},{emoji:"😟",aliases:["worried"]},{emoji:"😕",aliases:["confused"]},{emoji:"🙁",aliases:["slightly frowning face"]},{emoji:"☹️",aliases:["frowning face"]},{emoji:"😣",aliases:["persevere"]},{emoji:"😖",aliases:["confounded"]},{emoji:"😫",aliases:["tired face"]},{emoji:"😩",aliases:["weary"]},{emoji:"😤",aliases:["triumph"]},{emoji:"😠",aliases:["angry"]},{emoji:"😡",aliases:["rage","pout"]},{emoji:"😶",aliases:["no mouth"]},{emoji:"😐",aliases:["neutral face"]},{emoji:"😑",aliases:["expressionless"]},{emoji:"😯",aliases:["hushed"]},{emoji:"😦",aliases:["frowning"]},{emoji:"😧",aliases:["anguished"]},{emoji:"😮",aliases:["open mouth"]},{emoji:"😲",aliases:["astonished"]},{emoji:"😵",aliases:["dizzy face"]},{emoji:"😳",aliases:["flushed"]},{emoji:"😱",aliases:["scream"]},{emoji:"😨",aliases:["fearful"]},{emoji:"😰",aliases:["cold sweat"]},{emoji:"😢",aliases:["cry"]},{emoji:"😥",aliases:["disappointed relieved"]},{emoji:"🤤",aliases:["drooling face"]},{emoji:"😭",aliases:["sob"]},{emoji:"😓",aliases:["sweat"]},{emoji:"😪",aliases:["sleepy"]},{emoji:"😴",aliases:["sleeping"]},{emoji:"🙄",aliases:["roll eyes"]},{emoji:"🤔",aliases:["thinking"]},{emoji:"🤥",aliases:["lying face"]},{emoji:"😬",aliases:["grimacing"]},{emoji:"🤐",aliases:["zipper mouth face"]},{emoji:"🤢",aliases:["nauseated face"]},{emoji:"🤧",aliases:["sneezing face"]},{emoji:"😷",aliases:["mask"]},{emoji:"🤒",aliases:["face with thermometer"]},{emoji:"🤕",aliases:["face with head bandage"]},{emoji:"😈",aliases:["smiling imp"]},{emoji:"👿",aliases:["imp"]},{emoji:"👹",aliases:["japanese ogre"]},{emoji:"👺",aliases:["japanese goblin"]},{emoji:"💩",aliases:["hankey","poop","shit"]},{emoji:"👻",aliases:["ghost"]},{emoji:"💀",aliases:["skull"]},{emoji:"☠️",aliases:["skull and crossbones"]},{emoji:"👽",aliases:["alien"]},{emoji:"👾",aliases:["space invader"]},{emoji:"🤖",aliases:["robot"]},{emoji:"🎃",aliases:["jack o lantern"]},{emoji:"😺",aliases:["smiley cat"]},{emoji:"😸",aliases:["smile cat"]},{emoji:"😹",aliases:["joy cat"]},{emoji:"😻",aliases:["heart eyes cat"]},{emoji:"😼",aliases:["smirk cat"]},{emoji:"😽",aliases:["kissing cat"]},{emoji:"🙀",aliases:["scream cat"]},{emoji:"😿",aliases:["crying cat face"]},{emoji:"😾",aliases:["pouting cat"]},{emoji:"👐",aliases:["open hands"]},{emoji:"🙌",aliases:["raised hands"]},{emoji:"👏",aliases:["clap"]},{emoji:"🙏",aliases:["pray"]},{emoji:"🤝",aliases:["handshake"]},{emoji:"👍",aliases:["+1","thumbsup"]},{emoji:"👎",aliases:["-1","thumbsdown"]},{emoji:"👊",aliases:["fist oncoming","facepunch","punch"]},{emoji:"✊",aliases:["fist raised","fist"]},{emoji:"🤛",aliases:["fist left"]},{emoji:"🤜",aliases:["fist right"]},{emoji:"🤞",aliases:["crossed fingers"]},{emoji:"✌️",aliases:["v"]},{emoji:"🤘",aliases:["metal"]},{emoji:"👌",aliases:["ok hand"]},{emoji:"👈",aliases:["point left"]},{emoji:"👉",aliases:["point right"]},{emoji:"👆",aliases:["point up 2"]},{emoji:"👇",aliases:["point down"]},{emoji:"☝️",aliases:["point up"]},{emoji:"✋",aliases:["hand","raised hand"]},{emoji:"🤚",aliases:["raised back of hand"]},{emoji:"🖐",aliases:["raised hand with fingers splayed"]},{emoji:"🖖",aliases:["vulcan salute"]},{emoji:"👋",aliases:["wave"]},{emoji:"🤙",aliases:["call me hand"]},{emoji:"💪",aliases:["muscle"]},{emoji:"🖕",aliases:["middle finger","fu"]},{emoji:"✍️",aliases:["writing hand"]},{emoji:"🤳",aliases:["selfie"]},{emoji:"💅",aliases:["nail care"]},{emoji:"💍",aliases:["ring"]},{emoji:"💄",aliases:["lipstick"]},{emoji:"💋",aliases:["kiss"]},{emoji:"👄",aliases:["lips"]},{emoji:"👅",aliases:["tongue"]},{emoji:"👂",aliases:["ear"]},{emoji:"👃",aliases:["nose"]},{emoji:"👣",aliases:["footprints"]},{emoji:"👁",aliases:["eye"]},{emoji:"👀",aliases:["eyes"]},{emoji:"🗣",aliases:["speaking head"]},{emoji:"👤",aliases:["bust in silhouette"]},{emoji:"👥",aliases:["busts in silhouette"]},{emoji:"👶",aliases:["baby"]},{emoji:"👦",aliases:["boy"]},{emoji:"👧",aliases:["girl"]},{emoji:"👨",aliases:["man"]},{emoji:"👩",aliases:["woman"]},{emoji:"👱‍♀️‍",aliases:["blonde woman"]},{emoji:"👱",aliases:["blonde man","person with blond hair"]},{emoji:"👴",aliases:["older man"]},{emoji:"👵",aliases:["older woman"]},{emoji:"👲",aliases:["man with gua pi mao"]},{emoji:"👳‍♀️",aliases:["woman with turban"]},{emoji:"👳",aliases:["man with turban"]},{emoji:"👮‍♀️",aliases:["policewoman"]},{emoji:"👮",aliases:["policeman","cop"]},{emoji:"👷‍♀️",aliases:["construction worker woman"]},{emoji:"👷",aliases:["construction worker man","construction worker"]},{emoji:"💂‍♀️",aliases:["guardswoman"]},{emoji:"💂",aliases:["guardsman"]},{emoji:"🕵️‍♀️",aliases:["female detective"]},{emoji:"🕵",aliases:["male detective","detective"]},{emoji:"👩‍⚕️",aliases:["woman health worker"]},{emoji:"👨‍⚕️",aliases:["man health worker"]},{emoji:"👩‍🌾",aliases:["woman farmer"]},{emoji:"👨‍🌾",aliases:["man farmer"]},{emoji:"👩‍🍳",aliases:["woman cook"]},{emoji:"👨‍🍳",aliases:["man cook"]},{emoji:"👩‍🎓",aliases:["woman student"]},{emoji:"👨‍🎓",aliases:["man student"]},{emoji:"👩‍🎤",aliases:["woman singer"]},{emoji:"👨‍🎤",aliases:["man singer"]},{emoji:"👩‍🏫",aliases:["woman teacher"]},{emoji:"👨‍🏫",aliases:["man teacher"]},{emoji:"👩‍🏭",aliases:["woman factory worker"]},{emoji:"👨‍🏭",aliases:["man factory worker"]},{emoji:"👩‍💻",aliases:["woman technologist"]},{emoji:"👨‍💻",aliases:["man technologist"]},{emoji:"👩‍💼",aliases:["woman office worker"]},{emoji:"👨‍💼",aliases:["man office worker"]},{emoji:"👩‍🔧",aliases:["woman mechanic"]},{emoji:"👨‍🔧",aliases:["man mechanic"]},{emoji:"👩‍🔬",aliases:["woman scientist"]},{emoji:"👨‍🔬",aliases:["man scientist"]},{emoji:"👩‍🎨",aliases:["woman artist"]},{emoji:"👨‍🎨",aliases:["man artist"]},{emoji:"👩‍🚒",aliases:["woman firefighter"]},{emoji:"👨‍🚒",aliases:["man firefighter"]},{emoji:"👩‍✈️",aliases:["woman pilot"]},{emoji:"👨‍✈️",aliases:["man pilot"]},{emoji:"👩‍🚀",aliases:["woman astronaut"]},{emoji:"👨‍🚀",aliases:["man astronaut"]},{emoji:"👩‍⚖️",aliases:["woman judge"]},{emoji:"👨‍⚖️",aliases:["man judge"]},{emoji:"🤶",aliases:["mrs claus"]},{emoji:"🎅",aliases:["santa"]},{emoji:"👸",aliases:["princess"]},{emoji:"🤴",aliases:["prince"]},{emoji:"👰",aliases:["bride with veil"]},{emoji:"🤵",aliases:["man in tuxedo"]},{emoji:"👼",aliases:["angel"]},{emoji:"🤰",aliases:["pregnant woman"]},{emoji:"🙇‍♀️",aliases:["bowing woman"]},{emoji:"🙇",aliases:["bowing man","bow"]},{emoji:"💁",aliases:["tipping hand woman","information desk person","sassy woman"]},{emoji:"💁‍♂️",aliases:["tipping hand man","sassy man"]},{emoji:"🙅",aliases:["no good woman","no good","ng woman"]},{emoji:"🙅‍♂️",aliases:["no good man","ng man"]},{emoji:"🙆",aliases:["ok woman"]},{emoji:"🙆‍♂️",aliases:["ok man"]},{emoji:"🙋",aliases:["raising hand woman","raising hand"]},{emoji:"🙋‍♂️",aliases:["raising hand man"]},{emoji:"🤦‍♀️",aliases:["woman facepalming"]},{emoji:"🤦‍♂️",aliases:["man facepalming"]},{emoji:"🤷‍♀️",aliases:["woman shrugging"]},{emoji:"🤷‍♂️",aliases:["man shrugging"]},{emoji:"🙎",aliases:["pouting woman","person with pouting face"]},{emoji:"🙎‍♂️",aliases:["pouting man"]},{emoji:"🙍",aliases:["frowning woman","person frowning"]},{emoji:"🙍‍♂️",aliases:["frowning man"]},{emoji:"💇",aliases:["haircut woman","haircut"]},{emoji:"💇‍♂️",aliases:["haircut man"]},{emoji:"💆",aliases:["massage woman","massage"]},{emoji:"💆‍♂️",aliases:["massage man"]},{emoji:"🕴",aliases:["business suit levitating"]},{emoji:"💃",aliases:["dancer"]},{emoji:"🕺",aliases:["man dancing"]},{emoji:"👯",aliases:["dancing women","dancers"]},{emoji:"👯‍♂️",aliases:["dancing men"]},{emoji:"🚶‍♀️",aliases:["walking woman"]},{emoji:"🚶",aliases:["walking man","walking"]},{emoji:"🏃‍♀️",aliases:["running woman"]},{emoji:"🏃",aliases:["running man","runner","running"]},{emoji:"👫",aliases:["couple"]},{emoji:"👭",aliases:["two women holding hands"]},{emoji:"👬",aliases:["two men holding hands"]},{emoji:"💑",aliases:["couple with heart woman man","couple with heart"]},{emoji:"👩‍❤️‍👩",aliases:["couple with heart woman woman"]},{emoji:"👨‍❤️‍👨",aliases:["couple with heart man man"]},{emoji:"💏",aliases:["couplekiss man woman"]},{emoji:"👩‍❤️‍💋‍👩",aliases:["couplekiss woman woman"]},{emoji:"👨‍❤️‍💋‍👨",aliases:["couplekiss man man"]},{emoji:"👪",aliases:["family man woman boy","family"]},{emoji:"👨‍👩‍👧",aliases:["family man woman girl"]},{emoji:"👨‍👩‍👧‍👦",aliases:["family man woman girl boy"]},{emoji:"👨‍👩‍👦‍👦",aliases:["family man woman boy boy"]},{emoji:"👨‍👩‍👧‍👧",aliases:["family man woman girl girl"]},{emoji:"👩‍👩‍👦",aliases:["family woman woman boy"]},{emoji:"👩‍👩‍👧",aliases:["family woman woman girl"]},{emoji:"👩‍👩‍👧‍👦",aliases:["family woman woman girl boy"]},{emoji:"👩‍👩‍👦‍👦",aliases:["family woman woman boy boy"]},{emoji:"👩‍👩‍👧‍👧",aliases:["family woman woman girl girl"]},{emoji:"👨‍👨‍👦",aliases:["family man man boy"]},{emoji:"👨‍👨‍👧",aliases:["family man man girl"]},{emoji:"👨‍👨‍👧‍👦",aliases:["family man man girl boy"]},{emoji:"👨‍👨‍👦‍👦",aliases:["family man man boy boy"]},{emoji:"👨‍👨‍👧‍👧",aliases:["family man man girl girl"]},{emoji:"👩‍👦",aliases:["family woman boy"]},{emoji:"👩‍👧",aliases:["family woman girl"]},{emoji:"👩‍👧‍👦",aliases:["family woman girl boy"]},{emoji:"👩‍👦‍👦",aliases:["family woman boy boy"]},{emoji:"👩‍👧‍👧",aliases:["family woman girl girl"]},{emoji:"👨‍👦",aliases:["family man boy"]},{emoji:"👨‍👧",aliases:["family man girl"]},{emoji:"👨‍👧‍👦",aliases:["family man girl boy"]},{emoji:"👨‍👦‍👦",aliases:["family man boy boy"]},{emoji:"👨‍👧‍👧",aliases:["family man girl girl"]},{emoji:"👚",aliases:["womans clothes"]},{emoji:"👕",aliases:["shirt","tshirt"]},{emoji:"👖",aliases:["jeans"]},{emoji:"👔",aliases:["necktie"]},{emoji:"👗",aliases:["dress"]},{emoji:"👙",aliases:["bikini"]},{emoji:"👘",aliases:["kimono"]},{emoji:"👠",aliases:["high heel"]},{emoji:"👡",aliases:["sandal"]},{emoji:"👢",aliases:["boot"]},{emoji:"👞",aliases:["mans shoe","shoe"]},{emoji:"👟",aliases:["athletic shoe"]},{emoji:"👒",aliases:["womans hat"]},{emoji:"🎩",aliases:["tophat"]},{emoji:"🎓",aliases:["mortar board"]},{emoji:"👑",aliases:["crown"]},{emoji:"⛑",aliases:["rescue worker helmet"]},{emoji:"🎒",aliases:["school satchel"]},{emoji:"👝",aliases:["pouch"]},{emoji:"👛",aliases:["purse"]},{emoji:"👜",aliases:["handbag"]},{emoji:"💼",aliases:["briefcase"]},{emoji:"👓",aliases:["eyeglasses"]},{emoji:"🕶",aliases:["dark sunglasses"]},{emoji:"🌂",aliases:["closed umbrella"]},{emoji:"☂️",aliases:["open umbrella"]},{emoji:"🐶",aliases:["dog"]},{emoji:"🐱",aliases:["cat"]},{emoji:"🐭",aliases:["mouse"]},{emoji:"🐹",aliases:["hamster"]},{emoji:"🐰",aliases:["rabbit"]},{emoji:"🦊",aliases:["fox face"]},{emoji:"🐻",aliases:["bear"]},{emoji:"🐼",aliases:["panda face"]},{emoji:"🐨",aliases:["koala"]},{emoji:"🐯",aliases:["tiger"]},{emoji:"🦁",aliases:["lion"]},{emoji:"🐮",aliases:["cow"]},{emoji:"🐷",aliases:["pig"]},{emoji:"🐽",aliases:["pig nose"]},{emoji:"🐸",aliases:["frog"]},{emoji:"🐵",aliases:["monkey face"]},{emoji:"🙈",aliases:["see no evil"]},{emoji:"🙉",aliases:["hear no evil"]},{emoji:"🙊",aliases:["speak no evil"]},{emoji:"🐒",aliases:["monkey"]},{emoji:"🐔",aliases:["chicken"]},{emoji:"🐧",aliases:["penguin"]},{emoji:"🐦",aliases:["bird"]},{emoji:"🐤",aliases:["baby chick"]},{emoji:"🐣",aliases:["hatching chick"]},{emoji:"🐥",aliases:["hatched chick"]},{emoji:"🦆",aliases:["duck"]},{emoji:"🦅",aliases:["eagle"]},{emoji:"🦉",aliases:["owl"]},{emoji:"🦇",aliases:["bat"]},{emoji:"🐺",aliases:["wolf"]},{emoji:"🐗",aliases:["boar"]},{emoji:"🐴",aliases:["horse"]},{emoji:"🦄",aliases:["unicorn"]},{emoji:"🐝",aliases:["bee","honeybee"]},{emoji:"🐛",aliases:["bug"]},{emoji:"🦋",aliases:["butterfly"]},{emoji:"🐌",aliases:["snail"]},{emoji:"🐚",aliases:["shell"]},{emoji:"🐞",aliases:["beetle"]},{emoji:"🐜",aliases:["ant"]},{emoji:"🕷",aliases:["spider"]},{emoji:"🕸",aliases:["spider web"]},{emoji:"🐢",aliases:["turtle"]},{emoji:"🐍",aliases:["snake"]},{emoji:"🦎",aliases:["lizard"]},{emoji:"🦂",aliases:["scorpion"]},{emoji:"🦀",aliases:["crab"]},{emoji:"🦑",aliases:["squid"]},{emoji:"🐙",aliases:["octopus"]},{emoji:"🦐",aliases:["shrimp"]},{emoji:"🐠",aliases:["tropical fish"]},{emoji:"🐟",aliases:["fish"]},{emoji:"🐡",aliases:["blowfish"]},{emoji:"🐬",aliases:["dolphin","flipper"]},{emoji:"🦈",aliases:["shark"]},{emoji:"🐳",aliases:["whale"]},{emoji:"🐋",aliases:["whale2"]},{emoji:"🐊",aliases:["crocodile"]},{emoji:"🐆",aliases:["leopard"]},{emoji:"🐅",aliases:["tiger2"]},{emoji:"🐃",aliases:["water buffalo"]},{emoji:"🐂",aliases:["ox"]},{emoji:"🐄",aliases:["cow2"]},{emoji:"🦌",aliases:["deer"]},{emoji:"🐪",aliases:["dromedary camel"]},{emoji:"🐫",aliases:["camel"]},{emoji:"🐘",aliases:["elephant"]},{emoji:"🦏",aliases:["rhinoceros"]},{emoji:"🦍",aliases:["gorilla"]},{emoji:"🐎",aliases:["racehorse"]},{emoji:"🐖",aliases:["pig2"]},{emoji:"🐐",aliases:["goat"]},{emoji:"🐏",aliases:["ram"]},{emoji:"🐑",aliases:["sheep"]},{emoji:"🐕",aliases:["dog2"]},{emoji:"🐩",aliases:["poodle"]},{emoji:"🐈",aliases:["cat2"]},{emoji:"🐓",aliases:["rooster"]},{emoji:"🦃",aliases:["turkey"]},{emoji:"🕊",aliases:["dove"]},{emoji:"🐇",aliases:["rabbit2"]},{emoji:"🐁",aliases:["mouse2"]},{emoji:"🐀",aliases:["rat"]},{emoji:"🐿",aliases:["chipmunk"]},{emoji:"🐾",aliases:["feet","paw prints"]},{emoji:"🐉",aliases:["dragon"]},{emoji:"🐲",aliases:["dragon face"]},{emoji:"🌵",aliases:["cactus"]},{emoji:"🎄",aliases:["christmas tree"]},{emoji:"🌲",aliases:["evergreen tree"]},{emoji:"🌳",aliases:["deciduous tree"]},{emoji:"🌴",aliases:["palm tree"]},{emoji:"🌱",aliases:["seedling"]},{emoji:"🌿",aliases:["herb"]},{emoji:"☘️",aliases:["shamrock"]},{emoji:"🍀",aliases:["four leaf clover"]},{emoji:"🎍",aliases:["bamboo"]},{emoji:"🎋",aliases:["tanabata tree"]},{emoji:"🍃",aliases:["leaves"]},{emoji:"🍂",aliases:["fallen leaf"]},{emoji:"🍁",aliases:["maple leaf"]},{emoji:"🍄",aliases:["mushroom"]},{emoji:"🌾",aliases:["ear of rice"]},{emoji:"💐",aliases:["bouquet"]},{emoji:"🌷",aliases:["tulip"]},{emoji:"🌹",aliases:["rose"]},{emoji:"🥀",aliases:["wilted flower"]},{emoji:"🌻",aliases:["sunflower"]},{emoji:"🌼",aliases:["blossom"]},{emoji:"🌸",aliases:["cherry blossom"]},{emoji:"🌺",aliases:["hibiscus"]},{emoji:"🌎",aliases:["earth americas"]},{emoji:"🌍",aliases:["earth africa"]},{emoji:"🌏",aliases:["earth asia"]},{emoji:"🌕",aliases:["full moon"]},{emoji:"🌖",aliases:["waning gibbous moon"]},{emoji:"🌗",aliases:["last quarter moon"]},{emoji:"🌘",aliases:["waning crescent moon"]},{emoji:"🌑",aliases:["new moon"]},{emoji:"🌒",aliases:["waxing crescent moon"]},{emoji:"🌓",aliases:["first quarter moon"]},{emoji:"🌔",aliases:["moon","waxing gibbous moon"]},{emoji:"🌚",aliases:["new moon with face"]},{emoji:"🌝",aliases:["full moon with face"]},{emoji:"🌞",aliases:["sun with face"]},{emoji:"🌛",aliases:["first quarter moon with face"]},{emoji:"🌜",aliases:["last quarter moon with face"]},{emoji:"🌙",aliases:["crescent moon"]},{emoji:"💫",aliases:["dizzy"]},{emoji:"⭐️",aliases:["star"]},{emoji:"🌟",aliases:["star2"]},{emoji:"✨",aliases:["sparkles"]},{emoji:"⚡️",aliases:["zap"]},{emoji:"🔥",aliases:["fire"]},{emoji:"💥",aliases:["boom","collision"]},{emoji:"☄",aliases:["comet"]},{emoji:"☀️",aliases:["sunny"]},{emoji:"🌤",aliases:["sun behind small cloud"]},{emoji:"⛅️",aliases:["partly sunny"]},{emoji:"🌥",aliases:["sun behind large cloud"]},{emoji:"🌦",aliases:["sun behind rain cloud"]},{emoji:"🌈",aliases:["rainbow"]},{emoji:"☁️",aliases:["cloud"]},{emoji:"🌧",aliases:["cloud with rain"]},{emoji:"⛈",aliases:["cloud with lightning and rain"]},{emoji:"🌩",aliases:["cloud with lightning"]},{emoji:"🌨",aliases:["cloud with snow"]},{emoji:"☃️",aliases:["snowman with snow"]},{emoji:"⛄️",aliases:["snowman"]},{emoji:"❄️",aliases:["snowflake"]},{emoji:"🌬",aliases:["wind face"]},{emoji:"💨",aliases:["dash"]},{emoji:"🌪",aliases:["tornado"]},{emoji:"🌫",aliases:["fog"]},{emoji:"🌊",aliases:["ocean"]},{emoji:"💧",aliases:["droplet"]},{emoji:"💦",aliases:["sweat drops"]},{emoji:"☔️",aliases:["umbrella"]},{emoji:"🍏",aliases:["green apple"]},{emoji:"🍎",aliases:["apple"]},{emoji:"🍐",aliases:["pear"]},{emoji:"🍊",aliases:["tangerine","orange","mandarin"]},{emoji:"🍋",aliases:["lemon"]},{emoji:"🍌",aliases:["banana"]},{emoji:"🍉",aliases:["watermelon"]},{emoji:"🍇",aliases:["grapes"]},{emoji:"🍓",aliases:["strawberry"]},{emoji:"🍈",aliases:["melon"]},{emoji:"🍒",aliases:["cherries"]},{emoji:"🍑",aliases:["peach"]},{emoji:"🍍",aliases:["pineapple"]},{emoji:"🥝",aliases:["kiwi fruit"]},{emoji:"🥑",aliases:["avocado"]},{emoji:"🍅",aliases:["tomato"]},{emoji:"🍆",aliases:["eggplant"]},{emoji:"🥒",aliases:["cucumber"]},{emoji:"🥕",aliases:["carrot"]},{emoji:"🌽",aliases:["corn"]},{emoji:"🌶",aliases:["hot pepper"]},{emoji:"🥔",aliases:["potato"]},{emoji:"🍠",aliases:["sweet potato"]},{emoji:"🌰",aliases:["chestnut"]},{emoji:"🥜",aliases:["peanuts"]},{emoji:"🍯",aliases:["honey pot"]},{emoji:"🥐",aliases:["croissant"]},{emoji:"🍞",aliases:["bread"]},{emoji:"🥖",aliases:["baguette bread"]},{emoji:"🧀",aliases:["cheese"]},{emoji:"🥚",aliases:["egg"]},{emoji:"🍳",aliases:["fried egg"]},{emoji:"🥓",aliases:["bacon"]},{emoji:"🥞",aliases:["pancakes"]},{emoji:"🍤",aliases:["fried shrimp"]},{emoji:"🍗",aliases:["poultry leg"]},{emoji:"🍖",aliases:["meat on bone"]},{emoji:"🍕",aliases:["pizza"]},{emoji:"🌭",aliases:["hotdog"]},{emoji:"🍔",aliases:["hamburger"]},{emoji:"🍟",aliases:["fries"]},{emoji:"🥙",aliases:["stuffed flatbread"]},{emoji:"🌮",aliases:["taco"]},{emoji:"🌯",aliases:["burrito"]},{emoji:"🥗",aliases:["green salad"]},{emoji:"🥘",aliases:["shallow pan of food"]},{emoji:"🍝",aliases:["spaghetti"]},{emoji:"🍜",aliases:["ramen"]},{emoji:"🍲",aliases:["stew"]},{emoji:"🍥",aliases:["fish cake"]},{emoji:"🍣",aliases:["sushi"]},{emoji:"🍱",aliases:["bento"]},{emoji:"🍛",aliases:["curry"]},{emoji:"🍚",aliases:["rice"]},{emoji:"🍙",aliases:["rice ball"]},{emoji:"🍘",aliases:["rice cracker"]},{emoji:"🍢",aliases:["oden"]},{emoji:"🍡",aliases:["dango"]},{emoji:"🍧",aliases:["shaved ice"]},{emoji:"🍨",aliases:["ice cream"]},{emoji:"🍦",aliases:["icecream"]},{emoji:"🍰",aliases:["cake"]},{emoji:"🎂",aliases:["birthday"]},{emoji:"🍮",aliases:["custard"]},{emoji:"🍭",aliases:["lollipop"]},{emoji:"🍬",aliases:["candy"]},{emoji:"🍫",aliases:["chocolate bar"]},{emoji:"🍿",aliases:["popcorn"]},{emoji:"🍩",aliases:["doughnut"]},{emoji:"🍪",aliases:["cookie"]},{emoji:"🥛",aliases:["milk glass"]},{emoji:"🍼",aliases:["baby bottle"]},{emoji:"☕️",aliases:["coffee"]},{emoji:"🍵",aliases:["tea"]},{emoji:"🍶",aliases:["sake"]},{emoji:"🍺",aliases:["beer"]},{emoji:"🍻",aliases:["beers"]},{emoji:"🥂",aliases:["clinking glasses"]},{emoji:"🍷",aliases:["wine glass"]},{emoji:"🥃",aliases:["tumbler glass"]},{emoji:"🍸",aliases:["cocktail"]},{emoji:"🍹",aliases:["tropical drink"]},{emoji:"🍾",aliases:["champagne"]},{emoji:"🥄",aliases:["spoon"]},{emoji:"🍴",aliases:["fork and knife"]},{emoji:"🍽",aliases:["plate with cutlery"]},{emoji:"⚽️",aliases:["soccer"]},{emoji:"🏀",aliases:["basketball"]},{emoji:"🏈",aliases:["football"]},{emoji:"⚾️",aliases:["baseball"]},{emoji:"🎾",aliases:["tennis"]},{emoji:"🏐",aliases:["volleyball"]},{emoji:"🏉",aliases:["rugby football"]},{emoji:"🎱",aliases:["8ball"]},{emoji:"🏓",aliases:["ping pong"]},{emoji:"🏸",aliases:["badminton"]},{emoji:"🥅",aliases:["goal net"]},{emoji:"🏒",aliases:["ice hockey"]},{emoji:"🏑",aliases:["field hockey"]},{emoji:"🏏",aliases:["cricket"]},{emoji:"⛳️",aliases:["golf"]},{emoji:"🏹",aliases:["bow and arrow"]},{emoji:"🎣",aliases:["fishing pole and fish"]},{emoji:"🥊",aliases:["boxing glove"]},{emoji:"🥋",aliases:["martial arts uniform"]},{emoji:"⛸",aliases:["ice skate"]},{emoji:"🎿",aliases:["ski"]},{emoji:"⛷",aliases:["skier"]},{emoji:"🏂",aliases:["snowboarder"]},{emoji:"🏋️‍♀️",aliases:["weight lifting woman"]},{emoji:"🏋",aliases:["weight lifting man"]},{emoji:"🤺",aliases:["person fencing"]},{emoji:"🤼‍♀️",aliases:["women wrestling"]},{emoji:"🤼‍♂️",aliases:["men wrestling"]},{emoji:"🤸‍♀️",aliases:["woman cartwheeling"]},{emoji:"🤸‍♂️",aliases:["man cartwheeling"]},{emoji:"⛹️‍♀️",aliases:["basketball woman"]},{emoji:"⛹",aliases:["basketball man"]},{emoji:"🤾‍♀️",aliases:["woman playing handball"]},{emoji:"🤾‍♂️",aliases:["man playing handball"]},{emoji:"🏌️‍♀️",aliases:["golfing woman"]},{emoji:"🏌",aliases:["golfing man"]},{emoji:"🏄‍♀️",aliases:["surfing woman"]},{emoji:"🏄",aliases:["surfing man","surfer"]},{emoji:"🏊‍♀️",aliases:["swimming woman"]},{emoji:"🏊",aliases:["swimming man","swimmer"]},{emoji:"🤽‍♀️",aliases:["woman playing water polo"]},{emoji:"🤽‍♂️",aliases:["man playing water polo"]},{emoji:"🚣‍♀️",aliases:["rowing woman"]},{emoji:"🚣",aliases:["rowing man","rowboat"]},{emoji:"🏇",aliases:["horse racing"]},{emoji:"🚴‍♀️",aliases:["biking woman"]},{emoji:"🚴",aliases:["biking man","bicyclist"]},{emoji:"🚵‍♀️",aliases:["mountain biking woman"]},{emoji:"🚵",aliases:["mountain biking man","mountain bicyclist"]},{emoji:"🎽",aliases:["running shirt with sash"]},{emoji:"🏅",aliases:["medal sports"]},{emoji:"🎖",aliases:["medal military"]},{emoji:"🥇",aliases:["1st place medal"]},{emoji:"🥈",aliases:["2nd place medal"]},{emoji:"🥉",aliases:["3rd place medal"]},{emoji:"🏆",aliases:["trophy"]},{emoji:"🏵",aliases:["rosette"]},{emoji:"🎗",aliases:["reminder ribbon"]},{emoji:"🎫",aliases:["ticket"]},{emoji:"🎟",aliases:["tickets"]},{emoji:"🎪",aliases:["circus tent"]},{emoji:"🤹‍♀️",aliases:["woman juggling"]},{emoji:"🤹‍♂️",aliases:["man juggling"]},{emoji:"🎭",aliases:["performing arts"]},{emoji:"🎨",aliases:["art"]},{emoji:"🎬",aliases:["clapper"]},{emoji:"🎤",aliases:["microphone"]},{emoji:"🎧",aliases:["headphones"]},{emoji:"🎼",aliases:["musical score"]},{emoji:"🎹",aliases:["musical keyboard"]},{emoji:"🥁",aliases:["drum"]},{emoji:"🎷",aliases:["saxophone"]},{emoji:"🎺",aliases:["trumpet"]},{emoji:"🎸",aliases:["guitar"]},{emoji:"🎻",aliases:["violin"]},{emoji:"🎲",aliases:["game die"]},{emoji:"🎯",aliases:["dart"]},{emoji:"🎳",aliases:["bowling"]},{emoji:"🎮",aliases:["video game"]},{emoji:"🎰",aliases:["slot machine"]},{emoji:"🚗",aliases:["car","red car"]},{emoji:"🚕",aliases:["taxi"]},{emoji:"🚙",aliases:["blue car"]},{emoji:"🚌",aliases:["bus"]},{emoji:"🚎",aliases:["trolleybus"]},{emoji:"🏎",aliases:["racing car"]},{emoji:"🚓",aliases:["police car"]},{emoji:"🚑",aliases:["ambulance"]},{emoji:"🚒",aliases:["fire engine"]},{emoji:"🚐",aliases:["minibus"]},{emoji:"🚚",aliases:["truck"]},{emoji:"🚛",aliases:["articulated lorry"]},{emoji:"🚜",aliases:["tractor"]},{emoji:"🛴",aliases:["kick scooter"]},{emoji:"🚲",aliases:["bike"]},{emoji:"🛵",aliases:["motor scooter"]},{emoji:"🏍",aliases:["motorcycle"]},{emoji:"🚨",aliases:["rotating light"]},{emoji:"🚔",aliases:["oncoming police car"]},{emoji:"🚍",aliases:["oncoming bus"]},{emoji:"🚘",aliases:["oncoming automobile"]},{emoji:"🚖",aliases:["oncoming taxi"]},{emoji:"🚡",aliases:["aerial tramway"]},{emoji:"🚠",aliases:["mountain cableway"]},{emoji:"🚟",aliases:["suspension railway"]},{emoji:"🚃",aliases:["railway car"]},{emoji:"🚋",aliases:["train"]},{emoji:"🚞",aliases:["mountain railway"]},{emoji:"🚝",aliases:["monorail"]},{emoji:"🚄",aliases:["bullettrain side"]},{emoji:"🚅",aliases:["bullettrain front"]},{emoji:"🚈",aliases:["light rail"]},{emoji:"🚂",aliases:["steam locomotive"]},{emoji:"🚆",aliases:["train2"]},{emoji:"🚇",aliases:["metro"]},{emoji:"🚊",aliases:["tram"]},{emoji:"🚉",aliases:["station"]},{emoji:"🚁",aliases:["helicopter"]},{emoji:"🛩",aliases:["small airplane"]},{emoji:"✈️",aliases:["airplane"]},{emoji:"🛫",aliases:["flight departure"]},{emoji:"🛬",aliases:["flight arrival"]},{emoji:"🚀",aliases:["rocket"]},{emoji:"🛰",aliases:["artificial satellite"]},{emoji:"💺",aliases:["seat"]},{emoji:"🛶",aliases:["canoe"]},{emoji:"⛵️",aliases:["boat","sailboat"]},{emoji:"🛥",aliases:["motor boat"]},{emoji:"🚤",aliases:["speedboat"]},{emoji:"🛳",aliases:["passenger ship"]},{emoji:"⛴",aliases:["ferry"]},{emoji:"🚢",aliases:["ship"]},{emoji:"⚓️",aliases:["anchor"]},{emoji:"🚧",aliases:["construction"]},{emoji:"⛽️",aliases:["fuelpump"]},{emoji:"🚏",aliases:["busstop"]},{emoji:"🚦",aliases:["vertical traffic light"]},{emoji:"🚥",aliases:["traffic light"]},{emoji:"🗺",aliases:["world map"]},{emoji:"🗿",aliases:["moyai"]},{emoji:"🗽",aliases:["statue of liberty"]},{emoji:"⛲️",aliases:["fountain"]},{emoji:"🗼",aliases:["tokyo tower"]},{emoji:"🏰",aliases:["european castle"]},{emoji:"🏯",aliases:["japanese castle"]},{emoji:"🏟",aliases:["stadium"]},{emoji:"🎡",aliases:["ferris wheel"]},{emoji:"🎢",aliases:["roller coaster"]},{emoji:"🎠",aliases:["carousel horse"]},{emoji:"⛱",aliases:["parasol on ground"]},{emoji:"🏖",aliases:["beach umbrella"]},{emoji:"🏝",aliases:["desert island"]},{emoji:"⛰",aliases:["mountain"]},{emoji:"🏔",aliases:["mountain snow"]},{emoji:"🗻",aliases:["mount fuji"]},{emoji:"🌋",aliases:["volcano"]},{emoji:"🏜",aliases:["desert"]},{emoji:"🏕",aliases:["camping"]},{emoji:"⛺️",aliases:["tent"]},{emoji:"🛤",aliases:["railway track"]},{emoji:"🛣",aliases:["motorway"]},{emoji:"🏗",aliases:["building construction"]},{emoji:"🏭",aliases:["factory"]},{emoji:"🏠",aliases:["house"]},{emoji:"🏡",aliases:["house with garden"]},{emoji:"🏘",aliases:["houses"]},{emoji:"🏚",aliases:["derelict house"]},{emoji:"🏢",aliases:["office"]},{emoji:"🏬",aliases:["department store"]},{emoji:"🏣",aliases:["post office"]},{emoji:"🏤",aliases:["european post office"]},{emoji:"🏥",aliases:["hospital"]},{emoji:"🏦",aliases:["bank"]},{emoji:"🏨",aliases:["hotel"]},{emoji:"🏪",aliases:["convenience store"]},{emoji:"🏫",aliases:["school"]},{emoji:"🏩",aliases:["love hotel"]},{emoji:"💒",aliases:["wedding"]},{emoji:"🏛",aliases:["classical building"]},{emoji:"⛪️",aliases:["church"]},{emoji:"🕌",aliases:["mosque"]},{emoji:"🕍",aliases:["synagogue"]},{emoji:"🕋",aliases:["kaaba"]},{emoji:"⛩",aliases:["shinto shrine"]},{emoji:"🗾",aliases:["japan"]},{emoji:"🎑",aliases:["rice scene"]},{emoji:"🏞",aliases:["national park"]},{emoji:"🌅",aliases:["sunrise"]},{emoji:"🌄",aliases:["sunrise over mountains"]},{emoji:"🌠",aliases:["stars"]},{emoji:"🎇",aliases:["sparkler"]},{emoji:"🎆",aliases:["fireworks"]},{emoji:"🌇",aliases:["city sunrise"]},{emoji:"🌆",aliases:["city sunset"]},{emoji:"🏙",aliases:["cityscape"]},{emoji:"🌃",aliases:["night with stars"]},{emoji:"🌌",aliases:["milky way"]},{emoji:"🌉",aliases:["bridge at night"]},{emoji:"🌁",aliases:["foggy"]},{emoji:"⌚️",aliases:["watch"]},{emoji:"📱",aliases:["iphone"]},{emoji:"📲",aliases:["calling"]},{emoji:"💻",aliases:["computer"]},{emoji:"⌨️",aliases:["keyboard"]},{emoji:"🖥",aliases:["desktop computer"]},{emoji:"🖨",aliases:["printer"]},{emoji:"🖱",aliases:["computer mouse"]},{emoji:"🖲",aliases:["trackball"]},{emoji:"🕹",aliases:["joystick"]},{emoji:"🗜",aliases:["clamp"]},{emoji:"💽",aliases:["minidisc"]},{emoji:"💾",aliases:["floppy disk"]},{emoji:"💿",aliases:["cd"]},{emoji:"📀",aliases:["dvd"]},{emoji:"📼",aliases:["vhs"]},{emoji:"📷",aliases:["camera"]},{emoji:"📸",aliases:["camera flash"]},{emoji:"📹",aliases:["video camera"]},{emoji:"🎥",aliases:["movie camera"]},{emoji:"📽",aliases:["film projector"]},{emoji:"🎞",aliases:["film strip"]},{emoji:"📞",aliases:["telephone receiver"]},{emoji:"☎️",aliases:["phone","telephone"]},{emoji:"📟",aliases:["pager"]},{emoji:"📠",aliases:["fax"]},{emoji:"📺",aliases:["tv"]},{emoji:"📻",aliases:["radio"]},{emoji:"🎙",aliases:["studio microphone"]},{emoji:"🎚",aliases:["level slider"]},{emoji:"🎛",aliases:["control knobs"]},{emoji:"⏱",aliases:["stopwatch"]},{emoji:"⏲",aliases:["timer clock"]},{emoji:"⏰",aliases:["alarm clock"]},{emoji:"🕰",aliases:["mantelpiece clock"]},{emoji:"⌛️",aliases:["hourglass"]},{emoji:"⏳",aliases:["hourglass flowing sand"]},{emoji:"📡",aliases:["satellite"]},{emoji:"🔋",aliases:["battery"]},{emoji:"🔌",aliases:["electric plug"]},{emoji:"💡",aliases:["bulb"]},{emoji:"🔦",aliases:["flashlight"]},{emoji:"🕯",aliases:["candle"]},{emoji:"🗑",aliases:["wastebasket"]},{emoji:"🛢",aliases:["oil drum"]},{emoji:"💸",aliases:["money with wings"]},{emoji:"💵",aliases:["dollar"]},{emoji:"💴",aliases:["yen"]},{emoji:"💶",aliases:["euro"]},{emoji:"💷",aliases:["pound"]},{emoji:"💰",aliases:["moneybag"]},{emoji:"💳",aliases:["credit card"]},{emoji:"💎",aliases:["gem"]},{emoji:"⚖️",aliases:["balance scale"]},{emoji:"🔧",aliases:["wrench"]},{emoji:"🔨",aliases:["hammer"]},{emoji:"⚒",aliases:["hammer and pick"]},{emoji:"🛠",aliases:["hammer and wrench"]},{emoji:"⛏",aliases:["pick"]},{emoji:"🔩",aliases:["nut and bolt"]},{emoji:"⚙️",aliases:["gear"]},{emoji:"⛓",aliases:["chains"]},{emoji:"🔫",aliases:["gun"]},{emoji:"💣",aliases:["bomb"]},{emoji:"🔪",aliases:["hocho","knife"]},{emoji:"🗡",aliases:["dagger"]},{emoji:"⚔️",aliases:["crossed swords"]},{emoji:"🛡",aliases:["shield"]},{emoji:"🚬",aliases:["smoking"]},{emoji:"⚰️",aliases:["coffin"]},{emoji:"⚱️",aliases:["funeral urn"]},{emoji:"🏺",aliases:["amphora"]},{emoji:"🔮",aliases:["crystal ball"]},{emoji:"📿",aliases:["prayer beads"]},{emoji:"💈",aliases:["barber"]},{emoji:"⚗️",aliases:["alembic"]},{emoji:"🔭",aliases:["telescope"]},{emoji:"🔬",aliases:["microscope"]},{emoji:"🕳",aliases:["hole"]},{emoji:"💊",aliases:["pill"]},{emoji:"💉",aliases:["syringe"]},{emoji:"🌡",aliases:["thermometer"]},{emoji:"🚽",aliases:["toilet"]},{emoji:"🚰",aliases:["potable water"]},{emoji:"🚿",aliases:["shower"]},{emoji:"🛁",aliases:["bathtub"]},{emoji:"🛀",aliases:["bath"]},{emoji:"🛎",aliases:["bellhop bell"]},{emoji:"🔑",aliases:["key"]},{emoji:"🗝",aliases:["old key"]},{emoji:"🚪",aliases:["door"]},{emoji:"🛋",aliases:["couch and lamp"]},{emoji:"🛏",aliases:["bed"]},{emoji:"🛌",aliases:["sleeping bed"]},{emoji:"🖼",aliases:["framed picture"]},{emoji:"🛍",aliases:["shopping"]},{emoji:"🛒",aliases:["shopping cart"]},{emoji:"🎁",aliases:["gift"]},{emoji:"🎈",aliases:["balloon"]},{emoji:"🎏",aliases:["flags"]},{emoji:"🎀",aliases:["ribbon"]},{emoji:"🎊",aliases:["confetti ball"]},{emoji:"🎉",aliases:["tada"]},{emoji:"🎎",aliases:["dolls"]},{emoji:"🏮",aliases:["izakaya lantern","lantern"]},{emoji:"🎐",aliases:["wind chime"]},{emoji:"✉️",aliases:["email","envelope"]},{emoji:"📩",aliases:["envelope with arrow"]},{emoji:"📨",aliases:["incoming envelope"]},{emoji:"📧",aliases:["e-mail"]},{emoji:"💌",aliases:["love letter"]},{emoji:"📥",aliases:["inbox tray"]},{emoji:"📤",aliases:["outbox tray"]},{emoji:"📦",aliases:["package"]},{emoji:"🏷",aliases:["label"]},{emoji:"📪",aliases:["mailbox closed"]},{emoji:"📫",aliases:["mailbox"]},{emoji:"📬",aliases:["mailbox with mail"]},{emoji:"📭",aliases:["mailbox with no mail"]},{emoji:"📮",aliases:["postbox"]},{emoji:"📯",aliases:["postal horn"]},{emoji:"📜",aliases:["scroll"]},{emoji:"📃",aliases:["page with curl"]},{emoji:"📄",aliases:["page facing up"]},{emoji:"📑",aliases:["bookmark tabs"]},{emoji:"📊",aliases:["bar chart"]},{emoji:"📈",aliases:["chart with upwards trend"]},{emoji:"📉",aliases:["chart with downwards trend"]},{emoji:"🗒",aliases:["spiral notepad"]},{emoji:"🗓",aliases:["spiral calendar"]},{emoji:"📆",aliases:["calendar"]},{emoji:"📅",aliases:["date"]},{emoji:"📇",aliases:["card index"]},{emoji:"🗃",aliases:["card file box"]},{emoji:"🗳",aliases:["ballot box"]},{emoji:"🗄",aliases:["file cabinet"]},{emoji:"📋",aliases:["clipboard"]},{emoji:"📁",aliases:["file folder"]},{emoji:"📂",aliases:["open file folder"]},{emoji:"🗂",aliases:["card index dividers"]},{emoji:"🗞",aliases:["newspaper roll"]},{emoji:"📰",aliases:["newspaper"]},{emoji:"📓",aliases:["notebook"]},{emoji:"📔",aliases:["notebook with decorative cover"]},{emoji:"📒",aliases:["ledger"]},{emoji:"📕",aliases:["closed book"]},{emoji:"📗",aliases:["green book"]},{emoji:"📘",aliases:["blue book"]},{emoji:"📙",aliases:["orange book"]},{emoji:"📚",aliases:["books"]},{emoji:"📖",aliases:["book","open book"]},{emoji:"🔖",aliases:["bookmark"]},{emoji:"🔗",aliases:["link"]},{emoji:"📎",aliases:["paperclip"]},{emoji:"🖇",aliases:["paperclips"]},{emoji:"📐",aliases:["triangular ruler"]},{emoji:"📏",aliases:["straight ruler"]},{emoji:"📌",aliases:["pushpin"]},{emoji:"📍",aliases:["round pushpin"]},{emoji:"✂️",aliases:["scissors"]},{emoji:"🖊",aliases:["pen"]},{emoji:"🖋",aliases:["fountain pen"]},{emoji:"✒️",aliases:["black nib"]},{emoji:"🖌",aliases:["paintbrush"]},{emoji:"🖍",aliases:["crayon"]},{emoji:"📝",aliases:["memo","pencil"]},{emoji:"✏️",aliases:["pencil2"]},{emoji:"🔍",aliases:["mag"]},{emoji:"🔎",aliases:["mag right"]},{emoji:"🔏",aliases:["lock with ink pen"]},{emoji:"🔐",aliases:["closed lock with key"]},{emoji:"🔒",aliases:["lock"]},{emoji:"🔓",aliases:["unlock"]},{emoji:"❤️",aliases:["heart"]},{emoji:"💛",aliases:["yellow heart"]},{emoji:"💚",aliases:["green heart"]},{emoji:"💙",aliases:["blue heart"]},{emoji:"💜",aliases:["purple heart"]},{emoji:"🖤",aliases:["black heart"]},{emoji:"💔",aliases:["broken heart"]},{emoji:"❣️",aliases:["heavy heart exclamation"]},{emoji:"💕",aliases:["two hearts"]},{emoji:"💞",aliases:["revolving hearts"]},{emoji:"💓",aliases:["heartbeat"]},{emoji:"💗",aliases:["heartpulse"]},{emoji:"💖",aliases:["sparkling heart"]},{emoji:"💘",aliases:["cupid"]},{emoji:"💝",aliases:["gift heart"]},{emoji:"💟",aliases:["heart decoration"]},{emoji:"☮️",aliases:["peace symbol"]},{emoji:"✝️",aliases:["latin cross"]},{emoji:"☪️",aliases:["star and crescent"]},{emoji:"🕉",aliases:["om"]},{emoji:"☸️",aliases:["wheel of dharma"]},{emoji:"✡️",aliases:["star of david"]},{emoji:"🔯",aliases:["six pointed star"]},{emoji:"🕎",aliases:["menorah"]},{emoji:"☯️",aliases:["yin yang"]},{emoji:"☦️",aliases:["orthodox cross"]},{emoji:"🛐",aliases:["place of worship"]},{emoji:"⛎",aliases:["ophiuchus"]},{emoji:"♈️",aliases:["aries"]},{emoji:"♉️",aliases:["taurus"]},{emoji:"♊️",aliases:["gemini"]},{emoji:"♋️",aliases:["cancer"]},{emoji:"♌️",aliases:["leo"]},{emoji:"♍️",aliases:["virgo"]},{emoji:"♎️",aliases:["libra"]},{emoji:"♏️",aliases:["scorpius"]},{emoji:"♐️",aliases:["sagittarius"]},{emoji:"♑️",aliases:["capricorn"]},{emoji:"♒️",aliases:["aquarius"]},{emoji:"♓️",aliases:["pisces"]},{emoji:"🆔",aliases:["id"]},{emoji:"⚛️",aliases:["atom symbol"]},{emoji:"🉑",aliases:["accept"]},{emoji:"☢️",aliases:["radioactive"]},{emoji:"☣️",aliases:["biohazard"]},{emoji:"📴",aliases:["mobile phone off"]},{emoji:"📳",aliases:["vibration mode"]},{emoji:"🈶",aliases:["u6709"]},{emoji:"🈚️",aliases:["u7121"]},{emoji:"🈸",aliases:["u7533"]},{emoji:"🈺",aliases:["u55b6"]},{emoji:"🈷️",aliases:["u6708"]},{emoji:"✴️",aliases:["eight pointed black star"]},{emoji:"🆚",aliases:["vs"]},{emoji:"💮",aliases:["white flower"]},{emoji:"🉐",aliases:["ideograph advantage"]},{emoji:"㊙️",aliases:["secret"]},{emoji:"㊗️",aliases:["congratulations"]},{emoji:"🈴",aliases:["u5408"]},{emoji:"🈵",aliases:["u6e80"]},{emoji:"🈹",aliases:["u5272"]},{emoji:"🈲",aliases:["u7981"]},{emoji:"🅰️",aliases:["a"]},{emoji:"🅱️",aliases:["b"]},{emoji:"🆎",aliases:["ab"]},{emoji:"🆑",aliases:["cl"]},{emoji:"🅾️",aliases:["o2"]},{emoji:"🆘",aliases:["sos"]},{emoji:"❌",aliases:["x"]},{emoji:"⭕️",aliases:["o"]},{emoji:"🛑",aliases:["stop sign"]},{emoji:"⛔️",aliases:["no entry"]},{emoji:"📛",aliases:["name badge"]},{emoji:"🚫",aliases:["no entry sign"]},{emoji:"💯",aliases:["100"]},{emoji:"💢",aliases:["anger"]},{emoji:"♨️",aliases:["hotsprings"]},{emoji:"🚷",aliases:["no pedestrians"]},{emoji:"🚯",aliases:["do not litter"]},{emoji:"🚳",aliases:["no bicycles"]},{emoji:"🚱",aliases:["non-potable water"]},{emoji:"🔞",aliases:["underage"]},{emoji:"📵",aliases:["no mobile phones"]},{emoji:"🚭",aliases:["no smoking"]},{emoji:"❗️",aliases:["exclamation","heavy exclamation mark"]},{emoji:"❕",aliases:["grey exclamation"]},{emoji:"❓",aliases:["question"]},{emoji:"❔",aliases:["grey question"]},{emoji:"‼️",aliases:["bangbang"]},{emoji:"⁉️",aliases:["interrobang"]},{emoji:"🔅",aliases:["low brightness"]},{emoji:"🔆",aliases:["high brightness"]},{emoji:"〽️",aliases:["part alternation mark"]},{emoji:"⚠️",aliases:["warning"]},{emoji:"🚸",aliases:["children crossing"]},{emoji:"🔱",aliases:["trident"]},{emoji:"⚜️",aliases:["fleur de lis"]},{emoji:"🔰",aliases:["beginner"]},{emoji:"♻️",aliases:["recycle"]},{emoji:"✅",aliases:["white check mark"]},{emoji:"🈯️",aliases:["u6307"]},{emoji:"💹",aliases:["chart"]},{emoji:"❇️",aliases:["sparkle"]},{emoji:"✳️",aliases:["eight spoked asterisk"]},{emoji:"❎",aliases:["negative squared cross mark"]},{emoji:"🌐",aliases:["globe with meridians"]},{emoji:"💠",aliases:["diamond shape with a dot inside"]},{emoji:"Ⓜ️",aliases:["m"]},{emoji:"🌀",aliases:["cyclone"]},{emoji:"💤",aliases:["zzz"]},{emoji:"🏧",aliases:["atm"]},{emoji:"🚾",aliases:["wc"]},{emoji:"♿️",aliases:["wheelchair"]},{emoji:"🅿️",aliases:["parking"]},{emoji:"🈳",aliases:["u7a7a"]},{emoji:"🈂️",aliases:["sa"]},{emoji:"🛂",aliases:["passport control"]},{emoji:"🛃",aliases:["customs"]},{emoji:"🛄",aliases:["baggage claim"]},{emoji:"🛅",aliases:["left luggage"]},{emoji:"🚹",aliases:["mens"]},{emoji:"🚺",aliases:["womens"]},{emoji:"🚼",aliases:["baby symbol"]},{emoji:"🚻",aliases:["restroom"]},{emoji:"🚮",aliases:["put litter in its place"]},{emoji:"🎦",aliases:["cinema"]},{emoji:"📶",aliases:["signal strength"]},{emoji:"🈁",aliases:["koko"]},{emoji:"🔣",aliases:["symbols"]},{emoji:"ℹ️",aliases:["information source"]},{emoji:"🔤",aliases:["abc"]},{emoji:"🔡",aliases:["abcd"]},{emoji:"🔠",aliases:["capital abcd"]},{emoji:"🆖",aliases:["ng"]},{emoji:"🆗",aliases:["ok"]},{emoji:"🆙",aliases:["up"]},{emoji:"🆒",aliases:["cool"]},{emoji:"🆕",aliases:["new"]},{emoji:"🆓",aliases:["free"]},{emoji:"0️⃣",aliases:["zero"]},{emoji:"1️⃣",aliases:["one"]},{emoji:"2️⃣",aliases:["two"]},{emoji:"3️⃣",aliases:["three"]},{emoji:"4️⃣",aliases:["four"]},{emoji:"5️⃣",aliases:["five"]},{emoji:"6️⃣",aliases:["six"]},{emoji:"7️⃣",aliases:["seven"]},{emoji:"8️⃣",aliases:["eight"]},{emoji:"9️⃣",aliases:["nine"]},{emoji:"🔟",aliases:["keycap ten"]},{emoji:"🔢",aliases:["1234"]},{emoji:"#️⃣",aliases:["hash"]},{emoji:"*️⃣",aliases:["asterisk"]},{emoji:"▶️",aliases:["arrow forward"]},{emoji:"⏸",aliases:["pause button"]},{emoji:"⏯",aliases:["play or pause button"]},{emoji:"⏹",aliases:["stop button"]},{emoji:"⏺",aliases:["record button"]},{emoji:"⏭",aliases:["next track button"]},{emoji:"⏮",aliases:["previous track button"]},{emoji:"⏩",aliases:["fast forward"]},{emoji:"⏪",aliases:["rewind"]},{emoji:"⏫",aliases:["arrow double up"]},{emoji:"⏬",aliases:["arrow double down"]},{emoji:"◀️",aliases:["arrow backward"]},{emoji:"🔼",aliases:["arrow up small"]},{emoji:"🔽",aliases:["arrow down small"]},{emoji:"➡️",aliases:["arrow right"]},{emoji:"⬅️",aliases:["arrow left"]},{emoji:"⬆️",aliases:["arrow up"]},{emoji:"⬇️",aliases:["arrow down"]},{emoji:"↗️",aliases:["arrow upper right"]},{emoji:"↘️",aliases:["arrow lower right"]},{emoji:"↙️",aliases:["arrow lower left"]},{emoji:"↖️",aliases:["arrow upper left"]},{emoji:"↕️",aliases:["arrow up down"]},{emoji:"↔️",aliases:["left right arrow"]},{emoji:"↪️",aliases:["arrow right hook"]},{emoji:"↩️",aliases:["leftwards arrow with hook"]},{emoji:"⤴️",aliases:["arrow heading up"]},{emoji:"⤵️",aliases:["arrow heading down"]},{emoji:"🔀",aliases:["twisted rightwards arrows"]},{emoji:"🔁",aliases:["repeat"]},{emoji:"🔂",aliases:["repeat one"]},{emoji:"🔄",aliases:["arrows counterclockwise"]},{emoji:"🔃",aliases:["arrows clockwise"]},{emoji:"🎵",aliases:["musical note"]},{emoji:"🎶",aliases:["notes"]},{emoji:"➕",aliases:["heavy plus sign"]},{emoji:"➖",aliases:["heavy minus sign"]},{emoji:"➗",aliases:["heavy division sign"]},{emoji:"✖️",aliases:["heavy multiplication x"]},{emoji:"💲",aliases:["heavy dollar sign"]},{emoji:"💱",aliases:["currency exchange"]},{emoji:"™️",aliases:["tm"]},{emoji:"©️",aliases:["copyright"]},{emoji:"®️",aliases:["registered"]},{emoji:"〰️",aliases:["wavy dash"]},{emoji:"➰",aliases:["curly loop"]},{emoji:"➿",aliases:["loop"]},{emoji:"🔚",aliases:["end"]},{emoji:"🔙",aliases:["back"]},{emoji:"🔛",aliases:["on"]},{emoji:"🔝",aliases:["top"]},{emoji:"🔜",aliases:["soon"]},{emoji:"✔️",aliases:["heavy check mark"]},{emoji:"☑️",aliases:["ballot box with check"]},{emoji:"🔘",aliases:["radio button"]},{emoji:"⚪️",aliases:["white circle"]},{emoji:"⚫️",aliases:["black circle"]},{emoji:"🔴",aliases:["red circle"]},{emoji:"🔵",aliases:["large blue circle"]},{emoji:"🔺",aliases:["small red triangle"]},{emoji:"🔻",aliases:["small red triangle down"]},{emoji:"🔸",aliases:["small orange diamond"]},{emoji:"🔹",aliases:["small blue diamond"]},{emoji:"🔶",aliases:["large orange diamond"]},{emoji:"🔷",aliases:["large blue diamond"]},{emoji:"🔳",aliases:["white square button"]},{emoji:"🔲",aliases:["black square button"]},{emoji:"▪️",aliases:["black small square"]},{emoji:"▫️",aliases:["white small square"]},{emoji:"◾️",aliases:["black medium small square"]},{emoji:"◽️",aliases:["white medium small square"]},{emoji:"◼️",aliases:["black medium square"]},{emoji:"◻️",aliases:["white medium square"]},{emoji:"⬛️",aliases:["black large square"]},{emoji:"⬜️",aliases:["white large square"]},{emoji:"🔈",aliases:["speaker"]},{emoji:"🔇",aliases:["mute"]},{emoji:"🔉",aliases:["sound"]},{emoji:"🔊",aliases:["loud sound"]},{emoji:"🔔",aliases:["bell"]},{emoji:"🔕",aliases:["no bell"]},{emoji:"📣",aliases:["mega"]},{emoji:"📢",aliases:["loudspeaker"]},{emoji:"👁‍🗨",aliases:["eye speech bubble"]},{emoji:"💬",aliases:["speech balloon"]},{emoji:"💭",aliases:["thought balloon"]},{emoji:"🗯",aliases:["right anger bubble"]},{emoji:"♠️",aliases:["spades"]},{emoji:"♣️",aliases:["clubs"]},{emoji:"♥️",aliases:["hearts"]},{emoji:"♦️",aliases:["diamonds"]},{emoji:"🃏",aliases:["black joker"]},{emoji:"🎴",aliases:["flower playing cards"]},{emoji:"🀄️",aliases:["mahjong"]},{emoji:"🕐",aliases:["clock1"]},{emoji:"🕑",aliases:["clock2"]},{emoji:"🕒",aliases:["clock3"]},{emoji:"🕓",aliases:["clock4"]},{emoji:"🕔",aliases:["clock5"]},{emoji:"🕕",aliases:["clock6"]},{emoji:"🕖",aliases:["clock7"]},{emoji:"🕗",aliases:["clock8"]},{emoji:"🕘",aliases:["clock9"]},{emoji:"🕙",aliases:["clock10"]},{emoji:"🕚",aliases:["clock11"]},{emoji:"🕛",aliases:["clock12"]},{emoji:"🕜",aliases:["clock130"]},{emoji:"🕝",aliases:["clock230"]},{emoji:"🕞",aliases:["clock330"]},{emoji:"🕟",aliases:["clock430"]},{emoji:"🕠",aliases:["clock530"]},{emoji:"🕡",aliases:["clock630"]},{emoji:"🕢",aliases:["clock730"]},{emoji:"🕣",aliases:["clock830"]},{emoji:"🕤",aliases:["clock930"]},{emoji:"🕥",aliases:["clock1030"]},{emoji:"🕦",aliases:["clock1130"]},{emoji:"🕧",aliases:["clock1230"]},{emoji:"🏳️",aliases:["white flag"]},{emoji:"🏴",aliases:["black flag"]},{emoji:"🏁",aliases:["checkered flag"]},{emoji:"🚩",aliases:["triangular flag on post"]},{emoji:"🏳️‍🌈",aliases:["rainbow flag"]},{emoji:"🇦🇫",aliases:["afghanistan"]},{emoji:"🇦🇽",aliases:["aland islands"]},{emoji:"🇦🇱",aliases:["albania"]},{emoji:"🇩🇿",aliases:["algeria"]},{emoji:"🇦🇸",aliases:["american samoa"]},{emoji:"🇦🇩",aliases:["andorra"]},{emoji:"🇦🇴",aliases:["angola"]},{emoji:"🇦🇮",aliases:["anguilla"]},{emoji:"🇦🇶",aliases:["antarctica"]},{emoji:"🇦🇬",aliases:["antigua barbuda"]},{emoji:"🇦🇷",aliases:["argentina"]},{emoji:"🇦🇲",aliases:["armenia"]},{emoji:"🇦🇼",aliases:["aruba"]},{emoji:"🇦🇺",aliases:["australia"]},{emoji:"🇦🇹",aliases:["austria"]},{emoji:"🇦🇿",aliases:["azerbaijan"]},{emoji:"🇧🇸",aliases:["bahamas"]},{emoji:"🇧🇭",aliases:["bahrain"]},{emoji:"🇧🇩",aliases:["bangladesh"]},{emoji:"🇧🇧",aliases:["barbados"]},{emoji:"🇧🇾",aliases:["belarus"]},{emoji:"🇧🇪",aliases:["belgium"]},{emoji:"🇧🇿",aliases:["belize"]},{emoji:"🇧🇯",aliases:["benin"]},{emoji:"🇧🇲",aliases:["bermuda"]},{emoji:"🇧🇹",aliases:["bhutan"]},{emoji:"🇧🇴",aliases:["bolivia"]},{emoji:"🇧🇶",aliases:["caribbean netherlands"]},{emoji:"🇧🇦",aliases:["bosnia herzegovina"]},{emoji:"🇧🇼",aliases:["botswana"]},{emoji:"🇧🇷",aliases:["brazil"]},{emoji:"🇮🇴",aliases:["british indian ocean territory"]},{emoji:"🇻🇬",aliases:["british virgin islands"]},{emoji:"🇧🇳",aliases:["brunei"]},{emoji:"🇧🇬",aliases:["bulgaria"]},{emoji:"🇧🇫",aliases:["burkina faso"]},{emoji:"🇧🇮",aliases:["burundi"]},{emoji:"🇨🇻",aliases:["cape verde"]},{emoji:"🇰🇭",aliases:["cambodia"]},{emoji:"🇨🇲",aliases:["cameroon"]},{emoji:"🇨🇦",aliases:["canada"]},{emoji:"🇮🇨",aliases:["canary islands"]},{emoji:"🇰🇾",aliases:["cayman islands"]},{emoji:"🇨🇫",aliases:["central african republic"]},{emoji:"🇹🇩",aliases:["chad"]},{emoji:"🇨🇱",aliases:["chile"]},{emoji:"🇨🇳",aliases:["cn"]},{emoji:"🇨🇽",aliases:["christmas island"]},{emoji:"🇨🇨",aliases:["cocos islands"]},{emoji:"🇨🇴",aliases:["colombia"]},{emoji:"🇰🇲",aliases:["comoros"]},{emoji:"🇨🇬",aliases:["congo brazzaville"]},{emoji:"🇨🇩",aliases:["congo kinshasa"]},{emoji:"🇨🇰",aliases:["cook islands"]},{emoji:"🇨🇷",aliases:["costa rica"]},{emoji:"🇨🇮",aliases:["cote divoire"]},{emoji:"🇭🇷",aliases:["croatia"]},{emoji:"🇨🇺",aliases:["cuba"]},{emoji:"🇨🇼",aliases:["curacao"]},{emoji:"🇨🇾",aliases:["cyprus"]},{emoji:"🇨🇿",aliases:["czech republic"]},{emoji:"🇩🇰",aliases:["denmark"]},{emoji:"🇩🇯",aliases:["djibouti"]},{emoji:"🇩🇲",aliases:["dominica"]},{emoji:"🇩🇴",aliases:["dominican republic"]},{emoji:"🇪🇨",aliases:["ecuador"]},{emoji:"🇪🇬",aliases:["egypt"]},{emoji:"🇸🇻",aliases:["el salvador"]},{emoji:"🇬🇶",aliases:["equatorial guinea"]},{emoji:"🇪🇷",aliases:["eritrea"]},{emoji:"🇪🇪",aliases:["estonia"]},{emoji:"🇪🇹",aliases:["ethiopia"]},{emoji:"🇪🇺",aliases:["eu","european union"]},{emoji:"🇫🇰",aliases:["falkland islands"]},{emoji:"🇫🇴",aliases:["faroe islands"]},{emoji:"🇫🇯",aliases:["fiji"]},{emoji:"🇫🇮",aliases:["finland"]},{emoji:"🇫🇷",aliases:["fr"]},{emoji:"🇬🇫",aliases:["french guiana"]},{emoji:"🇵🇫",aliases:["french polynesia"]},{emoji:"🇹🇫",aliases:["french southern territories"]},{emoji:"🇬🇦",aliases:["gabon"]},{emoji:"🇬🇲",aliases:["gambia"]},{emoji:"🇬🇪",aliases:["georgia"]},{emoji:"🇩🇪",aliases:["de"]},{emoji:"🇬🇭",aliases:["ghana"]},{emoji:"🇬🇮",aliases:["gibraltar"]},{emoji:"🇬🇷",aliases:["greece"]},{emoji:"🇬🇱",aliases:["greenland"]},{emoji:"🇬🇩",aliases:["grenada"]},{emoji:"🇬🇵",aliases:["guadeloupe"]},{emoji:"🇬🇺",aliases:["guam"]},{emoji:"🇬🇹",aliases:["guatemala"]},{emoji:"🇬🇬",aliases:["guernsey"]},{emoji:"🇬🇳",aliases:["guinea"]},{emoji:"🇬🇼",aliases:["guinea bissau"]},{emoji:"🇬🇾",aliases:["guyana"]},{emoji:"🇭🇹",aliases:["haiti"]},{emoji:"🇭🇳",aliases:["honduras"]},{emoji:"🇭🇰",aliases:["hong kong"]},{emoji:"🇭🇺",aliases:["hungary"]},{emoji:"🇮🇸",aliases:["iceland"]},{emoji:"🇮🇳",aliases:["india"]},{emoji:"🇮🇩",aliases:["indonesia"]},{emoji:"🇮🇷",aliases:["iran"]},{emoji:"🇮🇶",aliases:["iraq"]},{emoji:"🇮🇪",aliases:["ireland"]},{emoji:"🇮🇲",aliases:["isle of man"]},{emoji:"🇮🇱",aliases:["israel"]},{emoji:"🇮🇹",aliases:["it"]},{emoji:"🇯🇲",aliases:["jamaica"]},{emoji:"🇯🇵",aliases:["jp"]},{emoji:"🎌",aliases:["crossed flags"]},{emoji:"🇯🇪",aliases:["jersey"]},{emoji:"🇯🇴",aliases:["jordan"]},{emoji:"🇰🇿",aliases:["kazakhstan"]},{emoji:"🇰🇪",aliases:["kenya"]},{emoji:"🇰🇮",aliases:["kiribati"]},{emoji:"🇽🇰",aliases:["kosovo"]},{emoji:"🇰🇼",aliases:["kuwait"]},{emoji:"🇰🇬",aliases:["kyrgyzstan"]},{emoji:"🇱🇦",aliases:["laos"]},{emoji:"🇱🇻",aliases:["latvia"]},{emoji:"🇱🇧",aliases:["lebanon"]},{emoji:"🇱🇸",aliases:["lesotho"]},{emoji:"🇱🇷",aliases:["liberia"]},{emoji:"🇱🇾",aliases:["libya"]},{emoji:"🇱🇮",aliases:["liechtenstein"]},{emoji:"🇱🇹",aliases:["lithuania"]},{emoji:"🇱🇺",aliases:["luxembourg"]},{emoji:"🇲🇴",aliases:["macau"]},{emoji:"🇲🇰",aliases:["macedonia"]},{emoji:"🇲🇬",aliases:["madagascar"]},{emoji:"🇲🇼",aliases:["malawi"]},{emoji:"🇲🇾",aliases:["malaysia"]},{emoji:"🇲🇻",aliases:["maldives"]},{emoji:"🇲🇱",aliases:["mali"]},{emoji:"🇲🇹",aliases:["malta"]},{emoji:"🇲🇭",aliases:["marshall islands"]},{emoji:"🇲🇶",aliases:["martinique"]},{emoji:"🇲🇷",aliases:["mauritania"]},{emoji:"🇲🇺",aliases:["mauritius"]},{emoji:"🇾🇹",aliases:["mayotte"]},{emoji:"🇲🇽",aliases:["mexico"]},{emoji:"🇫🇲",aliases:["micronesia"]},{emoji:"🇲🇩",aliases:["moldova"]},{emoji:"🇲🇨",aliases:["monaco"]},{emoji:"🇲🇳",aliases:["mongolia"]},{emoji:"🇲🇪",aliases:["montenegro"]},{emoji:"🇲🇸",aliases:["montserrat"]},{emoji:"🇲🇦",aliases:["morocco"]},{emoji:"🇲🇿",aliases:["mozambique"]},{emoji:"🇲🇲",aliases:["myanmar"]},{emoji:"🇳🇦",aliases:["namibia"]},{emoji:"🇳🇷",aliases:["nauru"]},{emoji:"🇳🇵",aliases:["nepal"]},{emoji:"🇳🇱",aliases:["netherlands"]},{emoji:"🇳🇨",aliases:["new caledonia"]},{emoji:"🇳🇿",aliases:["new zealand"]},{emoji:"🇳🇮",aliases:["nicaragua"]},{emoji:"🇳🇪",aliases:["niger"]},{emoji:"🇳🇬",aliases:["nigeria"]},{emoji:"🇳🇺",aliases:["niue"]},{emoji:"🇳🇫",aliases:["norfolk island"]},{emoji:"🇲🇵",aliases:["northern mariana islands"]},{emoji:"🇰🇵",aliases:["north korea"]},{emoji:"🇳🇴",aliases:["norway"]},{emoji:"🇴🇲",aliases:["oman"]},{emoji:"🇵🇰",aliases:["pakistan"]},{emoji:"🇵🇼",aliases:["palau"]},{emoji:"🇵🇸",aliases:["palestinian territories"]},{emoji:"🇵🇦",aliases:["panama"]},{emoji:"🇵🇬",aliases:["papua new guinea"]},{emoji:"🇵🇾",aliases:["paraguay"]},{emoji:"🇵🇪",aliases:["peru"]},{emoji:"🇵🇭",aliases:["philippines"]},{emoji:"🇵🇳",aliases:["pitcairn islands"]},{emoji:"🇵🇱",aliases:["poland"]},{emoji:"🇵🇹",aliases:["portugal"]},{emoji:"🇵🇷",aliases:["puerto rico"]},{emoji:"🇶🇦",aliases:["qatar"]},{emoji:"🇷🇪",aliases:["reunion"]},{emoji:"🇷🇴",aliases:["romania"]},{emoji:"🇷🇺",aliases:["ru"]},{emoji:"🇷🇼",aliases:["rwanda"]},{emoji:"🇧🇱",aliases:["st barthelemy"]},{emoji:"🇸🇭",aliases:["st helena"]},{emoji:"🇰🇳",aliases:["st kitts nevis"]},{emoji:"🇱🇨",aliases:["st lucia"]},{emoji:"🇵🇲",aliases:["st pierre miquelon"]},{emoji:"🇻🇨",aliases:["st vincent grenadines"]},{emoji:"🇼🇸",aliases:["samoa"]},{emoji:"🇸🇲",aliases:["san marino"]},{emoji:"🇸🇹",aliases:["sao tome principe"]},{emoji:"🇸🇦",aliases:["saudi arabia"]},{emoji:"🇸🇳",aliases:["senegal"]},{emoji:"🇷🇸",aliases:["serbia"]},{emoji:"🇸🇨",aliases:["seychelles"]},{emoji:"🇸🇱",aliases:["sierra leone"]},{emoji:"🇸🇬",aliases:["singapore"]},{emoji:"🇸🇽",aliases:["sint maarten"]},{emoji:"🇸🇰",aliases:["slovakia"]},{emoji:"🇸🇮",aliases:["slovenia"]},{emoji:"🇸🇧",aliases:["solomon islands"]},{emoji:"🇸🇴",aliases:["somalia"]},{emoji:"🇿🇦",aliases:["south africa"]},{emoji:"🇬🇸",aliases:["south georgia south sandwich islands"]},{emoji:"🇰🇷",aliases:["kr"]},{emoji:"🇸🇸",aliases:["south sudan"]},{emoji:"🇪🇸",aliases:["es"]},{emoji:"🇱🇰",aliases:["sri lanka"]},{emoji:"🇸🇩",aliases:["sudan"]},{emoji:"🇸🇷",aliases:["suriname"]},{emoji:"🇸🇿",aliases:["swaziland"]},{emoji:"🇸🇪",aliases:["sweden"]},{emoji:"🇨🇭",aliases:["switzerland"]},{emoji:"🇸🇾",aliases:["syria"]},{emoji:"🇹🇼",aliases:["taiwan"]},{emoji:"🇹🇯",aliases:["tajikistan"]},{emoji:"🇹🇿",aliases:["tanzania"]},{emoji:"🇹🇭",aliases:["thailand"]},{emoji:"🇹🇱",aliases:["timor leste"]},{emoji:"🇹🇬",aliases:["togo"]},{emoji:"🇹🇰",aliases:["tokelau"]},{emoji:"🇹🇴",aliases:["tonga"]},{emoji:"🇹🇹",aliases:["trinidad tobago"]},{emoji:"🇹🇳",aliases:["tunisia"]},{emoji:"🇹🇷",aliases:["tr"]},{emoji:"🇹🇲",aliases:["turkmenistan"]},{emoji:"🇹🇨",aliases:["turks caicos islands"]},{emoji:"🇹🇻",aliases:["tuvalu"]},{emoji:"🇺🇬",aliases:["uganda"]},{emoji:"🇺🇦",aliases:["ukraine"]},{emoji:"🇦🇪",aliases:["united arab emirates"]},{emoji:"🇬🇧",aliases:["gb","uk"]},{emoji:"🇺🇸",aliases:["us"]},{emoji:"🇻🇮",aliases:["us virgin islands"]},{emoji:"🇺🇾",aliases:["uruguay"]},{emoji:"🇺🇿",aliases:["uzbekistan"]},{emoji:"🇻🇺",aliases:["vanuatu"]},{emoji:"🇻🇦",aliases:["vatican city"]},{emoji:"🇻🇪",aliases:["venezuela"]},{emoji:"🇻🇳",aliases:["vietnam"]},{emoji:"🇼🇫",aliases:["wallis futuna"]},{emoji:"🇪🇭",aliases:["western sahara"]},{emoji:"🇾🇪",aliases:["yemen"]},{emoji:"🇿🇲",aliases:["zambia"]},{emoji:"🇿🇼",aliases:["zimbabwe"]}]},function(e,t,n){"use strict";n.r(t),n.d(t,"open",(function(){return p})),n.d(t,"close",(function(){return f}));var i=n(56);let r,o,s,a,l,c,d=0,u=[],h=!1;function p(e){s&&!s.classList.contains("hidden")&&f(),c=e.cb.autoComplete,s=e.elements.suggestedListContainer,a=s.querySelector(".suggestedListBox"),l=e.elements.textContainer,d=e.index,u=e.list,r=0,o=0,s.classList.remove("hidden");const t=a.querySelector(`.suggestedItem[data-index="${d}"]`);t.classList.add("selected"),Object(i.scrollIfNecessary)(t),h||(h=!0,a.addEventListener("mousemove",m),a.addEventListener("click",b),l.addEventListener("keydown",g))}function f(){if(h&&(l.removeEventListener("keydown",g),a.removeEventListener("mousemove",m),a.removeEventListener("click",g)),!s||s.classList.contains("hidden"))return;const e=a.querySelector(".suggestedItem.selected");e&&e.classList.remove("selected"),s.classList.add("hidden"),a.innerHTML="",l=null,h=!1,u=[],d=0}function g(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),c(u[a.querySelector(".suggestedItem.selected").dataset.index]);break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),f();break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),d<u.length-1&&y(++d);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),d>0&&y(--d)}}function m(e){if(e.stopPropagation(),r===e.clientX&&o===e.clientY)return;const t=e.target.closest(".suggestedItem");t.classList.contains("selected")||y(t.dataset.index),r=e.clientX,o=e.clientY}function b(e){e.preventDefault(),e.stopPropagation();const t=e.target.closest(".suggestedItem");c(u[t.dataset.index])}function y(e){d=e;const t=a.querySelector(".suggestedItem.selected");t&&t.classList.remove("selected");const n=a.querySelector(`.suggestedItem[data-index="${d}"]`);n&&(n.classList.add("selected"),Object(i.scrollIfNecessary)(n))}},function(e,t,n){"use strict";n.r(t),n.d(t,"manageSuggestedUsers",(function(){return C})),n.d(t,"checkStatus",(function(){return O})),n.d(t,"open",(function(){return E})),n.d(t,"close",(function(){return T}));var i=n(62),r=n(56),o=n(608),s=n(342),a=n(473);const l=document.getElementById("suggestedUsersContainer"),c=l.querySelector(".suggestedListBox"),d=document.getElementById("suggestedUsersTemplate");let u,h,p,f,g=[],m=0,b=null;function y(){if(!b.startsWith("@"))return;b=b.substring(1).toLowerCase();const e=s.BarrelHelpers.getBarrel(),t=a.OrganizationHelpers.getOrganization(),n=[{user:{username:"everyone",_id:"everyone"},icon:e.icon.type,projectName:e.name}];if(t&&n.push({user:{username:"organization",_id:"organization"},icon:t.logo,projectName:e.name}),n.push(...e.users),g=n.filter(({user:e})=>"invited"!==e.status&&("me"===b&&Zeplin.user._id===e._id||e.username.toLowerCase().startsWith(b)||e.fullName&&e.fullName.toLowerCase().startsWith(b))),b&&"project".startsWith(b)&&g.unshift({user:{username:"project",_id:"project"},icon:e.icon.type,projectName:e.name}),g.length)return b?i.groupMentionKeywords.some(e=>e.startsWith(b))&&(m=g.length>1?1:0,p=g[m]):(m=t?2:1,p=g[m]),g.forEach(S),l.appendChild(c),p&&(r=p,g.some((function(e){return e.user._id===r.user._id})))&&"me"!==b?m=l.querySelector(".suggestedItem[data-id='"+p.user._id+"']").dataset.index:(m=0,p=g[0]),l;var r;T()}function S(e,t){const n=document.importNode(d.content,!0),i=n.querySelector(".suggestedItem"),o=n.querySelector(".suggestedUserName"),s=n.querySelector(".mentionInfo"),a=n.querySelector(".suggestedUserImage"),l=n.querySelector(".projectIcon");i.dataset.id=e.user._id,i.dataset.index=t,o.textContent=e.user.username||e.user.email,o.title=e.user.username||e.user.email,e.user._id===Zeplin.user._id&&o.classList.add("you"),"organization"===e.user._id?(s.textContent="Notify all organization members",e.icon?(l.dataset.type="organization",l.style.background=`url(${e.icon})`,l.style.backgroundSize="contain"):l.dataset.type="organizationPlaceholder",a.parentElement.classList.add("hidden")):["everyone","project"].includes(e.user._id)?(s.textContent="Notify all project members",l.dataset.type=e.icon,a.parentElement.classList.add("hidden")):(s.textContent="",Object(r.setAvatar)(a,e.user)),c.appendChild(n)}function v(e){const t=u.value.substring(0,u.selectionStart),n=u.value.substring(u.selectionStart),r=e.user.username,o=t.substr(0,t.lastIndexOf("@"))+"@"+r+" ";u.value=o+n,h.innerHTML=Object(i.escapeHTML)(u.value)+"&nbsp;",u.focus(),u.setSelectionRange(o.length+1,o.length+1),T()}function C(e,t){if(u=e,h=t,!l.classList.contains("hidden")){const e=l.querySelector(".suggestedItem.selected");e&&(p=g[e.dataset.index])}const n=u.value.substring(0,u.selectionStart).lastIndexOf("@");return T(),b=u.value.substring(n,u.selectionStart),y()}function O(){b&&o.open(f)}function E(){f={elements:{textContainer:u,suggestedListContainer:l},cb:{autoComplete:v},index:m,list:g},o.open(f)}function T(){b=null,o.close()}},function(e,t,n){"use strict";n.r(t);var i=n(611);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(342),o=n(345),s=n(346),a=n(473),l=n(470),c=n(349),d=n(334),u=n(612);class h extends i.Component{static getStores(){return[r.BarrelStore,a.OrganizationStore,o.ProjectsDataStore,l.SpaceStore,s.StyleguidesDataStore,c.UserStore]}static calculateState(){const{organizations:e}=a.OrganizationStore.getState(),{selectedOrganizationId:t}=l.SpaceStore.getState(),{barrelId:n,organizationId:i}=r.BarrelStore.getState(),{username:d,userId:u}=c.UserStore.getState(),{projects:h}=o.ProjectsDataStore.getState(),{styleguides:p}=s.StyleguidesDataStore.getState(),f=r.BarrelHelpers.getBarrel(),{members:g=[]}=a.OrganizationHelpers.getOrganization(i||t)||{},{users:m=[]}=f||{};return{organizations:e,barrelId:n,username:d,userId:u,members:[...g,...m],barrel:f,projects:h,styleguides:p}}render(){const{children:e,disabledFeatures:t,onUpdate:n}=this.props,{organizations:r,barrelId:o,barrel:s,username:a,userId:l,members:c,projects:d,styleguides:h}=this.state;return i.h(u.default,{disabledFeatures:t,organizations:r,barrelId:o,barrel:s,username:a,userId:l,members:c,projects:d,styleguides:h,onUpdate:n},e)}}t.default=Object(d.default)(h,{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(613);n.d(t,"default",(function(){return i.default})),n.d(t,"MarkdownRules",(function(){return i.MarkdownRules})),n.d(t,"CustomRules",(function(){return i.CustomRules}))},function(e,t,n){"use strict";n.r(t),n.d(t,"MarkdownRules",(function(){return R})),n.d(t,"CustomRules",(function(){return P}));var i=n(1),r=n(614),o=n.n(r),s=n(624),a=n.n(s),l=n(63),c=n.n(l),d=n(625),u=n(62),h=n(44),p=n(11),f=n(24),g=n(40),m=n(606),b=n(20);n(626);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=/#([\w-]+)/g,v=/^#(?:[\da-f]{8}|[\da-f]{6}|[\da-f]{3,4})$/i,C=/rgba?\s*\(\s*(\d*\.?\d+%?)\s*,?\s*(\d*\.?\d+%?)\s*,?\s*(\d*\.?\d+%?)\s*(?:[,/]?\s*(\d*\.?\d+%?))?\s*\)/g,O=/hsla?\s*\(\s*(\d*\.?\d+(?:deg)?)\s*,?\s*(\d*\.?\d+%)\s*,?\s*(\d*\.?\d+%)\s*(?:[,/]?\s*(\d*\.?\d+%?))?\s*\)/g,E=new RegExp(`(${g.ZPL_PROTOCOL}//\\S+)`,"g"),T=/tel:([\d+.-]+)\b/g,D=/spotify:([\w:]+)\b/g,k=/youtube\.com\/watch\?v=(\w+)/,w=/youtu\.be\/(\w+)/,_=/:([a-z_-]+?):/g,j=c()();o.a.setOptions({headerIds:!1,highlight(e,t){if(!t)return e;const n=a.a.languages[t];return n?a.a.highlight(e,n):e}});const P={SPOTIFY:"spotify",YOUTUBE:"youtube"},R={HEADING:"heading",TABLE:"table",IMAGE:"image",CHECKBOX:"checkbox"};class I extends i.Component{constructor(e){super(e),y(this,"disableHeadingRenderer",(e,t)=>"#".repeat(t)+" "+e),y(this,"checkboxRenderer",e=>{const{disabledFeatures:t}=this.props;return t.includes(R.CHECKBOX)?e?"[x] ":"[ ] ":`<input type="checkbox" data-index="${this.checkboxCounter++}" ${e?"checked":""}/>`}),y(this,"imageRenderer",(e,t,n)=>{const{disabledFeatures:i}=this.props,r=t||"";return i.includes(R.IMAGE)?`<a\n                href="${e}"\n                title="${r}"\n                rel="nofollow external noopener noreferrer"\n                target="_blank">${n}</a>`:`<img src="${e}" srcset="${e} ${window.devicePixelRatio}x" title="${r}" alt="${n}">`}),y(this,"spotifyURLRenderer",e=>{const{disabledFeatures:t}=this.props;return t.includes(P.SPOTIFY)?e:`<iframe\n            src="${e.origin}/embed${e.pathname}${e.search}"\n            width="300" height="80"\n            frameborder="0"\n            allowtransparency="true" allow="encrypted-media"></iframe>`}),y(this,"spotifyURIRenderer",e=>{const{disabledFeatures:t}=this.props;return t.includes(P.SPOTIFY)?e:e.replace(D,(e,t)=>`<iframe\n                src="https://open.spotify.com/embed/${t.replace(/:/g,"/")}"\n                width="300" height="80" frameborder="0"\n                allowtransparency="true" allow="encrypted-media"></iframe>`)}),y(this,"youtubeRenderer",e=>{const{disabledFeatures:t}=this.props;if(t.includes(P.YOUTUBE))return e;let n="youtu.be"===e.hostname?w:k;const[,i]=e.href.match(n);return`<iframe\n                src="https://www.youtube.com/embed/${i}"\n                width="480" height="270"\n                frameborder="0"></iframe>`}),y(this,"linkRenderer",(e,t,n="")=>{const{barrelId:i}=this.props,r=Object(h.urlResolve)("project",{url:{bid:i}}),o=new URL(e.replace(/&amp;/g,"&"),r),s=t||"";if(o.origin===location.origin||o.protocol===g.ZPL_PROTOCOL){const e=this.parseURL(o);if(e){const t=n.startsWith("<")?n:e.anchorText;return`<a\n                    href="${e.href}"\n                    title="${s}"\n                    data-link-type="inApp">${t}</a>`}}return["spotify.com","open.spotify.com"].includes(o.hostname)?this.spotifyURLRenderer(o):["youtube.com","www.youtube.com","youtu.be"].includes(o.hostname)?this.youtubeRenderer(o):`<a href="${e}" title="${s}" rel="nofollow external noopener noreferrer" target="_blank">${n}</a>`}),y(this,"colorRenderer",e=>{const{barrelId:t,barrel:n}=this.props,i=[];return e.replace(S,(e,r)=>{let o,s=n&&n.colors.find(e=>e.name===r),a=e;if(s)o=`{{color${i.length}}}`,i.push(s.toCSS()),a=`<span class="color">${e}<span class="colorPreview" style="background-color: ${o};"></span></span>`;else if(v.test(e)){const t=b.default.fromHex(r);s=n&&n.colors.find(e=>e.equals(t));o=s?e:"",a=`<span class="color">#${s?s.name:r}<span class="colorPreview" style="background-color: ${e};"></span></span>`}if(s){const e=Object(h.urlResolve)("project-styleguide-colors",{url:{bid:t},query:{cid:s.id}});return this.linkRenderer(e,o,a)}return a}).replace(C,(e,...i)=>{const{r:r,g:o,b:s,a:a}=Object(d.parseRGBA)(...i),l=n&&n.colors.find(e=>e.equals({r:r,g:o,b:s,a:a}));let c;if(c=l?`<span class="color">#${l.name}<span class="colorPreview" style="background-color: ${l.toCSS()};"></span></span>`:`<span class="color">${e}<span class="colorPreview" style="background-color: ${e};"></span></span>`,l){const n=Object(h.urlResolve)("project-styleguide-colors",{url:{bid:t},query:{cid:l.id}});return this.linkRenderer(n,e,c)}return c}).replace(O,(e,...i)=>{const{h:r,s:o,l:s,a:a}=Object(d.parseHSLA)(...i),l=b.default.fromHSLA(r,o,s,a),c=n&&n.colors.find(e=>e.equals(l));let u;if(u=c?`<span class="color">#${c.name}<span class="colorPreview" style="background-color: ${c.toCSS()};"></span></span>`:`<span class="color">${e}<span class="colorPreview" style="background-color: ${e};"></span></span>`,c){const n=Object(h.urlResolve)("project-styleguide-colors",{url:{bid:t},query:{cid:c.id}});return this.linkRenderer(n,e,u)}return u}).replace(/{{color(\d+)}}/g,(e,t)=>i[parseInt(t,10)])}),y(this,"mentionRenderer",e=>{const{username:t,userId:n,members:i}=this.props,r=Object(u.mentionRegexFn)(t);return e.replace(/@\w+\b/g,e=>{const t=e.substring(1),o=!u.groupMentionKeywords.includes(t)&&i.find(e=>e.user.username===t);let s=e;return o&&o.user.fullName&&(s="@"+o.user.fullName),r.test(e)?`<span data-unique-id="${n}" class="user self">${s}</span>`:o?`<span data-unique-id="${o&&o.user._id}" class="user">${s}</span>`:s})}),y(this,"telRenderer",e=>e.replace(T,(e,t)=>`<a href="tel:${t}">${t}</a>`)),y(this,"emojiRenderer",e=>e.replace(_,(e,t)=>{const n=m.default.searchEmoji(t);return n?n.customEmoji?`<img class="customEmoji" src="${n.emoji}" title="${t}">`:n.emoji:`<span class="customEmojiPlainText">${e}</span>`})),y(this,"textRenderer",e=>{let t=e.replace(/&amp;/g,"&");const n=(t.match(E)||[]).sort((e,t)=>t.length-e.length);for(const i of n)t=t.replace(i,this.linkRenderer(i));return this.makeEmojisJumbo=this.canWeMakeThisJumbo(t),Object(u.pipe)(this.colorRenderer,this.mentionRenderer,this.telRenderer,this.spotifyURIRenderer,this.emojiRenderer,u.spanEmojis)(t)}),y(this,"canWeMakeThisJumbo",e=>{const t=(e.match(j)||[]).length+(e.match(_)||[]).length;let n=e.replace(j,"");return n=n.replace(_,""),!n&&t>0&&t<=5}),y(this,"bindCheckboxEventListeners",()=>{const{disabledFeatures:e,onUpdate:t}=this.props;if(e.includes(R.CHECKBOX)||!t)return;this.nodeRefs.base.querySelectorAll('input[type="checkbox"]').forEach(e=>{e.addEventListener("change",this.handleChange)})}),y(this,"handleChange",e=>{const{children:t,onUpdate:n}=this.props,i=parseInt(e.target.dataset.index,10);let r=-1;n(t.replace(/- \[(x| )\]/g,(e,t)=>(r++,r===i?" "===t?"- [x]":"- [ ]":e)))});const{disabledFeatures:t}=e;this.renderer=new o.a.Renderer,this.renderer.checkbox=this.checkboxRenderer,this.renderer.link=this.linkRenderer,this.renderer.text=this.textRenderer,this.renderer.image=this.imageRenderer,t.includes(R.HEADING)&&(this.renderer.heading=this.disableHeadingRenderer),this.lexer=new o.a.Lexer,t.includes(R.TABLE)&&(this.lexer.rules.table={exec:()=>{}}),this.makeEmojisJumbo=!1}getBarrel(e){const{projects:t,styleguides:n}=this.props;return t[e]||n[e]||{}}parseURL(e){const{organizations:t,barrelId:n}=this.props,i=Object(d.parseAppLink)(e);if(!i)return null;const{url:r={},query:o={},urlSlug:s}=i,{oid:a,bid:l,sid:c}=r,u=this.getBarrel(l);let p;switch(s){case"organization-projects":{const{name:e="Organization"}=t.find(e=>e._id===a)||{};p=e+"ʼs Projects";break}case"organization-styleguides":{const{name:e="Organization"}=t.find(e=>e._id===a)||{};p=e+"ʼs Styleguides";break}case"projects":p="Projects";break;case"styleguides":p="Styleguides";break;case"project-screen":{const{did:e=[],cmid:t=[]}=o;if(l!==n){p=t.length?`Comment${t.length>1?"s":""} on screen of ${u.name}`:e.length?`Note${e.length>1?"s":""} on screen of ${u.name}`:"Screen in "+u.name;break}const{name:i="screen",dots:r=[]}=(u.screens||[]).find(e=>e._id===c)||{};if(e.length)if(e.length>1)p="Notes on "+i;else{const{name:n=""}=r.find(t=>t._id===e[0])||{},o=`Note #${n}, ${i}`;p=t.length?`Comment${t.length>1?"s":""} on ${o}`:o}else p=i;break}case"project-screen-version":{const{name:e="screen"}=(u.screens||[]).find(e=>e._id===c)||{};p="Version of "+e;break}case"project-styleguide":case"styleguide":p=l===n?u.name:"Styleguide";break;case"project-styleguide-colors":case"styleguide-colors":p=(l===n?"":u.name)+" Colors";break;case"project-styleguide-textstyles":case"styleguide-textstyles":p=(l===n?"":u.name)+" Text Styles";break;case"project-styleguide-spacing":case"styleguide-spacing":p=(l===n?"":u.name)+" Spacing";break;case"project-styleguide-components":case"styleguide-components":p=(l===n?"":u.name)+" Components";break;case"styleguide-about":p=(l===n?"":u.name)+" About";break;case"project-dashboard":default:{const{sid:e=[]}=o;p=e.length?`${e.length} screens in ${l===n?"dashboard":u.name}`:l===n?"Dashboard":u.name;break}}return{anchorText:p,href:Object(h.urlResolve)(s,{url:r,query:o})}}componentDidMount(){this.bindCheckboxEventListeners()}componentDidUpdate(){this.bindCheckboxEventListeners()}renderMarkdown(){const{children:e}=this.props;return this.checkboxCounter=0,o()(e,{renderer:this.renderer,sanitize:!0})}render(){const e=Object(p.default)("markdown",{jumboEmojis:this.makeEmojisJumbo});return i.h("div",{ref:Object(f.default)(this,"base"),class:e,dangerouslySetInnerHTML:{__html:this.renderMarkdown()}})}}I.defaultProps={disabledFeatures:[],organizations:[]},t.default=I},function(e,t,n){const i=n(615),r=n(619),o=n(620),s=n(623),a=n(622),l=n(621),{merge:c,checkSanitizeDeprecation:d,escape:u}=n(618),{getDefaults:h,changeDefaults:p,defaults:f}=n(616);function g(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(n||"function"==typeof t){n||(n=t,t=null),t=c({},g.defaults,t||{}),d(t);const s=t.highlight;let a,l,u=0;try{a=i.lex(e,t)}catch(o){return n(o)}l=a.length;const h=function(e){if(e)return t.highlight=s,n(e);let i;try{i=r.parse(a,t)}catch(o){e=o}return t.highlight=s,e?n(e):n(null,i)};if(!s||s.length<3)return h();if(delete t.highlight,!l)return h();for(;u<a.length;u++)!function(e){"code"!==e.type?--l||h():s(e.text,e.lang,(function(t,n){return t?h(t):null==n||n===e.text?--l||h():(e.text=n,e.escaped=!0,void(--l||h()))}))}(a[u])}else try{return t=c({},g.defaults,t||{}),d(t),r.parse(i.lex(e,t),t)}catch(o){if(o.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||g.defaults).silent)return"<p>An error occurred:</p><pre>"+u(o.message+"",!0)+"</pre>";throw o}}g.options=g.setOptions=function(e){return c(g.defaults,e),p(g.defaults),g},g.getDefaults=h,g.defaults=f,g.Parser=r,g.parser=r.parse,g.Renderer=o,g.TextRenderer=s,g.Lexer=i,g.lexer=i.lex,g.InlineLexer=a,g.inlineLexer=a.output,g.Slugger=l,g.parse=g,e.exports=g},function(e,t,n){const{defaults:i}=n(616),{block:r}=n(617),{rtrim:o,splitCells:s,escape:a}=n(618);e.exports=class e{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||i,this.rules=r.normal,this.options.pedantic?this.rules=r.pedantic:this.options.gfm&&(this.rules=r.gfm)}static get rules(){return r}static lex(t,n){return new e(n).lex(t)}lex(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.token(e,!0)}token(e,t){let n,i,l,c,d,u,h,p,f,g,m,b,y,S,v,C;for(e=e.replace(/^ +$/gm,"");e;)if((l=this.rules.newline.exec(e))&&(e=e.substring(l[0].length),l[0].length>1&&this.tokens.push({type:"space"})),l=this.rules.code.exec(e)){const t=this.tokens[this.tokens.length-1];e=e.substring(l[0].length),t&&"paragraph"===t.type?t.text+="\n"+l[0].trimRight():(l=l[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?l:o(l,"\n")}))}else if(l=this.rules.fences.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"code",lang:l[2]?l[2].trim():l[2],text:l[3]||""});else if(l=this.rules.heading.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"heading",depth:l[1].length,text:l[2]});else if((l=this.rules.nptable.exec(e))&&(u={type:"table",header:s(l[1].replace(/^ *| *\| *$/g,"")),align:l[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:l[3]?l[3].replace(/\n$/,"").split("\n"):[]},u.header.length===u.align.length)){for(e=e.substring(l[0].length),m=0;m<u.align.length;m++)/^ *-+: *$/.test(u.align[m])?u.align[m]="right":/^ *:-+: *$/.test(u.align[m])?u.align[m]="center":/^ *:-+ *$/.test(u.align[m])?u.align[m]="left":u.align[m]=null;for(m=0;m<u.cells.length;m++)u.cells[m]=s(u.cells[m],u.header.length);this.tokens.push(u)}else if(l=this.rules.hr.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"hr"});else if(l=this.rules.blockquote.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"blockquote_start"}),l=l[0].replace(/^ *> ?/gm,""),this.token(l,t),this.tokens.push({type:"blockquote_end"});else if(l=this.rules.list.exec(e)){for(e=e.substring(l[0].length),c=l[2],S=c.length>1,h={type:"list_start",ordered:S,start:S?+c:"",loose:!1},this.tokens.push(h),l=l[0].match(this.rules.item),p=[],n=!1,y=l.length,m=0;m<y;m++)u=l[m],g=u.length,u=u.replace(/^ *([*+-]|\d+\.) */,""),~u.indexOf("\n ")&&(g-=u.length,u=this.options.pedantic?u.replace(/^ {1,4}/gm,""):u.replace(new RegExp("^ {1,"+g+"}","gm"),"")),m!==y-1&&(d=r.bullet.exec(l[m+1])[0],(c.length>1?1===d.length:d.length>1||this.options.smartLists&&d!==c)&&(e=l.slice(m+1).join("\n")+e,m=y-1)),i=n||/\n\n(?!\s*$)/.test(u),m!==y-1&&(n="\n"===u.charAt(u.length-1),i||(i=n)),i&&(h.loose=!0),v=/^\[[ xX]\] /.test(u),C=void 0,v&&(C=" "!==u[1],u=u.replace(/^\[[ xX]\] +/,"")),f={type:"list_item_start",task:v,checked:C,loose:i},p.push(f),this.tokens.push(f),this.token(u,!1),this.tokens.push({type:"list_item_end"});if(h.loose)for(y=p.length,m=0;m<y;m++)p[m].loose=!0;this.tokens.push({type:"list_end"})}else if(l=this.rules.html.exec(e))e=e.substring(l[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===l[1]||"script"===l[1]||"style"===l[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(l[0]):a(l[0]):l[0]});else if(t&&(l=this.rules.def.exec(e)))e=e.substring(l[0].length),l[3]&&(l[3]=l[3].substring(1,l[3].length-1)),b=l[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[b]||(this.tokens.links[b]={href:l[2],title:l[3]});else if((l=this.rules.table.exec(e))&&(u={type:"table",header:s(l[1].replace(/^ *| *\| *$/g,"")),align:l[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:l[3]?l[3].replace(/\n$/,"").split("\n"):[]},u.header.length===u.align.length)){for(e=e.substring(l[0].length),m=0;m<u.align.length;m++)/^ *-+: *$/.test(u.align[m])?u.align[m]="right":/^ *:-+: *$/.test(u.align[m])?u.align[m]="center":/^ *:-+ *$/.test(u.align[m])?u.align[m]="left":u.align[m]=null;for(m=0;m<u.cells.length;m++)u.cells[m]=s(u.cells[m].replace(/^ *\| *| *\| *$/g,""),u.header.length);this.tokens.push(u)}else if(l=this.rules.lheading.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"heading",depth:"="===l[2].charAt(0)?1:2,text:l[1]});else if(t&&(l=this.rules.paragraph.exec(e)))e=e.substring(l[0].length),this.tokens.push({type:"paragraph",text:"\n"===l[1].charAt(l[1].length-1)?l[1].slice(0,-1):l[1]});else if(l=this.rules.text.exec(e))e=e.substring(l[0].length),this.tokens.push({type:"text",text:l[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens}}},function(e,t){function n(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}}e.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1},getDefaults:n,changeDefaults:function(t){e.exports.defaults=t}}},function(e,t,n){const{noopTest:i,edit:r,merge:o}=n(618),s={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:i,table:i,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};s.def=r(s.def).replace("label",s._label).replace("title",s._title).getRegex(),s.bullet=/(?:[*+-]|\d{1,9}\.)/,s.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,s.item=r(s.item,"gm").replace(/bull/g,s.bullet).getRegex(),s.list=r(s.list).replace(/bull/g,s.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+s.def.source+")").getRegex(),s._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",s._comment=/<!--(?!-?>)[\s\S]*?-->/,s.html=r(s.html,"i").replace("comment",s._comment).replace("tag",s._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),s.paragraph=r(s._paragraph).replace("hr",s.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",s._tag).getRegex(),s.blockquote=r(s.blockquote).replace("paragraph",s.paragraph).getRegex(),s.normal=o({},s),s.gfm=o({},s.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),s.gfm.nptable=r(s.gfm.nptable).replace("hr",s.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",s._tag).getRegex(),s.gfm.table=r(s.gfm.table).replace("hr",s.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",s._tag).getRegex(),s.pedantic=o({},s.normal,{html:r("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",s._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:i,paragraph:r(s.normal._paragraph).replace("hr",s.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",s.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const a={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:i,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:i,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,_punctuation:"!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~"};a.em=r(a.em).replace(/punctuation/g,a._punctuation).getRegex(),a._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,a._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,a._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,a.autolink=r(a.autolink).replace("scheme",a._scheme).replace("email",a._email).getRegex(),a._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,a.tag=r(a.tag).replace("comment",s._comment).replace("attribute",a._attribute).getRegex(),a._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,a._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,a._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,a.link=r(a.link).replace("label",a._label).replace("href",a._href).replace("title",a._title).getRegex(),a.reflink=r(a.reflink).replace("label",a._label).getRegex(),a.normal=o({},a),a.pedantic=o({},a.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:r(/^!?\[(label)\]\((.*?)\)/).replace("label",a._label).getRegex(),reflink:r(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",a._label).getRegex()}),a.gfm=o({},a.normal,{escape:r(a.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),a.gfm.url=r(a.gfm.url,"i").replace("email",a.gfm._extended_email).getRegex(),a.breaks=o({},a.gfm,{br:r(a.br).replace("{2,}","*").getRegex(),text:r(a.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),e.exports={block:s,inline:a}},function(e,t){const n=/[&<>"']/,i=/[&<>"']/g,r=/[<>"']|&(?!#?\w+;)/,o=/[<>"']|&(?!#?\w+;)/g,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},a=e=>s[e];const l=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function c(e){return e.replace(l,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const d=/(^|[^\[])\^/g;const u=/[^\w:]/g,h=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;const p={},f=/^[^:]+:\/*[^/]*$/,g=/^([^:]+:)[\s\S]*$/,m=/^([^:]+:\/*[^/]*)[\s\S]*$/;function b(e,t){p[" "+e]||(f.test(e)?p[" "+e]=e+"/":p[" "+e]=y(e,"/",!0));const n=-1===(e=p[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(g,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(m,"$1")+t:e+t}function y(e,t,n){const i=e.length;if(0===i)return"";let r=0;for(;r<i;){const o=e.charAt(i-r-1);if(o!==t||n){if(o===t||!n)break;r++}else r++}return e.substr(0,i-r)}e.exports={escape:function(e,t){if(t){if(n.test(e))return e.replace(i,a)}else if(r.test(e))return e.replace(o,a);return e},unescape:c,edit:function(e,t){e=e.source||e,t=t||"";const n={replace:(t,i)=>(i=(i=i.source||i).replace(d,"$1"),e=e.replace(t,i),n),getRegex:()=>new RegExp(e,t)};return n},cleanUrl:function(e,t,n){if(e){let e;try{e=decodeURIComponent(c(n)).replace(u,"").toLowerCase()}catch(i){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!h.test(n)&&(n=b(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(i){return null}return n},resolveUrl:b,noopTest:{exec:function(){}},merge:function(e){let t,n,i=1;for(;i<arguments.length;i++)for(n in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},splitCells:function(e,t){const n=e.replace(/\|/g,(e,t,n)=>{let i=!1,r=t;for(;--r>=0&&"\\"===n[r];)i=!i;return i?"|":" |"}).split(/ \|/);let i=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n},rtrim:y,findClosingBracket:function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let i=0,r=0;for(;r<n;r++)if("\\"===e[r])r++;else if(e[r]===t[0])i++;else if(e[r]===t[1]&&(i--,i<0))return r;return-1},checkSanitizeDeprecation:function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}}},function(e,t,n){const i=n(620),r=n(621),o=n(622),s=n(623),{defaults:a}=n(616),{merge:l,unescape:c}=n(618);e.exports=class e{constructor(e){this.tokens=[],this.token=null,this.options=e||a,this.options.renderer=this.options.renderer||new i,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new r}static parse(t,n){return new e(n).parse(t)}parse(e){this.inline=new o(e.links,this.options),this.inlineText=new o(e.links,l({},this.options,{renderer:new s})),this.tokens=e.reverse();let t="";for(;this.next();)t+=this.tok();return t}next(){return this.token=this.tokens.pop(),this.token}peek(){return this.tokens[this.tokens.length-1]||0}parseText(){let e=this.token.text;for(;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)}tok(){let e="";switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,c(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":{let t,n,i,r,o="";for(i="",t=0;t<this.token.header.length;t++)i+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(o+=this.renderer.tablerow(i),t=0;t<this.token.cells.length;t++){for(n=this.token.cells[t],i="",r=0;r<n.length;r++)i+=this.renderer.tablecell(this.inline.output(n[r]),{header:!1,align:this.token.align[r]});e+=this.renderer.tablerow(i)}return this.renderer.table(o,e)}case"blockquote_start":for(e="";"blockquote_end"!==this.next().type;)e+=this.tok();return this.renderer.blockquote(e);case"list_start":{e="";const t=this.token.ordered,n=this.token.start;for(;"list_end"!==this.next().type;)e+=this.tok();return this.renderer.list(e,t,n)}case"list_item_start":{e="";const t=this.token.loose,n=this.token.checked,i=this.token.task;if(this.token.task)if(t)if("text"===this.peek().type){const e=this.peek();e.text=this.renderer.checkbox(n)+" "+e.text}else this.tokens.push({type:"text",text:this.renderer.checkbox(n)});else e+=this.renderer.checkbox(n);for(;"list_item_end"!==this.next().type;)e+=t||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(e,i,n)}case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:{const e='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(e);console.log(e)}}}}},function(e,t,n){const{defaults:i}=n(616),{cleanUrl:r,escape:o}=n(618);e.exports=class{constructor(e){this.options=e||i}code(e,t,n){const i=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,i);null!=t&&t!==e&&(n=!0,e=t)}return i?'<pre><code class="'+this.options.langPrefix+o(i,!0)+'">'+(n?e:o(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:o(e,!0))+"</code></pre>"}blockquote(e){return"<blockquote>\n"+e+"</blockquote>\n"}html(e){return e}heading(e,t,n,i){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+i.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+i+">\n"}listitem(e){return"<li>"+e+"</li>\n"}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+"</p>\n"}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return"<tr>\n"+e+"</tr>\n"}tablecell(e,t){const n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,n){if(null===(e=r(this.options.sanitize,this.options.baseUrl,e)))return n;let i='<a href="'+o(e)+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>",i}image(e,t,n){if(null===(e=r(this.options.sanitize,this.options.baseUrl,e)))return n;let i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+=this.options.xhtml?"/>":">",i}text(e){return e}}},function(e,t){e.exports=class{constructor(){this.seen={}}slug(e){let t=e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){const e=t;do{this.seen[e]++,t=e+"-"+this.seen[e]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t}}},function(e,t,n){const i=n(620),{defaults:r}=n(616),{inline:o}=n(617),{findClosingBracket:s,escape:a}=n(618);e.exports=class e{constructor(e,t){if(this.options=t||r,this.links=e,this.rules=o.normal,this.options.renderer=this.options.renderer||new i,this.renderer=this.options.renderer,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=o.pedantic:this.options.gfm&&(this.options.breaks?this.rules=o.breaks:this.rules=o.gfm)}static get rules(){return o}static output(t,n,i){return new e(n,i).output(t)}output(t){let n,i,r,o,l,c,d="";for(;t;)if(l=this.rules.escape.exec(t))t=t.substring(l[0].length),d+=a(l[1]);else if(l=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(l[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(l[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(l[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(l[0])&&(this.inRawBlock=!1),t=t.substring(l[0].length),d+=this.renderer.html(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(l[0]):a(l[0]):l[0]);else if(l=this.rules.link.exec(t)){const i=s(l[2],"()");if(i>-1){const e=(0===l[0].indexOf("!")?5:4)+l[1].length+i;l[2]=l[2].substring(0,i),l[0]=l[0].substring(0,e).trim(),l[3]=""}t=t.substring(l[0].length),this.inLink=!0,r=l[2],this.options.pedantic?(n=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r),n?(r=n[1],o=n[3]):o=""):o=l[3]?l[3].slice(1,-1):"",r=r.trim().replace(/^<([\s\S]*)>$/,"$1"),d+=this.outputLink(l,{href:e.escapes(r),title:e.escapes(o)}),this.inLink=!1}else if((l=this.rules.reflink.exec(t))||(l=this.rules.nolink.exec(t))){if(t=t.substring(l[0].length),n=(l[2]||l[1]).replace(/\s+/g," "),n=this.links[n.toLowerCase()],!n||!n.href){d+=l[0].charAt(0),t=l[0].substring(1)+t;continue}this.inLink=!0,d+=this.outputLink(l,n),this.inLink=!1}else if(l=this.rules.strong.exec(t))t=t.substring(l[0].length),d+=this.renderer.strong(this.output(l[4]||l[3]||l[2]||l[1]));else if(l=this.rules.em.exec(t))t=t.substring(l[0].length),d+=this.renderer.em(this.output(l[6]||l[5]||l[4]||l[3]||l[2]||l[1]));else if(l=this.rules.code.exec(t))t=t.substring(l[0].length),d+=this.renderer.codespan(a(l[2].trim(),!0));else if(l=this.rules.br.exec(t))t=t.substring(l[0].length),d+=this.renderer.br();else if(l=this.rules.del.exec(t))t=t.substring(l[0].length),d+=this.renderer.del(this.output(l[1]));else if(l=this.rules.autolink.exec(t))t=t.substring(l[0].length),"@"===l[2]?(i=a(this.mangle(l[1])),r="mailto:"+i):(i=a(l[1]),r=i),d+=this.renderer.link(r,null,i);else if(this.inLink||!(l=this.rules.url.exec(t))){if(l=this.rules.text.exec(t))t=t.substring(l[0].length),this.inRawBlock?d+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(l[0]):a(l[0]):l[0]):d+=this.renderer.text(a(this.smartypants(l[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else{if("@"===l[2])i=a(l[0]),r="mailto:"+i;else{do{c=l[0],l[0]=this.rules._backpedal.exec(l[0])[0]}while(c!==l[0]);i=a(l[0]),r="www."===l[1]?"http://"+i:i}t=t.substring(l[0].length),d+=this.renderer.link(r,null,i)}return d}static escapes(t){return t?t.replace(e.rules._escapes,"$1"):t}outputLink(e,t){const n=t.href,i=t.title?a(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,i,this.output(e[1])):this.renderer.image(n,i,a(e[1]))}smartypants(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e}mangle(e){if(!this.options.mangle)return e;const t=e.length;let n,i="",r=0;for(;r<t;r++)n=e.charCodeAt(r),Math.random()>.5&&(n="x"+n.toString(16)),i+="&#"+n+";";return i}}},function(e,t){e.exports=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}},function(e,t){e.exports=Prism},function(e,t,n){"use strict";n.r(t),n.d(t,"parseAppLink",(function(){return p})),n.d(t,"parseRGBA",(function(){return b})),n.d(t,"parseHSLA",(function(){return y}));var i=n(96),r=n(40);const o=/\/organization\/([\da-f]{24})\/(projects|styleguides)?/i,s=/\/(styleguide|project)\/([\da-f]{24})/i,a=/\/(dashboard|screen|styleguide)/,l=/\/(about|colors|textStyles|spacing|components)/i,c=/\/screen\/([\da-f]{24})(?:\/version\/([\da-f]{24}))?/i;function d(e){return e===i.default.PROJECT?"dashboard":"about"}function u(e){return e===i.default.PROJECT?"colors":"about"}function h(e){const[t,n="project",r]=e.match(s)||[];if(!r)return null;const o=e.substring(t.length),[,h=d(n)]=o.match(a)||[],p={url:{pid:r,stid:r,bid:r}};if(n===i.default.STYLEGUIDE||"styleguide"===h){const[,e=u(n)]=o.match(l)||[];p.urlSlug=`${function(e){return e===i.default.PROJECT?"project-styleguide":"styleguide"}(n)}-${e.toLowerCase()}`}else if("screen"===h){const[,e,t]=o.match(c)||[];p.urlSlug=t?"project-screen-version":"project-screen",Object.assign(p.url,{sid:e,vid:t})}else p.urlSlug="project-dashboard";return p}function p(e){const t=e.origin===location.origin;return e.protocol===r.ZPL_PROTOCOL?function(e){const t={};if(e.pathname.startsWith("//projects")){const n=e.searchParams.getAll("pid");t.urlSlug="projects",t.query={pid:n}}else if(e.pathname.startsWith("//styleguides")){const n=e.searchParams.getAll("stid");t.urlSlug="styleguides",t.query={stid:n}}else{const n=e.searchParams.get("pid"),i=e.searchParams.get("stid");if(!n&&!i)return null;if(t.url={pid:n,bid:n||i},e.pathname.startsWith("//screen")){const n=e.searchParams.get("sid"),i=e.searchParams.get("vid");t.urlSlug=i?"project-screen-version":"project-screen",t.url.sid=n,t.url.vid=i}else if(e.pathname.startsWith("//dot")){const n=e.searchParams.get("sid"),i=e.searchParams.getAll("did"),r=e.searchParams.getAll("cmid");t.urlSlug="project-screen",t.url.sid=n,t.query={did:i,cmid:r}}else if(e.pathname.startsWith("//styleguide")){const n=e.searchParams.getAll("cid"),r=e.searchParams.getAll("tsid"),o=e.searchParams.getAll("sptid"),s=e.searchParams.getAll("coid");t.urlSlug=i?"styleguide":"project-styleguide",t.query={cid:n,tsid:r,sptid:o,coid:s}}else if(e.pathname.startsWith("//colors")){const n=e.searchParams.getAll("cid");t.urlSlug=i?"styleguide-colors":"project-styleguide-colors",t.query={cid:n}}else if(e.pathname.startsWith("//textStyles")){const n=e.searchParams.getAll("tsid");t.urlSlug=i?"styleguide-textstyles":"project-styleguide-textstyles",t.query={tsid:n}}else if(e.pathname.startsWith("//spacing")){const n=e.searchParams.getAll("sptid");t.urlSlug=i?"styleguide-spacing":"project-styleguide-spacing",t.query={sptid:n}}else if(e.pathname.startsWith("//components")){const n=e.searchParams.getAll("coid");t.urlSlug=i?"styleguide-components":"project-styleguide-components",t.query={coid:n}}else{const n=e.searchParams.getAll("sid"),i=e.searchParams.getAll("seid");t.urlSlug="project-dashboard",t.query={sid:n,seid:i}}}return t}(e):t?function(e){const t={};if(e.pathname.startsWith("/organization")){const[,n,i="projects"]=e.pathname.match(o)||[],r=e.searchParams.getAll("pid"),s=e.searchParams.getAll("stid");t.urlSlug="organization-"+i,t.url={oid:n},t.query={pid:r,stid:s}}else if(e.pathname.startsWith("/projects")){const n=e.searchParams.getAll("pid");t.urlSlug="projects",t.query={pid:n}}else if(e.pathname.startsWith("/styleguides")){const n=e.searchParams.getAll("stid");t.urlSlug="styleguides",t.query={stid:n}}else{const n=h(e.pathname);if(!n)return null;switch(Object.assign(t,n),t.urlSlug){case"project-screen":{const n=e.searchParams.getAll("did"),i=e.searchParams.getAll("cmid");t.query={did:n,cmid:i};break}case"project-styleguide-colors":case"styleguide-colors":{const n=e.searchParams.getAll("cid");t.query={cid:n};break}case"project-styleguide-textstyles":case"styleguide-textstyles":{const n=e.searchParams.getAll("tsid");t.query={tsid:n};break}case"project-styleguide-spacing":case"styleguide-spacing":{const n=e.searchParams.getAll("sptid");t.query={sptid:n};break}case"project-styleguide-components":case"styleguide-components":{const n=e.searchParams.getAll("coid"),i=e.searchParams.getAll("seid");t.query={coid:n,seid:i};break}case"project-dashboard":{const n=e.searchParams.getAll("sid"),i=e.searchParams.getAll("seid");t.query={sid:n,seid:i}}}}return t}(e):null}function f(e){const t=parseFloat(e);return e.endsWith("%")?Math.round(255*t/100):t}function g(e){return parseFloat(e)/100}function m(e){const t=parseFloat(e);return e.endsWith("%")?t/100:t}function b(e,t,n,i="1"){return{r:f(e),g:f(t),b:f(n),a:m(i)}}function y(e,t,n,i="1"){return{h:(r=e,parseFloat(r)/360),s:g(t),l:g(n),a:m(i)};var r}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(628);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(582),a=n(629),l=n(24),c=n(11);n(634);class d extends i.Component{componentDidUpdate(){this.componentRefs.userProfileCardPopover.positionPopover()}render(){const{targetNode:e,user:t,tags:n,openToLeft:r,class:o,toastContainer:d,originParent:u}=this.props;return i.h(s.default,{ref:Object(l.default)(this,"userProfileCardPopover","componentRefs"),targetNode:e,content:i.h(a.default,{user:t,tags:n,toastContainer:d}),contentClass:Object(c.default)("userProfileCardPopoverContent",o),originParent:u,left:19,topOffset:58,bottomOffset:6,offsetX:6,openToLeft:r,open:!0,centerY:!0,stickToEdge:!0,showAnchor:!0,centerAnchorVerticaly:!0})}}d.propTypes={targetNode:o.a.object.isRequired,user:o.a.object.isRequired,tags:o.a.array,openToLeft:o.a.bool,class:o.a.string,toastContainer:o.a.object.isRequired,originParent:o.a.object},d.defaultProps={openToLeft:!0},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(513),a=n(9),l=n(630),c=n(228),d=n(56),u=n(44),h=n(11);n(633);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends i.Component{constructor(...e){super(...e),p(this,"handleEmailCopy",()=>{const{user:{email:e},toastContainer:t}=this.props;Object(d.copyContent)({content:e,toastContainer:t})}),p(this,"renderTags",()=>{if(!this.hasTags)return null;const{tags:e}=this.props;return i.h("div",{class:"userProfileCardTagsContainer"},e.map(e=>i.h("div",{key:e,class:"userProfileCardTag"},e)))})}get actionButtonText(){const{user:e}=this.props,{fullName:t,bio:n}=e;let i="Add";return t||(i+=" full name",n||(i+=" and")),n||(i+=" bio"),i}get hasTags(){const{tags:e}=this.props;return Boolean(e&&e.length)}render(){const{user:e}=this.props,{src:t,srcset:n}=Object(d.getUserAvatar)(e,{size:64}),{_id:r,username:o,email:p,fullName:f,bio:g}=e,m=Boolean(g),b=!(f&&g||r!==Zeplin.user._id);return i.h("div",{class:Object(h.default)("userProfileCard",{hasBio:m,hasTags:this.hasTags,footerVisible:b})},i.h("div",{class:"userProfileCardHeader"},i.h(s.default,{class:"userProfileCardAvatar",width:64,height:64,src:t,srcset:n}),i.h("div",{class:"userProfileCardNamesAndEmail"},Boolean(f)&&i.h("div",{class:"userProfileCardFullName ellipsis",title:f},f),i.h("div",{class:"userProfileCardUsername ellipsis",title:o},"@",o),i.h("div",{class:"userProfileCardEmail",title:p},i.h("span",{class:"ellipsis"},p),i.h(l.default,{targetClass:"userProfileCardCopyEmailButtonContainer",content:"Copy email address"},i.h(a.default,{onClick:this.handleEmailCopy},i.h(c.IconCopy,null)))))),(m||this.hasTags)&&i.h("div",{class:"userProfileCardBody"},m&&i.h("p",{class:"userProfileCardBio"},g),this.renderTags()),b&&i.h("div",{class:"userProfileCardFooter"},i.h("a",{target:"_blank",rel:"noopener",href:Object(u.urlResolve)("profile-account"),class:"userProfileCardActionButton button ninja"},this.actionButtonText)))}}f.propTypes={user:o.a.object.isRequired,tags:o.a.array,toastContainer:o.a.object.isRequired},t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(631);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(62),a=n(293),l=n(24);n(632);class c extends i.Component{constructor(e){super(e),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleTargetClick=this.handleTargetClick.bind(this),this.handleTooltipDidRender=this.handleTooltipDidRender.bind(this),this.state={visible:!1}}get delay(){const{delay:e}=this.props;return void 0===e?500:e}handleMouseEnter(){clearTimeout(this.hideTimeout),clearTimeout(this.showTimeout),this.state.visible||(this.showTimeout=setTimeout(()=>{this.setState({visible:!0})},this.delay))}handleMouseLeave(){clearTimeout(this.hideTimeout),clearTimeout(this.showTimeout),this.hideTimeout=setTimeout(()=>{this.setState({visible:!1})},200)}handleTargetClick(){this.setState({visible:!1})}handleTooltipDidRender(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect();let i=t.bottom-2,r=t.left+(t.width-n.width)/2;r<12?r=12:r+n.width+12>window.innerWidth&&(r=window.innerWidth-12-n.width),i+n.height+12>window.innerHeight&&(i=i-n.height-12),e.style.transform=`translate3d(${r}px, ${i}px, 0)`}renderTooltip(){const{content:e}=this.props;return i.h("div",{class:"tooltip",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:s.stopPropagation},e)}render(){const{children:e,targetClass:t}=this.props,{visible:n}=this.state;return i.h("div",{ref:Object(l.default)(this,"target"),class:t,onClick:this.handleTargetClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.toChildArray(e),n&&i.h(a.default,{didRender:this.handleTooltipDidRender},this.renderTooltip()))}}c.propTypes={children:o.a.oneOfType([o.a.array,o.a.node,o.a.element,o.a.object]),content:o.a.oneOfType([o.a.node,o.a.element]).isRequired,delay:o.a.number,targetClass:o.a.string},c.defaultProps={delay:500},t.default=c},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(636);n.d(t,"ScreenActions",(function(){return i.default}));var r=n(102);n.d(t,"ScreenActionTypes",(function(){return r.default}));var o=n(637);n.d(t,"ScreenDispatcher",(function(){return o.default}));var s=n(638);n.d(t,"ScreenHelpers",(function(){return s.default}));var a=n(639);n.d(t,"ScreenStore",(function(){return a.default}));var l=n(642);n.d(t,"DotsStore",(function(){return l.default}));var c=n(640);n.d(t,"TABS",(function(){return c.default}));n(644)},function(e,t,n){"use strict";n.r(t);var i=n(344),r=n(99),o=n(127),s=n(102),a=n(637),l=n(638),c=n(639),d=n(642),u=n(114),h=n(19),p=n(140);function f(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function g(e={}){if(!e.pid){const{barrelId:t}=r.default.getState();e.pid=t}if(!e.sid){const{screenId:t}=c.default.getState();e.sid=t}if(!e.vid){const{versionId:t}=c.default.getState();e.vid=t}if(!e.did){const{dotId:t}=d.default.getState();e.did=t}return e}const m={async openScreen(e,t,n,i){const o=l.default.getScreen({sid:e}),{barrelId:c}=r.default.getState(),d=await p.barrelPrefs.get(c,e,"versionsLastSeen"),u={type:s.default.OPEN_SCREEN,barrelId:c,screenId:e,dotId:n,commentId:i,versionsLastSeen:d};if(o){const{versions:[n={}]}=o;let i,r;t?(i=l.default.getVersion({sid:e,vid:t}),r=t,Object.assign(u,{versionsVisible:!0,hasNewVersions:!1,showVersionsTutorial:!1})):(i=n,r=i._id);const s=n._id===r,a=l.default.getVisibleScreens();if(!a)return;const c=!a.some(t=>t._id===e);Object.assign(u,{versionId:r,latestVersionSelected:s,loadingSnapshot:!i||!("layers"in i.snapshot),loadingVersions:!o.totalVersionCount,shouldResetDashboardFilters:c})}a.default.dispatch(u)},selectLayer(e){a.default.dispatch({type:s.default.SELECT_LAYER,layer:e})},deselectLayer(){a.default.dispatch({type:s.default.DESELECT_LAYER})},enterLayer(e,t){a.default.dispatch({type:s.default.ENTER_LAYER,layer:e,percentageMode:t})},leaveLayer(){a.default.dispatch({type:s.default.LEAVE_LAYER})},enablePercentageMode(){a.default.dispatch({type:s.default.ENABLE_PERCENTAGE_MODE})},disablePercentageMode(){a.default.dispatch({type:s.default.DISABLE_PERCENTAGE_MODE})},copyCode({code:e,toastContainer:t,platform:n,extensionFunction:i,extensionId:r}){a.default.dispatch({type:s.default.COPY_CODE,code:e,toastContainer:t,platform:n,extensionFunction:i,extensionId:r})},addScreen(e){const{pid:t,seid:n,index:i,screen:r,syncWithApi:o=!1}=g(e);a.default.dispatch({type:s.default.ADD_SCREEN,pid:t,seid:n,index:i,screen:r,syncWithApi:o})},updateDescription(e){const{pid:t,sid:n,description:i,syncWithApi:r=!1}=g(e);let o;r&&({description:o}=l.default.getScreen({sid:n})),a.default.dispatch({type:s.default.UPDATE_DESCRIPTION,pid:t,sid:n,description:i,oldDescription:o,syncWithApi:r})},updateName(e){const{pid:t,sid:n,name:i,onError:r,syncWithApi:o=!1}=g(e);let c;o&&({name:c}=l.default.getScreen({sid:n})),a.default.dispatch({type:s.default.UPDATE_NAME,pid:t,sid:n,name:i,oldName:c,onError:r,syncWithApi:o})},removeScreen(e){const{pid:t,uid:n,sid:r,syncWithApi:o=!1}=g(e),{screenId:d}=c.default.getState(),u=r===d;let h,p,f,m;if((o||u)&&(h=l.default.getScreen({bid:t,sid:r})),o){const e=l.default.getSectionOfScreen({bid:t,sid:r});p=e._id,f=e.screens.indexOf(r)}if(n){m=i.default.getBarrel({bid:t}).findUser(n)}a.default.dispatch({type:s.default.REMOVE_SCREEN,pid:t,seid:p,index:f,sid:r,removedScreen:h,removingCurrentScreen:u,user:m,syncWithApi:o})},openTagManager(e){a.default.dispatch({type:s.default.OPEN_TAG_MANAGER,sid:e})},closeTagManager(){a.default.dispatch({type:s.default.CLOSE_TAG_MANAGER})},updateTags(e){const{pid:t,updates:n,syncWithApi:i=!1}=g(e);a.default.dispatch({type:s.default.UPDATE_TAGS,pid:t,updates:n,syncWithApi:i})},removeTag(e){const{pid:t,tag:n,syncWithApi:r=!1}=g(e),{screens:o}=i.default.getBarrel({bid:t}),s=o.filter(({tags:e})=>e&&e.includes(n)).map(({_id:e})=>({_id:e,operation:"remove",tags:[n]}));this.updateTags({pid:t,updates:s,syncWithApi:r})},openSourceFile(e){a.default.dispatch({type:s.default.OPEN_SOURCE_FILE,path:e})},openSourceFolder(e){a.default.dispatch({type:s.default.OPEN_SOURCE_FOLDER,path:e})},setDots(e){const{pid:t,sid:n,dots:i}=g(e);i.forEach(e=>{e.status=e.status||"open"});let{statusFilter:r,colorFilter:o,dotId:l,highlightedDots:c}=d.default.getState();if(l){const e=i.find(e=>e._id===l);e?[r,o]=[e.status,null]:l=null}else if(c.length>1){const e=i.some(e=>"open"===e.status&&c.includes(e._id));e&&"open"!==r?[r,o]=["open",null]:e||"resolved"===r||([r,o]=["resolved",null])}a.default.dispatch({type:s.default.SET_DOTS,pid:t,sid:n,dots:i,dotId:l,colorFilter:o,statusFilter:r})},selectDot(e,t){const{dotId:n}=d.default.getState();n!==e&&a.default.dispatch({type:s.default.SELECT_DOT,dotId:e,commentId:t})},highlightDots(e){a.default.dispatch({type:s.default.HIGHLIGHT_DOTS,dids:e})},unhighlightDot({did:e}){a.default.dispatch({type:s.default.UNHIGHLIGHT_DOT,did:e})},closeDotPopup(){a.default.dispatch({type:s.default.CLOSE_DOT_POPUP})},changeDotFilter(e,t){const n=i.default.findUser();let{dotId:r}=d.default.getState();if(r){const i=l.default.getDot({did:r});Object(u.checkFilter)(i,e,t,n.user)||(r=null)}a.default.dispatch({type:s.default.CHANGE_DOT_FILTER,dotId:r,status:e,color:t})},dotsFlashed(){a.default.dispatch({type:s.default.DOTS_FLASHED})},openPopout(e){const{pid:t,sid:n,vid:i}=g(e),{name:r}=l.default.getScreen({bid:t,sid:n}),{snapshot:{width:o,height:c,url:d}}=l.default.getVersion({bid:t,sid:n,vid:i});a.default.dispatch({type:s.default.OPEN_POPOUT,pid:t,name:r,width:o,height:c,url:d})},changeZoomLevel(e,t){a.default.dispatch({type:s.default.CHANGE_ZOOM_LEVEL,zoomLevel:e,animateZooming:t})},zoomIn(){a.default.dispatch({type:s.default.ZOOM_IN})},zoomOut(){a.default.dispatch({type:s.default.ZOOM_OUT})},resetZoom(){a.default.dispatch({type:s.default.RESET_ZOOM})},zoomApplied(){a.default.dispatch({type:s.default.ZOOM_APPLIED})},startGesture(){a.default.dispatch({type:s.default.START_GESTURE})},zoomWithGesture(e){a.default.dispatch({type:s.default.ZOOM_WITH_GESTURE,scale:e})},zoomWithWheel(e){a.default.dispatch({type:s.default.ZOOM_WITH_WHEEL,deltaY:e})},toggleLayoutGrid(){a.default.dispatch({type:s.default.TOGGLE_LAYOUT_GRID})},enableNoteMode({flash:e=!0}={}){a.default.dispatch({type:s.default.ENABLE_NOTE_MODE,flash:e})},disableNoteMode(){a.default.dispatch({type:s.default.DISABLE_NOTE_MODE})},createNote(e){const{pid:t,sid:n,x:i,y:r}=g(e),{dots:o}=l.default.getScreen(),{lastNoteColorUsed:c}=d.default.getState(),p={_id:"newDot"+Object(h.getRandomString)(),name:o&&o.length?String(parseInt(o[o.length-1].name,10)+1):"1",x:i,y:r,color:Object(u.getColorValueByName)(c),comments:[]};a.default.dispatch({type:s.default.CREATE_NOTE,pid:t,sid:n,dot:p})},addDot(e){const{pid:t,sid:n,uid:i,dot:r,syncWithApi:l=!1}=g(e);let c,d;i&&({userId:c,username:d}=o.default.getState()),a.default.dispatch({type:s.default.ADD_DOT,pid:t,sid:n,uid:i,userId:c,username:d,dot:r,syncWithApi:l})},updateDot(e){const{pid:t,sid:n,did:i,dotData:r,syncWithApi:o=!1}=g(e);let c;if(o){let e;var d=l.default.getDot({pid:t,sid:n,did:i})||{};({_id:e}=d),c=f(d,["_id"])}a.default.dispatch({type:s.default.UPDATE_DOT,pid:t,sid:n,did:i,dotData:r,oldDotData:c,syncWithApi:o})},updateDotColor(e){const{pid:t,sid:n,did:i,color:r,syncWithApi:o=!1}=g(e);let c;if(o){var d=(l.default.getDot({pid:t,sid:n,did:i})||{}).color;({}=d),c=Object.assign({},d)}a.default.dispatch({type:s.default.UPDATE_DOT_COLOR,pid:t,sid:n,did:i,color:r,oldColor:c,syncWithApi:o})},updateDotPosition(e){const{pid:t,sid:n,did:i,x:r,y:o,syncWithApi:c=!1}=g(e);let d,u;c&&({x:d,y:u}=l.default.getDot({pid:t,sid:n,did:i})||{}),a.default.dispatch({type:s.default.UPDATE_DOT_POSITION,pid:t,sid:n,did:i,x:r,y:o,oldX:d,oldY:u,syncWithApi:c})},updateDotStatus(e){const{pid:t,sid:n,did:i,status:r,syncWithApi:o=!1}=g(e);let c;o&&({status:c}=l.default.getDot({pid:t,sid:n,did:i})||{}),a.default.dispatch({type:s.default.UPDATE_DOT_STATUS,pid:t,sid:n,did:i,status:r,oldStatus:c,syncWithApi:o})},removeDot(e){const{pid:t,sid:n,did:i,syncWithApi:r=!1}=g(e);let o;r&&(o=l.default.getDot({pid:t,sid:n,did:i})),a.default.dispatch({type:s.default.REMOVE_DOT,pid:t,sid:n,did:i,removedDot:o,syncWithApi:r})},createComment(e){const{pid:t,sid:n,did:r,note:o,hasReaction:l,syncWithApi:c=!1}=g(e),d="newComment"+Object(h.getRandomString)(),{user:{_id:u,email:p,username:f,emotar:m,avatar:b}}=i.default.findUser(),y=Date.now(),S={_id:d,author:{_id:u,email:p,username:f,emotar:m,avatar:b},note:o,created:y,updated:y};a.default.dispatch({type:s.default.CREATE_COMMENT,pid:t,sid:n,did:r,comment:S,hasReaction:l,syncWithApi:c})},addComment(e){const{pid:t,sid:n,uid:i,did:r,comment:l}=g(e);let c,d;i&&({userId:c,username:d}=o.default.getState()),a.default.dispatch({type:s.default.ADD_COMMENT,pid:t,sid:n,uid:i,userId:c,username:d,did:r,comment:l})},updateComment(e){const{pid:t,sid:n,uid:r,did:c,cmid:d,commentData:u,syncWithApi:h=!1}=g(e);let p,m,b,y;if(h){let e;var S=l.default.getComment({pid:t,sid:n,did:c,cmid:d})||{};({_id:e}=S),p=f(S,["_id"])}r&&(({userId:m,username:b}=o.default.getState()),({user:y}=i.default.findUser({bid:t,uid:r})||{})),a.default.dispatch({type:s.default.UPDATE_COMMENT,pid:t,sid:n,uid:r,author:y,userId:m,username:b,did:c,cmid:d,commentData:u,oldCommentData:p,syncWithApi:h})},removeComment(e){const{pid:t,sid:n,did:i,cmid:r,syncWithApi:o=!1}=g(e);let c;o&&(c=l.default.getComment({pid:t,sid:n,did:i,cmid:r})),a.default.dispatch({type:s.default.REMOVE_COMMENT,pid:t,sid:n,did:i,cmid:r,removedComment:c,syncWithApi:o})},openDotMenu(){a.default.dispatch({type:s.default.OPEN_DOT_MENU})},showNotes(){a.default.dispatch({type:s.default.SHOW_NOTES})},hideNotes(){a.default.dispatch({type:s.default.HIDE_NOTES})},showFlowLinks(){a.default.dispatch({type:s.default.SHOW_FLOW_LINKS})},hideFlowLinks(){a.default.dispatch({type:s.default.HIDE_FLOW_LINKS})},changeSidebarTab(e){a.default.dispatch({type:s.default.CHANGE_SIDEBAR_TAB,selectedSidebarTab:e})},changeScreenSidebarWidth(e){a.default.dispatch({type:s.default.CHANGE_SCREEN_SIDEBAR_WIDTH,screenSidebarWidth:e})},getVersions(){const{screenId:e}=c.default.getState();a.default.dispatch({type:s.default.GET_VERSIONS,screenId:e})},setVersions(e){const{pid:t,sid:n,versions:i,totalVersionCount:r,allowedVersionCount:o}=g(e);i.forEach(e=>{e.commit=e.commit||{message:"",color:Object(u.getColorValueByName)("yellow"),author:e.creator}});let{versionId:l}=c.default.getState();i.some(({_id:e})=>e===l)||(l=i[0]._id),a.default.dispatch({type:s.default.SET_VERSIONS,pid:t,sid:n,versions:i,totalVersionCount:r,allowedVersionCount:o,versionId:l})},setVersionId(e){const{barrelId:t}=r.default.getState(),{screenId:n}=c.default.getState(),{versions:[{_id:i}]=[{}]}=l.default.getScreen()||{};let o=e;o||(o=i);const d=o===i;a.default.dispatch({type:s.default.SET_VERSION_ID,barrelId:t,screenId:n,versionId:o,latestVersionSelected:d})},setSnapshot(e){const{pid:t,sid:n,vid:i,snapshot:r}=g(e);a.default.dispatch({type:s.default.SET_SNAPSHOT,pid:t,sid:n,vid:i,snapshot:r})},showVersions(){const{totalVersionCount:e}=l.default.getScreen(),t=!e;a.default.dispatch({type:s.default.SHOW_VERSIONS,loadingVersions:t})},hideVersions(){a.default.dispatch({type:s.default.HIDE_VERSIONS})},toggleVersions(){const{totalVersionCount:e}=l.default.getScreen(),t=!e;a.default.dispatch({type:s.default.TOGGLE_VERSIONS,loadingVersions:t})},enableVersionsCompactMode(){a.default.dispatch({type:s.default.ENABLE_VERSIONS_COMPACT_MODE})},disableVersionsCompactMode(){a.default.dispatch({type:s.default.DISABLE_VERSIONS_COMPACT_MODE})},showVersionsAuntie(){a.default.dispatch({type:s.default.SHOW_VERSIONS_AUNTIE})},hideVersionsAuntie(){a.default.dispatch({type:s.default.HIDE_VERSIONS_AUNTIE})},newVersionsFound(){a.default.dispatch({type:s.default.NEW_VERSIONS_FOUND})},changeVersionsSidebarWidth(e){a.default.dispatch({type:s.default.CHANGE_VERSIONS_SIDEBAR_WIDTH,versionsSidebarWidth:e})},addVersion(e){const{pid:t,sid:n,version:r,syncWithApi:o=!1}=g(e);r.commit=r.commit||{message:"",color:Object(u.getColorValueByName)("yellow"),author:r.creator};if(!i.default.getBarrel({bid:t}).complete)return;let d;const{versions:h,allowedVersionCount:p}=l.default.getScreen({bid:t,sid:n});h.length>p&&(d=h[h.length-1]);let{versionId:f,latestVersionSelected:m,versionsLastSeen:b,versionsVisible:y}=c.default.getState();(m||d&&d._id===f)&&(m=!0,f=r._id);const S=Boolean(h.filter(({created:e})=>new Date(e)>b).length)&&!y;a.default.dispatch({type:s.default.ADD_VERSION,pid:t,sid:n,version:r,poppedVersion:d,syncWithApi:o,versionId:f,latestVersionSelected:m,hasNewVersions:S})},updateCommitColor(e){const{pid:t,sid:n,vid:i,color:r,syncWithApi:o=!1}=g(e);let c;if(o){var d=l.default.getVersion({sid:n,vid:i}).commit.color;({}=d),c=Object.assign({},d)}a.default.dispatch({type:s.default.UPDATE_COMMIT_COLOR,pid:t,sid:n,vid:i,color:r,oldColor:c,syncWithApi:o})},updateCommitMessage(e){const{pid:t,sid:n,vid:i,message:r,syncWithApi:o=!1}=g(e);let c;if(o){c=l.default.getVersion({sid:n,vid:i}).commit.message}a.default.dispatch({type:s.default.UPDATE_COMMIT_MESSAGE,pid:t,sid:n,vid:i,message:r,oldMessage:c,syncWithApi:o})},removeVersion(e){const{pid:t,sid:n,vid:i,syncWithApi:r=!1}=g(e);let o;r&&(o=l.default.getVersion({sid:n,vid:i}));let{versionId:d}=c.default.getState();const u=i===d;u&&({versions:[{_id:d}]}=l.default.getScreen({sid:n})),a.default.dispatch({type:s.default.REMOVE_VERSION,pid:t,sid:n,vid:i,removedVersion:o,removingCurrentVersion:u,syncWithApi:r,versionId:d})},setSourceFile({versionId:e,sourceFile:t}){a.default.dispatch({type:s.default.SET_SOURCE_FILE,versionId:e,sourceFile:t})}};t.default=m},function(e,t,n){"use strict";n.r(t);var i=n(84);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(99),r=n(344),o=n(356),s=n(639),a=n(642),l=n(643),c=n(44),d=n(353);function u({bid:e,sid:t}={}){const n=r.default.getBarrel({bid:e});if(!n||!n.screens)return null;let i=t;return i||({screenId:i}=s.default.getState()),i?n.screens.find(e=>e._id===i):null}function h(){const e=r.default.getBarrel();if(!e||!e.screens)return null;const{filterValue:t,sortType:n,tagFilter:i,jiraIssueFilter:s}=o.default.getState(),{sortedSections:a}=Object(l.filterSortScreens)(e,n,{filterValue:t,tagFilter:i,jiraIssueFilter:s});return a.flatMap(e=>e.screens)}function p({bid:e,sid:t,did:n}={}){const i=u({bid:e,sid:t});if(!i||!i.dots)return null;let r=n;return r||({dotId:r}=a.default.getState()),r?i.dots.find(e=>e._id===r):null}t.default={getScreen:u,getVersion:function({bid:e,sid:t,vid:n}={}){const i=u({bid:e,sid:t});if(!i||!i.versions)return null;let r=n;return r||({versionId:r}=s.default.getState()),r?i.versions.find(e=>e._id===r):null},getVisibleScreens:h,getPreviousScreen:function(e){const t=h();if(!t)return null;const n=t.findIndex(t=>t._id===e);return n<1?null:t[n-1]},getNextScreen:function(e){const t=h();if(!t)return null;const n=t.findIndex(t=>t._id===e);return-1===n||n===t.length-1?null:t[n+1]},getSectionOfScreen:function({bid:e,sid:t}={}){const n=r.default.getBarrel({bid:e});if(!n||!n.sections)return null;let i=t;return i||({screenId:i}=s.default.getState()),i?n.sections.find(e=>e.screens.includes(i)):null},getDot:p,getComment:function({bid:e,sid:t,did:n,cmid:i}={}){const r=p({bid:e,sid:t,did:n});return r&&r.comments?r.comments.find(e=>e._id===i):null},navigateToScreen:function(e){const{barrelId:t}=i.default.getState();d.default.history.push(Object(c.urlResolve)("project-screen",{url:{pid:t,sid:e}}))}}},function(e,t,n){"use strict";n.r(t);var i=n(73),r=n.n(i),o=n(91),s=n(92),a=n(102),l=n(637),c=n(640),d=n(641),u=n(64);function h(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=new Date(0);class b extends r.a{constructor(){super(l.default)}getInitialState(){return{loadingSnapshot:!0,screenId:null,percentageMode:!1,selectedLayer:null,destinationLayer:null,notesVisible:!0,noteMode:!1,tagManagerScreenId:null,layoutGridEnabled:!1,zoomLevel:1,zoomLevelAtGestureStart:null,animateZooming:!1,flowLinksVisible:!1,screenSidebarWidth:260,selectedSidebarTab:c.default[0].id,sourceFiles:{},loadingVersions:!0,versionId:null,latestVersionSelected:!1,versionsVisible:!1,versionsCompactMode:Object(u.isMobileViewport)(),hasNewVersions:!1,showVersionsTutorial:!1,showVersionsAuntie:!1,versionsLastSeen:m,versionsSidebarWidth:280}}reset(){return this.getInitialState()}load(e={}){return f(f({},this.getInitialState()),e)}openScreen(e,t){let{shouldResetDashboardFilters:n,barrelId:i,dotId:r,commentId:o}=t,s=h(t,["shouldResetDashboardFilters","barrelId","dotId","commentId"]);return f(f(f({},e),s),{},{selectedLayer:null,destinationLayer:null,noteMode:!1})}closeScreen(e){return f(f({},e),{},{loadingSnapshot:!0,screenId:null,percentageMode:!1,selectedLayer:null,destinationLayer:null,noteMode:!1,tagManagerScreenId:null,layoutGridEnabled:!1,zoomLevelAtGestureStart:null,animateZooming:!1,flowLinksVisible:!1,selectedSidebarTab:c.default[0].id,loadingVersions:!0,versionId:null,latestVersionSelected:!1,versionsVisible:!1,versionsCompactMode:!1,hasNewVersions:!1,showVersionsAuntie:!1,versionsLastSeen:m})}changeZoomLevel(e,t,n=!1){const i=Math.max(d.ZOOM_LEVEL_MIN,Math.min(t,d.ZOOM_LEVEL_MAX));return f(f({},e),{},{zoomLevel:i,animateZooming:n})}zoomIn(e){const t=d.default.find(t=>t>e.zoomLevel)||d.ZOOM_LEVEL_MAX;return this.changeZoomLevel(e,t,!0)}zoomOut(e){const t=[...d.default].reverse().find(t=>t<e.zoomLevel)||d.ZOOM_LEVEL_MIN;return this.changeZoomLevel(e,t,!0)}resetZoom(e){return this.changeZoomLevel(e,d.ZOOM_LEVEL_DEFAULT,!0)}zoomApplied(e){return e.animateZooming?f(f({},e),{},{animateZooming:!1}):e}startGesture(e){return f(f({},e),{},{zoomLevelAtGestureStart:e.zoomLevel})}zoomWithGesture(e,t){return this.changeZoomLevel(e,e.zoomLevelAtGestureStart*t)}zoomWithWheel(e,t){return this.changeZoomLevel(e,e.zoomLevel-t/100)}openTagManager(e,t){return f(f({},e),{},{tagManagerScreenId:t})}closeTagManager(e){return f(f({},e),{},{tagManagerScreenId:null})}toggleLayoutGrid(e){return f(f({},e),{},{layoutGridEnabled:!e.layoutGridEnabled})}enableNoteMode(e){return f(f({},e),{},{notesVisible:!0,noteMode:!0})}disableNoteMode(e){return f(f({},e),{},{noteMode:!1})}showNotes(e){return f(f({},e),{},{notesVisible:!0,noteMode:!1})}hideNotes(e){return f(f({},e),{},{notesVisible:!1,noteMode:!1})}selectLayer(e,t){return f(f({},e),{},{selectedLayer:t,destinationLayer:t})}deselectLayer(e){return f(f({},e),{},{selectedLayer:null,destinationLayer:null})}enterLayer(e,t){return e.selectedLayer?f(f({},e),{},{destinationLayer:t}):e}leaveLayer(e){return e.selectedLayer?f(f({},e),{},{destinationLayer:null}):e}enablePercentageMode(e){return f(f({},e),{},{percentageMode:!0})}disablePercentageMode(e){return f(f({},e),{},{percentageMode:!1})}showFlowLinks(e){return f(f({},e),{},{flowLinksVisible:!0})}hideFlowLinks(e){return f(f({},e),{},{flowLinksVisible:!1})}changeSidebarTab(e,t){return f(f({},e),{},{selectedSidebarTab:t})}changeScreenSidebarWidth(e,t){return f(f({},e),{},{screenSidebarWidth:t})}setSnapshot(e,{sid:t}){return t!==e.screenId?e:f(f({},e),{},{loadingSnapshot:!1})}setVersionId(e,{versionId:t,latestVersionSelected:n}){return f(f({},e),{},{versionId:t,latestVersionSelected:n,selectedLayer:null,destinationLayer:null})}setVersions(e,{sid:t,versionId:n}){return t!==e.screenId?e:f(f({},e),{},{versionId:n,loadingVersions:!1})}addVersion(e,{sid:t,versionId:n,latestVersionSelected:i,hasNewVersions:r}){return t!==e.screenId?e:f(f({},e),{},{versionId:n,latestVersionSelected:i,hasNewVersions:r})}showVersions(e,{loadingVersions:t}){return f(f({},e),{},{loadingVersions:t,versionsVisible:!0,hasNewVersions:!1,showVersionsTutorial:!1})}hideVersions(e){return f(f({},e),{},{versionsVisible:!1,versionsCompactMode:!1})}toggleVersions(e,t){return e.versionsVisible?this.hideVersions(e):this.showVersions(e,t)}enableVersionsCompactMode(e){return f(f({},e),{},{versionsCompactMode:!0})}disableVersionsCompactMode(e){return f(f({},e),{},{versionsCompactMode:!1})}showVersionsAuntie(e){return f(f({},e),{},{showVersionsTutorial:!1,showVersionsAuntie:!0})}hideVersionsAuntie(e){return f(f({},e),{},{showVersionsAuntie:!1})}newVersionsFound(e){return f(f({},e),{},{hasNewVersions:!0})}changeVersionsSidebarWidth(e,t){return f(f({},e),{},{versionsSidebarWidth:t})}removeVersion(e,{sid:t,versionId:n,removingCurrentVersion:i}){return t===e.screenId&&i?f(f({},e),{},{versionId:n}):e}setSourceFile(e,{versionId:t,sourceFile:n}){return f(f({},e),{},{sourceFiles:f(f({},e.sourceFiles),{},{[t]:n})})}updateForRemoveScreen(e,{removingCurrentScreen:t}){return t?this.closeScreen():e}reduce(e,t){switch(t.type){case o.default.RESET:case s.default.RESET:return this.reset();case s.default.LOAD:return this.load(t.screen);case s.default.CHANGE_SELECTED_VIEW:return"screen"===t.selectedView?e:this.closeScreen(e);case a.default.OPEN_SCREEN:return this.openScreen(e,t);case a.default.CHANGE_ZOOM_LEVEL:return this.changeZoomLevel(e,t.zoomLevel,t.animateZooming);case a.default.ZOOM_IN:return this.zoomIn(e);case a.default.ZOOM_OUT:return this.zoomOut(e);case a.default.RESET_ZOOM:return this.resetZoom(e);case a.default.START_GESTURE:return this.startGesture(e);case a.default.ZOOM_WITH_GESTURE:return this.zoomWithGesture(e,t.scale);case a.default.ZOOM_WITH_WHEEL:return this.zoomWithWheel(e,t.deltaY);case a.default.ZOOM_APPLIED:return this.zoomApplied(e);case a.default.OPEN_TAG_MANAGER:return this.openTagManager(e,t.sid);case a.default.CLOSE_TAG_MANAGER:return this.closeTagManager(e);case a.default.TOGGLE_LAYOUT_GRID:return this.toggleLayoutGrid(e);case a.default.ENABLE_NOTE_MODE:return this.enableNoteMode(e);case a.default.DISABLE_NOTE_MODE:return this.disableNoteMode(e);case a.default.SHOW_NOTES:case a.default.SELECT_DOT:case a.default.CREATE_NOTE:return this.showNotes(e);case a.default.HIDE_NOTES:return this.hideNotes(e);case a.default.SELECT_LAYER:return this.selectLayer(e,t.layer);case a.default.DESELECT_LAYER:return this.deselectLayer(e);case a.default.ENTER_LAYER:return this.enterLayer(e,t.layer,t.percentageMode);case a.default.LEAVE_LAYER:return this.leaveLayer(e);case a.default.ENABLE_PERCENTAGE_MODE:return this.enablePercentageMode(e);case a.default.DISABLE_PERCENTAGE_MODE:return this.disablePercentageMode(e);case a.default.SHOW_FLOW_LINKS:return this.showFlowLinks(e);case a.default.HIDE_FLOW_LINKS:return this.hideFlowLinks(e);case a.default.CHANGE_SIDEBAR_TAB:return this.changeSidebarTab(e,t.selectedSidebarTab);case a.default.CHANGE_SCREEN_SIDEBAR_WIDTH:return this.changeScreenSidebarWidth(e,t.screenSidebarWidth);case a.default.SET_SNAPSHOT:return this.setSnapshot(e,t);case a.default.SET_VERSION_ID:return this.setVersionId(e,t);case a.default.SET_VERSIONS:return this.setVersions(e,t);case a.default.ADD_VERSION:return this.addVersion(e,t);case a.default.SHOW_VERSIONS:return this.showVersions(e,t);case a.default.HIDE_VERSIONS:return this.hideVersions(e);case a.default.TOGGLE_VERSIONS:return this.toggleVersions(e,t);case a.default.SHOW_VERSIONS_AUNTIE:return this.showVersionsAuntie(e);case a.default.ENABLE_VERSIONS_COMPACT_MODE:return this.enableVersionsCompactMode(e);case a.default.DISABLE_VERSIONS_COMPACT_MODE:return this.disableVersionsCompactMode(e);case a.default.HIDE_VERSIONS_AUNTIE:return this.hideVersionsAuntie(e);case a.default.NEW_VERSIONS_FOUND:return this.newVersionsFound(e);case a.default.CHANGE_VERSIONS_SIDEBAR_WIDTH:return this.changeVersionsSidebarWidth(e,t.versionsSidebarWidth);case a.default.REMOVE_VERSION:return this.removeVersion(e,t);case a.default.SET_SOURCE_FILE:return this.setSourceFile(e,t);case a.default.REMOVE_SCREEN:return this.updateForRemoveScreen(e,t);default:return e}}}t.default=new b},function(e,t,n){"use strict";n.r(t);t.default=[{id:"info",title:"Information"},{id:"colors",title:"Colors"},{id:"assets",title:"Assets"},{id:"notes",title:"Notes"}]},function(e,t,n){"use strict";n.r(t),n.d(t,"ZOOM_LEVEL_DEFAULT",(function(){return r})),n.d(t,"ZOOM_LEVEL_MIN",(function(){return o})),n.d(t,"ZOOM_LEVEL_MAX",(function(){return s}));const i=Object.freeze([.25,.5,.75,1,1.5,2,2.5,3,4,5]),r=1,o=i[0],s=i[i.length-1];t.default=i},function(e,t,n){"use strict";n.r(t);var i=n(73),r=n.n(i),o=n(637),s=n(102),a=n(342);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends r.a{constructor(){super(o.default)}getInitialState(){return{loadingDots:!0,statusFilter:"open",colorFilter:null,lastNoteColorUsed:"yellow",flash:!1,dotId:null,highlightedDots:[],highlightedComments:[]}}reset(){return this.getInitialState()}load(e={}){return c(c({},this.getInitialState()),e)}setDots(e,t,n,i){return c(c({},e),{},{loadingDots:!1,dotId:t,statusFilter:n,colorFilter:i})}createNote(e,t){return c(c({},e),{},{dotId:t,statusFilter:"open",colorFilter:null})}updateDot(e,t,n){return e.dotId!==t&&t===n?e:c(c({},e),{},{dotId:n})}updateDotStatus(e,t,n){return e.dotId!==t||e.statusFilter===n?e:c(c({},e),{},{dotId:null})}removeDot(e,t){return e.dotId!==t?e:c(c({},e),{},{dotId:null})}changeDotFilter(e,t,n,i){return c(c({},e),{},{colorFilter:n,statusFilter:t,dotId:i})}flash(e,t){return c(c({},e),{},{flash:t})}dotsFlashed(e){return c(c({},e),{},{flash:!1})}selectDot(e,t,n){return e.dotId===t?e:c(c({},e),{},{dotId:t,highlightedComments:n,highlightedDots:e.highlightedDots.filter(e=>e!==t)})}deselectDot(e){return c(c({},e),{},{dotId:null})}highlightDots(e,t){return c(c({},e),{},{highlightedDots:[].concat(t).filter(Boolean)})}unhighlightDot(e,t){return c(c({},e),{},{highlightedDots:e.highlightedDots.filter(e=>e!==t)})}reduce(e,t){switch(t.type){case a.BarrelActionTypes.CHANGE_SELECTED_VIEW:case a.BarrelActionTypes.RESET:return this.reset();case a.BarrelActionTypes.LOAD:return this.load(t.dots);case s.default.SET_DOTS:return this.setDots(e,t.dotId,t.statusFilter,t.colorFilter);case s.default.CREATE_NOTE:return this.createNote(e,t.dot._id);case s.default.UPDATE_DOT:return this.updateDot(e,t.did,t.dotData._id);case s.default.UPDATE_DOT_STATUS:return this.updateDotStatus(e,t.did,t.status);case s.default.REMOVE_DOT:return this.removeDot(e,t.did);case s.default.CHANGE_DOT_FILTER:return this.changeDotFilter(e,t.status,t.color,t.dotId);case s.default.ENABLE_NOTE_MODE:return this.flash(e,t.flash);case s.default.DOTS_FLASHED:return this.dotsFlashed(e);case s.default.OPEN_SCREEN:case s.default.SELECT_DOT:return this.selectDot(e,t.dotId,t.commentId);case s.default.SELECT_LAYER:case s.default.CLOSE_DOT_POPUP:case s.default.OPEN_DOT_MENU:case s.default.DESELECT_LAYER:return this.deselectDot(e);case s.default.HIGHLIGHT_DOTS:return this.highlightDots(e,t.dids);case s.default.UNHIGHLIGHT_DOT:return this.unhighlightDot(e,t.did);default:return e}}}t.default=new u},function(e,t,n){"use strict";n.r(t),n.d(t,"createItemSectionMap",(function(){return b})),n.d(t,"filterSortScreens",(function(){return S})),n.d(t,"filterSortProjectSections",(function(){return y}));var i=n(62),r=n(143),o=n(115),s=n(19),a=n(94);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n){return{_id:e,[n]:t,type:"default",name:"default"}}function h(e,t,n){const o={};return e.filter(e=>{const i=n&&n(e),s=Object(r.calculateMatchingScore)(t,e.name,i);return o[e._id]=s,s}).sort((e,t)=>{const n=o[t._id]-o[e._id];return n||i.sortBy.name(e,t)})}function p({sections:e,items:t,itemKey:n,sortType:r,shouldCreateTimelineSections:o=!0}){if(!i.sortBy[r])return m(e,t,n);const a=t.slice(0).sort(i.sortBy[r]);return!o||"created"!==r&&"lastUpdated"!==r?[u("sorted",a,n)]:function(e,t){const n=[],r={};return e.forEach(e=>{const t=Object(i.getTimeSlot)(new Date(e.updated));let o;t in r?o=r[t]:(n.push(t),o=[],r[t]=o),o.push(e)},{}),n.map(e=>({_id:e,name:Object(s.uppercaseFirst)(e),actionsDisabled:!0,[t]:r[e],type:"timeline"}))}(a,n)}function f(e,t){if(!function(e){return e.tags.length||e.untagged}(t))return e;let n;var i;return t.tags.length?(i=t.tags,n=Array.isArray(i)?e=>i.reduce((t,n)=>t&&e.tags&&e.tags.includes(n),!0):e=>e.tags&&e.tags.includes(i)):t.untagged&&(n=e=>!e.tags||!e.tags.length),e.map(e=>Object.assign(e,{screens:e.screens.filter(n)})).filter(e=>e.screens.length)}function g(e,t){const{jira:n}=e.integration||{};if(!t||!t.length||!n)return{filteredSections:e.sections,filteredScreens:e.screens};const i=n.attachments.filter(e=>t.some(t=>t.toLowerCase()===e.issueKey.toLowerCase())),r=i.filter(e=>"section"===e.type),o=i.filter(e=>"screen"===e.type),s=b(e.sections,"screens"),a=e.screens.map(e=>c(c({},e),{},{sectionId:s[e._id]})).filter(e=>o.find(t=>t.itemId===e._id)||r.find(t=>t.itemId===e.sectionId));return{filteredSections:e.sections.filter(e=>a.find(t=>t.sectionId===e._id)||!Object.values(s).includes(e._id)&&r.find(t=>t.itemId===e._id)).map(e=>c(c({},e),{},{screens:a.filter(t=>t.sectionId===e._id).map(e=>e._id)})),filteredScreens:a}}function m(e,t,n){return e&&e.length?e.map(e=>{let i=c({},e);return i[n]=e[n].map(e=>t.find(t=>t._id===e)).filter(Boolean),e.type||(i.type="user"),i}):[]}function b(e,t){return e.reduce((e,n)=>(n[t].forEach(t=>{e[t]=n._id}),e),{})}function y({sections:e,projects:t,sortType:n,filterValue:r,statusFilter:o,showArchivedProjects:s,shouldCreateTimelineSections:l}){const d=s?t:t.filter(e=>"archived"!==e.status);if(r)return function(e,t,n){const r=b(e,"projects");let o=h(t,n,e=>Object(i.getPlatformString)(e.type)).reduce((e,t)=>{const n=r[t._id];return e[n]?e[n].push(t._id):e[n]=[t._id],e},{}),s=h(e,n);return m(e.map(e=>o[e._id]?c(c({},e),{},{projects:o[e._id],collapsed:!0}):s.find(t=>t._id===e._id)).filter(Boolean),t,"projects")}(e,d,r);const{filteredSections:u,filteredProjects:f}=function(e,t,n){if(!n||n===a.default.All._id)return{filteredSections:e,filteredProjects:t};const i=b(e,"projects"),r=t.filter(({workflowStatus:{_id:e}})=>e===n),o=r.reduce((e,t)=>{const n=i[t._id];return e[n]?e[n].push(t._id):e[n]=[t._id],e},{});return{filteredSections:e.map(e=>o[e._id]?c(c({},e),{},{projects:o[e._id],collapsed:!0}):null).filter(Boolean),filteredProjects:r}}(e,d,o);return p({sections:u,items:f,itemKey:"projects",sortType:n,shouldCreateTimelineSections:l})}function S(e,t,{filterValue:n,tagFilter:i,jiraIssueFilter:r}){let s,a;if(n)return s=function(e,t){const n=h(e.screens,t),{jira:i}=e.integration||{};if(i){const{filteredScreens:i}=g(e,[t]);n.push(...i.filter(e=>!n.some(t=>t._id===e._id)))}return n.length>0?[u("filtered",n,"screens")]:[]}(e,n.toLowerCase()),{sortedSections:s,visibleTags:e.tags};const{filteredSections:l,filteredScreens:c}=g(e,r);return s=f(p({sections:l,items:c,itemKey:"screens",sortType:t}),i),s.length&&e.sections[0]._id===s[0]._id&&(s[0].type="default"),a=Object(o.extractTagsFromScreens)(c),{sortedSections:s,visibleTags:a}}},function(e,t,n){"use strict";n.r(t);n(645),n(653),n(655),n(656),n(657)},function(e,t,n){"use strict";n.r(t);var i=n(102),r=n(636),o=n(637),s=n(137),a=n(45),l=n(646),c=n(342),d=n(638),u=n(140),h=n(114);const p={handleUpdateDescription({pid:e,sid:t,description:n,oldDescription:i}){s.updateScreen(e,t,{description:n}).catch(n=>{Object(a.handleError)(n),r.default.updateDescription({pid:e,sid:t,description:i})})},handleUpdateName({pid:e,sid:t,name:n,oldName:i,onError:o}){s.updateScreen(e,t,{name:n}).catch(n=>{r.default.updateName({pid:e,sid:t,name:i}),Object(a.handleError)(n,{dialogCallback:o})})},handleRemoveScreen:({pid:e,seid:t,index:n,sid:i,removedScreen:o})=>s.deleteScreen(e,i).catch(i=>{Object(a.handleError)(i),r.default.addScreen({pid:e,seid:t,index:n,screen:o})}),handleUpdateTags({pid:e,updates:t}){s.updateScreensTags(e,t).then(()=>{const{tagFilter:{tags:e,untagged:t},highlightedScreens:n}=l.DashboardStore.getState();if(t||!e.length)return;const{tags:i}=c.BarrelHelpers.getBarrel(),r=[...new Set(n.map(e=>d.default.getScreen({sid:e})).reduce((e,{tags:t=[]})=>e.concat(t),[]))],o=e.filter(e=>i.includes(e)&&(!n.length||r.includes(e)));o.length!==e.length&&l.DashboardActions.changeTagFilter({tags:o,untagged:t})}).catch(n=>{Object(a.handleError)(n);const i=t.map(({_id:e,operation:t,tags:n})=>({_id:e,tags:n,operation:"add"===t?"remove":"add"}));r.default.updateTags({pid:e,updates:i})})},handleUpdateCommitColor({pid:e,sid:t,vid:n,color:i,oldColor:o}){s.updateCommitColor(e,t,n,i).catch(i=>{Object(a.handleError)(i),r.default.updateCommitColor({pid:e,sid:t,vid:n,color:o})})},handleUpdateCommitMessage({pid:e,sid:t,vid:n,message:i,oldMessage:o}){s.updateCommitMessage(e,t,n,i).catch(i=>{Object(a.handleError)(i),r.default.updateCommitMessage({pid:e,sid:t,vid:n,message:o})})},handleRemoveVersion({pid:e,sid:t,vid:n,removedVersion:i}){s.deleteVersion(e,t,n).then(()=>{r.default.getVersions()}).catch(n=>{Object(a.handleError)(n),r.default.addVersion({pid:e,sid:t,version:i})})},handleAddDot({pid:e,sid:t,dot:n}){const{_id:i,x:o,y:l,color:c,comments:d}=n;s.createDot(e,t,{x:o,y:l,color:c,comments:d}).then(n=>{const o=Object(h.getColorName)(c);u.barrelPrefs.set(e,"lastNoteColorUsed",o),r.default.updateDot({pid:e,sid:t,did:i,dotData:n}),mixpanel.webapp.track("Created dot")}).catch(n=>{Object(a.handleError)(n),r.default.removeDot({pid:e,sid:t,did:i})})},handleUpdateDotColor({pid:e,sid:t,did:n,color:i,oldColor:o}){s.updateDot(e,t,n,{color:i}).then(()=>{const t=Object(h.getColorName)(i);u.barrelPrefs.set(e,"lastNoteColorUsed",t),mixpanel.webapp.track("Changed dot color")}).catch(i=>{Object(a.handleError)(i),r.default.updateDotColor({pid:e,sid:t,did:n,color:o})})},handleUpdateDotPosition({pid:e,sid:t,did:n,x:i,y:o,oldX:l,oldY:c}){s.updateDot(e,t,n,{x:i,y:o}).catch(i=>{Object(a.handleError)(i),r.default.updateDotPosition({pid:e,sid:t,did:n,x:l,y:c})})},handleUpdateDotStatus({pid:e,sid:t,did:n,status:i,oldStatus:o}){s.updateDot(e,t,n,{status:i}).then(()=>{mixpanel.webapp.track(`Re${"open"===i?"open":"solv"}ed dot`)}).catch(i=>{Object(a.handleError)(i),r.default.updateDotStatus({pid:e,sid:t,did:n,status:o})})},handleRemoveDot({pid:e,sid:t,did:n,removedDot:i}){s.deleteDot(e,t,n).then(()=>{mixpanel.webapp.track("Deleted dot")}).catch(n=>{Object(a.handleError)(n),r.default.addDot({pid:e,sid:t,dot:i})})},handleCreateComment({pid:e,sid:t,did:n,hasReaction:i,comment:o}){const{_id:l,note:c}=o;s.createDotComment(e,t,n,c).then(o=>{r.default.updateComment({pid:e,sid:t,did:n,cmid:l,commentData:o}),i?mixpanel.webapp.track("Created comment with reaction",{reaction:c}):mixpanel.webapp.track("Created comment")}).catch(i=>{Object(a.handleError)(i),r.default.removeComment({pid:e,sid:t,did:n,cmid:l})})},handleUpdateComment({pid:e,sid:t,did:n,cmid:i,commentData:o,oldCommentData:l}){const{note:c}=o,{note:d}=l;c!==d&&s.updateDotCommentNote(e,t,n,i,c).then(()=>{mixpanel.webapp.track("Edited comment")}).catch(o=>{Object(a.handleError)(o),r.default.updateComment({pid:e,sid:t,did:n,cmid:i,commentData:l})})},handleRemoveComment({pid:e,sid:t,did:n,cmid:i,removedComment:o}){s.deleteComment(e,t,n,i).then(()=>{mixpanel.webapp.track("Deleted comment")}).catch(i=>{Object(a.handleError)(i),r.default.addComment({pid:e,sid:t,did:n,comment:o})})}};o.default.register(e=>{if(e.syncWithApi)switch(e.type){case i.default.UPDATE_DESCRIPTION:p.handleUpdateDescription(e);break;case i.default.UPDATE_NAME:p.handleUpdateName(e);break;case i.default.REMOVE_SCREEN:p.handleRemoveScreen(e);break;case i.default.UPDATE_TAGS:p.handleUpdateTags(e);break;case i.default.UPDATE_COMMIT_COLOR:p.handleUpdateCommitColor(e);break;case i.default.UPDATE_COMMIT_MESSAGE:p.handleUpdateCommitMessage(e);break;case i.default.REMOVE_VERSION:p.handleRemoveVersion(e);break;case i.default.ADD_DOT:p.handleAddDot(e);break;case i.default.UPDATE_DOT_COLOR:p.handleUpdateDotColor(e);break;case i.default.UPDATE_DOT_POSITION:p.handleUpdateDotPosition(e);break;case i.default.UPDATE_DOT_STATUS:p.handleUpdateDotStatus(e);break;case i.default.REMOVE_DOT:p.handleRemoveDot(e);break;case i.default.CREATE_COMMENT:p.handleCreateComment(e);break;case i.default.UPDATE_COMMENT:p.handleUpdateComment(e);break;case i.default.REMOVE_COMMENT:p.handleRemoveComment(e)}})},function(e,t,n){"use strict";n.r(t);var i=n(647);n.d(t,"DashboardActions",(function(){return i.default}));var r=n(119);n.d(t,"DashboardActionTypes",(function(){return r.default}));var o=n(357);n.d(t,"DashboardDispatcher",(function(){return o.default}));var s=n(356);n.d(t,"DashboardStore",(function(){return s.default}));n(648)},function(e,t,n){"use strict";n.r(t);var i=n(99),r=n(344),o=n(357),s=n(119),a=n(638),l=n(19);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){if(!e.pid){const{barrelId:t}=i.default.getState();e.pid=t}return e}const p={changeSortType(e){o.default.dispatch({type:s.default.CHANGE_SORT_TYPE,sortType:e})},changeFilterValue(e){o.default.dispatch({type:s.default.CHANGE_FILTER_VALUE,filterValue:e})},toggleFixedThumbnailSize(){o.default.dispatch({type:s.default.TOGGLE_FIXED_THUMBNAIL_SIZE})},changeSidebarWidth(e){o.default.dispatch({type:s.default.CHANGE_SIDEBAR_WIDTH,sidebarWidth:e})},changeTagFilter(e){o.default.dispatch({type:s.default.CHANGE_TAG_FILTER,tagFilter:e})},changeJiraIssueFilter(e){o.default.dispatch({type:s.default.CHANGE_JIRA_ISSUE_FILTER,jiraIssueFilter:e})},setCollapsedSections(e){o.default.dispatch({type:s.default.SET_COLLAPSED_SECTIONS,collapsedSections:e})},expandSection(e){o.default.dispatch({type:s.default.EXPAND_SECTION,seid:e})},collapseSection(e){o.default.dispatch({type:s.default.COLLAPSE_SECTION,seid:e})},downloadScreens(e,t){o.default.dispatch({type:s.default.DOWNLOAD_SCREENS,screens:e,fileName:t})},downloadScreen(e){const t=a.default.getScreen({sid:e});p.downloadScreens([t],t.name)},downloadScreensOfTag(e){const{screens:t}=r.default.getBarrel(),n=t.filter(t=>t.tags&&t.tags.includes(e));p.downloadScreens(n,e+".zip")},highlightScreens(e){o.default.dispatch({type:s.default.HIGHLIGHT_SCREENS,sids:e})},unhighlightScreen(e){o.default.dispatch({type:s.default.UNHIGHLIGHT_SCREEN,sid:e})},downloadScreensOfSection(e){const{sections:t,screens:n}=r.default.getBarrel(),i=t.find(t=>t._id===e),o=i.screens.map(e=>n.find(t=>t._id===e));p.downloadScreens(o,i.name+".zip")},highlightSection(e){o.default.dispatch({type:s.default.HIGHLIGHT_SECTION,seid:e})},unhighlightSection(){o.default.dispatch({type:s.default.UNHIGHLIGHT_SECTION})},splitSection(e){const{sections:t}=r.default.getBarrel(),n=t.find(t=>t.screens.includes(e)),i=n.screens.indexOf(e),o=t.findIndex(e=>e._id===n._id),s=n.screens.slice(i),a={_id:"newSectionFromSplit"+Object(l.getRandomString)(),name:"Untitled section",screens:s};this.addSection({section:a,index:o+1})},addSection(e){const{pid:t,section:n,index:i,syncWithApi:r=!1}=h(e);o.default.dispatch({type:s.default.ADD_SECTION,pid:t,section:n,index:i,syncWithApi:r})},createSection(e){const{pid:t,seid:n,name:i}=h(e),{sections:a}=r.default.getBarrel(),l=a.findIndex(e=>e._id===n),c=d(d({},a[l]),{},{name:i});o.default.dispatch({type:s.default.CREATE_SECTION,pid:t,section:c,index:l,syncWithApi:!0})},convertTagToSection(e){const{pid:t,tag:n}=h(e),{screens:i,sections:[a]}=r.default.getBarrel(),c=i.filter(e=>e.tags&&e.tags.includes(n)).map(e=>e._id),d=[...a.screens],u={_id:"newSectionFromTag"+Object(l.getRandomString)(),name:n,screens:c};o.default.dispatch({type:s.default.CONVERT_TAG_TO_SECTION,pid:t,section:u,index:1,defaultSectionId:a._id,oldDefaultSectionScreens:d,syncWithApi:!0})},updateSection(e){const{pid:t,seid:n,sectionData:i,highlight:r=!1}=h(e);o.default.dispatch({type:s.default.UPDATE_SECTION,pid:t,seid:n,sectionData:i,highlight:r})},renameSection(e){const{pid:t,seid:n,name:i,onError:a,syncWithApi:l=!1}=h(e);let c;if(l){const{sections:e}=r.default.getBarrel();({name:c="Untitled section"}=e.find(e=>e._id===n)||{})}o.default.dispatch({type:s.default.RENAME_SECTION,pid:t,seid:n,name:i,oldName:c,onError:a,syncWithApi:l})},updateSectionDescription(e){const{pid:t,seid:n,description:i,onError:a,syncWithApi:l=!1}=h(e);let c;if(l){const{sections:e}=r.default.getBarrel();({description:c=""}=e.find(e=>e._id===n)||{})}o.default.dispatch({type:s.default.UPDATE_SECTION_DESCRIPTION,pid:t,seid:n,description:i,oldDescription:c,onError:a,syncWithApi:l})},updateSectionOrder(e){const{pid:t,seid:n,index:i,syncWithApi:a=!1}=h(e);let l;if(a){const{sections:e}=r.default.getBarrel();l=e.findIndex(e=>e._id===n)}o.default.dispatch({type:s.default.UPDATE_SECTION_ORDER,pid:t,seid:n,index:i,oldIndex:l,syncWithApi:a})},removeSection(e){const{pid:t,seid:n,syncWithApi:i=!1}=h(e);let a,l;if(i){const{sections:e}=r.default.getBarrel({bid:t});a=e.findIndex(e=>e._id===n),l=e[a]}o.default.dispatch({type:s.default.REMOVE_SECTION,pid:t,seid:n,index:a,removedSection:l,syncWithApi:i})},updateScreenOrder(e){const{pid:t,screens:n,targetSectionId:i,targetIndex:a,syncWithApi:l=!1}=h(e),c=r.default.getBarrel({bid:t});if(!c.complete)return;const{sections:d}=c;let u;l&&(u=n.map(e=>{const{_id:t,screens:n}=d.find(t=>t.screens.includes(e));return{sourceSectionId:t,sourceIndex:n.findIndex(t=>t===e)}}));let p=a;if(void 0===a){const{screens:{length:e}}=d.find(e=>e._id===i);p=e}o.default.dispatch({type:s.default.UPDATE_SCREEN_ORDER,pid:t,screens:n,targetSectionId:i,targetIndex:p,oldIndices:u,syncWithApi:l})}};t.default=p},function(e,t,n){"use strict";n.r(t);n(649),n(650),n(651)},function(e,t,n){"use strict";n.r(t);var i=n(99),r=n(119),o=n(357),s=n(44),a=n(361);const l={changeURL(e){const{barrelId:t,selectedView:n}=i.default.getState();if("dashboard"!==n)return;const{tags:r,untagged:o}=e,a=o?{untagged:"true"}:{tag:r};history.replaceState({},"",Object(s.urlResolve)("project-dashboard",{url:{pid:t},query:a}))},downloadScreens(e,t){Object(a.downloadScreens)(e,t)}};o.default.register(e=>{switch(e.type){case r.default.CHANGE_TAG_FILTER:l.changeURL(e.tagFilter);break;case r.default.DOWNLOAD_SCREENS:l.downloadScreens(e.screens,e.fileName)}})},function(e,t,n){"use strict";n.r(t);var i=n(140),r=n(99),o=n(119),s=n(357),a=n(356);const l={saveFixedThumbnailSize(){const{barrelId:e}=r.default.getState(),{fixedThumbnailSize:t}=a.default.getState();i.barrelPrefs.set(e,"fixedThumbnailSize",t)},saveSidebarWidth(e){const{barrelId:t}=r.default.getState();i.barrelPrefs.set(t,"dashboardSidebarWidth",e)},toggleSectionState(e,{shouldCollapse:t}){const{barrelId:n}=r.default.getState();i.barrelPrefs.get(n,"collapsedSections").then(r=>{r[e]=t,i.barrelPrefs.set(n,"collapsedSections",r)})}};s.default.register(e=>{switch(e.type){case o.default.TOGGLE_FIXED_THUMBNAIL_SIZE:l.saveFixedThumbnailSize();break;case o.default.CHANGE_SIDEBAR_WIDTH:l.saveSidebarWidth(e.sidebarWidth);break;case o.default.EXPAND_SECTION:l.toggleSectionState(e.seid,{shouldCollapse:!1});break;case o.default.COLLAPSE_SECTION:l.toggleSectionState(e.seid,{shouldCollapse:!0})}})},function(e,t,n){"use strict";n.r(t);var i=n(119),r=n(647),o=n(357),s=n(636),a=n(137),l=n(45),c=n(652);const d={handleCreateSection({pid:e,section:t,index:n}){const{_id:i,name:o,screens:s}=t;a.createSection(e,{name:o,screens:s,index:n}).then(t=>{r.default.updateSection({pid:e,seid:i,sectionData:t})}).catch(t=>{Object(l.handleError)(t),r.default.removeSection({pid:e,seid:i})})},handleConvertTagToSection({pid:e,section:t,index:n,defaultSectionId:i,oldDefaultSectionScreens:o}){const{_id:c,name:d,screens:u}=t;a.createSection(e,{name:d,screens:u,index:n}).then(t=>{r.default.updateSection({pid:e,seid:c,sectionData:t,highlight:!0}),s.default.removeTag({pid:e,tag:d,syncWithApi:!0})}).catch(t=>{Object(l.handleError)(t),r.default.updateSection({pid:e,seid:i,sectionData:{screens:o}})})},handleRenameSection({pid:e,seid:t,name:n,oldName:i,onError:o}){a.updateSection(e,t,{name:n}).catch(n=>{r.default.renameSection({pid:e,seid:t,name:i}),Object(l.handleError)(n,{dialogCallback:o})})},handleUpdateSectionDescription({pid:e,seid:t,description:n,oldDescription:i,onError:o}){a.updateSection(e,t,{description:n}).catch(n=>{r.default.updateSectionDescription({pid:e,seid:t,description:i}),Object(l.handleError)(n,{dialogCallback:o})})},handleUpdateSectionOrder({pid:e,seid:t,index:n,oldIndex:i}){const o=[{_id:t,to:n}];a.updateSectionOrder(e,{sections:o}).catch(n=>{Object(l.handleError)(n),r.default.updateSectionOrder({pid:e,seid:t,index:i})})},handleRemoveSection({pid:e,seid:t,index:n,removedSection:i}){a.deleteSection(e,t).catch(t=>{Object(l.handleError)(t),r.default.addSection({pid:e,section:i,index:n})})},handleUpdateScreenOrder({pid:e,screens:t,targetIndex:n,targetSectionId:i,oldIndices:o}){a.updateSectionScreens(e,i,n,t).catch(n=>{Object(l.handleError)(n);for(const[i,{sourceSectionId:s,sourceIndex:a}]of Object(c.default)(t,o))r.default.updateScreenOrder({pid:e,screens:[i],targetSectionId:s,targetIndex:a})})}};o.default.register(e=>{if(e.syncWithApi)switch(e.type){case i.default.CREATE_SECTION:d.handleCreateSection(e);break;case i.default.CONVERT_TAG_TO_SECTION:d.handleConvertTagToSection(e);break;case i.default.RENAME_SECTION:d.handleRenameSection(e);break;case i.default.UPDATE_SECTION_DESCRIPTION:d.handleUpdateSectionDescription(e);break;case i.default.UPDATE_SECTION_ORDER:d.handleUpdateSectionOrder(e);break;case i.default.REMOVE_SECTION:d.handleRemoveSection(e);break;case i.default.UPDATE_SCREEN_ORDER:d.handleUpdateScreenOrder(e)}})},function(e,t,n){"use strict";n.r(t),t.default=function*(...e){const t=e.map(e=>e[Symbol.iterator]());for(;;){const e=t.map(e=>e.next());if(e.some(e=>e.done))return e.map(e=>e.value);yield e.map(e=>e.value)}}},function(e,t,n){"use strict";n.r(t);var i=n(44),r=n(654),o=n(137),s=n(45),a=n(636),l=n(102),c=n(637),d=n(638),u=n(354),h=n(99),p=n(344),f=n(642);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let b,y,S;const v={setVersionShortlink({barrelId:e,screenId:t,versionId:n}){const r=d.default.getScreen();if(!r)return;const o=n===r.versions[0]._id?Object(i.urlResolve)("project-screen",{url:{pid:e,sid:t}}):Object(i.urlResolve)("project-screen-version",{url:{pid:e,sid:t,vid:n}});setTimeout(()=>{u.default.generateShortlink(o)},4)},getSnapshot({barrelId:e,screenId:t,versionId:n}){clearTimeout(b);const i=d.default.getScreen();if(!i)return;const l=d.default.getVersion();p.default.isUserRestricted()||l&&l.snapshot&&l.snapshot.layers?setTimeout(()=>{const i=l&&l.snapshot||{};a.default.setSnapshot({pid:e,sid:t,vid:n,snapshot:i})},4):b=setTimeout(()=>{o.getSnapshot(e,t,n).then(e=>{const t=Object(r.createArtboardLayer)(i.name,e);return e.layers.unshift(t),Object(r.preprocessLayers)(e.layers),e}).catch(s.handleError).then((i={})=>{if(a.default.setSnapshot({pid:e,sid:t,vid:n,snapshot:i}),!i.assets)return;const o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i);requestIdleCallback(async()=>{await Promise.all(o.assets.map(n=>Object(r.addAssetStats)(e,t,o,n))),a.default.setSnapshot({pid:e,sid:t,vid:n,snapshot:o})})})},300)},getDots({barrelId:e,screenId:t,dotId:n}){clearTimeout(y);const i=d.default.getScreen();if(i)if("dots"in i){const{highlightedComments:e}=f.default.getState();n&&setTimeout(t=>{a.default.selectDot(n,e)},4)}else y=setTimeout(()=>{o.getDots(e,t).then(({dots:n=[]})=>{a.default.setDots({pid:e,sid:t,dots:n})})},300)},getVersions({screenId:e}){clearTimeout(S);const t=d.default.getScreen();if(!t)return;const{versions:n,totalVersionCount:i=1/0,allowedVersionCount:r=1/0}=t;if(!(n.length<r&&i>=r))return;const{barrelId:l}=h.default.getState();S=setTimeout(()=>{o.getVersions(l,e).then(({versions:e=[],totalVersionCount:t,allowedVersionCount:i})=>(n.forEach(t=>{if(!("layers"in t.snapshot))return;const n=e.find(e=>t._id===e._id);n&&Object.assign(n.snapshot,t.snapshot)}),{versions:e,totalVersionCount:t,allowedVersionCount:i})).catch(e=>(Object(s.handleError)(e),{versions:n,totalVersionCount:i,allowedVersionCount:r})).then(({versions:t,totalVersionCount:n,allowedVersionCount:i})=>{a.default.setVersions({pid:l,sid:e,versions:t,totalVersionCount:n,allowedVersionCount:i})})},300)}};c.default.register(e=>{switch(e.type){case l.default.OPEN_SCREEN:v.setVersionShortlink(e),v.getVersions(e),v.getSnapshot(e),v.getDots(e);break;case l.default.GET_VERSIONS:v.getVersions(e);break;case l.default.SET_VERSION_ID:v.setVersionShortlink(e),v.getSnapshot(e)}})},function(e,t,n){"use strict";n.r(t),n.d(t,"findParents",(function(){return f})),n.d(t,"addAssetStats",(function(){return g})),n.d(t,"createArtboardLayer",(function(){return m})),n.d(t,"preprocessLayers",(function(){return b})),n.d(t,"getLayerClickHandler",(function(){return y})),n.d(t,"findCoveringLink",(function(){return S}));var i=n(40),r=n(62),o=n(44),s=n(18),a=n(140),l=n(122);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){const{url:t,format:n,density:i,densityScale:o=Object(r.getDensityScale)(i)}=e;return fetch(t,{method:"HEAD"}).then(e=>({length:e.headers.get("Content-Length"),densityScale:o,format:n}))}function p(e,t,n){let i=[];for(let r=e.length-1;r>=0;r--){let o=e[r],s=o.absoluteRect.x+o.rect.width,a=o.absoluteRect.y+o.rect.height;o.absoluteRect.x<=t&&o.absoluteRect.y<=n&&s>=t&&a>=n&&("group"===o.type?("top"===o.interactionLevel&&i.push(o),i=i.concat(p(o.layers,t,n)),"bottom"===o.interactionLevel&&i.push(o)):i.push(o))}return i}function f(e,t,n){if(!t)return[e];const i={left:Math.min(e.absoluteRect.x,t.absoluteRect.x),top:Math.min(e.absoluteRect.y,t.absoluteRect.y),right:Math.max(e.absoluteRect.x+e.rect.width,t.absoluteRect.x+t.rect.width),bottom:Math.max(e.absoluteRect.y+e.rect.height,t.absoluteRect.y+t.rect.height)};let r=function e(t,n){let i=[];for(let r=0;r<t.length;r++){let o=t[r],s=o.absoluteRect.x+o.rect.width,a=o.absoluteRect.y+o.rect.height;o.absoluteRect.x<=n.left&&o.absoluteRect.y<=n.top&&s>=n.right&&a>=n.bottom&&(("group"!==o.type||["bottom","top"].includes(o.interactionLevel))&&i.push(o),"group"===o.type&&(i=i.concat(e(o.layers,n))))}return i}(n.layers,i);return e===t&&(r=r.filter(t=>!function(e,t){return e.absoluteRect.x===t.absoluteRect.x&&e.absoluteRect.y===t.absoluteRect.y&&e.rect.width===t.rect.width&&e.rect.height===t.rect.height}(t,e))),r.length?r.sort((e,t)=>e.rect.width*e.rect.height-t.rect.width*t.rect.height):[n.layers[0]]}function g(e,t,n,o){const c={},u=new Set;for(let i=0;i<o.contents.length;i++){const{format:e,density:t,densityScale:n=Object(r.getDensityScale)(t)}=o.contents[i];e in c?c[e]++:c[e]=1,u.add(n)}let p;var f;p=!("jpg"in c)||"svg"in c||"pdf"in c||c.jpg!==c.png?"svg"in c?"optimized"in(f=o.contents.find(({format:e})=>"svg"===e))?Promise.resolve():(f.optimized=d(d({},f),{},{url:`${i.IMG_URL}/svgo/${encodeURIComponent(f.url)}`}),Promise.all([f,f.optimized].map(h)).then(([{length:e},{length:t}])=>{f.optimized.percent=Math.round((e-t)/e*100)}).catch(e=>{f.optimized=null})):Promise.resolve():function(e,t){if("percent"in e)return Promise.resolve();let n=0,i=0,r=0;return Promise.all(e.contents.map(h)).then(o=>{t.forEach(e=>{const t=o.filter(t=>t.densityScale===e).reduce((e,t)=>(e[t.format]=t.length,e),{});i+=Number(t.jpg)/Number(t.png),r+=Number(t.png)/Number(t.jpg)}),i=Math.round(100-i/t.size*100),r=Math.round(100-r/t.size*100),i>=10?n={type:"jpg",diff:i}:r>=10&&(n={type:"png",diff:r}),n&&(e.percent=n)}).catch(e=>{})}(o,u);const g=o.contents.find(({density:e,densityScale:t=Object(r.getDensityScale)(e),format:n})=>t===l.DENSITY.BASE&&"png"===n);const m=!g||"lightness"in o?Promise.resolve():Object(s.getImageProperties)(g.url).then(e=>Object.assign(o,e)).catch(e=>null),b="localName"in o?Promise.resolve():function(e,t,n,i){const r=n.assets.find(e=>e._id===i);return r?"localName"in r?Promise.resolve(r.localName):a.barrelPrefs.get(e,t,"assetNames").then(e=>e&&e[i]):Promise.resolve()}(e,t,n,o._id).then(e=>{e&&Object.assign(o,{localName:e})});return Promise.all([p,m,b])}function m(e,{_id:t,width:n,height:i,backgroundColor:r}){return{_id:t,name:e,opacity:1,borderRadius:0,blendMode:"normal",rect:{x:0,y:0,width:n,height:i},type:"shape",fills:r?[{fillType:"color",color:r}]:[],borders:[],shadows:[]}}function b(e,t={x:0,y:0}){for(const n of e)n.absoluteRect={x:n.rect.x+t.x,y:n.rect.y+t.y,width:n.rect.width,height:n.rect.height},"group"===n.type&&(Array.isArray(n.layers)?b(n.layers,n.absoluteRect):n.layers=[])}function y(){let e=null,t=null;return{reset(){e=null,t=null},getLayerToSelectFromClick({ev:n,layerData:i,snapshot:{layers:o,width:s,height:a},selectedLayer:l,snapshotDetailRect:c}){let d=i;const u=(n.clientX-c.left)/c.width*s,h=(n.clientY-c.top)/c.height*a,f=p(o,u,h);if(e&&t){const n=p(o,e,t);if(Math.hypot(e-u,t-h)>40||!Object(r.arrayEqual)(f,n,(e,t)=>e._id===t._id))d=f[0];else{const e=f.findIndex(e=>e._id===l._id);d=f[(e+1)%f.length]}}else d=f[0];return e=u,t=h,d}}}function S(e,t,n){if(!n||!t.snapshot.links)return;const i=t.snapshot.links.find(e=>Object(r.rectContains)(e.rect,n.absoluteRect));if(!i)return;let s,a,l;switch(i.destination.type){case"previous":a="previous screen";break;case"screen":a=i.destination.name,s=e.findScreenByName(i.destination.name),s&&(l=Object(o.urlResolve)("project-screen",{url:{pid:e.id,sid:s._id}}));break;default:return}return{name:a,url:l}}},function(e,t,n){"use strict";n.r(t);var i=n(62),r=n(44),o=n(56),s=n(61),a=n(42),l=n(137),c=n(353),d=n(102),u=n(637),h=n(638),p=n(349);const f={copyCode({code:e,toastContainer:t,platform:n,extensionFunction:r,extensionId:s}){Object(o.copyContent)({content:e,toastContainer:t}),mixpanel.webapp.track("Copied extension snippet",{from:r,extension:s}),l.createIntercomUserTag(Object(i.getDeveloperString)(n))},notify({pid:e,sid:t,uid:n,did:s,userId:a,username:l,comment:d}){if(n===a)return;const{_id:u,note:h,author:p}=d,f=Object(i.mentionRegexFn)(l);if(!p||!f.test(h))return;const g=Object(r.urlResolve)("project-screen",{url:{pid:e,sid:t},query:{did:s,cmid:u}});Object(o.notify)({title:p.username+" mentioned you",body:h,notifier:p,handler(){c.default.history.push(g)}})},warnScreenNotFound({barrelId:e,screenId:t}){h.default.getScreen({sid:t})||(a.create({title:"Screen not available anymore.",message:"It was probably deleted, please contact the owner."}),c.default.history.replace(Object(r.urlResolve)("project-dashboard",{url:{pid:e}})))},warnScreenRemoval({pid:e,syncWithApi:t,removedScreen:n,removingCurrentScreen:i,user:o}){if(t||!i)return;const{userId:s}=p.UserStore.getState();if(s===o.user._id)return;const l=o?o.user.username:"Anonymous";a.create({title:l+" deleted this screen",message:`You won’t be able to access "${n.name}" from now on.`}),c.default.history.replace(Object(r.urlResolve)("project-dashboard",{url:{pid:e}}))},warnVersionRemoval({syncWithApi:e,removingCurrentVersion:t,poppedVersion:n}){if(e||!t&&!n)return;const i=t?"deleteScreenVersion":"createScreenVersion";Object(s.default)({text:"Displayed version is not available anymore.",container:document.querySelector("main"),source:i})},warnVersionNotFound({versionId:e}){const{versions:t,totalVersionCount:n}=h.default.getScreen(),i=t.some(({_id:t})=>t===e);n&&!i&&a.create({title:"Invalid version link",message:"It was either deleted or not accessible due to the limit, please contact the owner."})}};u.default.register(e=>{switch(e.type){case d.default.COPY_CODE:f.copyCode(e);break;case d.default.OPEN_SCREEN:f.warnScreenNotFound(e);break;case d.default.REMOVE_SCREEN:f.warnScreenRemoval(e);break;case d.default.SET_VERSION_ID:f.warnVersionNotFound(e);break;case d.default.ADD_VERSION:case d.default.REMOVE_VERSION:f.warnVersionRemoval(e);break;case d.default.ADD_DOT:{const{pid:t,sid:n,uid:i,userId:r,username:o,dot:{_id:s,comments:[a]}}=e;f.notify({pid:t,sid:n,uid:i,did:s,userId:r,username:o,comment:a});break}case d.default.ADD_COMMENT:f.notify(e);break;case d.default.UPDATE_COMMENT:{const{pid:t,sid:n,uid:i,author:r,userId:o,username:s,did:a,cmid:l,commentData:{note:c}}=e;f.notify({pid:t,sid:n,uid:i,did:a,userId:o,username:s,comment:{_id:l,note:c,author:r}});break}}})},function(e,t,n){"use strict";n.r(t);var i=n(140),r=n(102),o=n(637),s=n(638),a=n(639),l=n(99);let c,d,u,h,p;const f={saveNoteVisibility(){const{barrelId:e}=l.default.getState(),{notesVisible:t}=a.default.getState();clearTimeout(c),c=setTimeout(()=>i.barrelPrefs.set(e,"noteVisibility",t),1e3)},saveNoteFilter(e){const{barrelId:t}=l.default.getState(),{status:n,color:r}=e;clearTimeout(d),d=setTimeout(async()=>{await i.barrelPrefs.set(t,"noteStatusFilter",n),i.barrelPrefs.set(t,"noteColorFilter",r)},1e3)},saveZoomLevel(){const{barrelId:e}=l.default.getState(),{zoomLevel:t}=a.default.getState();clearTimeout(u),u=setTimeout(()=>i.barrelPrefs.set(e,"zoomLevel",t),1e3)},saveLayoutGridEnabled(){const{barrelId:e}=l.default.getState(),{layoutGridEnabled:t}=a.default.getState();clearTimeout(h),h=setTimeout(()=>i.barrelPrefs.set(e,"layoutGridEnabled",t),1e3)},saveVersionsTutorialSeen(){i.userPrefs.set("versionsTutorialSeen",!0)},saveVersionsLastSeen(){clearTimeout(p);const{screenId:e,versionsVisible:t}=a.default.getState();if(!t)return;const{barrelId:n}=l.default.getState(),{versions:[{created:r}]}=s.default.getScreen();p=setTimeout(()=>{i.barrelPrefs.set(n,e,"versionsLastSeen",new Date(r))},1e3)},saveScreenSidebarWidth(){const{barrelId:e}=l.default.getState(),{screenSidebarWidth:t}=a.default.getState();i.barrelPrefs.set(e,"screenSidebarWidth",t)},saveVersionsSidebarWidth(){const{barrelId:e}=l.default.getState(),{versionsSidebarWidth:t}=a.default.getState();i.barrelPrefs.set(e,"versionsSidebarWidth",t)}};o.default.register(e=>{switch(e.type){case r.default.SHOW_NOTES:case r.default.HIDE_NOTES:case r.default.SELECT_DOT:case r.default.CREATE_NOTE:case r.default.ENABLE_NOTE_MODE:f.saveNoteVisibility();break;case r.default.CHANGE_DOT_FILTER:f.saveNoteFilter(e);break;case r.default.ZOOM_WITH_GESTURE:case r.default.ZOOM_WITH_WHEEL:case r.default.CHANGE_ZOOM_LEVEL:case r.default.ZOOM_IN:case r.default.ZOOM_OUT:case r.default.RESET_ZOOM:f.saveZoomLevel();break;case r.default.TOGGLE_LAYOUT_GRID:f.saveLayoutGridEnabled();break;case r.default.CHANGE_SCREEN_SIDEBAR_WIDTH:f.saveScreenSidebarWidth();break;case r.default.CHANGE_VERSIONS_SIDEBAR_WIDTH:f.saveVersionsSidebarWidth(e.sidebarWidth);break;case r.default.OPEN_SCREEN:case r.default.ADD_VERSION:f.saveVersionsLastSeen();break;case r.default.SHOW_VERSIONS:case r.default.TOGGLE_VERSIONS:f.saveVersionsTutorialSeen(),f.saveVersionsLastSeen();break;case r.default.HIDE_VERSIONS_AUNTIE:f.saveVersionsTutorialSeen()}})},function(e,t,n){"use strict";n.r(t);var i=n(67),r=n(65),o=n(636),s=n(102),a=n(637);const l={querySourceFile(e){i.default.ipcRenderer.removeAllListeners(e+":sourceFile"),i.default.ipcRenderer.once(e+":sourceFile",(t,n)=>{o.default.setSourceFile({versionId:e,sourceFile:n})}),i.default.ipcRenderer.send("query-source-file",e)},openSourceFile(e){e&&i.default.ipcRenderer.send("open-item",e)},openSourceFolder(e){e&&i.default.ipcRenderer.send("show-item-in-folder",e)},openPopout({pid:e,name:t,width:n,height:r,url:o}){i.default.ipcRenderer.send("open-popout",{name:t,width:n,height:r,url:o},e)}};a.default.register(e=>{if(r.default.isWindowsApp)switch(e.type){case s.default.OPEN_SCREEN:case s.default.SET_VERSION_ID:l.querySourceFile(e.versionId);break;case s.default.OPEN_SOURCE_FILE:l.openSourceFile(e.path);break;case s.default.OPEN_SOURCE_FOLDER:l.openSourceFolder(e.path);break;case s.default.OPEN_POPOUT:l.openPopout(e)}})},function(e,t,n){"use strict";n.r(t);var i=n(659);n.d(t,"ExtensionsActions",(function(){return i.default}));var r=n(662);n.d(t,"ExtensionsStore",(function(){return r.default}));n(675)},function(e,t,n){"use strict";n.r(t);var i=n(660),r=n(661),o=n(662),s=n(99),a=n(127);function l(e={}){if(!e.bid){const{barrelId:t}=s.default.getState();e.bid=t}if(!e.barrelType){const{barrelType:t}=s.default.getState();e.barrelType=t}return e}const c={init(e){const{barrelType:t,bid:n,enabledExtensions:o}=l(e);r.default.dispatch({type:i.default.INIT,barrelType:t,bid:n,enabledExtensions:o})},loadExtensions(e){const{bid:t,extensions:n,enabledExtensions:o}=l(e);r.default.dispatch({type:i.default.LOAD_EXTENSIONS,bid:t,extensions:n,enabledExtensions:o})},updateOption(e,t,n){r.default.dispatch({type:i.default.UPDATE_OPTION,eid:e,name:t,value:n})},load(e){const{barrelType:t,bid:n,eid:o,uid:a,local:c=!1}=l(e),{barrelId:d}=s.default.getState();n===d&&r.default.dispatch({type:i.default.LOAD,barrelType:t,bid:n,eid:o,uid:a,local:c,syncWithApi:!0})},reload(){r.default.dispatch({type:i.default.RELOAD})},openSettings(e){r.default.dispatch({type:i.default.OPEN_SETTINGS,extensionId:e})},closeSettings(){r.default.dispatch({type:i.default.CLOSE_SETTINGS})},add(e){const{barrelType:t,bid:n,uid:o,extension:s,local:c=!1}=l(e),{userId:d}=a.default.getState(),u=o===d;r.default.dispatch({type:i.default.ADD,barrelType:t,bid:n,extension:s,openSettings:u,local:c})},enable(e){const{bid:t,eid:n}=l(e);r.default.dispatch({type:i.default.ENABLE,bid:t,eid:n})},disable(e){const{bid:t,eid:n}=l(e);r.default.dispatch({type:i.default.DISABLE,bid:t,eid:n})},remove(e){const{bid:t,barrelType:n,eid:a,local:c=!1,syncWithApi:d=!1}=l(e),{barrelId:u}=s.default.getState();if(t!==u)return;const{extensions:h}=o.default.getState(),p=h.find(e=>e.id===a);r.default.dispatch({type:i.default.REMOVE,bid:t,barrelType:n,eid:a,removedExtension:p,local:c,syncWithApi:d})}};t.default=c},function(e,t,n){"use strict";n.r(t);t.default={INIT:"extensions/init",LOAD_EXTENSIONS:"extensions/loadExtensions",LOAD:"extensions/load",RELOAD:"extensions/reload",OPEN_SETTINGS:"extensions/openSettings",CLOSE_SETTINGS:"extensions/closeSettings",ADD:"extensions/add",ENABLE:"extensions/enable",UPDATE_OPTION:"extensions/updateOption",DISABLE:"extensions/disable",REMOVE:"extensions/remove"}},function(e,t,n){"use strict";n.r(t);var i=n(84);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(73),r=n.n(i),o=n(92),s=n(660),a=n(661),l=n(663);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends r.a{constructor(){super(a.default)}getInitialState(){return{loading:!0,dialogOpen:!1,extensionId:null,extensions:[],enabledExtensions:[]}}reset(e){return e.extensions.forEach(e=>{e.terminate()}),this.getInitialState()}loadExtensions(e,{extensions:t,enabledExtensions:n}){return e.extensions.forEach(e=>{e.terminate()}),{loading:!1,enabledExtensions:n,extensions:t}}reload(e){const t=e.extensions.filter(e=>e.local);return t.length?(t.forEach(e=>{console.log(`Local extension "${e.name}" reloaded`),e.reload()}),d({},e)):e}openSettings(e,{extensionId:t}){return d(d({},e),{},{dialogOpen:!0,extensionId:t})}closeSettings(e){return d(d({},e),{},{dialogOpen:!1,extensionId:null})}add(e,{extension:t,local:n,openSettings:i}){const{extensions:r,enabledExtensions:o}=e,s=r.find(e=>t.id===e.id);let a=e;return i&&(a=this.openSettings(a,{extensionId:t.id})),s?(n&&s.reload(),this.enable(a,{eid:s.id})):d(d({},a),{},{enabledExtensions:o.concat(t.id),extensions:r.concat(t)})}enable(e,{eid:t}){const{enabledExtensions:n}=e;return d(d({},e),{},{enabledExtensions:n.concat(t)})}updateOption(e,{eid:t,name:n,value:i}){const r=e.extensions.map(e=>{if(e.id!==t)return e;const r=new l.WebappExtension(d({},e));return r.setOption(n,i),r});return d(d({},e),{},{extensions:r})}disable(e,{eid:t}){const{enabledExtensions:n}=e;return d(d({},e),{},{enabledExtensions:n.filter(e=>e!==t)})}remove(e,{eid:t}){const{extensions:n,enabledExtensions:i}=e;return d(d({},e),{},{enabledExtensions:i.filter(e=>e!==t),extensions:n.filter(e=>e.id!==t)})}reduce(e,t){switch(t.type){case o.default.RESET:return this.reset(e);case s.default.LOAD_EXTENSIONS:return this.loadExtensions(e,t);case s.default.RELOAD:return this.reload(e);case s.default.OPEN_SETTINGS:return this.openSettings(e,t);case s.default.CLOSE_SETTINGS:return this.closeSettings(e);case s.default.ADD:return this.add(e,t);case s.default.ENABLE:return this.enable(e,t);case s.default.UPDATE_OPTION:return this.updateOption(e,t);case s.default.DISABLE:return this.disable(e,t);case s.default.REMOVE:return this.remove(e,t);default:return e}}}t.default=new h},function(e,t,n){"use strict";n.r(t),n.d(t,"WebappExtension",(function(){return u}));var i=n(664),r=n(665),o=n(96),s=n(666);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d=["load","layer","screen","component","comment","colors","textStyles","spacing","exportColors","exportTextStyles","exportSpacing","styleguideColors","styleguideTextStyles","exportStyleguideColors","exportStyleguideTextStyles"];class u{constructor(e){c(this,"workerLogger",(e,t={})=>{this.local?(console.error(`Zeplin extension error (${this.name}):`,e),console.error("Data:",t)):Raven.captureException(e,{extra:l({extension:{name:this.name,id:this._id}},t)})});const{_id:t,name:n,description:i,manifestURL:r,default:s,users:a,manifest:d,local:u,options:h={},storage:p,supervisor:f,barrelType:g=o.default.PROJECT,loaded:m=!1,methods:b=[]}=e;this._id=t,this.name=n,this.description=i,this.manifestURL=r,this.default=s,this.users=a,this.manifest=d,this.local=u,this.options=h,this.storage=p,this.supervisor=f,this.barrelType=g,this.loaded=m,this.methods=b}static async loadManifest(e){const t=await fetch(e);if(!t.ok)throw new Error("Cannot load extension manifest: "+e);return t.json()}static async createLocal(e){const t=e.endsWith("manifest.json")?e:e.replace(/\/$/,"")+"/manifest.json",n=await u.loadManifest(t),{name:i,description:r}=n;return new u({_id:i,name:i,description:r,manifestURL:t,manifest:n,default:!1,users:[{user:{displayName:Zeplin.user.displayName||Zeplin.user.username},role:"owner"}],local:!0})}initWorker(e){return this.supervisor=new i.default(new Worker(Zeplin.config.extensionWorkerPath),{errorLogger:this.workerLogger,methods:d}),this.supervisor.load(e)}async initOptions(e,t,n){const i=Object.fromEntries(n.map(({id:e,default:t})=>[e,t]));this.storage=r.default.create(e,t,i),this.options=await this.storage.getAll()}async load(e,t=o.default.PROJECT){this.barrelType=t;try{this.local||(this.manifest=await u.loadManifest(this.manifestURL)),await this.initOptions(this._id,e,this.optionsSchema);const t=new URL(this.manifest.moduleURL,this.manifestURL).toString(),n=await this.initWorker(t);this.loaded=!0,this.methods=n}catch(n){}return this}reload(){if(!this.loaded)return;const e=new URL(this.manifest.moduleURL,this.manifestURL).toString();return this.supervisor.load(e)}get id(){return this._id}get optionsSchema(){return this.manifest&&this.manifest.options||[]}get author(){const{user:e={displayName:"Anonymous"}}=this.users.find(({role:e})=>"owner"===e);return{displayName:e.displayName,url:this.manifest&&this.manifest.author&&this.manifest.author.url}}get repository(){return this.manifest&&this.manifest.repository}terminate(){this.supervisor&&this.supervisor.terminate(),this.local&&r.default.clear(this._id)}setOption(e,t){this.options[e]=t,this.storage.set(e,t)}getOption(e){return this.options[e]}getContext(e){const t=this.barrelType===o.default.PROJECT,n={options:this.options};return t?n.project=e:n.styleguide=e,{model:"Context",data:n}}getDeprecatedContext(e){return{model:"Context",data:{project:e,options:this.options}}}hasMethod(e){return this.methods.includes(e)}styleguideColors(e){return this.hasMethod("colors")?this.supervisor.colors(this.getContext(e)):this.supervisor.styleguideColors(this.getDeprecatedContext(e),e.colors.map(e=>Object(s.serializeData)(e,"Color")))}styleguideTextStyles(e){return this.hasMethod("textStyles")?this.supervisor.textStyles(this.getContext(e)):this.supervisor.styleguideTextStyles(this.getDeprecatedContext(e),e.textStyles.map(e=>Object(s.serializeData)(e,"Font")))}styleguideSpacings(e){return this.supervisor.spacing(this.getContext(e))}layer(e,t,n){const i=Object(s.findLayerIndexPath)(n.snapshot,t.id);return i?this.supervisor.layer(this.getContext(e),i,Object(s.serializeVersion)(n)):Promise.resolve(null)}screen(e,t,n){return this.supervisor.screen(this.getContext(e),Object(s.serializeVersion)(t),Object(s.serializeScreen)(n))}component(e,t,n){return this.supervisor.component(this.getContext(e),Object(s.serializeVersion)(t),Object(s.serializeComponent)(n))}comment(e,t){return this.supervisor.comment(this.getContext(e),t)}exportStyleguideColors(e){return this.hasMethod("exportColors")?this.supervisor.exportColors(this.getContext(e)):this.supervisor.exportStyleguideColors(this.getDeprecatedContext(e),e.colors.map(e=>Object(s.serializeData)(e,"Color")))}exportStyleguideTextStyles(e){return this.hasMethod("exportTextStyles")?this.supervisor.exportTextStyles(this.getContext(e)):this.supervisor.exportStyleguideTextStyles(this.getDeprecatedContext(e),e.textStyles.map(e=>Object(s.serializeData)(e,"Font")))}exportStyleguideSpacings(e){return this.supervisor.exportSpacing(this.getContext(e))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));let i=0;class r{constructor(e,t){this.worker=e,this.callbacks={},this.errorLogger=t&&t.errorLogger,this.attachToWorker();const n=t&&t.methods;n&&Array.isArray(n)&&n.forEach(e=>{Object.defineProperty(this,e,{value(...t){return this.invoke(e,t)}})})}static getInvocationId(){return++i}attachToWorker(){this.worker.addEventListener("message",e=>{if("invokeResult"!==e.data.type)return;const t=e.data.data,n=this.callbacks[t.id];if(n)if(delete this.callbacks[t.id],"result"in t)n.resolve(t.result);else if("error"in t){const e=new Error;Object.assign(e,t.error),n.reject(e)}})}invoke(e,t){return new Promise((n,i)=>{const r=this.constructor.getInvocationId();this.callbacks[r]={resolve:n,reject:i},this.worker.postMessage({type:"invoke",data:{id:r,name:e,args:t}})}).catch(n=>{throw this.errorLogger&&this.errorLogger(n,{fnName:e,args:t}),n})}terminate(){this.worker.terminate()}}},function(e,t,n){"use strict";n.r(t);var i=n(140);const r={create:function(e,t,n={}){return{get:r=>i.extensionPrefs.get(e,t,r).then((function(e){return null==e?n[r]:e})),getAll:()=>i.extensionPrefs.get(e,t).then((function(e){return Object.assign({},n,e)})),set:(n,r)=>i.extensionPrefs.set(e,t,n,r)}},clear:function(e){return i.extensionPrefs.remove(e)}};t.default=r},function(e,t,n){"use strict";n.r(t),n.d(t,"serializeData",(function(){return u})),n.d(t,"serializeScreen",(function(){return h})),n.d(t,"serializeComponent",(function(){return p})),n.d(t,"serializeVersion",(function(){return f})),n.d(t,"transformBarrelToObject",(function(){return b})),n.d(t,"findLayerIndexPath",(function(){return g}));var i=n(667),r=n(96),o=n(342),s=n(345),a=n(346);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return{model:t,data:e}}function h(e){const{name:t,description:n,tags:i}=e;return{model:"Screen",data:{name:t,description:n,tags:i}}}function p(e){const{name:t,description:n}=e;return{model:"Component",data:{name:t,description:n}}}function f(e){const t=Object.assign({},e,{snapshot:Object.assign({},e.snapshot)}),n=t.snapshot.layers||[];return t.snapshot.layers=n.map(e=>new i.default(e).toObject()),{model:"Version",data:t}}function g(e,t,n=[]){if(!e.layers||0===e.layers.length)return null;for(const[i,r]of e.layers.entries()){if(r._id===t)return n.concat(i);const e=g(r,t,n.concat(i));if(e)return e}return null}function m(e,t){let n=t[e],i=n.toObject();const r=i;for(;n;){const e=t[n.parent],r=e?e.toObject():null;n=e,i.parent=r,i=r}return r}function b(e,t,n){const i=e.toObject(),l=o.BarrelHelpers.getStyleguidesData({barrelStore:o.BarrelStore,styleguidesDataStore:a.StyleguidesDataStore,projectsDataStore:s.ProjectsDataStore});return i.remPreferences=c(c({},l[0].remPreferences),{},{rootFontSize:l[0].remPreferences.remRootFontSize}),t===r.default.PROJECT&&e.styleguideLink&&"active"===e.styleguideLink.status?i.styleguide=m(e.styleguideLink.styleguide._id,n):t===r.default.STYLEGUIDE&&e.parent&&(i.parent=m(e.parent,n)),i}},function(e,t,n){"use strict";n.r(t);var i=n(668),r=n(669),o=n(670),s=n(671),a=n(105),l=n(23),c=n(674),d=["text","shape","group"];function Layer(e){var t=Object.assign({},e);t.blur&&(t.blur=new r.default(t.blur)),t.borders=t.borders.map((function(e){return new o.default(e,t.rect.width,t.rect.height)})),t.fills=t.fills.map((function(e){return new s.default(e,t.rect.width,t.rect.height)})),t.shadows=t.shadows.map((function(e){return new c.default(e)})),t.textStyles=(t.textStyles||[]).map((function(e){var t=parseInt(e.range.location,10);return{range:{start:t,end:t+parseInt(e.range.length,10)},font:new a.default(e.style)}})),t.layers=(t.layers||[]).map((function(e){return new Layer(e)})),t.asset?t.assets=t.asset.contents.map(({densityScale:e,format:t})=>({densityScale:e,format:t})):t.assets=[],Object.defineProperties(this,{id:{value:t._id,enumerable:!0},type:{get:function(){return t.type},set:function(e){if(-1===d.indexOf(e))throw new TypeError("Unknown layer type: '"+e+"'. Possible values: "+JSON.stringify(d));t.type=e}},name:{get:function(){return t.name},set:function(e){t.name=e}},exportable:{value:t.exportable},rotation:{get:function(){return t.rotation},set:function(e){t.rotation=e}},opacity:{get:function(){return t.opacity},set:function(e){if(e<0||e>1)throw new RangeError("Invalid opacity value: '"+e+"'. Valid range: [0, 1]");t.opacity=e}},blendMode:{get:function(){return t.blendMode},set:function(e){if(-1===i.BLEND_MODES.indexOf(e))throw new TypeError("Unknown blend mode: '"+e+"'. Possible values: "+JSON.stringify(i.BLEND_MODES));t.blendMode=e}},borderRadius:{get:function(){return t.borderRadius},set:function(e){if(e<0)throw new RangeError("Invalid radius value: '"+e+"'. Valid range: [0, ∞)");t.borderRadius=e}},blur:{get:function(){return t.blur},set:function(e){t.blur=new r.default(e)}},absoluteRect:{get:function(){return t.absoluteRect},set:function(e){t.absoluteRect=e}},rect:{get:function(){return t.rect},set:function(e){t.rect=e}},content:{get:function(){return"text"===t.type&&t.content||""},set:function(e){"text"===t.type&&(t.content=e)}},textStyles:{get:function(){return t.textStyles}},borders:{value:t.borders},fills:{value:t.fills},shadows:{value:t.shadows},assets:{value:t.assets},assetData:{value:t.asset},component:{value:t.component},layers:{value:t.layers},componentName:{value:t.componentName},sourceId:{value:t.sourceId}})}Layer.prototype=Object.create(l.default.prototype),Layer.prototype.constructor=Layer,Layer.prototype.toObject=function(){var e={type:this.type,name:this.name,exportable:this.exportable,rotation:this.rotation||0,opacity:this.opacity,blendMode:this.blendMode||"normal",borderRadius:this.borderRadius||0,absoluteRect:this.absoluteRect,rect:this.rect,content:this.content,borders:this.borders.map((function(e){return e.toObject()})),fills:this.fills.map((function(e){return e.toObject()})),shadows:this.shadows.map((function(e){return e.toObject()})),textStyles:this.textStyles.map((function(e){var t=e.range;return{range:{location:t.start,length:t.end-t.start},style:e.font.toObject()}})),assets:this.assets,layers:this.layers.map((function(e){return e.toObject()})),componentName:this.componentName,sourceId:this.sourceId};return this.blur&&(e.blur=this.blur.toObject()),e},Layer.prototype.hasGradient=function(){return this.fills.some((function(e){return"gradient"===e.type}))},Layer.prototype.hasBlendMode=function(){return this.fills.some((function(e){return e.blendMode&&"normal"!==e.blendMode}))},Layer.prototype.getDefaultTextStyle=function(){if("text"===this.type&&this.textStyles.length){var e,t=[],n=0;return this.textStyles.forEach((function(i){var r=t.find((function(e){return e.font.equals(i.font)})),o=i.range.end-i.range.start;r||(r={font:i.font,totalLength:0},t.push(r)),r.totalLength+=o,r.totalLength>n&&(n=r.totalLength,e=r)})),e&&e.font}},t.default=Layer},function(e,t,n){"use strict";n.r(t),n.d(t,"BLEND_MODES",(function(){return i}));var i=Object.freeze(["normal","darken","multiply","color-burn","lighten","screen","color-dodge","overlay","soft-light","hard-light","difference","exclusion","hue","saturation","color","luminosity","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","dissolve","linear-burn","linear-dodge","darker-color","lighter-color","vivid-light","linear-light","pin-light","hard-mix","subtract","divide"])},function(e,t,n){"use strict";n.r(t);var i=n(23),r=["gaussian","background"];function o(e){var t=Object.assign({},e);Object.defineProperties(this,{type:{get:function(){return t.type},set:function(e){if(-1===r.indexOf(e))throw new TypeError("Unknown blur type: '"+e+"'. Possible values: "+JSON.stringify(r));t.type=e}},radius:{get:function(){return t.radius},set:function(e){if(e<0)throw new RangeError("Invalid radius value: '"+e+"'. Valid range: [0, ∞)");t.radius=e}}})}o.prototype=Object.create(i.default.prototype),o.prototype.constructor=o,o.prototype.toObject=function(){return{type:this.type,radius:this.radius}},t.default=o},function(e,t,n){"use strict";n.r(t);var i=n(671),r=n(23);function o(e,t,n){var r=Object.assign({},e);r.fill=new i.default({fillType:r.fillType,color:r.color,gradient:r.gradient,opacity:r.opacity,blendMode:r.blendMode},t,n),delete r.fillType,delete r.color,delete r.gradient,delete r.opacity,delete r.blendMode,Object.defineProperties(this,{position:{get:function(){return r.position},set:function(e){r.position=e}},thickness:{get:function(){return r.thickness},set:function(e){r.thickness=e}},fill:{get:function(){return r.fill},set:function(e){r.fill=e}}})}o.prototype=Object.create(r.default.prototype),o.prototype.constructor=o,o.prototype.toObject=function(){const e={position:this.position,thickness:this.thickness,fillType:this.fill.type,opacity:this.fill.opacity,blendMode:this.fill.blendMode};return this.fill.color?e.color=this.fill.color.toObject():this.fill.gradient&&(e.gradient=this.fill.gradient.toObject()),e},t.default=o},function(e,t,n){"use strict";n.r(t);var i=n(668),r=n(20),o=n(672),s=n(23),a=["color","gradient"];function l(e,t,n){var s=Object.assign({},e);if(s.type=s.fillType,delete s.fillType,"color"===s.type)s.color=new r.default(s.color),delete s.gradient;else{if("gradient"!==s.type)throw new TypeError("Unknown fill type: '"+s.type+"'. Possible values: "+JSON.stringify(a));s.gradient=new o.default(s.gradient,t,n),delete s.color}Object.defineProperties(this,{type:{get:function(){return s.type},set:function(e){if(-1===a.indexOf(e))throw new TypeError("Unknown fill type: '"+e+"'. Possible values: "+JSON.stringify(a));s.type=e}},color:{get:function(){return s.color},set:function(e){s.type="color",s.color=new r.default(e),delete s.gradient}},gradient:{get:function(){return s.gradient},set:function(e){s.type="gradient",s.gradient=new o.default(e,t,n),delete s.color}},opacity:{get:function(){return s.opacity},set:function(e){if(e<0||e>1)throw new RangeError("Invalid opacity value: '"+e+"'. Valid range: [0, 1]");s.opacity=e}},blendMode:{get:function(){return s.blendMode},set:function(e){if(-1===i.BLEND_MODES.indexOf(e))throw new TypeError("Unknown blend mode: '"+e+"'. Possible values: "+JSON.stringify(i.BLEND_MODES));s.blendMode=e}},fill:{get:function(){return"color"===s.type?this.color:this.gradient},set:function(){}}})}l.prototype=Object.create(s.default.prototype),l.prototype.constructor=l,l.prototype.toObject=function(){var e={fillType:this.type,opacity:this.opacity,blendMode:this.blendMode,fill:this.fill.toObject()};return this.color?e.color=this.color.toObject():this.gradient&&(e.gradient=this.gradient.toObject()),e},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(673),r=n(23),o=["linear","radial","angular"];function s(e,t,n){var r=Object.assign({},e);r.colorStops=r.colorStops.map((function(e){return new i.default(e)})),Object.defineProperties(this,{type:{get:function(){return r.type},set:function(e){if(-1===o.indexOf(e))throw new TypeError("Unknown gradient type: '"+e+"'. Possible values: "+JSON.stringify(o));r.type=e},enumerable:!0},from:{get:function(){return r.from},set:function(e){r.from=e},enumerable:!0},to:{get:function(){return r.to},set:function(e){r.to=e},enumerable:!0},angle:{get:function(){return r.angle},set:function(e){r.angle=e},enumerable:!0},scale:{get:function(){return r.scale},set:function(e){r.scale=e},enumerable:!0},colorStops:{value:r.colorStops,enumerable:!0}})}s.prototype=Object.create(r.default.prototype),s.prototype.constructor=s,s.prototype.toObject=function(){const e={type:this.type,from:this.from,to:this.to,scale:this.scale,colorStops:this.colorStops.map((function(e){return e.toObject()}))};return void 0!==this.angle&&(e.angle=this.angle),e},t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(20),r=n(23);function o(e){var t=Object.assign({},e);t.color=new i.default(t.color),Object.defineProperties(this,{color:{get:function(){return t.color},set:function(e){t.color=new i.default(e)}},position:{get:function(){return t.position},set:function(e){if(e<0||e>1)throw new RangeError("Invalid position value: '"+e+"'. Valid range: [0, 1]");t.position=e}}})}o.prototype=Object.create(r.default.prototype),o.prototype.constructor=o,o.prototype.toObject=function(){return{color:this.color.toObject(),position:this.position}},t.default=o},function(e,t,n){"use strict";n.r(t);var i=n(20),r=n(23),o=["outer","inner"];function s(e){var t=Object.assign({},e);t.color=new i.default(t.color),Object.defineProperties(this,{type:{get:function(){return t.type},set:function(e){if(-1===o.indexOf(e))throw new TypeError("Unknown shadow type: '"+e+"'. Possible values: "+JSON.stringify(o));t.type=e}},offsetX:{get:function(){return t.offsetX},set:function(e){t.offsetX=e}},offsetY:{get:function(){return t.offsetY},set:function(e){t.offsetY=e}},blurRadius:{get:function(){return t.blurRadius},set:function(e){t.blurRadius=e}},spread:{get:function(){return t.spread},set:function(e){t.spread=e}},color:{get:function(){return t.color},set:function(e){t.color=new i.default(e)}}})}s.prototype=Object.create(r.default.prototype),s.prototype.constructor=s,s.prototype.toObject=function(){return{type:this.type,offsetX:this.offsetX,offsetY:this.offsetY,blurRadius:this.blurRadius,spread:this.spread,color:this.color.toObject()}},t.default=s},function(e,t,n){"use strict";n.r(t);n(676),n(677),n(678),n(679)},function(e,t,n){"use strict";n.r(t);var i=n(660),r=n(659),o=n(661),s=n(45),a=n(137);const l={project:a.project,styleguide:a.styleguide},c={async handleRemove({bid:e,barrelType:t,eid:n,removedExtension:i,local:o}){if(!o)try{await l[t].removeExtension(e,n),mixpanel.webapp.track("Removed extension",{extension:n})}catch(a){Object(s.handleError)(a),r.default.add({bid:e,extension:i})}}};o.default.register(e=>{if(e.syncWithApi)switch(e.type){case i.default.REMOVE:c.handleRemove(e)}})},function(e,t,n){"use strict";n.r(t);var i=n(660),r=n(659),o=n(661),s=n(663),a=n(45),l=n(137);const c={project:l.project,styleguide:l.styleguide},d={async handleInit({bid:e,barrelType:t,enabledExtensions:n}){try{const{extensions:i}=await c[t].getExtensions(e),o=await Promise.all(i.map(n=>new s.WebappExtension(n).load(e,t)));let a=n;null===a&&(a=i.filter(e=>e.default).map(e=>e._id)||[]),r.default.loadExtensions({bid:e,extensions:o,enabledExtensions:a})}catch(i){Object(a.handleError)(i)}},async handleLoad({bid:e,barrelType:t,uid:n,eid:i}){try{const o=await c[t].addExtension(e,i),a=new s.WebappExtension(o);await a.load(e,t),r.default.add({bid:e,uid:n,extension:a})}catch(o){Object(a.handleError)(o),r.default.remove({bid:e,eid:i})}}};o.default.register(e=>{switch(e.type){case i.default.INIT:d.handleInit(e);break;case i.default.LOAD:d.handleLoad(e)}})},function(e,t,n){"use strict";n.r(t);var i=n(660),r=n(661);const o={handleRemove({removedExtension:e}){e.terminate()}};r.default.register(e=>{switch(e.type){case i.default.REMOVE:o.handleRemove(e)}})},function(e,t,n){"use strict";n.r(t);var i=n(660),r=n(661),o=n(140);const s={async handleEnable({bid:e,eid:t}){const n=await o.barrelPrefs.get(e,"extensions")||[];o.barrelPrefs.set(e,"extensions",n.concat(t))},async handleDisable({bid:e,eid:t}){const n=(await o.barrelPrefs.get(e,"extensions")||[]).filter(e=>e!==t);return o.barrelPrefs.set(e,"extensions",n)},handleLoadExtensions({bid:e,enabledExtensions:t}){o.barrelPrefs.set(e,"extensions",t)}};r.default.register(e=>{switch(e.type){case i.default.ADD:case i.default.ENABLE:s.handleEnable(e);break;case i.default.DISABLE:case i.default.REMOVE:s.handleDisable(e);break;case i.default.LOAD_EXTENSIONS:s.handleLoadExtensions(e)}})},function(e,t,n){"use strict";n.r(t);var i=n(84);n.d(t,"AppDispatcher",(function(){return i.default}));var r=n(91);n.d(t,"AppActionTypes",(function(){return r.default}));var o=n(354);n.d(t,"AppActions",(function(){return o.default}));var s=n(355);n.d(t,"AppStore",(function(){return s.default}));n(681)},function(e,t,n){"use strict";n.r(t);n(682)},function(e,t,n){"use strict";n.r(t);var i=n(354),r=n(91),o=n(84),s=n(137);const a={generateShortlink({longURL:e,path:t}){s.generateShortlink(e,t).then(t=>{i.default.setShortlink(e,t)})}};o.default.register(e=>{switch(e.type){case r.default.GENERATE_SHORTLINK:a.generateShortlink(e)}})},function(e,t,n){"use strict";n.r(t);var i=n(684);n.d(t,"StyleguideActions",(function(){return i.default}));var r=n(686);n.d(t,"StyleguideActionTypes",(function(){return r.default}));var o=n(685);n.d(t,"StyleguideDispatcher",(function(){return o.default}));var s=n(687);n.d(t,"StyleguideStore",(function(){return s.default}));n(689)},function(e,t,n){"use strict";n.r(t);var i=n(685),r=n(686);const o={updateState(e){i.default.dispatch({type:r.default.UPDATE_STATE,update:e})},changeLeftSidebarWidth(e){i.default.dispatch({type:r.default.CHANGE_LEFT_SIDEBAR_WIDTH,leftSidebarWidth:e})},changeRightSidebarWidth(e){i.default.dispatch({type:r.default.CHANGE_RIGHT_SIDEBAR_WIDTH,rightSidebarWidth:e})},changeSortType(e){i.default.dispatch({type:r.default.CHANGE_SORT_TYPE,sortType:e})},changeFilterValue(e){i.default.dispatch({type:r.default.CHANGE_FILTER_VALUE,filterValue:e})},changeSelectedNavigatorId({selectedStyleguideSection:e,selectedNavigatorId:t}){i.default.dispatch({type:r.default.CHANGE_SELECTED_NAVIGATOR_ID,selectedStyleguideSection:e,selectedNavigatorId:t})},highlightColors(e){i.default.dispatch({type:r.default.HIGHLIGHT_COLORS,cids:e})},unhighlightColor({cid:e}){i.default.dispatch({type:r.default.UNHIGHLIGHT_COLOR,cid:e})},highlightTextStyles(e){i.default.dispatch({type:r.default.HIGHLIGHT_TEXT_STYLES,tsids:e})},unhighlightTextStyle({tsid:e}){i.default.dispatch({type:r.default.UNHIGHLIGHT_TEXT_STYLE,tsid:e})},highlightSpacingTokens(e){i.default.dispatch({type:r.default.HIGHLIGHT_SPACING_TOKENS,sptids:e})},unhighlightSpacingToken(e){i.default.dispatch({type:r.default.UNHIGHLIGHT_SPACING_TOKEN,sptid:e})},sectionScrolled(){i.default.dispatch({type:r.default.SECTION_SCROLLED})},changeSelection({selectionComponentId:e,selection:t}){i.default.dispatch({type:r.default.CHANGE_SELECTION,selectionComponentId:e,selection:t})},componentSnapshotsReady(){i.default.dispatch({type:r.default.COMPONENT_SNAPSHOTS_READY})},hideSuggestedColors(e,t){i.default.dispatch({type:r.default.HIDE_SUGGESTED_COLORS,barrelId:e,colors:t})},hideSuggestedTextStyles(e,t){i.default.dispatch({type:r.default.HIDE_SUGGESTED_TEXT_STYLES,barrelId:e,textStyles:t})},openMoveResourcesPopup({resources:e,resourceType:t,targetNode:n}){i.default.dispatch({type:r.default.OPEN_MOVE_RESOURCES_POPUP,resources:e,resourceType:t,targetNode:n})},closeMoveResourcesPopup(){i.default.dispatch({type:r.default.CLOSE_MOVE_RESOURCES_POPUP})},selectMoveResourcesTargetStyleguide({targetStyleguide:e}){i.default.dispatch({type:r.default.SELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE,targetStyleguide:e})},deselectMoveResourcesTargetStyleguide(){i.default.dispatch({type:r.default.DESELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE})}};t.default=o},function(e,t,n){"use strict";n.r(t);var i=n(84);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);t.default={UPDATE_STATE:"styleguide/updateState",CHANGE_LEFT_SIDEBAR_WIDTH:"styleguide/changeLeftSidebarWidth",CHANGE_RIGHT_SIDEBAR_WIDTH:"styleguide/changeRightSidebarWidth",CHANGE_SORT_TYPE:"styleguide/changeSortType",CHANGE_FILTER_VALUE:"styleguide/changeFilterValue",CHANGE_SELECTED_NAVIGATOR_ID:"styleguide/changeSelectedNavigatorId",HIGHLIGHT_COLORS:"styleguide/highlightColors",UNHIGHLIGHT_COLOR:"styleguide/unhighlightColor",HIGHLIGHT_TEXT_STYLES:"styleguide/highlightTextStyles",UNHIGHLIGHT_TEXT_STYLE:"styleguide/unhighlightTextStyle",HIGHLIGHT_SPACING_TOKENS:"styleguide/highlightSpacingTokens",UNHIGHLIGHT_SPACING_TOKEN:"styleguide/unhighlightSpacingToken",SECTION_SCROLLED:"styleguide/sectionScrolled",CHANGE_SELECTION:"styleguide/changeSelection",COMPONENT_SNAPSHOTS_READY:"styleguide/componetSnapshotsReady",HIDE_SUGGESTED_COLORS:"styleguide/hideSuggestedColors",HIDE_SUGGESTED_TEXT_STYLES:"stylegudie/hideSuggestedTextStyles",OPEN_MOVE_RESOURCES_POPUP:"styleguide/openMoveResourcesPopup",CLOSE_MOVE_RESOURCES_POPUP:"styleguide/closeMoveResourcesPopup",SELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE:"styleguide/selectMoveResourcesTargetStyleguide",DESELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE:"styleguide/deselectMoveResourcesTargetStyleguide"}},function(e,t,n){"use strict";n.r(t);var i=n(73),r=n.n(i),o=n(686),s=n(685),a=n(91),l=n(92),c=n(688);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends r.a{constructor(){super(s.default)}getInitialState(){return{sortType:"default",filterValue:"",leftSidebarWidth:200,rightSidebarWidth:280,selectedStyleguideSection:"about",selectedNavigatorId:null,highlightedColors:[],highlightedTextStyles:[],highlightedSpacingTokens:[],scrolledSection:null,highlightScrolledSection:!1,selectionComponentId:null,selection:null,moveResourcesPopup:null,showSuggestedResourcesBadge:{colors:!1,textStyles:!1}}}reset(){return this.getInitialState()}load(e={}){return u(u({},this.getInitialState()),e)}updateState(e,t){return u(u({},e),t)}changeSortType(e,t){return u(u({},e),{},{sortType:t})}changeFilterValue(e,t){return u(u({},e),{},{filterValue:t})}changeLeftSidebarWidth(e,t){return u(u({},e),{},{leftSidebarWidth:t})}changeRightSidebarWidth(e,t){return u(u({},e),{},{rightSidebarWidth:t})}changeSelectedNavigatorId(e,t,n){return u(u({},e),{},{selectedStyleguideSection:t,selectedNavigatorId:n,scrolledSection:n,highlightScrolledSection:!1})}highlightColors(e,t){return u(u({},e),{},{highlightedColors:[].concat(t).filter(Boolean)})}unhighlightColor(e,t){return u(u({},e),{},{highlightedColors:e.highlightedColors.filter(e=>e!==t)})}highlightTextStyles(e,t){return u(u({},e),{},{highlightedTextStyles:[].concat(t).filter(Boolean)})}unhighlightTextStyle(e,t){return u(u({},e),{},{highlightedTextStyles:e.highlightedTextStyles.filter(e=>e!==t)})}highlightSpacingTokens(e,t){return u(u({},e),{},{highlightedSpacingTokens:[].concat(t).filter(Boolean)})}unhighlightSpacingToken(e,t){return u(u({},e),{},{highlightedSpacingTokens:e.highlightedSpacingTokens.filter(e=>e!==t)})}sectionScrolled(e){return u(u({},e),{},{scrolledSection:null,highlightScrolledSection:!1})}changeSelection(e,{selectionComponentId:t,selection:n}){return u(u({},e),{},{selectionComponentId:t,selection:n})}updateForChangeSelectedView(e,{selectedView:t}){return"styleguide"===t?e:u(u({},e),{},{selectionComponentId:null,selection:null})}componentSnapshotsReady(e){return u({},e)}removeComponent(e,{coid:t}){return t===e.selectionComponentId?u(u({},e),{},{selectionComponentId:null,selection:null}):e}openMoveResourcesPopup(e,{resources:t,resourceType:n,targetNode:i}){return u(u({},e),{},{moveResourcesPopup:{resources:t,resourceType:n,targetNode:i,targetStyleguide:null}})}closeMoveResourcesPopup(e){return u(u({},e),{},{moveResourcesPopup:null})}selectMoveResourcesTargetStyleguide(e,{targetStyleguide:t}){const{moveResourcesPopup:n}=e;return u(u({},e),{},{moveResourcesPopup:u(u({},n),{},{targetStyleguide:t})})}deselectMoveResourcesTargetStyleguide(e){const{moveResourcesPopup:t}=e;return u(u({},e),{},{moveResourcesPopup:u(u({},t),{},{targetStyleguide:null})})}setSuggestedResources(e){return u(u({},e),{},{showSuggestedResourcesBadge:{colors:"colors"!==e.selectedStyleguideSection,textStyles:"textStyles"!==e.selectedStyleguideSection}})}reduce(e,t){switch(t.type){case a.default.RESET:return this.reset();case l.default.LOAD:return this.load(t.styleguide);case l.default.CHANGE_SELECTED_VIEW:return this.updateForChangeSelectedView(e,t);case o.default.UPDATE_STATE:return this.updateState(e,t.update);case o.default.CHANGE_SORT_TYPE:return this.changeSortType(e,t.sortType);case o.default.CHANGE_FILTER_VALUE:return this.changeFilterValue(e,t.filterValue);case o.default.CHANGE_LEFT_SIDEBAR_WIDTH:return this.changeLeftSidebarWidth(e,t.leftSidebarWidth);case o.default.CHANGE_RIGHT_SIDEBAR_WIDTH:return this.changeRightSidebarWidth(e,t.rightSidebarWidth);case o.default.CHANGE_SELECTED_NAVIGATOR_ID:return this.changeSelectedNavigatorId(e,t.selectedStyleguideSection,t.selectedNavigatorId);case o.default.HIGHLIGHT_COLORS:return this.highlightColors(e,t.cids);case o.default.UNHIGHLIGHT_COLOR:return this.unhighlightColor(e,t.cid);case o.default.HIGHLIGHT_TEXT_STYLES:return this.highlightTextStyles(e,t.tsids);case o.default.UNHIGHLIGHT_TEXT_STYLE:return this.unhighlightTextStyle(e,t.tsid);case o.default.HIGHLIGHT_SPACING_TOKENS:return this.highlightSpacingTokens(e,t.sptids);case o.default.UNHIGHLIGHT_SPACING_TOKEN:return this.unhighlightSpacingToken(e,t.sptid);case o.default.SECTION_SCROLLED:return this.sectionScrolled(e);case o.default.CHANGE_SELECTION:return this.changeSelection(e,t);case o.default.COMPONENT_SNAPSHOTS_READY:return this.componentSnapshotsReady(e);case o.default.OPEN_MOVE_RESOURCES_POPUP:return this.openMoveResourcesPopup(e,t);case o.default.CLOSE_MOVE_RESOURCES_POPUP:return this.closeMoveResourcesPopup(e);case o.default.SELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE:return this.selectMoveResourcesTargetStyleguide(e,t);case o.default.DESELECT_MOVE_RESOURCES_TARGET_STYLEGUIDE:return this.deselectMoveResourcesTargetStyleguide(e);case l.default.REMOVE_COMPONENT:return this.removeComponent(e,t);case l.default.MOVE_RESOURCES_SUCCESS:return this.closeMoveResourcesPopup(e);case l.default.MOVE_RESOURCES_FAIL:return this.deselectMoveResourcesTargetStyleguide(e);case c.default.SET_SUGGESTED_RESOURCES:return this.setSuggestedResources(e);default:return e}}}t.default=new p},function(e,t,n){"use strict";n.r(t);t.default={SHOW_IMPORTS_LIST:"showImportsList",HIDE_IMPORTS_LIST:"hideImportsList",HIDE_IMPORTS_INDICATOR:"hideImportsIndicator",SET_SUGGESTED_RESOURCES:"setSuggestedResources",HANDLE_IMPORTS:"handleImports",GO_TO_IMPORTED_VERSION:"goToImportedVersion",RETRY_IMPORT:"retryImport",CANCEL_IMPORT:"cancelImport",RETRY_GET_PROJECT_FOR_IMPORTS:"retryGetProjectForImports",CLEAR_IMPORTS:"clearImports",HIDE_COMPONENT_LIMIT_HINT:"hideComponentLimitHint",SEE_PLANS:"seePlans"}},function(e,t,n){"use strict";n.r(t);var i=n(140),r=n(44),o=n(96),s=n(680),a=n(686),l=n(685),c=n(342),d=n(345),u=n(346),h=n(67),p=n(65);const f=Object.freeze({project:d.ProjectsDataStore,styleguide:u.StyleguidesDataStore});function g(){const{barrelId:e,barrelType:t}=c.BarrelStore.getState(),{[t+"s"]:n}=f[t].getState();return n[e]}const m={changeLeftSidebarWidth(e){const{id:t}=g();i.barrelPrefs.set(t,"styleguideLeftSidebarWidth",e)},changeRightSidebarWidth(e){const{id:t}=g();i.barrelPrefs.set(t,"styleguideRightSidebarWidth",e)}};l.default.register(e=>{switch(e.type){case a.default.CHANGE_LEFT_SIDEBAR_WIDTH:m.changeLeftSidebarWidth(e.leftSidebarWidth);break;case a.default.CHANGE_RIGHT_SIDEBAR_WIDTH:m.changeRightSidebarWidth(e.rightSidebarWidth)}});const b={setComponentShortlink(e){if(!e)return;const{barrelId:t,barrelType:n}=c.BarrelStore.getState(),i=n===o.default.PROJECT?"project-styleguide-components":"styleguide-components",a=Object(r.urlResolve)(i,{url:{bid:t},query:{coid:e}});setTimeout(()=>{s.AppActions.generateShortlink(a)},4)},sendHideColorsToElectron({barrelId:e,colors:t}){p.default.isWindowsApp&&h.default.ipcRenderer.send("hide-suggested-colors",{id:e,colors:t})},sendHideTextStylesToElectron({barrelId:e,textStyles:t}){p.default.isWindowsApp&&h.default.ipcRenderer.send("hide-suggested-text-styles",{id:e,textStyles:t})}};c.BarrelDispatcher.register(e=>{switch(e.type){case c.BarrelActionTypes.LOAD:e.styleguide&&e.styleguide.selectionComponentId&&b.setComponentShortlink(e.styleguide.selectionComponentId)}}),l.default.register(e=>{switch(e.type){case a.default.CHANGE_SELECTION:b.setComponentShortlink(e.selectionComponentId);break;case a.default.HIDE_SUGGESTED_COLORS:b.sendHideColorsToElectron(e);break;case a.default.HIDE_SUGGESTED_TEXT_STYLES:b.sendHideTextStylesToElectron(e)}})},function(e,t,n){"use strict";n.r(t);var i=n(691);n.d(t,"SlackPreferencesActions",(function(){return i.default}));var r=n(692);n.d(t,"SlackPreferencesActionTypes",(function(){return r.default}));var o=n(693);n.d(t,"SlackPreferencesDispatcher",(function(){return o.default}));var s=n(694);n.d(t,"SlackPreferencesStore",(function(){return s.default}));n(696)},function(e,t,n){"use strict";n.r(t);var i=n(692),r=n(693),o=n(99);const s={init(){r.default.dispatch({type:i.default.INIT})},load(e,t){r.default.dispatch({type:i.default.LOAD,inid:e,events:t})},open(e,t){r.default.dispatch({type:i.default.OPEN,inid:e,channelName:t})},close(){r.default.dispatch({type:i.default.CLOSE})},updateEventGroup(e,t){r.default.dispatch({type:i.default.UPDATE_EVENT_GROUP,eventGroup:e,checked:t})},eventGroupUpdated(e,t){r.default.dispatch({type:i.default.EVENT_GROUP_UPDATED,inid:e,eventGroup:t})},eventGroupUpdateFailed(e,t){r.default.dispatch({type:i.default.EVENT_GROUP_UPDATE_FAILED,inid:e,eventGroup:t})},addIntegrationEvent({bid:e,intype:t,inid:n,event:s}){const{barrelId:a}=o.default.getState();"slacks"===t&&e===a&&r.default.dispatch({type:i.default.EVENT_UPDATED,inid:n,event:s,enabled:!0})},removeIntegrationEvent({bid:e,intype:t,inid:n,event:s}){const{barrelId:a}=o.default.getState();"slacks"===t&&e===a&&r.default.dispatch({type:i.default.EVENT_UPDATED,inid:n,event:s,enabled:!1})}};t.default=s},function(e,t,n){"use strict";n.r(t);t.default={INIT:"slackPreferences/init",LOAD:"slackPreferences/load",OPEN:"slackPreferences/open",CLOSE:"slackPreferences/close",UPDATE_EVENT_GROUP:"slackPreferences/updateEventGroup",EVENT_GROUP_UPDATED:"slackPreferences/eventGroupUpdated",EVENT_GROUP_UPDATE_FAILED:"slackPreferences/eventGroupUpdateFailed",EVENT_UPDATED:"slackPreferences/eventUpdated"}},function(e,t,n){"use strict";n.r(t);var i=n(84);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(73),r=n.n(i),o=n(693),s=n(692),a=n(99),l=n(695),c=n(62);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n){const{barrelType:i}=a.default.getState();return n?u(u({},e),{},{[t]:l.getEventsOfGroup(i,t)}):Object(c.filterOut)(e,t)}function f(e,t,n){const{barrelType:i}=a.default.getState(),r=l.getGroupOfEvent(i,t);let o=e[r]||[];return n&&!o.includes(t)?u(u({},e),{},{[r]:o.concat(t)}):!n&&o.includes(t)?(o=o.filter(e=>e!==t),0===o.length?Object(c.filterOut)(e,r):u(u({},e),{},{[r]:o})):e}class g extends r.a{constructor(){super(o.default)}getInitialState(){return{open:!1,inid:null,channelName:null,eventGroupsByInid:{},loading:[]}}load(e,t,n){const{barrelType:i}=a.default.getState();return u(u({},e),{},{eventGroupsByInid:u(u({},e.eventGroupsByInid),{},{[t]:l.groupEvents(i,n)})})}open(e,t,n){return t in e.eventGroupsByInid?u(u({},e),{},{open:!0,inid:t,channelName:n}):e}close(e){return u(u({},e),{},{open:!1,inid:null,channelName:null,loading:[]})}updateEventGroup(e,t,n){return u(u({},e),{},{eventGroupsByInid:u(u({},e.eventGroupsByInid),{},{[e.inid]:p(e.eventGroupsByInid[e.inid],t,n)}),loading:e.loading.concat(t)})}eventGroupUpdated(e,t,n){return e.inid===t?u(u({},e),{},{loading:e.loading.filter(e=>e!==n)}):e}eventGroupUpdateFailed(e,t,n){return u(u({},e),{},{eventGroupsByInid:u(u({},e.eventGroupsByInid),{},{[t]:p(e.eventGroupsByInid[t],n,!e.eventGroupsByInid[t][n])}),loading:e.inid===t?e.loading.filter(e=>e!==n):e.loading})}eventUpdated(e,t,n,i){return e.eventGroupsByInid[t]?u(u({},e),{},{eventGroupsByInid:u(u({},e.eventGroupsByInid),{},{[t]:f(e.eventGroupsByInid[t],n,i)})}):e}reduce(e,t){switch(t.type){case s.default.LOAD:return this.load(e,t.inid,t.events);case s.default.OPEN:return this.open(e,t.inid,t.channelName);case s.default.CLOSE:return this.close(e);case s.default.UPDATE_EVENT_GROUP:return this.updateEventGroup(e,t.eventGroup,t.checked);case s.default.EVENT_GROUP_UPDATED:return this.eventGroupUpdated(e,t.inid,t.eventGroup);case s.default.EVENT_GROUP_UPDATE_FAILED:return this.eventGroupUpdateFailed(e,t.inid,t.eventGroup);case s.default.EVENT_UPDATED:return this.eventUpdated(e,t.inid,t.event,t.enabled);default:return e}}}t.default=new g},function(e,t,n){"use strict";n.r(t),n.d(t,"getEventsOfGroup",(function(){return l})),n.d(t,"getGroupOfEvent",(function(){return c})),n.d(t,"groupEvents",(function(){return a})),n.d(t,"eventGroupsByBarrelType",(function(){return r}));var i=n(96);const r={[i.default.PROJECT]:{screens:{name:"Screens",info:"Screen added",events:["project.screen.created"]},versions:{name:"Screen versions",info:"Version added to screen",events:["project.screen.version.created"]},components:{name:"Components",info:"Component added, removed or updated on Styleguide",events:["project.component.created","project.component.version.created","project.component.deleted"]},colors:{name:"Colors",info:"Color added, removed or updated on Styleguide",events:["project.color.created","project.color.updated","project.color.deleted"]},textStyles:{name:"Text styles",info:"Text style added, removed or updated on Styleguide",events:["project.textstyle.created","project.textstyle.updated","project.textstyle.deleted"]},spacingTokens:{name:"Spacing tokens",info:"Spacing token added, removed or updated on Styleguide",events:["project.spacingtoken.created","project.spacingtoken.updated","project.spacingtoken.deleted"]},notes:{name:"Notes",info:"Note added",events:["project.dot.created"]},replies:{name:"Replies",info:"Replied to note",events:["project.dot.comment.created"]},members:{name:"Members",info:"Member invited",events:["project.user.invited"]},extensions:{name:"Extensions",info:"Extension added or removed",events:["project.extension.added","project.extension.removed"]},projectStatus:{name:"Project status",info:"Project archived or activated",events:["project.archived","project.activated"]}},[i.default.STYLEGUIDE]:{components:{name:"Components",info:"Component added, removed or updated on Styleguide",events:["styleguide.component.created","styleguide.component.version.created","styleguide.component.deleted"]},colors:{name:"Colors",info:"Color added, removed or updated on Styleguide",events:["styleguide.color.created","styleguide.color.updated","styleguide.color.deleted"]},textStyles:{name:"Text styles",info:"Text style added, removed or updated on Styleguide",events:["styleguide.textstyle.created","styleguide.textstyle.updated","styleguide.textstyle.deleted"]},spacingTokens:{name:"Spacing tokens",info:"Spacing token added, removed or updated on Styleguide",events:["styleguide.spacingtoken.created","styleguide.spacingtoken.updated","styleguide.spacingtoken.deleted"]},members:{name:"Members",info:"Member invited",events:["styleguide.user.invited"]},extensions:{name:"Extensions",info:"Extension added or removed",events:["styleguide.extension.added","styleguide.extension.removed"]},styleguideStatus:{name:"Styleguide status",info:"Styleguide archived or activated",events:["styleguide.archived","styleguide.activated"]}}};function o(e){return Object.keys(r[e]).reduce((t,n)=>r[e][n].events.reduce((e,t)=>(e[t]=n,e),t),{})}const s={project:o(i.default.PROJECT),styleguide:o(i.default.STYLEGUIDE)};function a(e,t){return t.reduce((t,n)=>{const i=c(e,n);return i&&(t[i]?t[i].push(n):t[i]=[n]),t},{})}function l(e,t){return r[e][t].events}function c(e,t){return s[e][t]}},function(e,t,n){"use strict";n.r(t);var i=n(691),r=n(692),o=n(693),s=n(694),a=n(45),l=n(695),c=n(42),d=n(137),u=n(342);const h={project:d.project,styleguide:d.styleguide},p={initChannel:(e,t,n)=>h[t].getIntegrationEvents(e,n).then(e=>i.default.load(n,e.events)),init(){const e=u.BarrelHelpers.getBarrel(),{barrelType:t}=u.BarrelStore.getState();e.integration.slacks.forEach(n=>{this.initChannel(e._id,t,n._id).catch(()=>{})})},initIfNecessary(e,t){e in s.default.getState().eventGroupsByInid||this.showInitializationError(e,t)},showInitializationError(e,t){c.create({message:"Something went wrong while fetching Slack preferences.",done:{name:"TRY AGAIN",cb:()=>this.initChannel(s.default.getState().barrelId,[e]).then(()=>i.default.open(e,t)).catch(()=>this.showInitializationError(e,t))}})},updateEventGroup(e,t){const{inid:n}=s.default.getState();(t?this.addPreferenceGroup(n,e):this.deletePreferenceGroup(n,e)).then(()=>{i.default.eventGroupUpdated(n,e)}).catch(t=>{i.default.eventGroupUpdateFailed(n,e),a.handleError(t)})},addPreferenceGroup(e,t){const{barrelId:n,barrelType:i}=u.BarrelStore.getState();return l.getEventsOfGroup(i,t).reduce((t,r)=>t.then(()=>h[i].addIntegrationEvent(n,e,r)),Promise.resolve())},deletePreferenceGroup(e,t){const{barrelId:n,barrelType:i}=u.BarrelStore.getState();return l.getEventsOfGroup(i,t).reduce((t,r)=>t.then(()=>h[i].deleteIntegrationEvent(n,e,r)),Promise.resolve())}};o.default.register(e=>{switch(e.type){case r.default.INIT:p.init();break;case r.default.OPEN:p.initIfNecessary(e.inid,e.channelName);break;case r.default.UPDATE_EVENT_GROUP:p.updateEventGroup(e.eventGroup,e.checked)}})},function(e,t,n){"use strict";n.r(t),n.d(t,"findComponentById",(function(){return o})),n.d(t,"findComponentByName",(function(){return s})),n.d(t,"findComponentLayer",(function(){return a})),n.d(t,"findUsedScreens",(function(){return l})),n.d(t,"findConnectedComponentByName",(function(){return c}));var i=n(62);function r({componentSections:e},t,n){let i;for(const o of e){if(i=o.components.find(e=>e[t]===n),i)return i;if(i=r(o,t,n),i)return i}return null}function o(e,t){if(!t)return{};for(const n of e){const e=r(n,"_id",t);if(e)return{barrelId:n.id,component:e}}return{}}function s(e,t){if(!t)return{};for(const n of e){const e=r(n,"name",t);if(e)return{barrelId:n.id,component:e}}return{}}function a(e,t,n){if(!e||!t||!n)return null;const i=function e(t,n,i=[]){if(t===n)return[t,...i];if(!t.layers||!t.layers.length)return null;for(const r of t.layers){const o=e(r,n,[t,...i]);if(o)return o}return null}(e,t);if(!i)return null;for(const r of i){const e=r.componentName;if(!e)continue;const{component:t}=s(n,e);if(t)return{rect:r.absoluteRect,_id:t._id,name:t.name}}return null}function l(e,t){return e.filter(({versions:[{snapshot:{componentNames:e}}]})=>e&&e.includes(t))}function c(e,t,n){if(!e||!t)return null;let r=null,o=0;for(const s of t){const t=n?s.localConnectedComponents:s.connectedComponents;if(t)for(const n of t){const{zeplinNames:t}=n;if(t.includes(e))return n;for(const s of t)if(new RegExp(`^${Object(i.escapeRegExp)(s)}$`.replace(/\*/g,".*")).test(e)){const e=s.replace(/\*/g,"").length;(!r||e>o)&&(r=n,o=e)}}}return r}},function(e,t,n){"use strict";n.r(t);var i=n(166),r=n(68),o=n(42),s=n(62),a=n(45),l=n(140),c=n(65),d=n(104),u=n(96),h=n(353),p=n(466),f=n(658),g=n(473),m=n(137),b=n(342),y=n(680),S=n(349),v=n(683),C=n(346),O=n(690),E=n(52),T=n(467),D=n(465),k=n(697),w=n(19),_=n(652);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const I=document.getElementById("androidResFolderReminderDialog");function A(e){const{projectName:t,projectFolderType:n,projectFolder:i,projectFolderPathParts:r}=e;b.BarrelActions.setAssetExportTarget({name:t,type:n,path:i,pathParts:r})}o.polyfill.registerDialog(I);const x={getOrganizations(){const{organizations:e}=g.OrganizationStore.getState();return e.length?Promise.resolve(e):m.getOrganizations()},getOrganization(e,t){if(!s.isOrganizationProject(e))return Promise.resolve(null);const n=b.BarrelHelpers.findBarrelOrganizationId(e._id);let i=g.OrganizationHelpers.getOrganization(n);return i||(i=Object(E.fetchEmbeddedData)("organization")),i?Promise.resolve(i):m[t].getOrganization(e._id)},getOrganizationMembers(e){const t=g.OrganizationHelpers.getOrganization(e);return t&&t.members&&t.wildlings?t:m.getOrganizationMembers(e)},getOrganizationMemberProfile(e,t){const n=g.OrganizationHelpers.getOrganizationProfile(e);return n||m.getOrganizationMemberProfile(e,t)},getOrganizationProfiles(e,t){if(!e.length)return Promise.resolve({});const n=e.map(e=>x.getOrganizationMemberProfile(e,t));return Promise.all(n).then(t=>Object.fromEntries(Object(_.default)(e,t))).catch(a.handleError)},getStyleguide(e,{styleguideId:t}){const n=b.BarrelHelpers.getBarrel({bid:e});return n&&n.complete?n:m.getStyleguide(e,{styleguideId:t})},getAncestors(e,t){return Promise.all(t.map(t=>this.getStyleguide(t,{styleguideId:e})))},getAncestorsConnectedComponents:(e,t)=>Promise.all(t.map(t=>m.getStyleguideConnectedComponents(t,{styleguideId:e}))),getAncestorsLocalConnectedComponents:e=>Promise.all(e.map(e=>m.getStyleguideLocalConnectedComponents(e))),getStyleguideConnectedComponents(e,t){const n=m.getStyleguideConnectedComponents(e),i=this.getAncestorsConnectedComponents(e,t),r="true"===sessionStorage.getItem("connectedComponentsDevModeEnabled");return[n,i,r?m.getStyleguideLocalConnectedComponents(e):Promise.resolve({localConnectedComponents:null}),r?this.getAncestorsLocalConnectedComponents(t):Promise.resolve([])]},getLinkedStyleguidesConnectedComponents(e,t,{local:n}){if(!t)return Promise.resolve([]);const{status:i,styleguide:r}=t;if("active"!==i)return Promise.resolve([]);const o=n?m.getStyleguideLocalConnectedComponents:m.getStyleguideConnectedComponents;return Promise.all([r._id,...r.ancestors].map(t=>o(t,{projectId:e})))},getProjectConnectedComponents(e,t){const n=m.getProjectConnectedComponents(e),i=this.getLinkedStyleguidesConnectedComponents(e,t,{local:!1}),r="true"===sessionStorage.getItem("connectedComponentsDevModeEnabled");return[n,i,r?m.getStyleguideLocalConnectedComponents(e):Promise.resolve({localConnectedComponents:null}),r?this.getLinkedStyleguidesConnectedComponents(e,t,{local:!0}):Promise.resolve([])]},markAsIncomplete:e=>e.map(e=>P(P({},e),{},{complete:!1})),getProjects(e,t,n){if(t===u.default.STYLEGUIDE&&"pawn"!==n){const t=g.OrganizationHelpers.getOrganizationProjects(e);return t||m.getProjects("user"===e?null:e).then(this.markAsIncomplete).catch(a.handleError)}return Promise.resolve()},getStyleguides(e,t,n){if(t===u.default.STYLEGUIDE&&"pawn"!==n){const t=g.OrganizationHelpers.getOrganizationStyleguides(e);return t||m.getStyleguides("user"===e?null:e).then(this.markAsIncomplete).catch(a.handleError)}return Promise.resolve()},getBarrel(e,t){const n=b.BarrelHelpers.getBarrel({bid:e});return n&&n.complete?Promise.resolve(n):m[t].get(e)},getBarrelExtras(e,t){if(e.partial)return Promise.resolve({});const n=e._id,i=t===u.default.PROJECT?m.getProjectComponentSections(n):Promise.resolve({}),r=t===u.default.STYLEGUIDE?m.getStyleguideProjects(n):Promise.resolve({});return Promise.all([r,i]).then(([e,...t])=>Object.assign({linkedProjects:e.projects},...t))}},N={initOrganization(e,t,n,i){const{_id:o="user",transitionLeft:s}=n||{};if("user"!==o&&"pawn"===i&&-1!==s){!function(e,t,n,i){const o="transitionBannerStatus"+e;"dismissed"!==sessionStorage.getItem(o)&&r.show({content:`This ${t} now belongs to an organization but looks like you’re not a member yet. For ${Object(w.pluralize)(i,"day",{one:"a"})}, you’ll be able to access its resources but if you’re a designer or a developer, <a href="#">request an invite</a> from admins.`,type:"info",contentType:"html",group:"transition",closeCallback(){sessionStorage.setItem(o,"dismissed")},bodyCallbacks:{a(e){e.preventDefault(),g.OrganizationActions.requestInvite(n,document.querySelector("main")),sessionStorage.setItem(o,"dismissed"),r.closeBanner("transition")}}})}(e,t,o,Math.ceil(s/1e3/60/60/24))}else r.closeBanner("transition")},async collectData(e,t){try{const n=await x.getBarrel(e,t),{userId:i}=S.UserStore.getState(),r=n.users.find(({user:e})=>e._id===i),[o,s]=await Promise.all([x.getOrganization(n,t),x.getOrganizations()]);if(n.partial||!r){return{organization:o,organizations:s,organizationId:o?o._id:"user",ancestors:[],barrel:n}}const a=await x.getBarrelExtras(n,t),{role:l}=r,c=new d.default(P(P({},n),a)),u=o?o._id:"user",[h,p,f,g,{connectedComponents:m},b,{localConnectedComponents:y},v]=await Promise.all([x.getAncestors(e,c.ancestors),x.getOrganizationProfiles(s.map(e=>e._id),i),x.getProjects(u,t,l),x.getStyleguides(u,t,l),...x.getStyleguideConnectedComponents(e,c.ancestors)]);return c.connectedComponents=m,c.localConnectedComponents=y,b.forEach((e,t)=>{h[t].connectedComponents=e.connectedComponents}),v.forEach((e,t)=>{h[t].localConnectedComponents=e.localConnectedComponents}),{barrel:c,role:l,ancestors:h,organizationId:u,organization:o,organizations:s,organizationProfiles:p,organizationProjects:f,organizationStyleguides:g}}catch(n){!function(e){a.handleError(e,{clientErrorHandler:()=>{o.create({title:e.title,message:e.message}),b.BarrelHelpers.navigateToWorkspace()}})}(n)}}};const L={selectParentRequest({stid:e,parent:t}){m.updateStyleguideParent(e,t).then(()=>{const{styleguides:n}=C.StyleguidesDataStore.getState(),i=[...n[t].ancestors,t].filter(e=>!(n[e]&&n[e].complete));return x.getAncestors(e,i)}).then(n=>{C.StyleguidesActions.selectParentSuccess({stid:e,parent:t,styleguides:n})}).catch(e=>{C.StyleguidesActions.selectParentFailed(),a.handleError(e)})},removeParent({stid:e,oldParent:t}){m.removeStyleguideParent(e).catch(n=>{t?C.StyleguidesActions.selectParent({stid:e,parent:t}):C.StyleguidesActions.removeParent({stid:e}),a.handleError(n)})}};C.StyleguidesDispatcher.register(e=>{if(e.syncWithApi)switch(e.type){case C.StyleguidesActionTypes.SELECT_PARENT_REQUEST:L.selectParentRequest(e);break;case C.StyleguidesActionTypes.REMOVE_PARENT:L.removeParent(e)}}),h.default.route(/\/(styleguide)\/([\da-f]{24})(?:\/(about|colors|textstyles|spacing|components))?/i,(function(e){const[t,n,r]=e.match;y.AppActions.setPage("barrel");const o=function(e,t){return t?"textstyles"===t?"textStyles":t:e===u.default.PROJECT?"colors":"about"}(t,r),{cid:s=[],tsid:a=[],sptid:d=[],coid:[h]=[],cseid:[m]=[],seid:[S]=[m]}=e.query,{barrelId:E,barrelType:w}=b.BarrelStore.getState(),_=b.BarrelHelpers.getStyleguidesData({barrelStore:b.BarrelStore,styleguidesDataStore:C.StyleguidesDataStore}),{component:j}=h?Object(k.findComponentById)(_,h):{};if(n===E)return void v.StyleguideActions.updateState({selectedStyleguideSection:o,highlightedColors:s,highlightedTextStyles:a,highlightedSpacingTokens:d,selectionComponentId:h,selection:j,selectedNavigatorId:S,scrolledSection:S,highlightScrolledSection:!!S});E&&(w===u.default.PROJECT?Object(T.unsubscribeFromProjectChannel)(E):w===u.default.STYLEGUIDE&&Object(T.unsubscribeFromStyleguideChannel)(E)),b.BarrelActions.reset();const P=N.collectData(n,t),R=l.barrelPrefs.getAll(n).then(({assetDensityScalePrefs:e,assetNamingConvention:t,showOptimizedSVG:n,connectedComponentsLocalWorkspace:i,extensions:r,styleguideLeftSidebarWidth:o,styleguideRightSidebarWidth:s})=>({assetDensityScalePrefs:e,assetNamingConvention:t,showOptimizedSVG:n,connectedComponentsLocalWorkspace:i,enabledExtensions:r,leftSidebarWidth:o,rightSidebarWidth:s})),I=l.userPrefs.getAll().then(e=>{const{noVectorAssetInfoHidden:t,densityMismatchWarningHidden:n,slackReconnectionAuntieSeen:i}=e;return{noVectorAssetInfoHidden:t,densityMismatchWarningHidden:n,showSlackReconnectionAuntie:!i}});return Promise.all([P,R,I]).then(([{barrel:e,role:r,organizationId:l,organization:m,organizations:y,organizationProfiles:v,organizationProjects:C,organizationStyleguides:E,ancestors:k},{assetDensityScalePrefs:w,assetNamingConvention:_,enabledExtensions:P,showOptimizedSVG:R,leftSidebarWidth:I,rightSidebarWidth:L,connectedComponentsLocalWorkspace:U},{noVectorAssetInfoHidden:M,densityMismatchWarningHidden:B,showSlackReconnectionAuntie:z}])=>{if(b.BarrelActions.load({barrel:{barrelType:t,barrelId:n,assetDensityScalePrefs:Object(D.initAssetDensityScalePrefsIfNecessary)(e.type,w),assetNamingConvention:"android"===e.type?"snakeCase":_,showOptimizedSVG:R,organizationId:l,organizationTransitionFinished:m&&-1===m.transitionLeft,noVectorAssetInfoHidden:M,densityMismatchWarningHidden:B,showSlackReconnectionAuntie:z,connectedComponentsDevModeEnabled:"true"===sessionStorage.getItem("connectedComponentsDevModeEnabled"),connectedComponentsLocalWorkspace:U},styleguide:{selectedStyleguideSection:o,highlightedColors:s,highlightedTextStyles:a,highlightedSpacingTokens:d,selectionComponentId:h,selection:j,selectedNavigatorId:S,scrolledSection:S,highlightScrolledSection:!!S,leftSidebarWidth:I,rightSidebarWidth:L},notifications:{notificationLastReadTime:Zeplin.user.notificationLastReadTime},data:{[t]:e,organization:"pawn"!==r?m:null,organizations:y,ancestors:k,organizationProfiles:v,organizationProjects:C,organizationStyleguides:E}}),requestIdleCallback(async()=>{if(!m||m.members||"pawn"===r)return;const e=v[l].restricted?{_id:l,members:[],wildlings:[]}:await x.getOrganizationMembers(l);g.OrganizationActions.getOrganizationMembersSuccess(e)}),e.partial||(f.ExtensionsActions.init({enabledExtensions:P}),N.initOrganization(n,t,m,r),k.forEach(e=>Object(T.subscribeToStyleguideChannel)(e._id))),t===u.default.PROJECT?Object(T.subscribeToProjectChannel)(n):t===u.default.STYLEGUIDE&&Object(T.subscribeToStyleguideChannel)(n),c.default.isWindowsApp&&(b.BarrelActions.getConnectedComponentsEditorInfo(),p.queryAssetDownloadTarget(n,t,A)),m)"past_due"===m.subscriptionStatus?i.showFailedPaymentBanner({oid:m._id,currentRole:r}):"will_cancel_at_period_end"===m.subscriptionStatus&&i.showCancelledSubscriptionBannerIfNecessary({oid:m._id,currentRole:r,subscriptionCancelAt:m.subscriptionCancelAt});else{const t=e.findOwner();"past_due"===t.user.subscriptionStatus?i.showFailedPaymentBanner({currentRole:r,ownerEmail:t.user.email}):"will_cancel_at_period_end"===t.user.subscriptionStatus&&i.showCancelledSubscriptionBannerIfNecessary({currentRole:r,subscriptionCancelAt:t.user.subscriptionCancelAt})}O.SlackPreferencesActions.init()})}))},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(46),o=n.n(r),s=n(44),a=n(680),l=(n(165),n(719),n(720),n(725)),c=(n(603),n(698),n(732),n(733),n(747),n(748),n(353)),d=n(764);function u(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}async function g(){const e=function(){const e=Object(s.parseUrlParams)(location.search),t=e.uri&&e.uri[0];if(!t)return null;try{const e=new URL(t),n=Object(s.convertURItoWebURL)(e);return n||null}catch(n){return null}}();e?history.replaceState(null,null,e):await Object(l.goToLastOrganizationWorkspace)()}function m(e){return e?e.map(e=>p(p({},e),{},{complete:!1})):null}o.a.get("userToken")?(i.render(i.h(d.default),document.body),function(){if("apiData"in Zeplin){const e=Zeplin.apiData,{projects:t,styleguides:n,focusedBarrels:i,oid:r,organizations:o,organizationProfiles:s,barrel:l,project:c,linkedStyleguides:d=[],ancestors:h,versions:p,dots:f,user:g}=e,b=u(e,["projects","styleguides","focusedBarrels","oid","organizations","organizationProfiles","barrel","project","linkedStyleguides","ancestors","versions","dots","user"]);a.AppActions.hydrateEmbeddedData({projects:m(t),styleguides:m(n),focusedBarrels:i,oid:r,organizations:o,organizationProfiles:s,project:c,linkedStyleguides:d,versions:p,dots:f,styleguide:l,ancestors:h,user:g}),Zeplin.apiData=b}}(),async function(){await g(),c.default.start(document.body)}()):Zeplin.requireLogin()},function(e,t,n){"use strict";n.r(t);var i=n(46),r=n.n(i),o=n(68),s=n(140),a=n(166),l=n(137),c=n(52),d=n(349);function u(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}!async function(){let e=d.UserStore.getState(),{loading:t}=e,n=u(e,["loading"]);if(t){if(n=await function(){const e=Object(c.fetchEmbeddedData)("user",{remove:!1});return e?Promise.resolve(e):r.a.get("userToken")?Object(l.getUserProfile)():Promise.resolve(null)}(),!n)return;d.UserActions.loadUser(n)}const{notificationBannerStatus:i,notificationStatus:h,zeplinThreeZeroWhatsNewSeen:p,shouldPromoteSpacingSectionDescriptionEditButton:f,shouldDisplayStyleguideTutorial:g}=await s.userPrefs.getAll(),m=(await a.getPlans()).find(e=>e.id===n.paymentPlan);d.UserActions.updateUser({isDesktopNotificationEnabled:h,zeplinThreeZeroWhatsNewSeen:p,shouldPromoteSpacingSectionDescriptionEditButton:f,shouldDisplayStyleguideTutorial:g,paymentPlan:m}),window.Notification&&"default"===Notification.permission&&i&&o.show({content:"Zeplin needs your permission to <a href='#'>enable desktop notifications</a>",contentType:"html",group:"notification",closeCallback(){s.userPrefs.set("notificationBannerStatus",!1)},bodyCallbacks:{a(e){e.preventDefault(),o.closeBanner("notification"),Notification.requestPermission(e=>{d.UserActions.setDesktopNotifications("granted"===e)})}}}),"registered"===n.status&&"dismissed"!==sessionStorage.getItem("verificationBannerStatus")&&o.show({content:"Your email is not verified yet. Please check your inbox.",group:"verification",closeCallback(){sessionStorage.setItem("verificationBannerStatus","dismissed")}})}()},function(e,t,n){"use strict";n.r(t);var i=n(67),r=n(62),o=n(44),s=n(721);function a(e,t){s.VersionImportsActions.handleImports(t)}function l(){i.default.ipcRenderer.on("imports-change",Object(r.debounce)(a)),i.default.ipcRenderer.send("subscribe-to-imports")}function c(e){e.forEach((function(e){e.remove()}))}function d(e){e.stopPropagation(),"height"===e.propertyName&&e.target.remove()}function u(e){e.stopPropagation();const t=e.target;t.removeEventListener("transitionend",u),t.classList.remove("resize"),t.style.transitionDuration="";const n=document.querySelectorAll(".versionImport"),i=document.querySelectorAll(".versionImport.hidden");0!==n.length&&i.length!==n.length||s.VersionImportsActions.hideImportsIndicator(),i.length&&c(i),l()}function h(e){e.stopPropagation();const t=document.querySelector(".versionImports .body"),n=document.querySelector(".versionImports .list"),r=Array.from(document.querySelectorAll(".versionImport.done, .versionImport.failed"));if(0===r.length)return;i.default.ipcRenderer.removeAllListeners("imports-change");var o=r.reduce((function(e,n){return!function(e,t){const n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return n.bottom>=i.top&&n.top<=i.bottom}(n,t)?e.hideAndRemove.push(n):e.animateAndRemove.unshift(n),e}),{hideAndRemove:[],animateAndRemove:[]});const s=o.hideAndRemove,a=o.animateAndRemove;let h=n.clientHeight,p=h,f=0;n.style.height=h+"px";var g=t.getBoundingClientRect();s.forEach((function(e){const i=e.getBoundingClientRect();h-=i.height,p-=e.height,n.style.height=h+"px";const r=i.bottom<g.top;e.classList.add("hidden"),r&&(t.scrollTop-=i.height)})),a.forEach((function(e){const t=e.getBoundingClientRect().height;p-=t,e.addEventListener("transitionend",d),e.style.transitionDelay=f+"ms",e.classList.add("clear"),f+=80}));let m=f-80;const b=p<h,y=p<t.clientHeight-52;if(b&&y){h>t.clientHeight-52&&(n.style.height=t.clientHeight-52+"px"),n.addEventListener("transitionend",u),n.classList.add("resize"),n.style.transitionDuration=m+150+200+"ms",n.style.height=p+"px"}else n.style.height="auto",c(s),a.length>0?setTimeout(l,m+200):l();i.default.ipcRenderer.send("clear-imports")}i.default&&i.default.ipcRenderer&&(i.default.ipcRenderer.on("imports-started",s.VersionImportsActions.showImportsList),i.default.ipcRenderer.on("set-suggested-resources",(function(e,t){s.VersionImportsActions.setSuggestedResources(t)})),s.VersionImportsDispatcher.register(e=>{switch(e.type){case s.VersionImportsActionTypes.RETRY_IMPORT:n=e.id,i.default.ipcRenderer.send("retry-import",n);break;case s.VersionImportsActionTypes.CANCEL_IMPORT:!function(e){i.default.ipcRenderer.send("cancel-import",e)}(e.id);break;case s.VersionImportsActionTypes.RETRY_GET_PROJECT_FOR_IMPORTS:!function(e){i.default.ipcRenderer.send("retry-getting-project",e)}(e.id);break;case s.VersionImportsActionTypes.CLEAR_IMPORTS:h(e.ev);break;case s.VersionImportsActionTypes.HIDE_COMPONENT_LIMIT_HINT:t=e.barrelId,i.default.ipcRenderer.send("remove-component-limit-rejection",t);break;case s.VersionImportsActionTypes.SEE_PLANS:location.assign(Object(o.urlResolve)("profile-billing",{query:{period:"annual"}}))}var t,n}),l())},function(e,t,n){"use strict";n.r(t);var i=n(722);n.d(t,"VersionImportsActions",(function(){return i.default}));var r=n(688);n.d(t,"VersionImportsActionTypes",(function(){return r.default}));var o=n(723);n.d(t,"VersionImportsDispatcher",(function(){return o.default}));var s=n(724);n.d(t,"VersionImportsStore",(function(){return s.default}))},function(e,t,n){"use strict";n.r(t);var i=n(688),r=n(723);const o={hideImportsIndicator(){r.default.dispatch({type:i.default.HIDE_IMPORTS_INDICATOR})},showImportsList(){r.default.dispatch({type:i.default.SHOW_IMPORTS_LIST})},hideImportsList(){r.default.dispatch({type:i.default.HIDE_IMPORTS_LIST})},handleImports(e){r.default.dispatch({type:i.default.HANDLE_IMPORTS,imports:e})},setSuggestedResources(e){r.default.dispatch({type:i.default.SET_SUGGESTED_RESOURCES,suggestedResourcesByBarrel:e})},goToImportedVersion(e,t,n,o){r.default.dispatch({type:i.default.GO_TO_IMPORTED_VERSION,barrelId:e,barrelType:t,versionCollectionId:n,versionCollectionType:o})},retryImport(e){r.default.dispatch({type:i.default.RETRY_IMPORT,id:e})},cancelImport(e){r.default.dispatch({type:i.default.CANCEL_IMPORT,id:e})},retryGetProjectForImports(e){r.default.dispatch({type:i.default.RETRY_GET_PROJECT_FOR_IMPORTS,id:e})},clearImports(e){r.default.dispatch({type:i.default.CLEAR_IMPORTS,ev:e})},hideComponentLimitHint(e){r.default.dispatch({type:i.default.HIDE_COMPONENT_LIMIT_HINT,barrelId:e})},seePlans(){r.default.dispatch({type:i.default.SEE_PLANS})}};t.default=o},function(e,t,n){"use strict";n.r(t);var i=n(84);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(73),r=n.n(i),o=n(723),s=n(688),a=n(635),l=n(342),c=n(19),d=n(686),u=n(20),h=n(105);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return Object.keys(e).reduce((t,n)=>{const{colors:i=[],textStyles:r=[]}=e[n];return f(f({},t),{},{[n]:{colors:i.map(e=>new u.default(f({_id:Object(c.getRandomString)()},e))),textStyles:r.map(e=>new h.default(f({_id:Object(c.getRandomString)()},e)))}})},{})}class b extends r.a{constructor(){super(o.default)}getInitialState(){return{componentRejections:{},suggestedResourcesByBarrel:{},versionImports:[],indicatorVisible:!1,listVisible:!1}}hideImportsIndicator(e){return Object.assign({},e,{indicatorVisible:!1})}showImportsList(e){return Object.assign({},e,{indicatorVisible:!0,listVisible:!0})}hideImportsList(e){return Object.assign({},e,{listVisible:!1})}removeColorFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{color:i,bid:r}=t;if(!n[r])return e;const{[r]:{colors:o,textStyles:s}}=n;if(!o.length)return e;const a=new u.default(i);return f(f({},e),{},{suggestedResourcesByBarrel:f(f({},n),{},{[r]:{textStyles:s,colors:o.filter(e=>e.id!==a.id)}})})}removeColorsFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{colors:i,bid:r}=t;if(!n[r])return e;const{[r]:{colors:o}}=n;return o.length?i.reduce((e,t)=>this.removeColorFromSuggestions(e,{color:t,bid:r}),e):e}removeTextStyleFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{textStyle:i,bid:r}=t;if(!n[r])return e;const{[r]:{colors:o,textStyles:s}}=n;if(!s.length)return e;const a=new h.default(i);return f(f({},e),{},{suggestedResourcesByBarrel:f(f({},n),{},{[r]:{colors:o,textStyles:s.filter(e=>e.id!==a.id)}})})}removeTextStylesFromSuggestions(e,t){const{suggestedResourcesByBarrel:n}=e,{textStyles:i,bid:r}=t;if(!n[r])return e;const{[r]:{textStyles:o}}=n;return o.length?i.reduce((e,t)=>this.removeTextStyleFromSuggestions(e,{textStyle:t,bid:r}),e):e}hideSuggestedColors(e,t){const{barrelId:n}=t,{suggestedResourcesByBarrel:i,suggestedResourcesByBarrel:{[n]:r}}=e;return f(f({},e),{},{suggestedResourcesByBarrel:f(f({},i),{},{[n]:f(f({},r),{},{colors:[]})})})}hideSuggestedTextStyles(e,t){const{barrelId:n}=t,{suggestedResourcesByBarrel:i,suggestedResourcesByBarrel:{[n]:r}}=e;return f(f({},e),{},{suggestedResourcesByBarrel:f(f({},i),{},{[n]:f(f({},r),{},{textStyles:[]})})})}setSuggestedResources(e,t){const{suggestedResourcesByBarrel:n}=t;return f(f({},e),{},{suggestedResourcesByBarrel:m(n)})}handleImports(e,t){const{componentImportRejections:n,versionCollectionImports:i}=t;return Object.assign({},e,{componentRejections:n,versionImports:i,indicatorVisible:i.length>0,listVisible:0!==i.length&&e.listVisible})}reduce(e,t){switch(t.type){case a.ScreenActionTypes.OPEN_SCREEN:return this.hideImportsList(e);case l.BarrelActionTypes.ADD_MULTIPLE_COLORS:return this.removeColorsFromSuggestions(e,t);case l.BarrelActionTypes.ADD_COLOR:return this.removeColorFromSuggestions(e,t);case l.BarrelActionTypes.ADD_TEXT_STYLE:return this.removeTextStyleFromSuggestions(e,t);case l.BarrelActionTypes.ADD_MULTIPLE_TEXT_STYLES:return this.removeTextStylesFromSuggestions(e,t);case d.default.HIDE_SUGGESTED_COLORS:return this.hideSuggestedColors(e,t);case d.default.HIDE_SUGGESTED_TEXT_STYLES:return this.hideSuggestedTextStyles(e,t);case s.default.HIDE_IMPORTS_INDICATOR:return this.hideImportsIndicator(e);case s.default.SHOW_IMPORTS_LIST:return this.showImportsList(e);case s.default.HIDE_IMPORTS_LIST:return this.hideImportsList(e);case s.default.SET_SUGGESTED_RESOURCES:return this.setSuggestedResources(e,t);case s.default.HANDLE_IMPORTS:return this.handleImports(e,t.imports);case s.default.GO_TO_IMPORTED_VERSION:return this.hideImportsList(e);default:return e}}}t.default=new b},function(e,t,n){"use strict";n.r(t),n.d(t,"goToLastOrganizationWorkspace",(function(){return j}));n(146),n(165);var i=n(137),r=n(45),o=n(140),s=n(353),a=n(470),l=n(473),c=n(726),d=(n(729),n(44)),u=n(467),h=n(680),p=n(481);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(){ga("set","location",location.href),ga("set","title","Space - Zeplin"),ga("send","pageview")}function y(e){if("user"===e)return{};const t=l.OrganizationHelpers.getOrganization(e),{restricted:n}=l.OrganizationHelpers.getOrganizationProfile(e);return!t||t.members?{}:n?Promise.resolve({_id:e,members:[],wildlings:[]}):i.getOrganizationMembers(e)}function S(e){return e.map(e=>g(g({},e),{},{complete:!1}))}function v(e){if("user"===e)return null;const{focusedBarrels:t}=l.OrganizationStore.getState();return t&&t[e]?t[e]:i.getOrganizationMemberFocusedBarrels(e,Zeplin.user._id)}function C(e){const t=l.OrganizationHelpers.getOrganizationProjects(e);return t||i.getProjects("user"===e?null:e).then(S)}function O(e){const t=l.OrganizationHelpers.getOrganizationStyleguides(e);return t||i.getStyleguides("user"===e?null:e).then(S)}function E(e){if("user"===e)return null;const t=l.OrganizationHelpers.getOrganization(e);return t&&t.complete?t:i.getOrganization(e).then(e=>g(g({},e),{},{complete:!0}))}function T(e){if("user"===e)return null;const t=l.OrganizationHelpers.getOrganization(e);return t&&t.complete&&t.sections?t.sections:i.getOrganizationSections(e)}function D(e,t){var n;(n=e,a.SpaceActions.setWorkspaceLoading(n),Promise.all([E(n),T(n),v(n),C(n),O(n),y(n),o.organizationPrefs.get(n,"dialogDismissStates")]).then(([e,t,i,r,o,s,a])=>{h.AppActions.loadWorkspaceData({organization:e?g(g({},e),{},{sections:t},s):null,focusedBarrels:i,projects:r,styleguides:o,oid:n,dialogDismissParams:a})})).catch(e=>{r.handleError(e,{dialogCallback(){s.default.history.replace(Object(d.urlResolve)(t))}})})}const k={onChangeSelectedOrganization({oid:e}){const{selectedTab:t}=a.SpaceStore.getState(),n="user"===e?t:"organization-"+t,i=Object(d.parseUrlParams)(location.search),r=Object(d.urlResolve)(n,{url:{oid:e}});setTimeout(()=>{s.default.history.push(r,{urlParams:i})},4),o.userPrefs.set("lastOrganization",e),b()},onChangeTab({tab:e}){const{selectedOrganizationId:t}=a.SpaceStore.getState(),n="user"===t?e:"organization-"+e,i=Object(d.parseUrlParams)(location.search),r=Object(d.urlResolve)(n,{url:{oid:t}});setTimeout(()=>{s.default.history.push(r,{urlParams:i})},4),mixpanel.webapp.track(`Opened ${t?"organization":"all"} ${e}`),b()},onChangeFilterValue({filterValue:e}){const{selectedOrganizationId:t,selectedTab:n}=a.SpaceStore.getState(),i=Object.assign({},Object(d.parseUrlParams)(location.search),{q:e});e||delete i.q;const r="user"===t?n:"organization-"+n;let o;o="user"===t?{query:i}:{url:{oid:t},query:i},setTimeout(()=>{s.default.history.replace(Object(d.urlResolve)(r,o),{urlParams:i})},4)},onChangeProjectSelectedSortType({oid:e,sortType:t}){"user"===e?o.userPrefs.set("projectSortType",t):o.organizationPrefs.set(e,"projectSortType",t)},onSetStyleguidesTabVisited(){o.userPrefs.set("styleguidesTabVisited",!0)},onToggleSectionState({oid:e,oseid:t},{shouldCollapse:n}){o.organizationPrefs.get(e,"collapsedSections").then(i=>{i[t]=n,o.organizationPrefs.set(e,"collapsedSections",i)})},onTrackBarrelClick({oid:e,organizationName:t,isFromPinArea:n}){e&&"user"!==e&&mixpanel.master.track("Navigated to project",{"Organization ID":e,"Organization Name":t,From:n?"Pinned":void 0})}},w={onGetOrganizations({organizations:e}){e&&e.forEach(e=>{Object(u.subscribeToOrganizationChannel)(e._id)})},onAddOrganization({organization:e}){Object(u.subscribeToOrganizationChannel)(e._id),i.getOrganizationMemberProfile(e._id,Zeplin.user._id).then(t=>{l.OrganizationActions.addOrganizationProfile(t,e._id)}).catch(r.handleError)},resetSortTypeAndFilters(e){if(!e.syncWithApi)return;const{q:t}=Object(d.parseUrlParams)(location.search);t&&k.onChangeFilterValue({filterValue:""}),o.organizationPrefs.get(e.oid,"projectSortType").then(t=>{"sections"!==t&&o.organizationPrefs.set(e.oid,"projectSortType","sections")})}};a.SpaceDispatcher.register(e=>{switch(e.type){case a.SpaceActionTypes.CHANGE_SELECTED_TAB:k.onChangeTab(e);break;case a.SpaceActionTypes.CHANGE_FILTER_VALUE:k.onChangeFilterValue(e);break;case a.SpaceActionTypes.CHANGE_PROJECT_SELECTED_SORT_TYPE:k.onChangeProjectSelectedSortType(e);break;case a.SpaceActionTypes.CHANGE_SELECTED_ORGANIZATION:k.onChangeSelectedOrganization(e);break;case a.SpaceActionTypes.SET_STYLEGUIDES_TAB_VISITED:k.onSetStyleguidesTabVisited();break;case a.SpaceActionTypes.TRACK_BARREL_CLICK:k.onTrackBarrelClick(e);break;case a.SpaceActionTypes.EXPAND_SECTION:k.onToggleSectionState(e,{shouldCollapse:!1});break;case a.SpaceActionTypes.COLLAPSE_SECTION:k.onToggleSectionState(e,{shouldCollapse:!0})}}),l.OrganizationDispatcher.register(e=>{switch(e.type){case l.OrganizationActionTypes.GET_ORGANIZATIONS_SUCCESS:case h.AppActionTypes.HYDRATE_EMBEDDED_DATA:w.onGetOrganizations(e);break;case l.OrganizationActionTypes.ADD_ORGANIZATION:w.onAddOrganization(e);break;case l.OrganizationActionTypes.ADD_PROJECT_SECTION:case l.OrganizationActionTypes.UPDATE_PROJECT_ORDER:w.resetSortTypeAndFilters(e)}});const _=/^(?:\/organization\/([\da-f]{24}))?\/(projects|styleguides)?$/i;async function j(){const e=new URL(location.href);if(_.test(e.pathname)){const[,t="user",n="projects"]=e.pathname.match(_),i=await o.userPrefs.get("lastOrganization");if(i&&"user"!==i&&i!==t){const t=Object.fromEntries(e.searchParams),r=Object(d.urlResolve)("organization-"+n,{url:{oid:i},query:t});history.replaceState(null,null,r)}}}s.default.route(_,(async function(e){b();const{match:[t="user",n="projects"],query:{q:[s=""]=[],pid:d=[],stid:u=[],oseid:[f]=[],seid:[g]=[f],newProject:m,newStyleguide:y}}=e;h.AppActions.setPage("workspace");const S=[...d,...u],{styleguidesTabVisited:v,pinnedBarrelOnce:C}=await o.userPrefs.getAll(),O="user"===t?await o.userPrefs.get("projectSortType"):await o.organizationPrefs.get(t,"projectSortType"),E="user"===t?{}:await o.organizationPrefs.get(t,"collapsedSections");let T;"projects"===n&&m?T=p.default.CREATE_PROJECT:"styleguides"===n&&y&&(T=p.default.CREATE_STYLEGUIDE),a.SpaceActions.updatePageState({selectedOrganizationId:t,selectedTab:n,filterValue:s,selectedWorkflowStatusFilter:"All",highlightedBarrels:S,highlightedSection:g,collapsedSections:E,selectedProjectSortType:g?"sections":O,styleguidesTabVisited:v,pinnedBarrelOnce:C,visibleDialogType:T}),c.default.setNotificationLastReadTime(new Date(Zeplin.user.notificationLastReadTime));const k=await function(){const{organizations:e}=l.OrganizationStore.getState();return e.length?Promise.resolve(e):i.getOrganizations()}();l.OrganizationActions.getOrganizationsSuccess(k),await function(e,t){const{organizationProfiles:n}=l.OrganizationStore.getState();if(0!==Object.keys(n).length)return;const o=e.map(e=>i.getOrganizationMemberProfile(e._id,t));return Promise.all(o).then(t=>{const n=t.reduce((t,n,i)=>(t[e[i]._id]=n,t),{});l.OrganizationActions.getOrganizationMemberProfilesSuccess(n)}).catch(r.handleError)}(k,Zeplin.user._id),function(e,t,n){e.find(e=>e._id===t)||"user"===t?D(t,n):a.SpaceActions.changeSelectedOrganization("user")}(k,t,n)}))},function(e,t,n){"use strict";n.r(t);var i=n(727),r=n(728),o=n(62),s=n(137);const a=Object(o.debouncePromise)(s.updateNotificationLastReadTime),l={addNotification(e){r.default.dispatch({type:i.default.ADD_NOTIFICATION,notification:e})},getNotifications(e,t){r.default.dispatch({type:i.default.GET_NOTIFICATIONS_REQUESTED}),Object(s.getNotifications)(e,t).then(e=>{r.default.dispatch({type:i.default.GET_NOTIFICATIONS_SUCCESS,notifications:e.notifications,hasMore:e.hasMore})}).catch(e=>{r.default.dispatch({type:i.default.GET_NOTIFICATIONS_FAILED,error:e})})},setNotificationLastReadTime(e){r.default.dispatch({type:i.default.UPDATE_NOTIFICATION_LAST_READ_TIME,notificationLastReadTime:e})},updateNotificationLastReadTime(){a().then(e=>{const t=new Date(e.notificationLastReadTime);Zeplin.updateUser({notificationLastReadTime:t}),l.setNotificationLastReadTime(t)})}};t.default=l},function(e,t,n){"use strict";n.r(t);t.default={ADD_NOTIFICATION:"addNotification",GET_NOTIFICATIONS_REQUESTED:"getNotificationsRequested",GET_NOTIFICATIONS_SUCCESS:"getNotificationsSuccess",GET_NOTIFICATIONS_FAILED:"getNotificationsFailed",UPDATE_NOTIFICATION_LAST_READ_TIME:"updateNotificationLastReadTime"}},function(e,t,n){"use strict";n.r(t);var i=n(84);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(137),r=n(45),o=n(730),s=n(67),a=n(96),l=n(467),c=n(345),d=n(346),u=n(342),h=n(470),p=n(680),f=n(481),g=n(65),m=n(62),b=n(44),y=n(353);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const E=g.default.supports.webviews;const T={project:{create:i.createProject,get:i.getProject,inviteUser:i.inviteProjectUser,transferOwnership:i.transferProjectOwnership},styleguide:{create:i.createStyleguide,get:i.getStyleguide,inviteUser:i.inviteStyleguideUser,transferOwnership:i.transferStyleguideOwnership}},D={project:{getRequest:c.ProjectsActions.getProjectRequest,getSuccess:c.ProjectsActions.getProjectSuccess,getFailed:c.ProjectsActions.getProjectFailed,transferOwnership:c.ProjectsActions.transferOwnership},styleguide:{getRequest:d.StyleguidesActions.getStyleguideRequest,getSuccess:d.StyleguidesActions.getStyleguideSuccess,getFailed:d.StyleguidesActions.getStyleguideFailed,transferOwnership:d.StyleguidesActions.transferOwnership}},k=e=>{const t=e+"s";return{onGetBarrels(n){const i=n[t];i&&(i.forEach(({_id:t})=>Object(l.subscribeToBarrelChannel)(e,t)),E&&i.length&&function(e,t){s.default.ipcRenderer.sendToHost("preload-"+e,Object(b.urlResolve)(e,{url:{bid:t.slice().sort(m.sortBy.updated)[0]._id}}))}(e,i))},onCreateBarrel(t){let{type:n}=t,i=O(t,["type"]);const{oid:o}=i,s=i[e+"Type"];T[e].create(i).then(({_id:t})=>(mixpanel.master.track("Created "+e,{Type:Object(m.getPlatformString)(s)}),T[e].get(t).then(n=>{h.SpaceActions.hideLoading(),h.SpaceActions.closeDialog(),u.BarrelActions.add({barrel:n,oid:o,barrelType:e}),y.default.history.push(Object(b.urlResolve)(e,{url:{bid:t}}))}))).catch(t=>{h.SpaceActions.hideLoading(),h.SpaceActions.closeDialog(),r.handleError(t,{clientErrorHandler:{402:()=>h.SpaceActions.openDialog(f.default.UPGRADE_PLAN,{barrelType:e}),default:r.handleError}})})},onInviteUser({container:t,bid:n,users:i,oid:r}){o.show({popupContainer:t,bid:n,bt:e,members:i,oid:r,onInvite(t){u.BarrelActions.addMembers({bid:n,barrelType:e,members:t})}})},onTransferOwnership(t){const{bid:n,fromUserId:i,targetId:o,toOrganization:s,oid:a}=t;T[e].transferOwnership(n,o,s).then(()=>{D[e].transferOwnership({bid:n,fromUserId:i,targetId:o,toOrganization:s,oid:a})}).catch(r.handleError)}}},w={onParentSelect({stid:e,parent:t,oldParent:n}){i.updateStyleguideParent(e,t).then(e=>{mixpanel.master.track((n?"Changed":"Added")+" styleguide parent")}).catch(t=>{d.StyleguidesActions.removeParent({stid:e,parent:n}),r.handleError(t)})},onParentRemove({stid:e,oldParent:t}){i.removeStyleguideParent(e).then(e=>{mixpanel.master.track("Removed styleguide parent")}).catch(n=>{d.StyleguidesActions.selectParent({stid:e,parent:t}),r.handleError(n)})}};c.ProjectsDispatcher.register(e=>{const t=k(a.default.PROJECT),{type:n,pid:i,syncWithApi:r}=e,o=v({bid:i},O(e,["type","pid","syncWithApi"]));switch(n){case c.ProjectsActionTypes.INVITE_USER:t.onInviteUser(o);break;case c.ProjectsActionTypes.GET_PROJECTS_SUCCESS:case p.AppActionTypes.LOAD_WORKSPACE_DATA:case p.AppActionTypes.HYDRATE_EMBEDDED_DATA:t.onGetBarrels(o)}if(r)switch(n){case c.ProjectsActionTypes.CREATE_PROJECT:t.onCreateBarrel(o);break;case c.ProjectsActionTypes.INIT_TRANSFER_OWNERSHIP:t.onTransferOwnership(o)}}),d.StyleguidesDispatcher.register(e=>{const t=k(a.default.STYLEGUIDE),{type:n,stid:i,syncWithApi:r}=e,o=v({bid:i},O(e,["type","stid","syncWithApi"]));switch(n){case d.StyleguidesActionTypes.INVITE_USER:t.onInviteUser(o);break;case d.StyleguidesActionTypes.GET_STYLEGUIDES_SUCCESS:case p.AppActionTypes.LOAD_WORKSPACE_DATA:case p.AppActionTypes.HYDRATE_EMBEDDED_DATA:t.onGetBarrels(o)}if(r)switch(n){case d.StyleguidesActionTypes.CREATE_STYLEGUIDE:t.onCreateBarrel(o);break;case d.StyleguidesActionTypes.INIT_TRANSFER_OWNERSHIP:t.onTransferOwnership(o);break;case d.StyleguidesActionTypes.SELECT_PARENT:w.onParentSelect(e);break;case d.StyleguidesActionTypes.REMOVE_PARENT:w.onParentRemove(e)}})},function(e,t,n){"use strict";n.r(t),n.d(t,"element",(function(){return d})),n.d(t,"anchor",(function(){return u})),n.d(t,"show",(function(){return me})),n.d(t,"dismiss",(function(){return Se})),n.d(t,"isHidden",(function(){return ve})),n.d(t,"removeUser",(function(){return pe})),n.d(t,"handleInviteUserSocketForInvitePopup",(function(){return ue})),n.d(t,"handleInvitedSocketForInvitePopup",(function(){return de})),n.d(t,"handleCreateUserSocketForInvitePopup",(function(){return fe})),n.d(t,"handleDeleteUserSocketForInvitePopup",(function(){return ge}));n(731);var i=n(42),r=n(62),o=n(56),s=n(137),a=n(45),l=n(473);const c=new Set,d=document.getElementById("inviteUserPopup"),u=document.getElementById("inviteUserPopupAnchor"),h=document.getElementById("inviteeHandle"),p=d.querySelector(".userList"),f=document.getElementById("inviteeTemplate"),g=document.getElementById("inviteNewUserTemplate"),m=document.getElementById("typedUserAlreadyAddedTemplate"),b=document.getElementById("inviteByTagTemplate"),y=document.querySelector(".organizationInviteeList"),S=document.querySelector(".tagList"),v=document.querySelector(".showRemainingTags"),C=document.querySelector(".memberList"),O=document.querySelector(".membersWithTagHeader"),E=document.querySelector(".membersWithTagList"),T=document.querySelector(".wildlingList");let D,k,w,_,j,P,R,I={},A=[],x=[],N=new Set,L={},U=new Set,M=new Set,B=new Set,z=!0;function F(e){if(e.classList.contains("newUser")){if(!h.checkValidity()&&!/^\w{3,30}$/.test(h.value))return Object(o.wiggle)(h.parentElement),void(z=!0);d.querySelector(".inputArea img").classList.remove("hidden")}else e.classList.remove("inviteRetry"),e.classList.add("inviteSpinner");if(e.classList.contains("newUser"))se(h.value,e);else if(e.classList.contains("user")){var t=x.find((function(t){return t._id===e.dataset.uid}));se(t.username||t.email,e)}else if(e.classList.contains("member")){var n=L.members.find((function(t){return t.user._id===e.dataset.mid}));se(n.user.username||n.user.email,e)}else if(e.classList.contains("wildling")){var r=L.wildlings.find((function(t){return t.user._id===e.dataset.wid}));se(r.user.username||r.user.email,e)}else e.classList.contains("inviteByTag")&&(a=e.dataset.tag,l=e,s[k].inviteUsersByTag(L._id,w,a).then((function(e){ae(e,l)})).catch((function(){l.classList.remove("inviteSpinner"),l.classList.add("inviteRetry"),i.create({done:{cb(){Object(o.highlightInput)(h),z=!0}}})})));var a,l}function H(){d.classList.contains("organizationBarrel")?K():J()}function W(e,t,n){var i=(n=n||{}).importance||1;return n.skipExactMatch||!1||e!==t?e.startsWith(t)?8*i:e.includes(t)?4*i:0:16}function V(e,t){e.parentElement.classList.toggle(t,!e.childElementCount)||Array.from(e.querySelectorAll(".invitee")).forEach((function(t){t.classList.remove("hidden","selected"),e.appendChild(t)}))}function G(e){return S.querySelector(`[data-tag="${CSS.escape(e)}"]`)}function q(e){return C.querySelector("[data-mid='"+e.user._id+"']")}function $(e){return T.querySelector("[data-wid='"+e.user._id+"']")}function Z(e,t,n,i){t.forEach((function(t){var i=n(t);i.classList.remove("hidden","selected"),e.appendChild(i)}));for(var r=0;r<e.childElementCount-t.length;r++){var o=e.children[r];o.classList.add("hidden"),o.classList.remove("selected")}e.parentElement.classList.toggle(i,0===t.length)}function Y(e,t,n){var i={};if(!e)return[];var r=e.filter((function(e){if(B.has(e.user._id)){var r=n(e);if(!r)return!1;if(!r.classList.contains("inviteDone"))return!1}var o=0;return e.user.username&&(o+=W(e.user.username,t)),e.user.fullName&&(o+=W(e.user.fullName,t)),!!(o+=W(e.user.email,t,{skipExactMatch:!0,importance:.25}))&&(i[e.user._id]=o,!0)}));return r.sort((function(e,t){return i[t.user._id]-i[e.user._id]})),r}function K(){Q(".wildlingList .newUser"),Q(".organizationInviteeList .userListTypedUserAlreadyAdded");var e,t,n=h.value.toLowerCase();if(d.classList.remove("noNewInvitees","noInvitees"),y.classList.remove("noTags","noMembers","hasMembersWithTag","noWildlings","writeAnEmailToInvite","showAddsToTheBarrelOnlyInfo"),E.innerHTML="",h.placeholder="Invite with email/username",n){e=!!(t=M.has(n))||U.has(n);var i=Object.keys(I);i.sort();var r={},o=i.filter((function(e){var t=W(e.toLowerCase(),n);return!!t&&(r[e]=t,!0)})).sort((function(e,t){return r[t]-r[e]}));Z(S,o,G,"noTags");var s=Y(L.members,n,q);Z(C,s,q,"noMembers");var a=G(o[0]);y.classList.toggle("hasMembersWithTag",1===o.length&&(I[o[0]]>0||a&&a.classList.contains("inviteDone")))&&(O.textContent=o[0],E.innerHTML="",L.members.forEach((function(e){var t=q(e);if((!B.has(e.user._id)||t&&t.classList.contains("inviteDone"))&&e.tags.includes(o[0])){var n=te(e);n.querySelector(".invitee").classList.toggle("inviteDone",t&&t.classList.contains("inviteDone")),E.appendChild(n)}})));var l=Y(L.wildlings,n,$);if(Z(T,l,$,"noWildlings"),e||n.includes("@")){if(!e){y.classList.add("showAddsToTheBarrelOnlyInfo");var c=document.importNode(g.content,!0);c.querySelector(".invitee").classList.add("wildling"),c.querySelector(".newUserHandle").textContent=h.value,T.appendChild(c)}}else y.classList.add("writeAnEmailToInvite");if(t&&!y.querySelector(".invitee.inviteDone")){var u=document.importNode(m.content,!0);u.querySelector(".userListTypedUserAlreadyAdded").classList.add(n===Zeplin.user.username||n===Zeplin.user.email?"selfUser":"someUser"),u.querySelector("span").textContent=h.value,y.appendChild(u)}}else{if(V(S,"noTags"),v.textContent){var p=Array.from(S.querySelectorAll(".inviteByTag")).map((function(e){return e.dataset.tag}));p.sort(),p.forEach((function(e){var t=G(e);S.appendChild(t)}));for(var f=S.firstElementChild,b=3;b<S.childElementCount;b++){var D=S.children[b];D.classList.add("hidden"),S.insertBefore(D,f)}S.childElementCount-3>0?(v.textContent=S.childElementCount-3,v.classList.toggle("multiple",S.childElementCount-3>1)):v.textContent=""}V(C,"noMembers"),V(T,"noWildlings")}var k=y.querySelectorAll(".invitee:not(.hidden)");if(k.length)k[0].classList.add("selected");else if(!t&&!y.classList.contains("writeAnEmailToInvite")){const e=(L.members||[]).filter(e=>!B.has(e.user._id)),t=(L.wildlings||[]).filter(e=>!B.has(e.user._id));e.length+t.length===0&&_.length>1?d.classList.add("noNewInvitees"):1===_.length&&(d.classList.add("noInvitees"),h.placeholder="Invite with email")}}function J(){Q(".userList .user.newUser"),Q(".userList .userListTypedUserAlreadyAdded"),p.classList.remove("writeAnEmailToInvite"),h.placeholder="Invite with email/username";var e,t,n=h.value.toLowerCase(),i=document.importNode(m.content,!0);if(n){e=!!(t=M.has(n))||c.has(n);var r={},o=x.filter((function(e){var t=0;return e.username&&(t+=W(e.username,n)),(t+=W(e.email,n,{skipExactMatch:!0,importance:.25}))>0&&(r[e._id]=t,!0)})).sort((function(e,t){return r[t._id]-r[e._id]}));o.forEach((function(e){var t=X(e._id);t.classList.remove("hidden","selected"),p.appendChild(t)}));for(var s=0;s<x.length-o.length;s++){var a=p.children[s].classList;a.add("hidden"),a.remove("selected")}}else x.forEach((function(e){var t=X(e._id);t.classList.remove("hidden","selected"),p.appendChild(t)}));if(n){if(e||n.includes("@")){if(!e){var l=document.importNode(g.content,!0);l.querySelector(".invitee").classList.add("user"),l.querySelector(".newUserHandle").textContent=h.value,p.appendChild(l)}}else p.classList.add("writeAnEmailToInvite");t&&(i.querySelector(".userListTypedUserAlreadyAdded").classList.add(n===Zeplin.user.username||n===Zeplin.user.email?"selfUser":"someUser"),i.querySelector("span").textContent=h.value,p.appendChild(i))}d.classList.remove("noInvitees"),d.classList.remove("noNewInvitees");var u=p.querySelectorAll(".user:not(.hidden)");u.length?u[0].classList.add("selected"):t||p.classList.contains("writeAnEmailToInvite")||(A.length?d.classList.add("noNewInvitees"):(d.classList.add("noInvitees"),h.placeholder="Invite with email"))}function X(e){return p.querySelector(".invitee[data-uid='"+e+"']")}function Q(e){var t=document.querySelector(e);t&&t.remove()}function ee(e,t,n){var i=document.importNode(b.content,!0),r=i.querySelector(".inviteByTag"),o=i.querySelector(".tagName"),s=i.querySelector(".memberCount");return r.classList.toggle("hidden",!!n),r.dataset.tag=e,o.textContent=e,o.title=e,s.textContent=t+(t>1?" members":" member"),i}function te(e){var t=document.importNode(f.content,!0),n=t.querySelector(".invitee"),i=t.querySelector(".userImage"),r=t.querySelector(".username"),s=t.querySelector(".email"),a=t.querySelector(".organizationTags");n.classList.add("member"),n.dataset.mid=e.user._id,Object(o.setAvatar)(i,e.user),e.user.username?(r.textContent=e.user.fullName||e.user.username,r.title=e.user.fullName||e.user.username,s.textContent=e.user.email,s.title=e.user.email):(r.textContent=e.user.email,r.title=e.user.email,s.textContent="Pending Invitation");var l=e.tags.join(", ");return a.textContent=l,a.title=l,t}function ne(e){var t=document.importNode(f.content,!0),n=t.querySelector(".invitee"),i=t.querySelector(".userImage"),r=t.querySelector(".username"),s=t.querySelector(".email"),a=t.querySelector(".inviteExtraInfo");return n.classList.add("wildling"),n.dataset.wid=e.user._id,Object(o.setAvatar)(i,e.user),r.textContent=e.user.fullName||e.user.username,r.title=e.user.fullName||e.user.username,s.textContent=e.user.email,s.title=e.user.email,e.user.username||(a.textContent="Pending Invitation"),t}function ie(e,t){var n=document.importNode(f.content,!0),i=n.querySelector(".invitee"),r=n.querySelector(".userImage"),s=n.querySelector(".username"),a=n.querySelector(".inviteExtraInfo"),l=e.fullName||e.username||e.email;(i.classList.add("user"),Object(o.setAvatar)(r,e),i.dataset.uid=e._id,s.textContent=l,s.title=l,e.username)?n.querySelector(".email").textContent=e.email:a.textContent="Pending invitation";return t&&i.classList.add("hidden"),n}function re(e){N.has(e._id)||(A.push(e),N.add(e._id),e.username&&c.add(e.username),c.add(e.email))}function oe(e){B.add(e._id),e.username&&M.add(e.username),M.add(e.email)}function se(e,t){s[k].inviteUser(w,e).then((function(e){ae(e,t)})).catch((function(e){d.querySelector(".inputArea img").classList.add("hidden"),ve()||t.classList.contains("newUser")?(z=!1,a.handleError(e,{dialogCallback(){Object(o.highlightInput)(h),z=!0}})):(t.classList.remove("inviteSpinner"),t.classList.add("inviteRetry"),t.querySelector(".inviteExtraInfo").textContent=e.title)})).catch((function(){i.create({done:{cb(){Object(o.highlightInput)(h),z=!0}}})}))}function ae(e,t){Object(o.highlightInput)(h),d.querySelector(".inputArea img").classList.add("hidden");const n=e.users||[e];(P&&P(n),n.forEach(({user:e})=>{oe(e),t.classList.contains("user")&&re(e)}),mixpanel.master.track("Invited user"),D&&D.dispatchEvent(new CustomEvent("usersInvited",{detail:{users:n}})),d.classList.contains("organizationBarrel"))&&((e.users?e.users:[e]).forEach((function(e){if(L.members){var t=L.members.find((function(t){return t.user._id===e.user._id}));t&&t.tags.forEach((function(e){I[e]-=1}))}})),Object.keys(I).forEach((function(e){var t=I[e],n=G(e);0===t?n.classList.add("inviteDone"):n.querySelector(".memberCount").textContent=t+(t>1?" members":" member")})));if(t.classList.remove("inviteSpinner"),t.classList.add("inviteDone"),e.users&&e.users.forEach((function(e){Array.from(y.querySelectorAll(".member[data-mid='"+e.user._id+"']")).forEach((function(e){e.classList.add("inviteDone")}))})),t.classList.contains("newUser"))if(t.remove(),t.classList.contains("user")){x.push(e.user);var i=ie(e.user);i.querySelector(".user").classList.add("inviteDone"),p.querySelector(".user.selected")||i.querySelector(".user").classList.add("selected"),ce(i)}else{L.wildlings&&L.wildlings.push({user:e.user}),U.add(e.user.email);var r=ne(e);r.querySelector(".wildling").classList.add("inviteDone"),T.querySelector(".wildling.selected")||r.querySelector(".wildling").classList.add("selected"),T.appendChild(r)}}function le(e){Array.from(e.querySelectorAll(".invitee.inviteDone:not(.newUser)")).forEach((function(e){e.remove()}))}function ce(e){p.lastElementChild&&p.lastElementChild.classList.contains("user")?p.appendChild(e):p.insertBefore(e,p.lastElementChild)}function de(e){e.forEach((function(e){(re(e.user),D&&!B.has(e.user._id))&&(x.some((function(t){return t._id===e.user._id}))||(x.push(e.user),ce(ie(e.user))))})),ve()||H()}function ue(e,t){if(re(t),D){if(w===e)oe(t),r.arrayRemove(x,(function(e){return e._id===t._id}));else x.some((function(e){return e._id===t._id}))||x.push(t);var n,i=h.value;if(n=d.classList.contains("organizationBarrel")?q(t):X(t.user._id),w===e&&n){if(n.classList.contains("selected")&&p.querySelector(".user:not(.hidden)")&&(n.nextElementSibling&&n.nextElementSibling.classList.contains("user")?n.nextElementSibling.classList.add("selected"):n.previousElementSibling&&n.previousElementSibling.classList.contains("user")&&!n.previousElementSibling.classList.contains("hidden")&&n.previousElementSibling.classList.add("selected")),n.remove(),n.classList.contains("newUser")||!p.querySelector(".user:not(.hidden)")){var o=document.importNode(m.content,!0);o.querySelector(".userListTypedUserAlreadyAdded").classList.add(h.value===Zeplin.user.username||h.value===Zeplin.user.email?"selfUser":"someUser"),o.querySelector("span").textContent=h.value,p.appendChild(o)}}else w!==e&&(n?n.classList.contains("newUser")&&(p.appendChild(ie(t)),n.classList.contains("selected")&&(n.nextElementSibling&&n.nextElementSibling.classList.contains("user")?n.nextElementSibling.classList.add("selected"):n.previousElementSibling&&n.previousElementSibling.classList.contains("user")&&!n.previousElementSibling.classList.contains("hidden")&&n.previousElementSibling.classList.add("selected")),n.remove()):ce(ie(t,i&&!(t.username&&t.username.includes(i))&&!t.email.includes(i))))}}function he(e,t,n,i){var r=t(n),o=!(!h.value||n.user.username&&n.user.username.includes(h.value)||n.user.email.includes(h.value));r.querySelector(".invitee").classList.toggle("hidden",o),o?e.append(r):(e.insertBefore(r,e.querySelector(".invitee:not(.hidden)")),e.parentElement.classList.remove(i))}function pe(e,t){if(w===e)if(d.classList.contains("organizationBarrel")){var n,i,r=L.members.find((function(e){return e.user._id===t}));r?(n=r,i=q(r),r.tags.forEach((function(e){I[e]?I[e]+=1:I[e]=1;var t=G(e);if(t)t.querySelector(".memberCount").textContent=I[e]+(I[e]>1?" members":" member"),t.classList.remove("inviteDone");else{var n=ee(e,I[e]);n.querySelector(".invitee").classList.toggle("hidden",!!h.value&&!e.includes(h.value))?S.appendChild(n):S.insertBefore(ee(e,I[e]),S.querySelector(".invitee:not(.hidden)"))}}))):i=$(n=L.wildlings.find((function(e){return e.user._id===t}))),B.delete(t),M.delete(n.user.username),M.delete(n.user.email);var o=y.querySelector(".userListTypedUserAlreadyAdded");if(h.value===n.user.username&&o&&o.remove(),!D)return;i?i.classList.remove("inviteDone"):r?he(C,te,r,"noMembers"):he(T,ne,n,"noWildlings")}else{var s=A.find(e=>e._id===t);if(function(e){B.delete(e._id),e.username&&(M.delete(e.username),c.add(e.username)),M.delete(e.email),c.add(e.email),x.some((function(t){return t._id===e._id}))||x.push(e)}(s),!D)return;var a=h.value,l=X(s._id);l?l.classList.remove("inviteDone"):ce(ie(s,a&&!(s.username&&s.username.includes(a))&&!s.email.includes(a)))}}function fe(e){var t=A.find(t=>t._id===e._id);if(t&&(Object.assign(t,e),D)){var n=X(e._id);n&&(n.querySelector(".username").textContent=e.fullName||e.username,n.querySelector(".inviteExtraInfo").textContent="")}}function ge(e){var t=r.arrayRemove(A,(function(t){return t._id===e}));if(t&&(function(e){B.delete(e._id),N.delete(e._id),e.username&&(M.delete(e.username),c.delete(e.username)),M.delete(e.email),c.delete(e.email),r.arrayRemove(x,(function(t){return t._id===e._id}))}(t),D)){var n=X(t._id);n&&(p.removeChild(n),n.classList.contains("selected")&&p.querySelector(".user:not(.hidden)")&&p.querySelector(".user:not(.hidden)").classList.add("selected"))}}function me({bt:e,popupContainer:t,bid:n,members:i,oid:o,onInvite:s,onDismiss:a}){const u=o&&"user"!==o;k=e,d.classList.toggle("organizationBarrel",u),R=a,P=s,u?(L=l.OrganizationHelpers.getOrganization(o),I=function(e){const t={};return e.forEach(e=>{e.tags.forEach(e=>{t[e]?t[e]+=1:t[e]=1})}),t}(L.members),function(e,t,n){if(t!==w){be(),M=new Set,B=new Set,U=new Set,w=t,_=n,_.forEach((function(e){oe(e.user)})),L.members&&L.members.forEach((function(e){B.has(e.user._id)?e.tags.forEach((function(e){I[e]>0&&(I[e]-=1,0===I[e]&&delete I[e])})):(U.add(e.user.username).add(e.user.email),C.appendChild(te(e)))})),y.classList.toggle("noMembers",!C.childElementCount);var i=Object.keys(I);i.sort(),i.forEach((function(e){S.appendChild(ee(e,I[e],!1))}));var r=i.length-3;r>0&&(v.textContent=r,v.classList.toggle("multiple",r>1)),y.classList.toggle("noTags",!i.length),L.wildlings&&L.wildlings.forEach((function(e){B.has(e.user._id)||(U.add(e.user.username).add(e.user.email),T.appendChild(ne(e)))})),y.classList.toggle("noWildlings",!T.childElementCount)}else Object.keys(I).forEach((function(e){0===I[e]&&delete I[e]})),j&&new Date-j>1e4&&(v.textContent=Object.keys(I).length-3,v.classList.toggle("multiple",Object.keys(I).length-3>1)),le(S),le(C),le(T);j=0,D=e,e.appendChild(d),e.getBoundingClientRect().right+80>window.innerWidth&&d.classList.add("left");K(),d.classList.remove("hidden"),y.scrollTop=0,h.focus()}(t,n,i)):function(e,t,n){t!==w?(be(),x=[],M=new Set,B=new Set,w=t,_=n,_.forEach((function(e){oe(e.user)})),A.forEach((function(e){B.has(e._id)||(x.push(e),e.username&&c.add(e.username),c.add(e.email))})),x.forEach((function(e){p.appendChild(ie(e))}))):(le(p),B.forEach((function(e){r.arrayRemove(x,(function(t){return t._id===e}))})));D=e,e.appendChild(d),e.getBoundingClientRect().right+80>window.innerWidth&&d.classList.add("left");J(),d.classList.remove("hidden"),p.scrollTop=0,h.focus()}(t,n,i),document.addEventListener("click",e=>{if(e.button===Zeplin.MOUSE_BUTTON.LEFT&&!ve()){d.contains(e.target)||Se()}},!0)}function be(){p.innerHTML="",S.innerHTML="",v.textContent="",C.innerHTML="",T.innerHTML=""}function ye(){h.value="",h.dispatchEvent(new Event("input"))}function Se(){document.removeEventListener("click",Se),D=null,d.classList.add("hidden"),d.classList.remove("left"),d.querySelector(".inputArea img").classList.add("hidden"),ye(),j||(j=new Date),R&&R(),document.body.append(d)}function ve(){return d.classList.contains("hidden")}s.getUserAcquaintances().then(e=>{A=e.acquaintances,N=new Set(A.map(e=>e._id))}).catch(e=>{}),function(){function e(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".invitee");!t||t.classList.contains("inviteDone")||t.classList.contains("inviteSpinner")||!e.target.classList.contains("action")&&!e.target.closest(".inviteNewUserButton")||(e.stopPropagation(),F(t))}}let t,n;h.addEventListener("input",(function(){h.parentElement.classList.toggle("typed",!!h.value),z=!0,H(),D&&D.dispatchEvent(new CustomEvent("listRefreshed"))})),d.addEventListener("click",(function(e){e.stopPropagation()})),d.addEventListener("contextmenu",(function(e){e.stopPropagation()})),p.addEventListener("click",e),y.addEventListener("click",e),d.addEventListener("mouseenter",(function(e){t=e.clientX,n=e.clientY})),d.addEventListener("mousemove",(function(e){if(e.stopPropagation(),t!==e.clientX||n!==e.clientY){var i=d.querySelector(".selected");i&&i.classList.remove("selected"),e.target.closest(".invitee")&&(e.target.closest(".invitee").classList.add("selected"),t=e.clientX,n=e.clientY)}})),document.addEventListener("keydown",(function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:if(ve())break;if(e.stopImmediatePropagation(),h.value){ye();break}Se();break;case Zeplin.KEY_CODE.ENTER:{if(ve()||!z)break;const e=d.querySelector(".selected");if(!e||e.classList.contains("inviteDone")||e.classList.contains("inviteSpinner"))break;z=!1,F(e);break}case Zeplin.KEY_CODE.ArrowUp:case Zeplin.KEY_CODE.ArrowDown:if(ve())break;z=!0,e.preventDefault(),function(e){d.classList.contains("organizationBarrel")?function(e){var t=y.querySelector(".invitee.selected");if(!t){var n=y.querySelector(".invitee:not(.hidden)");return void(n&&(n.classList.add("selected"),Object(o.scrollIfNecessary)(n,y)))}var i,r=Array.from(y.querySelectorAll(".invitee:not(.hidden)")),s=r.findIndex((function(e){return e.classList.contains("selected")}));i=e.keyCode===Zeplin.KEY_CODE.ArrowUp?s-1:s+1;if(i>-1&&i<r.length){var a=r[i];t.classList.remove("selected"),a.classList.add("selected"),Object(o.scrollIfNecessary)(a,y)}}(e):function(e){var t=p.querySelector(".selected");if(!t){var n=p.querySelector(".user:not(.hidden)");return void(n&&(n.classList.add("selected"),Object(o.scrollIfNecessary)(n)))}var i=e.keyCode===Zeplin.KEY_CODE.ArrowUp?t.previousElementSibling:t.nextElementSibling;i&&i.classList.contains("user")&&!i.classList.contains("hidden")&&(t.classList.remove("selected"),i.classList.add("selected"),Object(o.scrollIfNecessary)(i))}(e)}(e)}})),v.addEventListener("click",(function(e){e.stopPropagation(),v.textContent="",Array.from(S.querySelectorAll(".inviteByTag.hidden")).forEach((function(e){e.classList.remove("hidden"),S.appendChild(e)}))}))}()},function(e,t,n){"use strict";n.r(t),n.d(t,"registerInput",(function(){return r}));var i=n(56);function r(e){const t=parseInt(e.dataset.maxFontSize,10),n=parseInt(e.dataset.minFontSize,10);let r=t;e.addEventListener("input",(function(){if(e.value){if(Object(i.getTextWidth)(e.value,r+"px Roboto")>e.clientWidth&&r>n)for(;Object(i.getTextWidth)(e.value,r+"px Roboto")>e.clientWidth&&r>n;)r-=.2;else if(Object(i.getTextWidth)(e.value,r+"px Roboto")<=e.clientWidth&&r<t)for(;Object(i.getTextWidth)(e.value,r+"px Roboto")<=e.clientWidth&&r<t;)r+=.2}else r=t;e.style.fontSize=r+"px"}))}window.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll("input[data-elastic-font-size]");Array.from(e).forEach(r)}))},function(e,t,n){"use strict";n.r(t);var i=n(67),r=n(353),o=n(44);function s(e){const t=new URL(e);let n=e;const i=Object(o.parseUrlParams)(t.search);if(i.vid){t.pathname.match(/\/project\/([0-9a-z]{24})\/screen\/([0-9a-z]{24})/)&&(t.pathname+="/version/"+i.vid[0],delete i.vid,t.search=Object(o.joinUrlParams)(i),n=t.toString())}r.default.history.push(n)}n(69).isWindowsApp&&(i.default.ipcRenderer.on("load-url",(e,t)=>s(t)),i.default.ipcRenderer.on("load-app-uri",(e,t)=>{try{const e=new URL(t),{urlSlug:n,url:i,query:r}=Object(o.parseAppURI)(e);s(Object(o.urlResolve)(n,{url:i,query:r}))}catch(n){}}))},function(e,t,n){"use strict";n.r(t);var i=n(67),r=n(69),o=n(734),s=n(740),a=n(742),l=n(743),c=n(744);n(745);function d({showBadge:e,appUpdaterState:t,pluginUpdaterState:n,installUpdatesAutomatically:i}){return[Object(o.default)(),Object(s.default)(),Object(a.default)(e),Object(l.default)(),Object(c.default)({appUpdaterState:t,pluginUpdaterState:n,installUpdatesAutomatically:i})]}r.isWindowsApp&&i.default.ipcRenderer.on("get-menu-template-v1",(e,{context:t})=>{i.default.ipcRenderer.send("menu-template-v1",{menuTemplate:d(t)})})},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(99),r=n(735),o=n(736),s=n(470),a=n(737),l=n(96);function c(e){const{[e+"s"]:t}=a.RecentlyLoadedBarrelsStore.getState(),n=e===l.default.PROJECT?o.default.OPEN_RECENT_PROJECT_SUBMENU:o.default.OPEN_RECENT_STYLEGUIDE_SUBMENU,i=e===l.default.PROJECT?o.default.OPEN_RECENT_PROJECT:o.default.OPEN_RECENT_STYLEGUIDE;return{label:"Open recent",id:n,enabled:t.length>0,submenu:t.map(({_id:e,name:t})=>({id:`${i}.${e}`,label:t}))}}function d(){const{selectedTab:e}=s.SpaceStore.getState(),{barrelId:t,barrelType:n}=i.default.getState(),a=!t&&"projects"===e||t&&n===l.default.PROJECT,d=!t&&"styleguides"===e||t&&n===l.default.STYLEGUIDE;return a?new r.default({id:o.default.PROJECT_SUBMENU,label:"Project",submenu:[{label:"New project",id:o.default.NEW_PROJECT,enabled:s.SpaceHelpers.canCreateProject(),accelerator:"CmdOrCtrl+N"},c(l.default.PROJECT)]}):d?new r.default({id:o.default.STYLEGUIDE_SUBMENU,label:"Styleguide",submenu:[{label:"New styleguide",id:o.default.NEW_STYLEGUIDE,enabled:s.SpaceHelpers.canCreateStyleguide(),accelerator:"CmdOrCtrl+N"},c(l.default.STYLEGUIDE)]}):new r.default({id:o.default.PROJECT_SUBMENU,label:"Project",enabled:!1})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));class i{constructor(e){const{id:t,label:n,accelerator:r,type:o,enabled:s,checked:a,visible:l,role:c,submenu:d}=e;this.id=t,this.label=n,this.accelerator=r,this.type=o,this.enabled=s,this.checked=a,this.visible=l,this.role=c,this.submenu=d?d.map(e=>new i(e)):null}}},function(e,t,n){"use strict";n.r(t);t.default={PROJECT_SUBMENU:"PROJECT",NEW_PROJECT:"NEW_PROJECT",OPEN_RECENT_PROJECT_SUBMENU:"OPEN_RECENT_PROJECT_SUBMENU",OPEN_RECENT_PROJECT:"OPEN_RECENT_PROJECT",STYLEGUIDE_SUBMENU:"STYLEGUIDE",NEW_STYLEGUIDE:"NEW_STYLEGUIDE",OPEN_RECENT_STYLEGUIDE_SUBMENU:"OPEN_RECENT_STYLEGUIDE_SUBMENU",OPEN_RECENT_STYLEGUIDE:"OPEN_RECENT_STYLEGUIDE",EDIT_SUBMENU:"EDIT",DELETE_PROJECT:"DELETE_PROJECT",DELETE_STYLEGUIDE:"DELETE_STYLEGUIDE",LEAVE_PROJECT:"LEAVE_PROJECT",LEAVE_STYLEGUIDE:"LEAVE_STYLEGUIDE",RENAME_SCREEN:"RENAME_SCREEN",DELETE_SCREEN:"DELETE_SCREEN",SET_AS_THUMBNAIL:"SET_AS_THUMBNAIL",ADD_TAG:"ADD_TAG",MANAGE_TAGS:"MANAGE_TAGS",VIEW_SUBMENU:"VIEW",ZOOM_IN:"ZOOM_IN",ZOOM_OUT:"ZOOM_OUT",ACTUAL_SIZE:"ACTUAL_SIZE",OPEN_POPOUT:"OPEN_POPOUT",WORKSPACE:"WORKSPACE",DASHBOARD:"DASHBOARD",STYLEGUIDE:"STYLEGUIDE",JUMP_TO_SCREEN:"JUMP_TO_SCREEN",SHOW_VERSIONS:"SHOW_VERSIONS",HIDE_VERSIONS:"HIDE_VERSIONS",SHOW_BADGE:"SHOW_BADGE",TOGGLE_FULL_SCREEN:"TOGGLE_FULL_SCREEN",RELOAD:"RELOAD",RELOAD_IGNORING_CACHE:"RELOAD_IGNORING_CACHE",TOGGLE_DEV_TOOLS:"TOGGLE_DEV_TOOLS",TOGGLE_DEV_TOOLS_HOST:"TOGGLE_DEV_TOOLS_HOST",WINDOW_SUBMENU:"WINDOW",MINIMIZE:"MINIMIZE",CLOSE:"CLOSE",HELP_SUBMENU:"HELP",CHECK_FOR_UPDATES:"CHECK_FOR_UPDATES",CHECK_FOR_PLUGIN_UPDATES:"CHECK_FOR_PLUGIN_UPDATES",INSTALL_UPDATES_AUTOMATICALLY:"INSTALL_UPDATES_AUTOMATICALLY",INSTALL_FIGMA_PLUGIN:"INSTALL_FIGMA_PLUGIN",INSTALL_PHOTOSHOP_PLUGIN:"INSTALL_PHOTOSHOP_PLUGIN",SHOW_LOGS_IN_EXPLORER:"SHOW_LOGS_IN_EXPLORER",RESET_SUGGESTED_COLORS:"RESET_SUGGESTED_COLORS",RESET_SUGGESTED_TEXT_STYLES:"RESET_SUGGESTED_TEXT_STYLES",CLEAR_CACHE_AND_RESTART:"CLEAR_CACHE_AND_RESTART",RESET_ZEPLIN:"RESET_ZEPLIN",OPEN_HELP_CENTER:"OPEN_HELP_CENTER",ABOUT_ZEPLIN:"ABOUT_ZEPLIN"}},function(e,t,n){"use strict";n.r(t);var i=n(738);n.d(t,"RecentlyLoadedBarrelsStore",(function(){return i.default}));n(739)},function(e,t,n){"use strict";n.r(t);var i=n(73),r=n.n(i),o=n(84),s=n(91),a=n(342),l=n(96);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends r.a{constructor(){super(o.default)}getInitialState(){return{projects:[],styleguides:[]}}init({projects:e,styleguides:t}){return{projects:e,styleguides:t}}update(e,t){const{barrel:{barrelType:n},data:{[n]:{_id:i,name:r}}}=t,o=n===l.default.PROJECT?"projects":"styleguides",s=e[o].filter(({_id:e})=>e!==i),a=[{_id:i,name:r},...s].slice(0,10);return d(d({},e),{},{[o]:a})}reduce(e,t){switch(t.type){case a.BarrelActionTypes.LOAD:return this.update(e,t);case s.default.INIT_RECENTLY_LOADED_BARRELS:return this.init(t);default:return e}}}t.default=new h},function(e,t,n){"use strict";n.r(t);var i=n(738),r=n(354),o=n(140),s=n(65);const a={updatePrefs(){o.userPrefs.set("recentlyLoadedBarrels",i.default.getState())}};!async function(){if(!s.default.isWindowsApp)return;const{projects:e,styleguides:t}=await o.userPrefs.get("recentlyLoadedBarrels");r.default.initRecentlyLoadedBarrels({projects:e,styleguides:t}),i.default.addListener(()=>{a.updatePrefs()})}()},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var i=n(735),r=n(736),o=n(741),s=n(62),a=n(99),l=n(344),c=n(96),d=n(638);function u(e,t,n){return e?{id:t===c.default.PROJECT?r.default.DELETE_PROJECT:r.default.DELETE_STYLEGUIDE,label:t===c.default.PROJECT?"Delete project…":"Delete styleguide…",enabled:!!e&&s.permissions.canDeleteProject(n)}:{id:r.default.DELETE_PROJECT,label:"Delete project…",enabled:!1}}function h(e,t,n){return e?{id:t===c.default.PROJECT?r.default.LEAVE_PROJECT:r.default.LEAVE_STYLEGUIDE,label:t===c.default.PROJECT?"Leave project…":"Leave styleguide…",enabled:t===c.default.PROJECT?s.permissions.canLeaveProject(n):s.permissions.canLeaveStyleguide(n)}:{id:r.default.DELETE_PROJECT,label:"Leave project…",enabled:!1}}function p(e,t,n){return e&&t?{id:r.default.DELETE_SCREEN,label:"Delete screen…",enabled:s.permissions.canManageScreens(n)}:{id:r.default.DELETE_SCREEN,label:"Delete screen…",enabled:!1}}function f(e,t,n){return e&&t?{id:r.default.SET_AS_THUMBNAIL,label:"Set as thumbnail",enabled:s.permissions.canUpdateProject(n)&&(!e.thumbnail||e.thumbnail!==t.versions[0].snapshot.url)}:{id:r.default.SET_AS_THUMBNAIL,label:"Set as thumbnail",enabled:!1}}function g(e,t,n){if(!e||!t)return{id:r.default.MANAGE_TAGS,label:"Manage tags…",accelerator:"Alt+T",enabled:!1};const i=t.tags&&0!==t.tags.length;return{id:i?r.default.MANAGE_TAGS:r.default.ADD_TAG,label:i?"Manage tags…":"Add tag…",accelerator:"Alt+T",enabled:s.permissions.canManageScreens(n)}}function m(){const{barrelType:e}=a.default.getState(),t=l.default.getBarrel(),n=d.default.getScreen(),s=l.default.findUser();return new i.default({id:r.default.EDIT_SUBMENU,label:"Edit",submenu:[u(t,e,s),h(t,e,s),o.default,p(t,n,s),o.default,f(t,n,s),o.default,g(t,n,s)]})}},function(e,t,n){"use strict";n.r(t),t.default={type:"separator"}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var i=n(736),r=n(344),o=n(638),s=n(69),a=n(741),l=n(99),c=n(96),d=n(639),u=n(735);function h(e,t){const n=!!e&&!!t;return[{id:i.default.ZOOM_IN,label:"Zoom in",accelerator:"Alt+=",enabled:n},{id:i.default.ZOOM_IN,label:"Zoom out",accelerator:"Alt+-",enabled:n},{id:i.default.ACTUAL_SIZE,label:"Actual size",accelerator:"Alt+0",enabled:n}]}function p(e,t){const n=!!e&&!!t&&s.featureValue.popout;return{id:i.default.OPEN_POPOUT,label:"Pop screen out",accelerator:"Alt+O",enabled:n}}function f(e,t,n){const r=!e,o=!!e&&"dashboard"===n,s=!!e&&t===c.default.PROJECT,l=!!e&&"styleguide"===n,d=!!e&&t===c.default.PROJECT;return[{id:i.default.WORKSPACE,label:"Workspace",type:"checkbox",accelerator:"Alt+Shift+A",checked:r},a.default,{id:i.default.DASHBOARD,label:"Dashboard",type:"checkbox",accelerator:"Alt+A",checked:o,enabled:s},{id:i.default.STYLEGUIDE,label:"Styleguide",type:"checkbox",accelerator:"Alt+S",checked:l,enabled:d}]}function g(e){const t=!!e;return{id:i.default.JUMP_TO_SCREEN,label:"Jump to screen…",accelerator:"Alt+J",enabled:t}}function m(e,t,n){const r=!!e&&!!t,o=n?"Hide versions":"Show versions";return{id:n?i.default.HIDE_VERSIONS:i.default.SHOW_VERSIONS,label:o,enabled:r}}function b(e){const t=r.default.getBarrel(),n=o.default.getScreen(),{selectedView:s,barrelType:c}=l.default.getState(),{versionsVisible:b}=d.default.getState();return new u.default({id:i.default.VIEW_SUBMENU,label:"View",submenu:[...h(t,n),a.default,p(t,n),a.default,...f(t,c,s),a.default,g(t),a.default,m(t,n,b),{id:i.default.SHOW_BADGE,label:"Show badge",type:"checkbox",checked:e},a.default,{id:i.default.TOGGLE_FULL_SCREEN,label:"Toggle full screen",role:"toggleFullScreen"},a.default,{id:i.default.RELOAD,label:"Reload",accelerator:"CmdOrCtrl+R"},{id:i.default.RELOAD_IGNORING_CACHE,label:"Reload ignoring cache",accelerator:"CmdOrCtrl+Shift+R"},{id:i.default.TOGGLE_DEV_TOOLS,label:"Toggle dev tools",accelerator:"CmdOrCtrl+Shift+I"},{id:i.default.TOGGLE_DEV_TOOLS_HOST,label:"Toggle dev tools (host)",role:"toggleDevTools"}]})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(736),r=n(735);function o(){return new r.default({id:i.default.WINDOW_SUBMENU,label:"Window",submenu:[{role:"minimize"},{role:"close"}]})}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var i=n(736),r=n(735),o=n(741);const s="IDLE",a={[s]:"Check for updates",["CHECKING_FOR_UPDATES"]:"Checking for updates",["DOWNLOADING_UPDATES"]:"Downloading updates"},l="DISABLED",c="IDLE",d={[c]:"Check for plugin updates",["CHECKING_FOR_UPDATES"]:"Checking for plugin updates",["DOWNLOADING_UPDATES"]:"Downloading plugin updates"};function u({appUpdaterState:e,pluginUpdaterState:t}){const n={id:i.default.CHECK_FOR_UPDATES,label:a[e],enabled:e===s};return t===l?[n]:[n,{id:i.default.CHECK_FOR_PLUGIN_UPDATES,label:d[t],enabled:t===c}]}function h({installUpdatesAutomatically:e,appUpdaterState:t,pluginUpdaterState:n}){return new r.default({id:i.default.HELP_SUBMENU,label:"Help",submenu:[...u({appUpdaterState:t,pluginUpdaterState:n}),{id:i.default.INSTALL_UPDATES_AUTOMATICALLY,label:"Install updates automatically",type:"checkbox",checked:e},o.default,{id:i.default.INSTALL_FIGMA_PLUGIN,label:"Install Figma plugin"},{id:i.default.INSTALL_PHOTOSHOP_PLUGIN,label:"Install Photoshop plugin"},o.default,{id:i.default.SHOW_LOGS_IN_EXPLORER,label:"Show logs in Explorer"},{id:i.default.RESET_SUGGESTED_COLORS,label:"Reset suggested colors"},{id:i.default.RESET_SUGGESTED_TEXT_STYLES,label:"Reset suggested text styles"},{id:i.default.CLEAR_CACHE_AND_RESTART,label:"Clear cache and restart"},{id:i.default.RESET_ZEPLIN,label:"Reset Zeplin"},o.default,{id:i.default.OPEN_HELP_CENTER,label:"Open help center"},o.default,{id:i.default.ABOUT_ZEPLIN,label:"About Zeplin"}]})}},function(e,t,n){"use strict";n.r(t);var i=n(67),r=n(736),o=n(746),s=n(342),a=n(349),l=n(42),c=n(635),d=n(69),u=n(470),h=n(44),p=n(353);const f={newProject(){const{selectedOrganizationId:e}=u.SpaceStore.getState(),{barrelId:t}=s.BarrelStore.getState();if(t)s.BarrelHelpers.navigateToWorkspace({newProject:!0});else{const t="user"===e?Object(h.urlResolve)("projects",{query:{newProject:!0}}):Object(h.urlResolve)("organization-projects",{url:{oid:e},query:{newProject:!0}});p.default.history.push(t)}},newStyleguide(){const{selectedOrganizationId:e}=u.SpaceStore.getState(),{barrelId:t}=s.BarrelStore.getState();if(t)s.BarrelHelpers.navigateToWorkspace({newStyleguide:!0});else{const t="user"===e?Object(h.urlResolve)("styleguides",{query:{newStyleguide:!0}}):Object(h.urlResolve)("organization-styleguides",{url:{oid:e},query:{newStyleguide:!0}});p.default.history.push(t)}},openRecentProject(e){p.default.history.push(Object(h.urlResolve)("project",{url:{bid:e}}))},openRecentStyleguide(e){p.default.history.push(Object(h.urlResolve)("styleguide",{url:{bid:e}}))},deleteProject(){const{id:e,name:t}=s.BarrelHelpers.getBarrel();o.prompt("project",t,()=>{s.BarrelActions.remove({bid:e,syncWithApi:!0})})},deleteStyleguide(){const{id:e,name:t}=s.BarrelHelpers.getBarrel();o.prompt("styleguide",t,()=>{s.BarrelActions.remove({bid:e,syncWithApi:!0})})},leaveBarrel(){const{userId:e}=a.UserStore.getState(),{name:t}=s.BarrelHelpers.getBarrel();l.create({message:`Leave "${t}"?`,done:{name:"LEAVE",cb(){s.BarrelActions.removeMember({mid:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}})},deleteScreen(){const{_id:e,name:t}=c.ScreenHelpers.getScreen();l.create({message:`Delete "${t}"?`,done:{name:"DELETE SCREEN",cb(){c.ScreenActions.removeScreen({sid:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}})},setAsThumbnail(){const{versions:[{snapshot:{url:e}}]}=c.ScreenHelpers.getScreen();s.BarrelActions.updateThumbnail({thumbnail:e,syncWithApi:!0})},manageTags(){const{screenId:e}=c.ScreenStore.getState();c.ScreenActions.openTagManager(e)}};d.isWindowsApp&&i.default.ipcRenderer.on("menu-item-clicked",(e,{id:t})=>{if(t.startsWith(r.default.OPEN_RECENT_PROJECT))f.openRecentProject(t.substring(r.default.OPEN_RECENT_PROJECT.length+1));else if(t.startsWith(r.default.OPEN_RECENT_STYLEGUIDE))f.openRecentStyleguide(t.substring(r.default.OPEN_RECENT_STYLEGUIDE.length+1));else switch(t){case r.default.NEW_PROJECT:f.newProject();break;case r.default.NEW_STYLEGUIDE:f.newStyleguide();break;case r.default.DELETE_PROJECT:f.deleteProject();break;case r.default.DELETE_STYLEGUIDE:f.deleteStyleguide();break;case r.default.LEAVE_PROJECT:case r.default.LEAVE_STYLEGUIDE:f.leaveBarrel();break;case r.default.DELETE_SCREEN:f.deleteScreen();break;case r.default.SET_AS_THUMBNAIL:f.setAsThumbnail();break;case r.default.MANAGE_TAGS:case r.default.ADD_TAG:f.manageTags();break;case r.default.ZOOM_IN:c.ScreenActions.zoomIn();break;case r.default.ZOOM_OUT:c.ScreenActions.zoomOut();break;case r.default.ACTUAL_SIZE:c.ScreenActions.resetZoom();break;case r.default.OPEN_POPOUT:c.ScreenActions.openPopout();break;case r.default.WORKSPACE:s.BarrelHelpers.navigateToWorkspace();break;case r.default.DASHBOARD:s.BarrelActions.goToDashboard();break;case r.default.STYLEGUIDE:s.BarrelActions.goToStyleguide();break;case r.default.JUMP_TO_SCREEN:s.BarrelActions.openJumpToPopup();break;case r.default.SHOW_VERSIONS:c.ScreenActions.showVersions();break;case r.default.HIDE_VERSIONS:c.ScreenActions.hideVersions()}})},function(e,t,n){"use strict";n.r(t),n.d(t,"prompt",(function(){return p}));var i=n(42),r=n(19);const o=document.getElementById("deleteBarrelDialog"),s=o.querySelector(".barrelType"),a=document.getElementById("barrelNameInput"),l=document.getElementById("deleteBarrelDialogCancelButton"),c=document.getElementById("deleteBarrelDialogDoneButton");let d,u,h;function p(e,t,n){d=e,u=t,h=n,s.textContent=d,o.showModal()}i.polyfill.registerDialog(o),a.addEventListener("input",()=>{const e=a.value===u;o.querySelector("button.done").disabled=!e;const t=e?"":Object(r.uppercaseFirst)(d)+" name doesn't match provided value";a.setCustomValidity(t)}),l.addEventListener("click",e=>{e.button===Zeplin.MOUSE_BUTTON.LEFT&&o.close()}),o.addEventListener("close",()=>{a.value="",a.setCustomValidity(""),a.parentElement.classList.remove("typed"),o.querySelector("button.done").disabled=!0}),a.addEventListener("keydown",e=>{switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),e.stopPropagation(),a.value===u&&(o.close(),h())}}),c.addEventListener("click",()=>{a.value===u&&(o.close(),h())})},function(e,t,n){"use strict";n.r(t);var i=n(69),r=n(67),o=n(635),s=n(342),a=n(690);const l="CreateScreen",c="CreateScreenVersion",d="CreateProjectComponent",u="CreateProjectComponentVersion",h="CreateStyleguideComponent",p="CreateStyleguideComponentVersion",f="AuthProjectSlack",g="AuthStyleguideSlack";i.isWindowsApp&&(r.default.ipcRenderer.on(l,(e,t)=>{const{params:{pid:n},body:i}=t;o.ScreenActions.addScreen({pid:n,screen:i})}),r.default.ipcRenderer.on(c,(e,t)=>{const{params:{pid:n,sid:i},body:r}=t;o.ScreenActions.addVersion({pid:n,sid:i,version:r})}),r.default.ipcRenderer.on(d,(e,t)=>{const{params:{pid:n,csid:i},body:r}=t;s.BarrelActions.addComponent({bid:n,csids:i.split("/"),component:r})}),r.default.ipcRenderer.on(u,(e,t)=>{const{params:{pid:n,csid:i,coid:r},body:o}=t;s.BarrelActions.addComponentVersion({bid:n,csids:i.split("/"),coid:r,componentVersion:o})}),r.default.ipcRenderer.on(h,(e,t)=>{const{params:{stid:n,csid:i},body:r}=t;s.BarrelActions.addComponent({bid:n,csids:i.split("/"),component:r})}),r.default.ipcRenderer.on(p,(e,t)=>{const{params:{stid:n,csid:i,coid:r},body:o}=t;s.BarrelActions.addComponentVersion({bid:n,csids:i.split("/"),coid:r,componentVersion:o})}),r.default.ipcRenderer.on(f,(e,t)=>{const{params:{pid:n},body:{integration:i}}=t;i.slacks.forEach(e=>s.BarrelActions.addIntegration({bid:n,intype:"slacks",integration:e})),a.SlackPreferencesActions.init()}),r.default.ipcRenderer.on(g,(e,t)=>{const{params:{stid:n},body:{integration:i}}=t;i.slacks.forEach(e=>s.BarrelActions.addIntegration({bid:n,intype:"slacks",integration:e})),a.SlackPreferencesActions.init()}))},function(e,t,n){"use strict";n.r(t);n(749),n(752),n(756),n(763)},function(e,t,n){"use strict";n.r(t);var i=n(168),r=n(750),o=n(751),s=n(349),a=n(473);i.userChannel&&(i.userChannel.bind(r.default.UPDATE_USERNAME,({body:{username:e}})=>{s.UserActions.setUsername(e)}),i.userChannel.bind(r.default.UPDATE_EMAIL,({body:{email:e}})=>{s.UserActions.setEmail(e)}),i.userChannel.bind(r.default.UPDATE_USER,({body:{fullName:e,bio:t}})=>{s.UserActions.setFullName(e),s.UserActions.setBio(t)}),i.userChannel.bind(r.default.UPDATE_AVATAR,({body:{avatar:e}})=>{s.UserActions.setAvatar(e)}),i.userChannel.bind(r.default.UPDATE_EMOTAR,({body:{emotar:e}})=>{s.UserActions.setEmotar(e)}),i.userChannel.bind(r.default.UPDATE_EMAIL_NOTIFICATION,({body:{emailNotifications:e}})=>{s.UserActions.setEmailNotifications(e)}),i.userChannel.bind(r.default.UPDATE_BILLING,({body:e})=>{s.UserActions.setBilling(e)}),i.userChannel.bind(o.default.CREATE,({body:e})=>{a.OrganizationActions.addOrganization(e)}),i.userChannel.bind(o.default.INVITE_MEMBERS,({body:e})=>{a.OrganizationActions.addOrganization(e)}),i.userChannel.bind(r.default.VERIFY,s.UserActions.setVerified),i.userChannel.bind(r.default.DELETE,s.UserActions.logout))},function(e,t,n){"use strict";n.r(t),t.default={CREATE:"CreateUser",DELETE:"DeleteUser",UPDATE_EMAIL:"UpdateEmail",UPDATE_EMAIL_NOTIFICATION:"UpdateEmailNotifications",UPDATE_AVATAR:"UpdateUserAvatar",UPDATE_BILLING:"UpdateUserBilling",UPDATE_EMOTAR:"UpdateUserEmotar",UPDATE_USERNAME:"UpdateUsername",UPDATE_USER:"UpdateUser",VERIFY:"VerifyUser"}},function(e,t,n){"use strict";n.r(t),t.default={CREATE:"CreateOrganization",CREATE_PROJECT:"CreateProject",CREATE_STYLEGUIDE:"CreateStyleguide",DELETE:"DeleteOrganization",INVITE_MEMBERS:"InviteOrganizationMembers",REMOVE_USER:"RemoveMemberFromOrganization",UPDATE_BILLING:"UpdateOrganizationBilling",UPDATE_DOMAIN:"UpdateOrganizationDomain",UPDATE_LOGO:"UpdateOrganizationLogo",UPDATE_MEMBER_ACCESSIBILITY:"UpdateOrganizationMemberAccessibility",UPDATE_MEMBER_ROLE:"UpdateOrganizationMemberRole",UPDATE_MEMBER_TAGS:"UpdateOrganizationMembersTags",UPDATE_NAME:"UpdateOrganizationName",ADD_PROJECT_TO_ORGANIZATION_MEMBER_FOCUS:"AddProjectToOrganizationMemberFocus",REMOVE_PROJECT_FROM_ORGANIZATION_MEMBER_FOCUS:"RemoveProjectFromOrganizationMemberFocus",ADD_WORKFLOW_STATUS:"AddOrganizationWorkflowStatus",UPDATE_WORKFLOW_STATUS:"UpdateOrganizationWorkflowStatus",DELETE_WORKFLOW_STATUS:"DeleteOrganizationWorkflowStatus",ADD_SECTION:"CreateOrganizationSection",UPDATE_SECTION:"UpdateOrganizationSection",DELETE_SECTION:"DeleteOrganizationSection",ADD_SECTION_LINK:"CreateOrganizationSectionLink",UPDATE_SECTION_LINK:"UpdateOrganizationSectionLink",DELETE_SECTION_LINK:"DeleteOrganizationSectionLink",UPDATE_SECTION_PROJECT:"UpdateOrganizationSectionProjects",UPDATE_SECTION_ORDER:"UpdateOrganizationSectionsOrder"}},function(e,t,n){"use strict";n.r(t);var i=n(166),r=n(168),o=n(730),s=n(753),a=n(754),l=n(750),c=n(751),d=n(755),u=n(470),h=n(473),p=n(345),f=n(346),g=n(342),m=n(96),b=n(42),y=n(137),S=n(467);n(756),n(763);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}r.default&&(r.default.bind_global((e,{params:{oid:t}={}})=>{t&&(h.OrganizationHelpers.getOrganization(t)||Object(S.unsubscribeFromOrganizationChannel)(t))}),r.default.bind(d.default.PAYMENT_FAIL,e=>{const{organizationProfiles:t}=h.OrganizationStore.getState(),n={isGeneric:!0};e.params.oid?n.currentRole=t[e.params.oid].role:e.params.uid===Zeplin.user._id?n.currentRole="owner":(n.currentRole="not_owner",n.ownerEmail=e.body.email),Object.assign(n,e.params),Object(i.showFailedPaymentBanner)(n)}),r.default.bind(c.default.CREATE_PROJECT,({params:{oid:e="user"},body:t})=>{g.BarrelActions.add({barrelType:m.default.PROJECT,barrel:C(C({},t),{},{complete:!1}),oid:e})}),r.default.bind(c.default.CREATE_STYLEGUIDE,({params:{oid:e="user"},body:t})=>{g.BarrelActions.add({barrelType:m.default.STYLEGUIDE,barrel:C(C({},t),{},{complete:!1}),oid:e})}),r.default.bind(c.default.UPDATE_MEMBER_ROLE,({params:{oid:e,mid:t},body:{role:n}})=>{t===Zeplin.user._id&&h.OrganizationActions.updateOrganizationProfile(e,{role:n});const{organizationProjects:{[e]:i}}=h.OrganizationStore.getState(),{organizationStyleguides:{[e]:r}}=h.OrganizationStore.getState();i&&i.forEach(e=>{g.BarrelActions.updateUserRole({bid:e,uid:t,role:n})}),r&&r.forEach(e=>{g.BarrelActions.updateUserRole({bid:e,uid:t,role:n})})}),r.default.bind(c.default.REMOVE_USER,e=>{const{selectedOrganizationId:t}=u.SpaceStore.getState(),n=e.params.oid;e.params.mid===Zeplin.user._id&&(Object(S.unsubscribeFromOrganizationChannel)(n),t===n&&(b.create({title:"Organization not available anymore",message:"It was either deleted or you were removed, please contact the admins."}),u.SpaceActions.changeSelectedOrganization("user")),h.OrganizationActions.removeOrganization(n))}),r.default.bind(c.default.UPDATE_MEMBER_ACCESSIBILITY,({params:{oid:e,mid:t},body:{restricted:n}})=>{t===Zeplin.user._id&&(n?h.OrganizationActions.updateMemberAccessibility({oid:e,mid:t}):h.OrganizationActions.getBarrels(e))}),r.default.bind(c.default.DELETE,e=>{const t=e.params.oid;Object(S.unsubscribeFromOrganizationChannel)(t),h.OrganizationActions.removeOrganization(t),u.SpaceActions.changeSelectedOrganization("user")}),r.default.bind(c.default.UPDATE_LOGO,e=>{const{organizations:t}=h.OrganizationStore.getState(),n=e.params.oid;t.filter(e=>e._id===n)?h.OrganizationActions.updateOrganization(n,e.body):Object(S.unsubscribeFromOrganizationChannel)(n)}),r.default.bind(c.default.UPDATE_NAME,e=>{const{organizations:t}=h.OrganizationStore.getState(),n=e.params.oid;t.filter(e=>e._id===n)?h.OrganizationActions.updateOrganization(n,e.body):Object(S.unsubscribeFromOrganizationChannel)(n)}),r.default.bind(c.default.ADD_PROJECT_TO_ORGANIZATION_MEMBER_FOCUS,e=>{const{organizations:t}=h.OrganizationStore.getState(),{uid:n,oid:i,pid:r}=e.params;t.filter(e=>e._id===i)?h.OrganizationActions.addBarrelToFocus({mid:n,oid:i,bid:r,barrelType:m.default.PROJECT}):Object(S.unsubscribeFromOrganizationChannel)(i)}),r.default.bind(c.default.REMOVE_PROJECT_FROM_ORGANIZATION_MEMBER_FOCUS,e=>{const{organizations:t}=h.OrganizationStore.getState(),{oid:n,pid:i}=e.params;t.filter(e=>e._id===n)?h.OrganizationActions.removeBarrelFromFocus({oid:n,bid:i}):Object(S.unsubscribeFromOrganizationChannel)(n)}),r.default.bind(c.default.ADD_WORKFLOW_STATUS,({params:{oid:e},body:t})=>{h.OrganizationActions.addOrganizationWorkflowStatus({oid:e,workflowStatusData:t})}),r.default.bind(c.default.UPDATE_WORKFLOW_STATUS,({params:{oid:e,wsid:t},body:n})=>{h.OrganizationActions.updateOrganizationWorkflowStatus({oid:e,workflowStatusId:t,workflowStatusData:n})}),r.default.bind(c.default.DELETE_WORKFLOW_STATUS,({params:{oid:e,wsid:t}})=>{h.OrganizationActions.deleteOrganizationWorkflowStatus({oid:e,workflowStatusId:t})}),r.default.bind(c.default.ADD_SECTION,({params:{oid:e},body:{_id:t,index:n}})=>{const{sections:i}=h.OrganizationHelpers.getOrganization(e);i.some(e=>e._id===t)||y.getOrganizationSection(e,t).then(({section:t})=>{h.OrganizationActions.addProjectSection({oid:e,index:n,sectionData:t})}).catch(i=>{h.OrganizationActions.addProjectSectionId({oid:e,index:n,oseid:t})})}),r.default.bind(c.default.UPDATE_SECTION,({params:{oid:e,oseid:t},body:n})=>{const{sections:i}=h.OrganizationHelpers.getOrganization(e);i.some(e=>e._id===t)&&h.OrganizationActions.updateProjectSection({oid:e,oseid:t,sectionData:n})}),r.default.bind(c.default.DELETE_SECTION,({params:{oid:e,oseid:t}})=>{h.OrganizationActions.removeProjectSection({oid:e,oseid:t})}),r.default.bind(c.default.UPDATE_SECTION_ORDER,({params:{oid:e},body:{index:t,sections:n}})=>{h.OrganizationActions.updateProjectSectionOrder({oid:e,oseid:n[0],index:t})}),r.default.bind(c.default.UPDATE_SECTION_PROJECT,({params:{oid:e,oseid:t},body:{index:n,projects:i}})=>{const{sections:r}=h.OrganizationHelpers.getOrganization(e);r.some(e=>e._id===t)?h.OrganizationActions.updateProjectOrder({oid:e,oseid:t,index:n,projects:i}):y.getOrganizationSection(e,t).then(({section:t})=>{h.OrganizationActions.addProjectSection({oid:e,index:n,sectionData:t})})}),r.default.bind(c.default.ADD_SECTION_LINK,({params:{oid:e,oseid:t},body:n})=>{h.OrganizationActions.addSectionLink({oid:e,oseid:t,linkData:n})}),r.default.bind(c.default.UPDATE_SECTION_LINK,({params:{oid:e,oseid:t,oselid:n},body:i})=>{h.OrganizationActions.updateSectionLink({oid:e,oseid:t,oselid:n,linkData:C({_id:n},i)})}),r.default.bind(c.default.DELETE_SECTION_LINK,({params:{oid:e,oseid:t,oselid:n}})=>{h.OrganizationActions.removeSectionLink({oid:e,oseid:t,oselid:n})}));const E={onProjectInviteUser(e){Object(o.handleInviteUserSocketForInvitePopup)(e.params.pid,e.body)},onInviteUser(e){Object(o.handleInvitedSocketForInvitePopup)(e.body.users)},onRemoveUserFromProject(e){Object(o.removeUser)(e.params.pid,e.params.mid)},onCreateUser(e){Object(o.handleCreateUserSocketForInvitePopup)(e.body)},onDeleteUser(e){Zeplin.user._id!==e.params.uid&&Object(o.handleDeleteUserSocketForInvitePopup)(e.params.uid)}};p.ProjectsDispatcher.register(e=>{switch(e.type){case p.ProjectsActionTypes.INVITE_USER:!function(e){const t=Object(S.subscribeToProjectChannel)(e);r.userChannel.bind(l.default.INVITE_USER,E.onInviteUser),t.bind(s.default.INVITE_USER,E.onProjectInviteUser),t.bind(s.default.REMOVE_USER,E.onRemoveUserFromProject),t.bind(l.default.CREATE,E.onCreateUser),t.bind(l.default.DELETE,E.onDeleteUser)}(e.pid)}});const T={onStyleguideInviteUser(e){Object(o.handleInviteUserSocketForInvitePopup)(e.params.stid,e.body)},onInviteUser(e){Object(o.handleInvitedSocketForInvitePopup)(e.body.users)},onRemoveUserFromStyleguide(e){Object(o.removeUser)(e.params.stid,e.params.mid)},onCreateUser(e){Object(o.handleCreateUserSocketForInvitePopup)(e.body)},onDeleteUser(e){Zeplin.user._id!==e.params.uid&&Object(o.handleDeleteUserSocketForInvitePopup)(e.params.uid)}};f.StyleguidesDispatcher.register(e=>{switch(e.type){case f.StyleguidesActionTypes.INVITE_USER:!function(e){const t=Object(S.subscribeToStyleguideChannel)(e);r.userChannel.bind(l.default.INVITE_USER,T.onInviteUser),t.bind(a.default.INVITE_USER,T.onStyleguideInviteUser),t.bind(a.default.REMOVE_USER,T.onRemoveUserFromStyleguide),t.bind(l.default.CREATE,T.onCreateUser),t.bind(l.default.DELETE,T.onDeleteUser)}(e.stid)}})},function(e,t,n){"use strict";n.r(t),t.default={ACTIVATE:"ActivateProject",ARCHIVE:"ArchiveProject",DELETE:"DeleteProject",INVITE_USER:"InviteProjectUser",ADD_INTEGRATION_EVENT:"AddProjectIntegrationEvent",DELETE_INTEGRATION_EVENT:"DeleteProjectIntegrationEvent",DELETE_INTEGRATION:"DeleteProjectIntegration",ADD_EXTENSION:"AddProjectExtension",REMOVE_EXTENSION:"RemoveExtensionFromProject",REMOVE_USER:"RemoveUserFromProject",TRANSFER_OWNERSHIP:"TransferProjectOwnership",UPDATE_ACCESSIBILITY:"UpdateProjectAccessibility",UPDATE_DENSITY_SCALE:"UpdateProjectDensityScale",UPDATE_DESCRIPTION:"UpdateProjectDescription",UPDATE_EXTENSION:"UpdateProjectExtension",UPDATE_NAME:"UpdateProjectName",UPDATE_THUMBNAIL:"UpdateProjectThumbnail",UPDATE_UPDATED:"UpdateProjectUpdated",UPDATE_USER_ROLE:"UpdateProjectUserRole",ATTACH_JIRA_ISSUE:"AttachJiraIssue",REMOVE_JIRA_ISSUE_ATTACHMENT:"RemoveJiraIssueAttachment",CREATE_SECTION:"CreateSection",UPDATE_SECTION:"UpdateSection",UPDATE_SECTIONS_ORDER:"UpdateSectionsOrder",UPDATE_SECTION_SCREENS:"UpdateSectionScreens",DELETE_SECTION:"DeleteSection",UPDATE_STYLEGUIDE_LINK:"UpdateProjectStyleguidelink",REMOVE_STYLEGUIDE_LINK:"RemoveProjectStyleguideLink",CREATE_COLOR:"CreateProjectColor",UPDATE_COLOR:"UpdateProjectColor",UPDATE_COLORS_ORDER:"UpdateProjectColorsOrder",DELETE_COLOR:"DeleteProjectColor",UPDATE_COLORS_STYLEGUIDE:"UpdateProjectColorsStyleguide",CREATE_TEXT_STYLE:"CreateProjectTextStyle",UPDATE_TEXT_STYLE:"UpdateProjectTextStyle",DELETE_TEXT_STYLE:"DeleteProjectTextStyle",UPDATE_TEXT_STYLES_STYLEGUIDE:"UpdateProjectTextStylesStyleguide",CREATE_SPACING_SECTION:"CreateProjectSpacingSection",UPDATE_SPACING_SECTION:"UpdateProjectSpacingSection",DELETE_SPACING_SECTION:"DeleteProjectSpacingSection",CREATE_SPACING_TOKEN:"CreateProjectSpacingToken",UPDATE_SPACING_TOKEN:"UpdateProjectSpacingToken",DELETE_SPACING_TOKEN:"DeleteProjectSpacingToken",UPDATE_REM_PREFERENCES:"UpdateProjectRemPreferences",CREATE_COMPONENT_SECTION:"CreateProjectComponentSection",UPDATE_COMPONENT_SECTION:"UpdateProjectComponentSection",UPDATE_COMPONENT_SECTIONS_ORDER:"UpdateProjectComponentSectionsOrder",MERGE_COMPONENT_SECTIONS:"MergeProjectComponentSections",DELETE_COMPONENT_SECTION:"DeleteProjectComponentSection",UPDATE_COMPONENT_SECTIONS_STYLEGUIDE:"UpdateProjectComponentSectionsStyleguide",CREATE_COMPONENT:"CreateProjectComponent",CREATE_COMPONENT_V2:"CreateProjectComponentV2",CREATE_COMPONENT_VERSION:"CreateProjectComponentVersion",UPDATE_COMPONENT:"UpdateProjectComponent",UPDATE_COMPONENTS_ORDER:"UpdateProjectComponentsOrder",DELETE_COMPONENT:"DeleteProjectComponent",UPDATE_CONNECTED_COMPONENTS:"UpdateProjectConnectedComponents",UPDATE_WORKFLOW_STATUS:"UpdateProjectWorkflowStatus",DELETE_WORKFLOW_STATUS:"DeleteProjectWorkflowStatus"}},function(e,t,n){"use strict";n.r(t),t.default={ACTIVATE:"ActivateStyleguide",ARCHIVE:"ArchiveStyleguide",DELETE:"DeleteStyleguide",INVITE_USER:"InviteStyleguideUser",ADD_INTEGRATION_EVENT:"AddStyleguideIntegrationEvent",DELETE_INTEGRATION_EVENT:"DeleteStyleguideIntegrationEvent",DELETE_INTEGRATION:"DeleteStyleguideIntegration",ADD_EXTENSION:"AddStyleguideExtension",REMOVE_EXTENSION:"RemoveExtensionFromStyleguide",REMOVE_USER:"RemoveUserFromStyleguide",TRANSFER_OWNERSHIP:"TransferStyleguideOwnership",UPDATE_DENSITY_SCALE:"UpdateStyleguideDensityScale",UPDATE_DESCRIPTION:"UpdateStyleguideDescription",UPDATE_NAME:"UpdateStyleguideName",UPDATE_THUMBNAIL:"UpdateStyleguideThumbnail",UPDATE_USER_ROLE:"UpdateStyleguideUserRole",UPDATE_PARENT:"UpdateStyleguideParent",REMOVE_PARENT:"RemoveStyleguideParent",CREATE_COLOR:"CreateStyleguideColor",DELETE_COLOR:"DeleteStyleguideColor",UPDATE_COLOR:"UpdateStyleguideColor",UPDATE_COLORS_ORDER:"UpdateStyleguideColorsOrder",UPDATE_COLORS_STYLEGUIDE:"UpdateStyleguideColorsStyleguide",CREATE_TEXT_STYLE:"CreateStyleguideTextStyle",UPDATE_TEXT_STYLE:"UpdateStyleguideTextStyle",DELETE_TEXT_STYLE:"DeleteStyleguideTextStyle",UPDATE_TEXT_STYLES_STYLEGUIDE:"UpdateStyleguideTextStylesStyleguide",CREATE_SPACING_SECTION:"CreateStyleguideSpacingSection",UPDATE_SPACING_SECTION:"UpdateStyleguideSpacingSection",DELETE_SPACING_SECTION:"DeleteStyleguideSpacingSection",CREATE_SPACING_TOKEN:"CreateStyleguideSpacingToken",UPDATE_SPACING_TOKEN:"UpdateStyleguideSpacingToken",DELETE_SPACING_TOKEN:"DeleteStyleguideSpacingToken",UPDATE_REM_PREFERENCES:"UpdateStyleguideRemPreferences",CREATE_COMPONENT_SECTION:"CreateStyleguideComponentSection",UPDATE_COMPONENT_SECTION:"UpdateStyleguideComponentSection",UPDATE_COMPONENT_SECTIONS_ORDER:"UpdateStyleguideComponentSectionsOrder",MERGE_COMPONENT_SECTIONS:"MergeStyleguideComponentSections",DELETE_COMPONENT_SECTION:"DeleteStyleguideComponentSection",UPDATE_COMPONENT_SECTIONS_STYLEGUIDE:"UpdateStyleguideComponentSectionsStyleguide",CREATE_COMPONENT:"CreateStyleguideComponent",CREATE_COMPONENT_V2:"CreateStyleguideComponentV2",CREATE_COMPONENT_VERSION:"CreateStyleguideComponentVersion",UPDATE_COMPONENT:"UpdateStyleguideComponent",UPDATE_COMPONENTS_ORDER:"UpdateStyleguideComponentsOrder",DELETE_COMPONENT:"DeleteStyleguideComponent",UPDATE_CONNECTED_COMPONENTS:"UpdateStyleguideConnectedComponents",UPDATE_WORKFLOW_STATUS:"UpdateStyleguideWorkflowStatus",DELETE_WORKFLOW_STATUS:"DeleteStyleguideWorkflowStatus"}},function(e,t,n){"use strict";n.r(t),t.default={PAYMENT_FAIL:"RequestPaymentFail"}},function(e,t,n){"use strict";n.r(t);var i=n(168),r=n(467),o=n(753),s=n(750),a=n(757),l=n(758),c=n(112),d=n(759),u=n(345),h=n(342),p=n(646),f=n(346),g=n(635),m=n(690),b=n(658),y=n(473),S=n(96),v=n(137);function C(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}i.default&&(i.default.bind_global((e,{params:{pid:t}={}})=>{t&&(h.BarrelHelpers.hasProject(t)||Object(r.unsubscribeFromProjectChannel)(t))}),i.default.bind(o.default.TRANSFER_OWNERSHIP,({params:{oid:e,pid:t,mid:n,uid:i},body:o,body:{users:s}})=>{if(n){const r=s.find(e=>e.user._id===Zeplin.user._id);return r&&(Zeplin.user.paymentPlan=r.paymentPlan),void u.ProjectsActions.transferOwnership({bid:t,fromUserId:n,targetId:i,users:s,oid:e})}if(!e)return;const{organizations:a}=y.OrganizationStore.getState();if(a.find(t=>t._id===e))if("_id"in o)h.BarrelHelpers.hasProject(t)&&h.BarrelActions.remove({barrelType:S.default.PROJECT,bid:t}),h.BarrelActions.add({barrelType:S.default.PROJECT,barrel:o,oid:e});else{s.some(e=>e.user._id===Zeplin.user._id)||h.BarrelActions.remove({barrelType:S.default.PROJECT,bid:t})}else Object(r.unsubscribeFromOrganizationChannel)(e)}),i.default.bind(o.default.UPDATE_NAME,({params:{pid:e},body:{name:t}})=>{h.BarrelActions.updateName({bid:e,name:t})}),i.default.bind(o.default.UPDATE_DESCRIPTION,({params:{pid:e},body:{description:t}})=>{h.BarrelActions.updateDescription({bid:e,description:t})}),i.default.bind(o.default.UPDATE_DENSITY_SCALE,({params:{pid:e},body:{densityScale:t}})=>{h.BarrelActions.updateDensityScale({bid:e,densityScale:t})}),i.default.bind(o.default.UPDATE_THUMBNAIL,({params:{pid:e},body:{thumbnail:t}})=>{h.BarrelActions.updateThumbnail({bid:e,thumbnail:t})}),i.default.bind(o.default.UPDATE_UPDATED,({params:{pid:e},body:{updated:t}})=>{u.ProjectsActions.updateProject({pid:e,data:{updated:t}})}),i.default.bind(o.default.UPDATE_ACCESSIBILITY,({params:{pid:e},body:{public:t}})=>{h.BarrelActions.toggleScene({bid:e,accessibility:t})}),i.default.bind(o.default.ADD_INTEGRATION_EVENT,({params:{pid:e,intype:t,inid:n,event:i}})=>{m.SlackPreferencesActions.addIntegrationEvent({bid:e,intype:t,inid:n,event:i})}),i.default.bind(o.default.DELETE_INTEGRATION_EVENT,({params:{pid:e,intype:t,inid:n,event:i}})=>{m.SlackPreferencesActions.removeIntegrationEvent({bid:e,intype:t,inid:n,event:i})}),i.default.bind(o.default.DELETE_INTEGRATION,({params:{pid:e,intype:t,inid:n}})=>{h.BarrelActions.removeIntegration({bid:e,intype:t,inid:n})}),i.default.bind(o.default.ADD_EXTENSION,({params:{uid:e,pid:t},body:{_id:n}})=>{b.ExtensionsActions.load({barrelType:S.default.PROJECT,bid:t,uid:e,eid:n})}),i.default.bind(o.default.REMOVE_EXTENSION,({params:{pid:e,eid:t}})=>{b.ExtensionsActions.remove({barrelType:S.default.PROJECT,bid:e,eid:t})}),i.default.bind(o.default.ACTIVATE,({params:{pid:e}})=>{h.BarrelActions.activate({bid:e,barrelType:S.default.PROJECT})}),i.default.bind(o.default.ARCHIVE,({params:{pid:e,uid:t}})=>{h.BarrelActions.archive({bid:e,barrelType:S.default.PROJECT,uid:t})}),i.default.bind(o.default.DELETE,({params:{pid:e,uid:t}})=>{h.BarrelActions.remove({barrelType:S.default.PROJECT,bid:e,uid:t})}),i.default.bind(s.default.CREATE,({params:{pid:e,uid:t},body:n})=>{e&&h.BarrelActions.updateUserData({bid:e,uid:t,userData:E(E({},n),{},{status:"registered"})})}),i.default.bind(o.default.INVITE_USER,({params:{pid:e,oid:t,oseid:n},body:i})=>{const r="role"in i,o=h.BarrelHelpers.hasProject(e);if(r&&o)h.BarrelActions.addMembers({barrelType:S.default.PROJECT,bid:e,members:[i]});else if(o)u.ProjectsActions.updateProject({pid:e,data:i});else{const e=i.users.some(({user:e,role:t})=>e._id===Zeplin.user._id&&"pawn"===t),r=t&&!e?t:"user";if("user"!==r&&n){const{sections:e}=y.OrganizationHelpers.getOrganization(r);if(!e.some(e=>e._id===n))return void v.getOrganizationSection(r,n).then(({section:e,index:o})=>{h.BarrelActions.add({barrelType:S.default.PROJECT,oid:r,oseid:n,barrel:E(E({},i),{},{complete:!1})}),y.OrganizationActions.addProjectSection({oid:t,index:o,sectionData:e})})}h.BarrelActions.add({barrelType:S.default.PROJECT,oid:r,oseid:n,barrel:E(E({},i),{},{complete:!1})})}}),i.default.bind(o.default.UPDATE_USER_ROLE,({params:{pid:e,mid:t},body:{role:n}})=>{h.BarrelActions.updateUserRole({bid:e,uid:t,role:n})}),i.default.bind(s.default.UPDATE_USER,({params:{pid:e,uid:t},body:n})=>{e&&h.BarrelActions.updateUserData({bid:e,uid:t,userData:n})}),i.default.bind(s.default.UPDATE_USERNAME,({params:{pid:e,uid:t},body:n})=>{e&&h.BarrelActions.updateUserData({bid:e,uid:t,userData:n})}),i.default.bind(s.default.UPDATE_EMAIL,({params:{pid:e,uid:t},body:n})=>{e&&h.BarrelActions.updateUserData({bid:e,uid:t,userData:n})}),i.default.bind(s.default.UPDATE_AVATAR,({params:{pid:e,uid:t},body:n})=>{e&&h.BarrelActions.updateUserData({bid:e,uid:t,userData:n})}),i.default.bind(s.default.UPDATE_EMOTAR,({params:{pid:e,uid:t},body:{emotar:n}})=>{e&&h.BarrelActions.updateUserData({bid:e,uid:t,userData:{emotar:n}})}),i.default.bind(s.default.DELETE,({params:{pid:e,uid:t}})=>{e&&h.BarrelActions.removeMember({bid:e,uid:t})}),i.default.bind(o.default.REMOVE_USER,({params:{pid:e,uid:t,mid:n}})=>{h.BarrelActions.removeMember({bid:e,uid:t,mid:n})}),i.default.bind(o.default.ATTACH_JIRA_ISSUE,({params:{pid:e},body:t})=>{const n=new c.default(t.jira);h.BarrelActions.attachJiraIssue({bid:e,jira:n})}),i.default.bind(o.default.REMOVE_JIRA_ISSUE_ATTACHMENT,({params:{pid:e,aid:t}})=>{h.BarrelActions.removeJiraIssueAttachment({bid:e,aid:t})}),i.default.bind(o.default.CREATE_SECTION,e=>{let{params:{pid:t},body:{index:n}}=e,i=C(e.body,["index"]);p.DashboardActions.addSection({pid:t,section:i,index:n})}),i.default.bind(o.default.UPDATE_SECTION,({params:{pid:e,seid:t},body:n})=>{p.DashboardActions.updateSection({pid:e,seid:t,sectionData:n})}),i.default.bind(o.default.UPDATE_SECTIONS_ORDER,({params:{pid:e},body:{sections:t}})=>{t.forEach(({_id:t,to:n})=>{p.DashboardActions.updateSectionOrder({pid:e,seid:t,index:n})})}),i.default.bind(o.default.UPDATE_SECTION_SCREENS,({params:{pid:e,seid:t},body:{index:n,screens:i}})=>{p.DashboardActions.updateScreenOrder({pid:e,screens:i,targetSectionId:t,targetIndex:n})}),i.default.bind(o.default.DELETE_SECTION,({params:{pid:e,seid:t}})=>{p.DashboardActions.removeSection({pid:e,seid:t})}),i.default.bind(a.default.CREATE_V3,({params:{pid:e},body:t})=>{g.ScreenActions.addScreen({pid:e,screen:t})}),i.default.bind(a.default.UPDATE,({params:{pid:e,sid:t},body:{name:n,description:i}})=>{n&&g.ScreenActions.updateName({pid:e,sid:t,name:n}),i&&g.ScreenActions.updateDescription({pid:e,sid:t,description:i})}),i.default.bind(a.default.UPDATE_TAGS,({params:{pid:e},body:{screens:t}})=>{g.ScreenActions.updateTags({pid:e,updates:t})}),i.default.bind(a.default.CREATE_VERSION,({params:{pid:e,sid:t},body:n})=>{g.ScreenActions.addVersion({pid:e,sid:t,version:n})}),i.default.bind(a.default.UPDATE_VERSION_COMMIT_COLOR,({params:{pid:e,sid:t,vid:n},body:{color:i}})=>{g.ScreenActions.updateCommitColor({pid:e,sid:t,vid:n,color:i})}),i.default.bind(a.default.UPDATE_VERSION_COMMIT_MESSAGE,({params:{pid:e,sid:t,vid:n},body:{message:i}})=>{g.ScreenActions.updateCommitMessage({pid:e,sid:t,vid:n,message:i})}),i.default.bind(a.default.DELETE_VERSION,({params:{pid:e,sid:t,vid:n}})=>{g.ScreenActions.removeVersion({pid:e,sid:t,vid:n})}),i.default.bind(a.default.DELETE,({params:{pid:e,uid:t,sid:n}})=>{g.ScreenActions.removeScreen({pid:e,uid:t,sid:n})}),i.default.bind(l.default.CREATE,({params:{pid:e,sid:t,uid:n},body:i})=>{g.ScreenActions.addDot({pid:e,sid:t,uid:n,dot:i})}),i.default.bind(l.default.CREATE_COMMENT,({params:{uid:e,pid:t,sid:n,did:i},body:r})=>{g.ScreenActions.addComment({pid:t,sid:n,uid:e,did:i,comment:r})}),i.default.bind(l.default.UPDATE_COMMENT_NOTE,({params:{uid:e,pid:t,sid:n,did:i,cmid:r},body:{note:o,updated:s=new Date}})=>{g.ScreenActions.updateComment({pid:t,sid:n,uid:e,did:i,cmid:r,commentData:{note:o,updated:s}})}),i.default.bind(l.default.UPDATE,({params:{pid:e,sid:t,did:n},body:i})=>{g.ScreenActions.updateDot({pid:e,sid:t,did:n,dotData:i})}),i.default.bind(l.default.DELETE,({params:{pid:e,sid:t,did:n}})=>{g.ScreenActions.removeDot({pid:e,sid:t,did:n})}),i.default.bind(l.default.DELETE_COMMENT,({params:{pid:e,sid:t,did:n,cmid:i}})=>{g.ScreenActions.removeComment({pid:e,sid:t,did:n,cmid:i})}),i.default.bind(o.default.UPDATE_STYLEGUIDE_LINK,({params:{pid:e},body:{styleguideLink:t}})=>{u.ProjectsActions.updateProject({pid:e,data:{styleguideLink:t}})}),i.default.bind(o.default.REMOVE_STYLEGUIDE_LINK,({params:{pid:e},body:{styleguideLink:{styleguide:t}}})=>{d.ProjectActions.unlinkProjectFromStyleguide({pid:e,styleguide:t})}),i.default.bind(o.default.CREATE_COLOR,({params:{pid:e},body:t})=>{h.BarrelActions.addColor({bid:e,color:t})}),i.default.bind(o.default.UPDATE_COLOR,({params:{pid:e,cid:t},body:n})=>{h.BarrelActions.updateColor({bid:e,cid:t,colorData:n})}),i.default.bind(o.default.UPDATE_COLORS_ORDER,({params:{pid:e},body:{colors:t}})=>{t.forEach(({_id:t,to:n})=>{h.BarrelActions.updateColorOrder({bid:e,cid:t,to:n})})}),i.default.bind(o.default.DELETE_COLOR,({params:{pid:e,cid:t,unorderedBatch:n}})=>{n||h.BarrelActions.removeColor({bid:e,cid:t})}),i.default.bind(o.default.UPDATE_COLORS_STYLEGUIDE,({params:{pid:e,tstid:t}})=>{h.BarrelActions.removeAllColors({bid:e}),h.BarrelHelpers.hasStyleguide(t)&&v.getStyleguide(t).then(e=>{f.StyleguidesActions.getStyleguideSuccess({styleguide:e})})}),i.default.bind(o.default.CREATE_TEXT_STYLE,({params:{pid:e},body:t})=>{h.BarrelActions.addTextStyle({bid:e,textStyle:t})}),i.default.bind(o.default.UPDATE_TEXT_STYLE,({params:{pid:e,tsid:t},body:n})=>{h.BarrelActions.updateTextStyle({bid:e,tsid:t,textStyleData:n})}),i.default.bind(o.default.DELETE_TEXT_STYLE,({params:{pid:e,tsid:t,unorderedBatch:n}})=>{n||h.BarrelActions.removeTextStyle({bid:e,tsid:t})}),i.default.bind(o.default.UPDATE_TEXT_STYLES_STYLEGUIDE,({params:{pid:e,tstid:t}})=>{h.BarrelActions.removeAllTextStyles({bid:e}),h.BarrelHelpers.hasStyleguide(t)&&v.getStyleguide(t).then(e=>{f.StyleguidesActions.getStyleguideSuccess({styleguide:e})})}),i.default.bind(o.default.CREATE_SPACING_SECTION,({params:{pid:e},body:t})=>{h.BarrelActions.addSpacingSection({bid:e,spacingSection:t})}),i.default.bind(o.default.UPDATE_SPACING_SECTION,({params:{pid:e,ssid:t},body:n})=>{h.BarrelActions.updateSpacingSection({bid:e,ssid:t,updatedSpacingSection:n})}),i.default.bind(o.default.DELETE_SPACING_SECTION,({params:{pid:e,ssid:t}})=>{h.BarrelActions.removeSpacingSection({bid:e,ssid:t})}),i.default.bind(o.default.CREATE_SPACING_TOKEN,({params:{pid:e,ssid:t},body:n})=>{h.BarrelActions.addSpacingToken({bid:e,ssid:t,spacingToken:n})}),i.default.bind(o.default.UPDATE_SPACING_TOKEN,({params:{pid:e,ssid:t,sptid:n},body:i})=>{h.BarrelActions.updateSpacingToken({bid:e,ssid:t,sptid:n,updatedSpacingToken:i})}),i.default.bind(o.default.DELETE_SPACING_TOKEN,({params:{pid:e,ssid:t,sptid:n}})=>{h.BarrelActions.removeSpacingToken({bid:e,ssid:t,sptid:n})}),i.default.bind(o.default.UPDATE_REM_PREFERENCES,({params:{pid:e},body:{remPreferences:t}})=>{h.BarrelActions.updateRemPreferences({bid:e,updatedRemPreferences:t})}),i.default.bind(o.default.CREATE_COMPONENT_SECTION,e=>{let{params:{pid:t,csid:n},body:{components:i}}=e,r=C(e.body,["components"]);const o=i.map(({coid:e,csid:t})=>({coid:e,csid:t.split("/")}));h.BarrelActions.addComponentSection({bid:t,csids:n?n.split("/"):[],componentSection:E({components:o},r)})}),i.default.bind(o.default.UPDATE_COMPONENT_SECTION,({params:{pid:e,csid:t},body:n})=>{h.BarrelActions.updateComponentSection({bid:e,csids:t.split("/"),componentSectionData:n})}),i.default.bind(o.default.UPDATE_COMPONENT_SECTIONS_ORDER,({params:{pid:e},body:{componentSections:t}})=>{const n=t.map(({csid:e,tcsid:t,to:n})=>({csid:e.split("/"),tcsid:t?t.split("/"):[],to:n}));h.BarrelActions.updateComponentSectionsOrder({bid:e,componentSections:n})}),i.default.bind(o.default.MERGE_COMPONENT_SECTIONS,({params:{pid:e},body:{componentSections:t}})=>{t.forEach(({csid:t,tcsid:n,flatten:i=!1})=>{h.BarrelActions.mergeComponentSection({bid:e,csids:t.split("/"),tcsids:n.split("/"),flatten:i})})}),i.default.bind(o.default.DELETE_COMPONENT_SECTION,({params:{pid:e,csid:t,unorderedBatch:n}})=>{n||h.BarrelActions.removeComponentSection({bid:e,csids:t.split("/")})}),i.default.bind(o.default.UPDATE_COMPONENT_SECTIONS_STYLEGUIDE,({params:{pid:e,tstid:t},body:{componentSections:n}})=>{h.BarrelActions.removeComponentSections({bid:e,componentSections:n}),h.BarrelHelpers.hasStyleguide(t)&&v.getStyleguide(t).then(e=>{f.StyleguidesActions.getStyleguideSuccess({styleguide:e})})}),i.default.bind(o.default.CREATE_COMPONENT,({params:{pid:e,csid:t},body:n})=>{h.BarrelActions.addComponent({bid:e,csids:t.split("/"),component:n})}),i.default.bind(o.default.CREATE_COMPONENT_V2,({params:{pid:e,csid:t},body:n})=>{h.BarrelActions.addComponent({bid:e,csids:t.split("/"),component:n})}),i.default.bind(o.default.CREATE_COMPONENT_VERSION,({params:{pid:e,csid:t,coid:n},body:i})=>{h.BarrelActions.addComponentVersion({bid:e,csids:t.split("/"),coid:n,componentVersion:i})}),i.default.bind(o.default.UPDATE_COMPONENT,({params:{pid:e,csid:t,coid:n},body:i})=>{h.BarrelActions.updateComponent({bid:e,csids:t.split("/"),coid:n,componentData:i})}),i.default.bind(o.default.UPDATE_COMPONENTS_ORDER,({params:{pid:e},body:{components:t}})=>{const n=t.map(({csid:e,tcsid:t,coid:n,to:i})=>({csid:e.split("/"),tcsid:t.split("/"),coid:n,to:i}));h.BarrelActions.updateComponentsOrder({bid:e,components:n})}),i.default.bind(o.default.DELETE_COMPONENT,({params:{pid:e,csid:t,coid:n}})=>{h.BarrelActions.removeComponent({bid:e,csids:t.split("/"),coid:n})}),i.default.bind(o.default.UPDATE_CONNECTED_COMPONENTS,({params:{pid:e}})=>{v.getProjectConnectedComponents(e).then(({connectedComponents:t})=>{h.BarrelActions.updateConnectedComponents({bid:e,connectedComponents:t})})}),i.default.bind(o.default.DELETE_WORKFLOW_STATUS,({params:{pid:e}})=>{h.BarrelActions.deleteWorkflowStatus({bid:e})}),i.default.bind(o.default.UPDATE_WORKFLOW_STATUS,({params:{pid:e},body:t})=>{h.BarrelActions.updateWorkflowStatus({bid:e,workflowStatus:t})}))},function(e,t,n){"use strict";n.r(t),t.default={CREATE_V4:"CreateScreenV4",CREATE_V3:"CreateScreenV3",DELETE:"DeleteScreen",UPDATE:"UpdateScreen",UPDATE_TAGS:"UpdateScreensTags",CREATE_VERSION:"CreateScreenVersion",DELETE_VERSION:"DeleteScreenVersion",UPDATE_VERSION:"UpdateScreenLatestVersion",UPDATE_VERSION_COMMIT_COLOR:"UpdateScreenVersionCommitColor",UPDATE_VERSION_COMMIT_MESSAGE:"UpdateScreenVersionCommitMessage"}},function(e,t,n){"use strict";n.r(t),t.default={CREATE:"CreateDotV2",UPDATE:"UpdateDot",DELETE:"DeleteDot",CREATE_COMMENT:"CreateDotCommentV2",UPDATE_COMMENT_NOTE:"UpdateDotCommentNote",DELETE_COMMENT:"DeleteDotComment"}},function(e,t,n){"use strict";n.r(t);var i=n(760);n.d(t,"ProjectActions",(function(){return i.default}));var r=n(101);n.d(t,"ProjectActionTypes",(function(){return r.default}));var o=n(761);n.d(t,"ProjectDispatcher",(function(){return o.default}));n(762)},function(e,t,n){"use strict";n.r(t);var i=n(101),r=n(761);const o={linkProjectToStyleguideRequest({project:e,styleguide:t,syncWithApi:n=!1}){r.default.dispatch({type:i.default.LINK_PROJECT_REQUEST,project:e,styleguide:t,syncWithApi:n})},linkProjectToStyleguideSuccess({project:e,styleguide:t,styleguides:n}){r.default.dispatch({type:i.default.LINK_PROJECT_SUCCESS,project:e,styleguide:t,styleguides:n})},linkProjectToStyleguide({project:e,styleguide:t,syncWithApi:n}){r.default.dispatch({type:i.default.LINK_PROJECT,project:e,styleguide:t,syncWithApi:n})},unlinkProjectFromStyleguide({pid:e,styleguide:t,syncWithApi:n}){r.default.dispatch({type:i.default.UNLINK_PROJECT,pid:e,styleguide:t,syncWithApi:n})}};t.default=o},function(e,t,n){"use strict";n.r(t);var i=n(84);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(101),r=n(761),o=n(760),s=n(345),a=n(137),l=n(45),c=n(346);const d={onProjectLink({project:e,styleguide:t,syncWithApi:n}){if(e.partial)return;(n?Object(a.updateProjectStyleguideLink)(e._id,t._id):Promise.resolve()).then(i=>{n&&mixpanel.master.track("Linked styleguide to project");const{styleguides:r}=c.StyleguidesDataStore.getState(),o=[...t.ancestors,t._id].filter(e=>!(r[e]&&r[e].complete));return Promise.all(o.map(t=>Object(a.getStyleguide)(t,{projectId:e._id})))}).then(n=>{o.default.linkProjectToStyleguideSuccess({project:e,styleguide:t,styleguides:n})}).catch(n=>{o.default.unlinkProjectFromStyleguide({pid:e._id,styleguide:t}),l.handleError(n)})},onProjectUnlink({pid:e,styleguide:t}){Object(a.removeProjectStyleguideLink)(e).catch(n=>{const{projects:{[e]:i}}=s.ProjectsDataStore.getState();o.default.linkProjectToStyleguide({project:i,styleguide:t}),l.handleError(n)})}};r.default.register(e=>{switch(e.type){case i.default.UNLINK_PROJECT:e.syncWithApi&&d.onProjectUnlink(e);break;case i.default.LINK_PROJECT_REQUEST:d.onProjectLink(e)}})},function(e,t,n){"use strict";n.r(t);var i=n(754),r=n(750),o=n(473),s=n(346),a=n(96),l=n(168),c=n(467),d=n(342),u=n(658),h=n(690),p=n(137);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}l.default&&(l.default.bind_global((e,{params:{stid:t}={}})=>{t&&(d.BarrelHelpers.hasStyleguide(t)||Object(c.unsubscribeFromStyleguideChannel)(t))}),l.default.bind(i.default.ACTIVATE,({params:{stid:e}})=>{d.BarrelActions.activate({bid:e,barrelType:a.default.STYLEGUIDE})}),l.default.bind(i.default.ARCHIVE,({params:{stid:e,uid:t}})=>{d.BarrelActions.archive({bid:e,barrelType:a.default.STYLEGUIDE,uid:t})}),l.default.bind(i.default.DELETE,({params:{stid:e,uid:t}})=>{d.BarrelActions.remove({barrelType:a.default.STYLEGUIDE,bid:e,uid:t})}),l.default.bind(i.default.TRANSFER_OWNERSHIP,({params:{oid:e,stid:t,mid:n,uid:i},body:r,body:{users:l}})=>{const u=d.BarrelHelpers.findBarrelOrganizationId(t),h=!!u;if(n)return void s.StyleguidesActions.transferOwnership({bid:t,fromUserId:i,targetId:n,users:l,oid:u});const{organizations:p,organizationStyleguides:f}=o.OrganizationStore.getState(),g=p.some(t=>t._id===e),m=e in f;if(e&&"_id"in r){if(!g)return void Object(c.unsubscribeFromOrganizationChannel)(e);if(!h){if(!m)return;return void d.BarrelActions.add({barrelType:a.default.STYLEGUIDE,barrel:r,oid:e})}if(u===e)return;s.StyleguidesActions.transferOwnership({bid:t,targetId:e,users:l,oid:u,toOrganization:!0})}else if(e){if(!l.some(e=>e.user._id===Zeplin.user._id))return void d.BarrelActions.remove({barrelType:a.default.STYLEGUIDE,bid:t});s.StyleguidesActions.transferOwnership({bid:t,targetId:e,users:l,oid:u,toOrganization:!0})}}),l.default.bind(r.default.CREATE,({params:{stid:e,uid:t},body:n})=>{e&&d.BarrelActions.updateUserData({bid:e,uid:t,userData:g(g({},n),{},{status:"registered"})})}),l.default.bind(i.default.INVITE_USER,({params:{stid:e,oid:t},body:n})=>{const i="role"in n,r=d.BarrelHelpers.hasStyleguide(e);if(i&&r)d.BarrelActions.addMembers({barrelType:a.default.STYLEGUIDE,bid:e,members:[n]});else if(r)s.StyleguidesActions.updateStyleguide({stid:e,data:n});else{const e=n.users.some(({user:e,role:t})=>e._id===Zeplin.user._id&&"pawn"===t),i=t&&!e?t:"user";d.BarrelActions.add({barrelType:a.default.STYLEGUIDE,oid:i,barrel:g(g({},n),{},{complete:!1})})}}),l.default.bind(r.default.UPDATE_USER,({params:{stid:e,uid:t},body:n})=>{e&&d.BarrelActions.updateUserData({bid:e,uid:t,userData:n})}),l.default.bind(r.default.UPDATE_USERNAME,({params:{stid:e,uid:t},body:n})=>{e&&d.BarrelActions.updateUserData({bid:e,uid:t,userData:n})}),l.default.bind(r.default.UPDATE_EMAIL,({params:{stid:e,uid:t},body:n})=>{e&&d.BarrelActions.updateUserData({bid:e,uid:t,userData:n})}),l.default.bind(r.default.UPDATE_AVATAR,({params:{stid:e,uid:t},body:n})=>{e&&d.BarrelActions.updateUserData({bid:e,uid:t,userData:n})}),l.default.bind(r.default.UPDATE_EMOTAR,({params:{stid:e,uid:t},body:{emotar:n}})=>{e&&d.BarrelActions.updateUserData({bid:e,uid:t,userData:{emotar:n}})}),l.default.bind(r.default.DELETE,({params:{stid:e,uid:t}})=>{e&&d.BarrelActions.removeMember({bid:e,uid:t})}),l.default.bind(i.default.REMOVE_USER,({params:{stid:e,uid:t,mid:n}})=>{d.BarrelActions.removeMember({bid:e,uid:t,mid:n})}),l.default.bind(i.default.UPDATE_USER_ROLE,({params:{stid:e,mid:t},body:{role:n}})=>{d.BarrelActions.updateUserRole({bid:e,uid:t,role:n})}),l.default.bind(i.default.UPDATE_NAME,({params:{stid:e},body:{name:t}})=>{s.StyleguidesActions.updateStyleguide({stid:e,data:{name:t}})}),l.default.bind(i.default.UPDATE_DESCRIPTION,({params:{stid:e},body:{description:t}})=>{s.StyleguidesActions.updateStyleguide({stid:e,data:{description:t}})}),l.default.bind(i.default.UPDATE_THUMBNAIL,({params:{stid:e},body:{thumbnail:t}})=>{d.BarrelActions.updateThumbnail({bid:e,barrelType:"styleguide",thumbnail:t})}),l.default.bind(i.default.UPDATE_DENSITY_SCALE,({params:{stid:e},body:{densityScale:t}})=>{s.StyleguidesActions.updateStyleguide({stid:e,data:{densityScale:t}})}),l.default.bind(i.default.ADD_INTEGRATION_EVENT,({params:{stid:e,intype:t,inid:n,event:i}})=>{h.SlackPreferencesActions.addIntegrationEvent({bid:e,intype:t,inid:n,event:i})}),l.default.bind(i.default.DELETE_INTEGRATION_EVENT,({params:{stid:e,intype:t,inid:n,event:i}})=>{h.SlackPreferencesActions.removeIntegrationEvent({bid:e,intype:t,inid:n,event:i})}),l.default.bind(i.default.DELETE_INTEGRATION,({params:{stid:e,intype:t,inid:n}})=>{d.BarrelActions.removeIntegration({bid:e,intype:t,inid:n})}),l.default.bind(i.default.ADD_EXTENSION,({params:{stid:e,uid:t},body:{_id:n}})=>{u.ExtensionsActions.load({barrelType:a.default.STYLEGUIDE,bid:e,uid:t,eid:n})}),l.default.bind(i.default.REMOVE_EXTENSION,({params:{stid:e,eid:t}})=>{u.ExtensionsActions.remove({barrelType:a.default.STYLEGUIDE,bid:e,eid:t})}),l.default.bind(i.default.UPDATE_PARENT,({params:{stid:e},body:t})=>{s.StyleguidesActions.updateStyleguide({stid:e,data:t})}),l.default.bind(i.default.REMOVE_PARENT,({params:{stid:e}})=>{s.StyleguidesActions.updateStyleguide({stid:e,data:{parent:null,ancestors:[]}})}),l.default.bind(i.default.CREATE_COLOR,({params:{unorderedBatch:e,stid:t},body:n})=>{e||d.BarrelActions.addColor({bid:t,color:n})}),l.default.bind(i.default.UPDATE_COLOR,({params:{stid:e,cid:t},body:n})=>{d.BarrelActions.updateColor({bid:e,cid:t,colorData:n})}),l.default.bind(i.default.UPDATE_COLORS_ORDER,({params:{stid:e},body:{colors:t}})=>{t.forEach(({_id:t,to:n})=>{d.BarrelActions.updateColorOrder({bid:e,cid:t,to:n})})}),l.default.bind(i.default.DELETE_COLOR,({params:{unorderedBatch:e,stid:t,cid:n}})=>{e||d.BarrelActions.removeColor({bid:t,cid:n})}),l.default.bind(i.default.UPDATE_COLORS_STYLEGUIDE,({params:{stid:e,tstid:t}})=>{d.BarrelActions.removeAllColors({bid:e}),d.BarrelHelpers.hasStyleguide(t)&&p.getStyleguide(t).then(e=>{s.StyleguidesActions.getStyleguideSuccess({styleguide:e})})}),l.default.bind(i.default.CREATE_TEXT_STYLE,({params:{unorderedBatch:e,stid:t},body:n})=>{e||d.BarrelActions.addTextStyle({bid:t,textStyle:n})}),l.default.bind(i.default.UPDATE_TEXT_STYLE,({params:{stid:e,tsid:t},body:n})=>{d.BarrelActions.updateTextStyle({bid:e,tsid:t,textStyleData:n})}),l.default.bind(i.default.DELETE_TEXT_STYLE,({params:{unorderedBatch:e,stid:t,tsid:n}})=>{e||d.BarrelActions.removeTextStyle({bid:t,tsid:n})}),l.default.bind(i.default.UPDATE_TEXT_STYLES_STYLEGUIDE,({params:{stid:e,tstid:t}})=>{d.BarrelActions.removeAllTextStyles({bid:e}),d.BarrelHelpers.hasStyleguide(t)&&p.getStyleguide(t).then(e=>{s.StyleguidesActions.getStyleguideSuccess({styleguide:e})})}),l.default.bind(i.default.CREATE_SPACING_SECTION,({params:{stid:e},body:t})=>{d.BarrelActions.addSpacingSection({bid:e,spacingSection:t})}),l.default.bind(i.default.UPDATE_SPACING_SECTION,({params:{stid:e,ssid:t},body:n})=>{d.BarrelActions.updateSpacingSection({bid:e,ssid:t,updatedSpacingSection:n})}),l.default.bind(i.default.DELETE_SPACING_SECTION,({params:{stid:e,ssid:t}})=>{d.BarrelActions.removeSpacingSection({bid:e,ssid:t})}),l.default.bind(i.default.CREATE_SPACING_TOKEN,({params:{stid:e,ssid:t},body:n})=>{d.BarrelActions.addSpacingToken({bid:e,ssid:t,spacingToken:n})}),l.default.bind(i.default.UPDATE_SPACING_TOKEN,({params:{stid:e,ssid:t,sptid:n},body:i})=>{d.BarrelActions.updateSpacingToken({bid:e,ssid:t,sptid:n,updatedSpacingToken:i})}),l.default.bind(i.default.DELETE_SPACING_TOKEN,({params:{stid:e,ssid:t,sptid:n}})=>{d.BarrelActions.removeSpacingToken({bid:e,ssid:t,sptid:n})}),l.default.bind(i.default.UPDATE_REM_PREFERENCES,({params:{stid:e},body:{remPreferences:t}})=>{d.BarrelActions.updateRemPreferences({bid:e,updatedRemPreferences:t})}),l.default.bind(i.default.CREATE_COMPONENT_SECTION,({params:{unorderedBatch:e,stid:t,csid:n},body:i})=>{e||(i.components=i.components.map(e=>g(g({},e),{},{csid:e.csid.split("/")})),d.BarrelActions.addComponentSection({bid:t,csids:n?n.split("/"):[],componentSection:i}))}),l.default.bind(i.default.UPDATE_COMPONENT_SECTION,({params:{stid:e,csid:t},body:n})=>{d.BarrelActions.updateComponentSection({bid:e,csids:t.split("/"),componentSectionData:n})}),l.default.bind(i.default.UPDATE_COMPONENT_SECTIONS_ORDER,({params:{stid:e},body:t})=>{d.BarrelActions.updateComponentSectionsOrder({bid:e,componentSections:t.componentSections.map(e=>({csid:e.csid.split("/"),tcsid:e.tcsid&&e.tcsid.split("/"),to:e.to}))})}),l.default.bind(i.default.MERGE_COMPONENT_SECTIONS,({params:{stid:e},body:t})=>{t.componentSections.forEach(t=>{d.BarrelActions.mergeComponentSection({bid:e,csids:t.csid.split("/"),tcsids:t.tcsid.split("/"),flatten:t.flatten})})}),l.default.bind(i.default.DELETE_COMPONENT_SECTION,({params:{unorderedBatch:e,stid:t,csid:n}})=>{e||d.BarrelActions.removeComponentSection({bid:t,csids:n.split("/")})}),l.default.bind(i.default.UPDATE_COMPONENT_SECTIONS_STYLEGUIDE,({params:{stid:e,tstid:t},body:{componentSections:n}})=>{d.BarrelActions.removeComponentSections({bid:e,componentSections:n}),d.BarrelHelpers.hasStyleguide(t)&&p.getStyleguide(t).then(e=>{s.StyleguidesActions.getStyleguideSuccess({styleguide:e})})}),l.default.bind(i.default.CREATE_COMPONENT,({params:{unorderedBatch:e,stid:t,csid:n},body:i})=>{e||d.BarrelActions.addComponent({bid:t,csids:n.split("/"),component:i})}),l.default.bind(i.default.CREATE_COMPONENT_V2,({params:{unorderedBatch:e,stid:t,csid:n},body:i})=>{e||d.BarrelActions.addComponent({bid:t,csids:n.split("/"),component:i})}),l.default.bind(i.default.CREATE_COMPONENT_VERSION,({params:{stid:e,csid:t,coid:n},body:i})=>{d.BarrelActions.addComponentVersion({bid:e,csids:t.split("/"),coid:n,componentVersion:i})}),l.default.bind(i.default.UPDATE_COMPONENT,({params:{stid:e,coid:t,csid:n},body:i})=>{d.BarrelActions.updateComponent({bid:e,csids:n.split("/"),coid:t,componentData:i})}),l.default.bind(i.default.UPDATE_COMPONENTS_ORDER,({params:{stid:e},body:{components:t}})=>{const n=t.map(({csid:e,tcsid:t,coid:n,to:i})=>({csid:e.split("/"),tcsid:t.split("/"),coid:n,to:i}));d.BarrelActions.updateComponentsOrder({bid:e,components:n})}),l.default.bind(i.default.DELETE_COMPONENT,({params:{unorderedBatch:e,stid:t,csid:n,coid:i}})=>{e||d.BarrelActions.removeComponent({bid:t,csids:n.split("/"),coid:i})}),l.default.bind(i.default.UPDATE_CONNECTED_COMPONENTS,({params:{stid:e}})=>{p.getStyleguideConnectedComponents(e).then(({connectedComponents:t})=>{d.BarrelActions.updateConnectedComponents({bid:e,connectedComponents:t})})}),l.default.bind(i.default.DELETE_WORKFLOW_STATUS,({params:{stid:e}})=>{d.BarrelActions.deleteWorkflowStatus({bid:e})}),l.default.bind(i.default.UPDATE_WORKFLOW_STATUS,({params:{stid:e},body:t})=>{d.BarrelActions.updateWorkflowStatus({bid:e,body:t})}))},function(e,t,n){"use strict";n.r(t);var i=n(765);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(766),o=n(990),s=n(1271),a=n(332),l=n(1858),c=n(680),d=n(65),u=n(334);n(1861);class h extends i.Component{static getStores(){return[c.AppStore]}static calculateState(){const{page:e}=c.AppStore.getState();return{page:e}}render(){const{page:e}=this.state;if(d.default.isWindowsApp&&!d.default.supports.SPA)return i.h(l.default,null);const t="barrel"===e?s.default:o.default;return i.h(i.Fragment,null,i.h(r.default,{page:e}),i.h(t,null),i.h(a.default,null))}}t.default=Object(u.default)(h)},function(e,t,n){"use strict";n.r(t);var i=n(767);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(19),o=n(44),s=n(65),a=n(768),l=n(774),c=n(784),d=n(787),u=n(792),h=n(828),p=n(953),f=n(984),g=n(355),m=n(342),b=n(635),y=n(646),S=n(345),v=n(346),C=n(473),O=n(349),E=n(470),T=n(96),D=n(334);class k extends i.Component{static getStores(){return[g.default,E.SpaceStore,C.OrganizationStore,O.UserStore,m.BarrelStore,y.DashboardStore,b.ScreenStore,S.ProjectsDataStore,v.StyleguidesDataStore]}static calculateState(e,{page:t}){const{loading:n,selectedTab:s,selectedOrganizationId:a}=E.SpaceStore.getState(),{loading:l,loadingOrganization:c,loadingProfiles:d,loadingBarrels:u,organizations:h}=C.OrganizationStore.getState(),{loading:p,username:f,avatar:S}=O.UserStore.getState(),{loading:v,barrelId:D,barrelType:k,organizationId:w,selectedView:_}=m.BarrelStore.getState(),{partial:j=!1,name:P=""}=m.BarrelHelpers.getBarrel()||{},R=m.BarrelHelpers.findUser(),{tagFilter:{tags:I,untagged:A},filterValue:x,jiraIssueFilter:N}=y.DashboardStore.getState(),{loadingSnapshot:L,screenId:U}=b.ScreenStore.getState(),{name:M=""}=b.ScreenHelpers.getScreen()||{};let B,z,F,{backButtonLabel:H,backButtonLink:W}=g.default.getState(),V=!1;if(V="workspace"===t?n||l||c||d||p||u:"screen"===_?v||L:v,!("workspace"===t||v||H&&W))if("screen"===_){const e={q:x,ja:N,sid:U};Object.assign(e,A?{untagged:"true"}:{tag:I}),H="Dashboard",W=Object(o.urlResolve)("project-dashboard",{url:{pid:D},query:e})}else{const e=w||a,{name:t}=C.OrganizationHelpers.getOrganization(e)||{},n=e&&"user"!==e&&(!R||"pawn"!==R.role),r=k===T.default.PROJECT?"projects":"styleguides",s={[k===T.default.PROJECT?"pid":"stid"]:D};W=n?Object(o.urlResolve)("organization-"+r,{url:{oid:e},query:s}):Object(o.urlResolve)(r,{query:s}),H=n?i.h("div",{class:"backButtonLabel",title:t},i.h("div",{class:"organizationName ellipsis"},t),i.h("div",null,"’s Workspace")):"Workspace"}if(B=V?"Zeplin":"workspace"===t?`Workspace - ${Object(r.uppercaseFirst)(s)} - Zeplin`:"screen"===_?`${M} - ${P} - Zeplin`:P+" - Zeplin","barrel"===t&&"screen"===_){const e=b.ScreenHelpers.getPreviousScreen(U);e&&(z=Object(o.urlResolve)("project-screen",{url:{pid:D,sid:e._id}}));const t=b.ScreenHelpers.getNextScreen(U);t&&(F=Object(o.urlResolve)("project-screen",{url:{pid:D,sid:t._id}}))}return{loading:V,selectedView:_,page:t,title:B,backButtonLink:W,backButtonLabel:H,organizations:h,username:f,avatar:S,selectedOrganizationId:a,screenName:M,previousScreenURL:z,nextScreenURL:F,barrelType:k,isPreview:j,barrelId:D,barrelName:P}}renderHeaderCenter(){const{loading:e,page:t,selectedView:n,organizations:r,username:o,avatar:s,selectedOrganizationId:a,screenName:u,previousScreenURL:h,nextScreenURL:p,barrelType:f,isPreview:g,barrelId:m,barrelName:b}=this.state;return"workspace"===t?r.length?i.h(l.default,{organizations:r,username:o,avatar:s,selectedOrganizationId:a,onOrganizationChange:E.SpaceActions.changeSelectedOrganization}):i.h("div",{class:"noOrganizationsLabel noSelect"},"Workspace"):"screen"===n?i.h(c.default,{loading:e,title:u,previousScreenURL:h,nextScreenURL:p}):f===T.default.STYLEGUIDE||g?i.h("span",{title:b},b):i.h(d.default,{barrelId:m,selectedTab:n})}renderHeaderRight(){return i.h(i.Fragment,null,i.h(f.default,null),i.h(u.default,null),i.h(h.default,null),i.h(p.default,null))}render(){const{loading:e,backButtonLabel:t,backButtonLink:n,title:r}=this.state;return document.title=r,i.h(a.default,{loading:e,hideLogo:s.default.isWindowsApp,backButtonLabel:t,backButtonLink:n,headerCenter:this.renderHeaderCenter(),headerRight:this.renderHeaderRight()})}}t.default=Object(D.default)(k,{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(769);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(770),a=n(228),l=n(11),c=n(18);n(773);function d(e){const{headerLeft:t,headerCenter:n,headerRight:r,homeURL:o,backButtonLabel:d,backButtonLink:u,hideLogo:h,tall:p,hidden:f,loading:g,offline:m,online:b,class:y}=e;return i.h("header",{class:Object(l.default)(y,{tall:p,hidden:f,offline:m,online:b})},i.h("div",{class:"headerLeft noSelect"},!h&&i.h("a",{class:"homeLink",href:o,"data-link-type":"inApp","data-back":""},i.h("img",{src:Object(c.imageUrl)("img/icZeplin.svg"),alt:"Zeplin",class:"logo"})),d&&i.h("a",{class:"backLink ellipsis",href:u,"data-link-type":"inApp","data-back":""},i.h(a.IconArrowLeft,{color:"var(--gandalf)"}),i.h("span",null,d)),t),i.h("div",{class:"headerCenter noSelect"},n),i.h("div",{class:"headerRight noSelect"},r),i.h(s.default,{running:g}))}d.defaultProps={homeURL:"/"},d.propTypes={headerLeft:o.a.node,headerCenter:o.a.node,headerRight:o.a.node,homeURL:o.a.string,backButtonLabel:o.a.oneOfType([o.a.string,o.a.object]),backButtonLink:o.a.string,tall:o.a.bool,hidden:o.a.bool,hideLogo:o.a.bool,class:o.a.string,loading:o.a.bool,offline:o.a.bool,online:o.a.bool},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(771);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(24);n(772);class o extends i.Component{constructor(e){super(e),this.state={stopRequested:!1,backgroundColor:e.initialColor},this.colorIndex=0}animate(){const{running:e,colors:t,initialColor:n,duration:i,easing:r}=this.props,{stopRequested:o}=this.state;if(!this.nodeRefs.bar||!e&&!o)return;const s=o?n:t[this.colorIndex];this.nodeRefs.bar.animate([{transform:"scaleX(0)",backgroundColor:s},{transform:"scaleX(1)",backgroundColor:s}],{duration:i,easing:r}).addEventListener("finish",()=>{if(o)return this.colorIndex=0,void this.setState({stopRequested:!1,backgroundColor:s});this.colorIndex=(this.colorIndex+1)%t.length,this.setState({backgroundColor:s}),this.animate()})}componentDidMount(){this.props.running&&this.animate()}componentDidUpdate(e){const{running:t}=this.props;e.running&&!t?this.setState({stopRequested:!0}):!e.running&&t&&this.animate()}render(){const{backgroundColor:e}=this.state;return i.h("div",{class:"loadingBar",style:{backgroundColor:e}},i.h("div",{ref:Object(r.default)(this,"bar")}))}}o.defaultProps={initialColor:"var(--casper)",colors:["var(--yellow)","var(--orange)","var(--peach)"],duration:1100,easing:"cubic-bezier(0.165, 0.84, 0.44, 1.0)"},t.default=o},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(775);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(776),o=n(780),s=n(62);n(783);function a(e){const{username:t,avatar:n,organizations:a,selectedOrganizationId:l,onOrganizationChange:c}=e,d=[{id:"user",name:t,logoUrl:n},...a.map(e=>({id:e._id,name:e.name,logoUrl:e.logo})).sort(s.sortBy.name)];return i.h("div",{class:"organizationDropdownWrapper"},i.h(r.default,{optionsClass:"organizationDropdownOptions",top:35,allowBottomOverflow:!0,centerX:!0,onChange:c},d.map(({id:e,name:t,logoUrl:n})=>i.h(r.default.Item,{key:e,class:"organizationDropdownItem",label:i.h(o.default,{name:t,logoUrl:n,personal:"user"===e}),value:e,selected:l===e}))))}a.defaultProps={selectedOrganizationId:"user"},t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(777);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(293),a=n(778),l=n(228),c=n(11),d=n(24);n(779);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.Component{constructor(e){super(e),this.handleBackdropClick=this.handleBackdropClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this)}get edgeOffset(){return this.props.edgeOffset||12}positionOptions(){const{top:e,left:t,centerX:n,alignRight:i,posRef:r,allowBottomOverflow:o}=this.props,s=r.getBoundingClientRect(),a=this.nodeRefs.options.getBoundingClientRect(),l=e||s.height,c=t||0;let d=s.top+l,u=s.left;n?u+=(s.width-a.width)/2:i?u=s.right-a.width:u+=c,d<this.edgeOffset?d=this.edgeOffset:d+a.height+this.edgeOffset>window.innerHeight&&!o&&(d=window.innerHeight-a.height-this.edgeOffset),u<this.edgeOffset?u=this.edgeOffset:u+a.width+this.edgeOffset>window.innerWidth&&(u=window.innerWidth-a.width-this.edgeOffset),this.nodeRefs.options.style.transform=`translate3d(${u}px, ${d}px, 0)`}handleBackdropClick(e){this.props.onClose&&(e.stopPropagation(),this.props.onClose())}handleDocumentKeyDown(e){const{disableClosingWithESC:t,onClose:n}=this.props;!t&&n&&e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),this.props.onClose())}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeyDown,!0),this.positionOptions()}componentDidUpdate(){this.positionOptions()}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown,!0)}render(){const{children:e,class:t}=this.props;return i.h("div",{class:"dropdownOptionsBackdrop",onClick:this.handleBackdropClick},i.h("div",{class:Object(c.default)("dropdownOptions",t),ref:Object(d.default)(this,"options")},e))}}class p extends i.Component{constructor(...e){super(...e),u(this,"state",{open:!1}),u(this,"hideOptions",()=>{this.setState({open:!1})}),u(this,"toggleOptions",e=>{const{onDropdownClick:t,disabled:n}=this.props;n||(t?t(e):(e.stopPropagation(),this.setState(e=>({open:!e.open}))))}),u(this,"handleItemSelect",e=>{this.props.multiSelect||this.setState({open:!1}),this.props.onChange(e)})}get labelAndTitle(){const{children:e,multiSelect:t,defaultLabel:n}=this.props,r=function e(t,n=0){if(n===t.length)return;const r=t[n];if(r.type&&r.type.name===a.default.name){if(r.props.selected)return r}else if(r.props&&r.props.children)return e(i.toChildArray(r.props.children));return e(t,n+1)}(i.toChildArray(e));let o,s=n;if(!t&&r){const{dropdownLabel:e,label:t}=r.props;s=e||t}return!t&&r&&"string"==typeof r.props.label?o=r.props.label:"string"==typeof n&&(o=n),{label:s,title:o}}componentDidUpdate(e,t){const{onDropdownStateChange:n}=this.props,{open:i}=this.state;n&&t.open!==i&&n(i)}renderOptions(){const{portalInto:e,allowBottomOverflow:t,showCheck:n,top:r,left:o,centerX:l,alignRight:c,optionsClass:d,disableClosingWithESC:u}=this.props,p=function e(t,n,r){const{children:o}=t.props;return i.toChildArray(o).map(t=>t.type&&t.type.name===a.default.name?i.cloneElement(t,{showCheck:n,onSelect:r}):t.props&&t.props.children?i.cloneElement(t,{children:e(t,n,r)}):t)}(this,n,this.handleItemSelect);return i.h(s.default,{into:e},i.h(h,{class:d,onClose:this.hideOptions,allowBottomOverflow:t,posRef:this.nodeRefs.base,top:r,left:o,centerX:l,alignRight:c,disableClosingWithESC:u},p))}render(){const{open:e}=this.state,{class:t,showChevron:n}=this.props,r=Object(c.default)("dropdown","noSelect",t,{open:e}),{label:o,title:s}=this.labelAndTitle;return i.h("div",{ref:Object(d.default)(this,"base"),class:r,title:s,onClick:this.toggleOptions},i.h("span",{class:"ellipsis"},o),n&&i.h(l.IconArrowDown,{width:"9",class:"chevron"}),e&&this.renderOptions())}}p.propTypes={portalInto:o.a.oneOfType([o.a.element,o.a.object]),showCheck:o.a.bool,defaultLabel:o.a.oneOfType([o.a.object,o.a.string]),multiSelect:o.a.bool,top:o.a.number,left:o.a.number,centerX:o.a.bool,children:o.a.oneOfType([o.a.arrayOf(o.a.instanceOf(a.default)),o.a.node]),allowBottomOverflow:o.a.bool,onChange:o.a.func.isRequired,onDropdownStateChange:o.a.func,disableClosingWithESC:o.a.bool,showChevron:o.a.bool,alignRight:o.a.bool,disabled:o.a.bool},p.defaultProps={portalInto:document.body,allowBottomOverflow:!1,showCheck:!0,showChevron:!0,multiSelect:!1,disableClosingWithESC:!1},p.Item=a.default,t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(11),a=n(18);class l extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){e.stopPropagation();const{value:t,onSelect:n}=this.props;n(t)}render(){const{label:e,selected:t,showCheck:n,class:r,children:o}=this.props,l=Object(s.default)("dropdownItem","noSelect",r,{selected:t});return i.h("div",{class:l,onClick:this.handleClick},i.h("div",{class:"dropdownItemContent ellipsis"},o||e),n&&t&&i.h("img",{class:"dropdownCheck",src:Object(a.imageUrl)("img/icMenuCheck.svg"),alt:"&check;"}))}}l.displayName="Dropdown.Item",l.propTypes={label:o.a.oneOfType([o.a.string,o.a.node,o.a.element]),dropdownLabel:o.a.string,value:o.a.string.isRequired,selected:o.a.bool,showCheck:o.a.bool,children:o.a.oneOfType([o.a.node,o.a.element]),onSelect:o.a.func.isRequired},l.defaultProps={selected:!1,showCheck:!0},t.default=l},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(781);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(513),o=n(11);n(782);t.default=function({logoUrl:e,name:t,personal:n}){const s=(n?"Personal":t+"’s")+" Workspace",a=n?"user":"organization",l=Object(o.default)("organizationItem",{personal:n});return i.h("div",{class:l},i.h(r.default,{class:"organizationLogo",src:e,width:"24",height:"24",alt:s,bgSize:15,type:a}),i.h("div",{class:"organizationName ellipsis"},s))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(785);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(228),a=n(24),l=n(11);n(786);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),c(this,"state",{titleWidth:null,offline:!1,online:!1}),c(this,"fixTitleWidth",()=>{this.setState({titleWidth:getComputedStyle(this.nodeRefs.title).width})}),c(this,"restoreTitleWidth",()=>{const{titleWidth:e}=this.state;null!==e&&this.setState({titleWidth:null})}),c(this,"setOffline",()=>{this.setState({offline:!0})}),c(this,"setOnline",()=>{this.setState({offline:!1,online:!0}),document.hidden?document.addEventListener("visibilitychange",this.unsetOnline,{once:!0}):this.unsetOnline()}),c(this,"unsetOnline",()=>{this.onlineTimeout=setTimeout(()=>{this.setState({online:!1})},1e4)})}get titleExtra(){const{offline:e,online:t}=this.state;return e?"Looks like there is a problem with the connection.":t?"Keep working! Connection is back…":"Loading layers…"}componentDidMount(){window.addEventListener("offline",this.setOffline),window.addEventListener("online",this.setOnline)}componentWillUnmount(){clearTimeout(this.onlineTimeout),window.removeEventListener("offline",this.setOffline),window.removeEventListener("online",this.setOnline),document.removeEventListener("visibilitychange",this.unsetOnline)}render(){const{loading:e,title:t,previousScreenURL:n,nextScreenURL:r}=this.props,{titleWidth:o,offline:c,online:d}=this.state,u=Object(l.default)("screenNavigator",{loading:e,offline:c,online:d}),h=null===o?{}:{width:o};return i.h("div",{class:u,ref:Object(a.default)(this,"base"),onMouseLeave:this.restoreTitleWidth},i.h("a",{href:n,title:"← Previous screen",onClick:this.fixTitleWidth,"data-link-type":"inApp"},i.h(s.IconArrowLeft,null)),i.h("div",{class:"screenTitle"},i.h("h2",{class:"ellipsis",ref:Object(a.default)(this,"title"),style:h,title:t},t),i.h("div",{class:"titleExtra"},this.titleExtra)),i.h("a",{href:r,title:"Next screen →",onClick:this.fixTitleWidth,"data-link-type":"inApp"},i.h(s.IconArrowRight,null)))}}d.propTypes={loading:o.a.bool,title:o.a.string,previousScreenURL:o.a.string,nextScreenURL:o.a.string},d.defaultProps={loading:!1,title:""},t.default=d},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(788);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(1),r=n(64),o=n(44),s=n(789);function a({barrelId:e,selectedTab:t}){const n=Object(r.getOS)()===r.OS.MAC?"⌥":"Alt+",a=Object(o.urlResolve)("project-dashboard",{url:{pid:e}}),l=Object(o.urlResolve)("project-styleguide",{url:{bid:e}});return i.h(s.default,null,i.h(s.default.Tab,{label:"Dashboard",shortcut:n+"A",selected:"dashboard"===t,href:a}),i.h(s.default.Tab,{label:"Styleguide",shortcut:n+"S",selected:"styleguide"===t,href:l}))}},function(e,t,n){"use strict";n.r(t);var i=n(790);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11);n(791);function o({children:e}){return i.h("div",{class:"headerTabView"},e)}o.Tab=function({label:e,shortcut:t,href:n,selected:o}){const s=Object(r.default)("tab","noSelect",{selected:o});return i.h("a",{href:n,class:s,"data-link-type":"inApp"},i.h("span",{class:"label"},e),i.h("span",{class:"shortcut"},t))},t.default=o},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(793);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(721),o=n(794),s=n(334);n(827);function a(e){const{_id:t,versionCollection:n={},barrel:{_id:i,barrelType:r},progress:{update:o,isGettingProject:s,isGettingProjectFailed:a,countOfImagesToUpload:l,countOfUploadedImages:c,isApiOperationCompleted:d,isApiOperationFailed:u,apiOperationFailedError:h}}=e,{_id:p,name:f,type:g}=n;return{id:t,versionCollectionId:p,versionCollectionName:f,versionCollectionType:g,barrelId:i,barrelType:r,update:o,gettingProject:s,gettingProjectFailed:a,countOfImagesToUpload:l,countOfUploadedImages:c,apiOperationCompleted:d,apiOperationFailed:u,apiOperationFailedError:h}}class l extends i.Component{static getStores(){return[r.VersionImportsStore]}static calculateState(){const{componentRejections:e,versionImports:t,indicatorVisible:n,listVisible:i,suggestedResourcesByBarrel:o}=r.VersionImportsStore.getState();if(0===t.length)return{indicatorVisible:!1,versionImportsProgress:0,anyVersionImportFailed:!1,listOpen:!1,importsSource:null,componentRejections:{},suggestedResourcesByBarrel:{},importsByBarrel:[]};const s=t.reduce((e,t,n)=>{const{importsByBarrel:i,versionImportsProgress:r,anyVersionImportFailed:o}=e,s=Math.floor((r*n+function(e){return e.progress.isApiOperationCompleted?100:Math.floor(e.progress.countOfUploadedImages/(e.progress.countOfImagesToUpload+1)*100)}(t))/(n+1)),l=o||!!t.progress.isApiOperationFailed,c=i.find(e=>e._id===t.barrel._id);let d=i;return c?c.versionImports.push(a(t)):d.push({_id:t.barrel._id,name:t.barrel.name,type:t.barrel.type,barrelType:t.barrel.barrelType,versionImports:[a(t)]}),{importsByBarrel:d,versionImportsProgress:s,anyVersionImportFailed:l}},{importsByBarrel:[],versionImportsProgress:0,anyVersionImportFailed:!1}),{importsByBarrel:l,versionImportsProgress:c,anyVersionImportFailed:d}=s;return{suggestedResourcesByBarrel:o,indicatorVisible:n,versionImportsProgress:c,anyVersionImportFailed:d,listOpen:i,importsSource:t[0].source||"Photoshop",componentRejections:e,importsByBarrel:l}}render(){const{indicatorVisible:e,versionImportsProgress:t,anyVersionImportFailed:n,listOpen:s,importsSource:a,componentRejections:l,suggestedResourcesByBarrel:c,importsByBarrel:d}=this.state;return e?i.h(o.default,{class:"versionImportsContainer",versionImportsProgress:t,anyVersionImportFailed:n,listOpen:s,onListOpen:r.VersionImportsActions.showImportsList,onListClose:r.VersionImportsActions.hideImportsList,importsSource:a,componentRejections:l,suggestedResourcesByBarrel:c,importsByBarrel:d,onImportClick:r.VersionImportsActions.goToImportedVersion,onRetryImport:r.VersionImportsActions.retryImport,onCancelImport:r.VersionImportsActions.cancelImport,onRetryGetProject:r.VersionImportsActions.retryGetProjectForImports,onClearImports:r.VersionImportsActions.clearImports,currentUser:Zeplin.user,onComponentLimitHintHideClick:r.VersionImportsActions.hideComponentLimitHint,onComponentLimitActionClick:r.VersionImportsActions.seePlans}):null}}t.default=Object(s.default)(l)},function(e,t,n){"use strict";n.r(t);var i=n(795);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(582),a=n(796),l=n(313),c=n(799),d=n(9),u=n(817),h=n(823);n(826);class p extends i.Component{constructor(e){super(e),this.renderVersionImport=this.renderVersionImport.bind(this),this.renderBarrelGroup=this.renderBarrelGroup.bind(this)}renderVersionImport(e){const{onImportClick:t,onRetryImport:n,onCancelImport:r,onRetryGetProject:o}=this.props,{id:s,versionCollectionId:a,versionCollectionName:l,versionCollectionType:d,barrelId:u,barrelType:h,update:p,gettingProject:f,gettingProjectFailed:g,countOfUploadedImages:m,countOfImagesToUpload:b,apiOperationCompleted:y,apiOperationFailed:S,apiOperationFailedError:v}=e;return f&&!g?i.h(c.GettingProject,null):f&&g?i.h(c.GettingProjectFailed,{id:s,onRetry:o}):b===m&&y&&!S?i.h(c.Done,{key:s,id:s,update:p,barrelId:u,barrelType:h,versionCollectionId:a,versionCollectionName:l,versionCollectionType:d,onClick:t}):y&&S?i.h(c.Failed,{key:s,id:s,update:p,versionCollectionName:l,errorMessage:v?v.message:null,onRetry:n}):y?void 0:i.h(c.InProgress,{key:s,id:s,update:p,versionCollectionName:l,countOfImagesToUpload:b,countOfUploadedImages:m,onCancel:r})}renderComponentRejection(e){const{componentRejections:t,currentUser:n,onComponentLimitHintHideClick:r,onComponentLimitActionClick:o}=this.props;if(!t[e])return null;const{owner:s,ownerPlan:a,rejected:l,total:c}=t[e];return i.h(u.default,{key:"componentLimitHintBox",onHideClick:r,onActionClick:o,owner:s,currentUser:n,ownerPlan:a,rejected:l,total:c,barrelId:e})}renderBarrelGroup(e){return i.h("div",{key:e._id},i.h("div",{class:"barrelInformation"},i.h("div",{class:"ellipsis"},e.name,", ",e.type)),i.h("div",{class:"barrelGroup"},this.renderComponentRejection(e._id),this.renderSuggestedResources(e._id,e.barrelType),i.h("div",{class:"list"},e.versionImports.map(this.renderVersionImport))))}renderSuggestedResources(e,t){const{suggestedResourcesByBarrel:n,onListClose:r}=this.props,{colors:o=[],textStyles:s=[]}=n[e]||{};return i.h(h.default,{onClick:r,colors:o,textStyles:s,barrelType:t,barrelId:e})}renderVersionImports(){const{importsSource:e="Photoshop",importsByBarrel:t,onClearImports:n}=this.props,r=1===t.length?t[0].name:"Zeplin";return i.h("div",{class:"versionImports"},i.h("div",{class:"body"},i.h("div",{class:"title"},i.h("div",null,e),i.h(l.default,{asset:"img/icHand.png"}),i.h("div",{class:"ellipsis"},r)),1===t.length&&this.renderComponentRejection(t[0]._id),1===t.length&&this.renderSuggestedResources(t[0]._id,t[0].barrelType),1===t.length?i.h("div",{class:"list"},t[0].versionImports.map(this.renderVersionImport)):t.map(this.renderBarrelGroup)),i.h(d.default,{onClick:n},i.h("div",null),i.h("div",null),i.h("div",null)))}render(){const{class:e,versionImportsProgress:t,anyVersionImportFailed:n,listOpen:r,onListClose:o,onListOpen:l}=this.props;return i.h(s.default,{class:e,content:this.renderVersionImports(),contentClass:"versionImportsPopoverContent",open:r,onClose:o,onOpen:l,left:2,top:2},i.h(a.default,{warning:n,progress:t}))}}p.propTypes={versionImportsProgress:o.a.number.isRequired,anyVersionImportFailed:o.a.bool.isRequired,listOpen:o.a.bool.isRequired,onListOpen:o.a.func.isRequired,onListClose:o.a.func.isRequired,importsSource:o.a.string.isRequired,importsByBarrel:o.a.arrayOf(o.a.shape({_id:o.a.string.isRequired,name:o.a.string.isRequired,type:o.a.string.isRequired,versionImports:o.a.arrayOf(o.a.shape({id:o.a.string.isRequired,versionCollectionId:o.a.string,versionCollectionName:o.a.string.isRequired,barrelId:o.a.string.isRequired,barrelType:o.a.oneOf(["project","styleguide"]),update:o.a.bool.isRequired,countOfImagesToUpload:o.a.number.isRequired,countOfUploadedImages:o.a.number.isRequired,apiOperationCompleted:o.a.bool.isRequired,apiOperationFailed:o.a.bool.isRequired,apiOperationFailedError:o.a.shape({message:o.a.string.isRequired})}))})),onImportClick:o.a.func.isRequired,onRetryImport:o.a.func.isRequired,onCancelImport:o.a.func.isRequired,onRetryGetProject:o.a.func.isRequired,onClearImports:o.a.func.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(797);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(9),a=n(18);n(798);const l=30*Math.PI;function c(e){const{progress:t=0,warning:n=!1}=e,r=`${l*t/100} ${l*(100-t)/100}`;return i.h(s.default,{class:"versionImportsIndicator"},i.h("svg",{width:"32",height:"32",version:"1.1"},i.h("circle",{cx:"16",cy:"16",r:15}),i.h("circle",{cx:"16",cy:"16",r:15,"stroke-dasharray":r})),100===t&&i.h("img",{src:Object(a.imageUrl)("img/icImportsDone.svg")}),n&&i.h("div",{class:"warning"}))}c.defaultProps={progress:0,warning:!1},c.propTypes={progress:o.a.number,warning:o.a.bool},t.default=c},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(800);n.d(t,"GettingProject",(function(){return i.default}));var r=n(803);n.d(t,"GettingProjectFailed",(function(){return r.default}));var o=n(806);n.d(t,"Done",(function(){return o.default}));var s=n(812);n.d(t,"InProgress",(function(){return s.default}));var a=n(814);n.d(t,"Failed",(function(){return a.default}))},function(e,t,n){"use strict";n.r(t);var i=n(801);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(1);n(802);function r(){return i.h("div",{class:"versionImport gettingProject noSelect"},"Getting project ready to import..")}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(804);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(340),a=n(9),l=n(18);n(805);class c extends s.default{constructor(e){super(e),this.handleRetryClick=this.handleRetryClick.bind(this)}handleRetryClick(){const{onRetry:e,id:t}=this.props;e(t)}render(){return i.h("div",{class:"versionImport gettingProjectFailed noSelect"},"Fetching project failed.",i.h(a.default,{onClick:this.handleRetryClick},i.h("img",{src:Object(l.imageUrl)("img/icImportProgressFetchProjectRetry.svg")})))}}c.propTypes={id:o.a.string.isRequired,onRetry:o.a.func.isRequired},t.default=c},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(807);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(313),a=n(808),l=n(11),c=n(340),d=n(44),u=n(96);n(811);const h={};function p(e){switch(e){case"type1":return[i.h("div",null,"Done!"),i.h(s.default,{asset:"img/icDone.png"})];case"type2":return"This looks great!";case"type3":return[i.h("span",{class:"wow"},"wow."),i.h("span",{class:"suchDesigns"},"such designs."),i.h("span",{class:"amaze"},"amaze."),i.h("span",{class:"soColors"},"so colors.")];case"type4":default:return"Done!"}}class f extends c.default{get versionCollectionLink(){const{barrelId:e,barrelType:t,versionCollectionId:n,versionCollectionType:i}=this.props;if("screen"===i)return Object(d.urlResolve)("project-screen",{url:{pid:e,sid:n}});const r={url:{bid:e},query:{coid:n}},o=t===u.default.PROJECT?"project-styleguide-components":"styleguide-components";return Object(d.urlResolve)(o,r)}render(){const{id:e,update:t,versionCollectionName:n,onClick:r}=this.props;h[e]||(h[e]=function(){switch(Math.floor(100*Math.random())){case 0:return"type1";case 1:case 2:return"type2";case 3:case 4:return"type3";default:return"type4"}}());const o=h[e];return i.h(a.default,{class:Object(l.default)("done",o),update:t,success:!0,versionCollectionName:n,progress:100,detail:p(o),buttonIcon:"img/icImportDone.svg",link:this.versionCollectionLink,onClick:r})}}f.propTypes={id:o.a.string.isRequired,update:o.a.bool.isRequired,versionCollectionId:o.a.string.isRequired,versionCollectionName:o.a.string.isRequired,barrelId:o.a.string.isRequired,barrelType:o.a.oneOf(["project","styleguide"]),onClick:o.a.func.isRequired},t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(809);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(1),r=n(9),o=n(11),s=n(18);n(810);function a(e){const{class:t,update:n,success:a,versionCollectionName:l,progress:c,detail:d,detailTitle:u,buttonIcon:h,onButtonClick:p,onClick:f,link:g}=e;let m=n?"Replacing":"Importing";m=a?m.replace("ing","ed"):m;const b=[i.h("div",{class:"information",key:"information"},i.h("div",{class:"title ellipsis"},m," “",l,"”"),i.h("div",{class:"progress"},c?i.h("div",{style:{width:c+"%"}}):null),i.h("div",{class:"detail ellipsis",title:u||""},d)),g?i.h("img",{key:"img",src:Object(s.imageUrl)(h)}):i.h(r.default,{key:"button",onClick:p},i.h("img",{src:Object(s.imageUrl)(h)}))];return g?i.h("a",{class:Object(o.default)("versionImport",t),href:g,"data-link-type":"inApp",onClick:f},b):i.h("div",{class:Object(o.default)("versionImport",t),onClick:f},b)}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(813);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(808),a=n(340);class l extends a.default{constructor(e){super(e),this.handleCancelClick=this.handleCancelClick.bind(this)}calculateProgress(){const{countOfUploadedImages:e,countOfImagesToUpload:t}=this.props;return Math.floor(e/(t+1)*100)}isTicklingBackend(){const{countOfUploadedImages:e,countOfImagesToUpload:t}=this.props;return e===t}handleCancelClick(){const{onCancel:e,id:t}=this.props;e(t)}renderProgress(){return i.h("div",{class:"progress"},i.h("div",{style:{width:this.calculateProgress()+"%"}}))}renderDetail(){const{countOfUploadedImages:e,countOfImagesToUpload:t}=this.props;return this.isTicklingBackend()?"Tickling the backend":`Uploading Images…(${e} of ${t})`}render(){const{update:e,versionCollectionName:t}=this.props;return i.h(s.default,{class:"inprogress",update:e,versionCollectionName:t,progress:this.calculateProgress(),detail:this.renderDetail(),buttonIcon:"img/icImportCancel.svg",onButtonClick:this.handleCancelClick})}}l.propTypes={id:o.a.string.isRequired,update:o.a.bool.isRequired,versionCollectionName:o.a.string.isRequired,countOfUploadedImages:o.a.number.isRequired,countOfImagesToUpload:o.a.number.isRequired,onCancel:o.a.func.isRequired},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(815);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(808),a=n(340);n(816);class l extends a.default{constructor(e){super(e),this.handleRetryButtonClick=this.handleRetryButtonClick.bind(this)}handleRetryButtonClick(){const{onRetry:e,id:t}=this.props;e(t)}render(){const{update:e,versionCollectionName:t,errorMessage:n}=this.props;return i.h(s.default,{class:"failed",update:e,success:!1,versionCollectionName:t,detail:n||"Zeplin couldn't upload this one to the cloud.",detailTitle:n||"",buttonIcon:"img/icImportRetry.svg",onButtonClick:this.handleRetryButtonClick})}}l.propTypes={id:o.a.string.isRequired,update:o.a.bool.isRequired,versionCollectionName:o.a.string.isRequired,errorMessage:o.a.string,onRetry:o.a.func.isRequired},t.default=l},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(818);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(819);n(822);const o=new Date(2016,11,1);class s extends i.Component{constructor(e){super(e),this.handleHideClick=this.handleHideClick.bind(this)}handleHideClick(){const{barrelId:e,onHideClick:t}=this.props;t(e)}render(){const{owner:e,ownerPlan:t,rejected:n,total:s,currentUser:a,onActionClick:l}=this.props,c=e._id===a._id;let d,u,h;return"Company"===t.name?(d=`${c?"You're":"Owner of the project is"} on the ${t.name} plan which was deprecated ${Math.floor((Date.now()-o)/2592e6)} months ago. Due to technical limitations, you can only store up to ${t.componentLimit}.`,u=c?"Upgrade to the Organization plan and access unlimited components.":"Ping them to upgrade to the Organization plan and access unlimited components.",h="Upgrade"):c?(h="See plans",d=`You can store up to ${t.componentLimit} components on the ${t.name} plan.`,u="Upgrade to access more space!"):(h="See plans",d=`Owner of the project is on the ${t.name} plan where you can store up to ${t.componentLimit} components per project.`,u="Ping them to upgrade and access more space!"),i.h(r.default,{class:"componentLimitHintBox",actionContent:h,onHideClick:this.handleHideClick,onActionClick:l},"Out of ",s," components you exported, ",n," not added to the project.",i.h("br",null),i.h("br",null),d,i.h("br",null),i.h("br",null),u)}}t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(820);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(9),o=n(228),s=n(11);n(821);function a(e){const{class:t,children:n,type:a,emoji:l=("warning"===a?"⚠️":"💁‍♀️"),actionContent:c,onHideClick:d,onActionClick:u,hideButtonText:h,hideEmoji:p}=e;let f=[];return c&&f.push(i.h(r.default,{class:"hintAction",onClick:u},c)),d&&f.push(i.h(r.default,{class:"hideHintButton",onClick:d},i.h(o.IconDelete,{transparent:!0}),h)),i.h("div",{class:Object(s.default)("hintBox",t,a)},!p&&i.h("span",{class:"emoji"},l),i.h("div",{class:"hintContent"},n,f.length>0&&i.h("div",{class:"hintFooter"},f)))}a.defaultProps={hideButtonText:"OK, hide it!",type:"default"},t.default=a},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(824);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(819),o=n(19),s=n(44),a=n(96);n(825);const l={[a.default.PROJECT]:"project-styleguide",[a.default.STYLEGUIDE]:"styleguide"};t.default=function(e){const{colors:t,textStyles:n,barrelId:a,barrelType:c,onClick:d}=e;if(!t.length&&!n.length)return null;let u;t.length&&n.length&&(u=`Found ${Object(o.pluralize)(t.length,"color")} and ${Object(o.pluralize)(n.length,"text style")}`),t.length&&!n.length&&(u="Found "+Object(o.pluralize)(t.length,"color")),!t.length&&n.length&&(u="Found "+Object(o.pluralize)(n.length,"text style"));let h=Object(s.urlResolve)(l[c]+"-colors",{url:{bid:a}});return t.length||(h=Object(s.urlResolve)(l[c]+"-textstyles",{url:{bid:a}})),i.h("a",{href:h,class:"suggestedResourcesHintBox",onClick:d,"data-link-type":"inApp"},i.h(r.default,null,u,"."," Click to head to the Styleguide to add them."))}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(829);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(168),a=n(40),l=n(830),c=n(65),d=n(832),u=n(582),h=n(835),p=n(334),f=n(67),g=n(62),m=n(24);n(952);class b extends i.Component{constructor(e){super(e),this.handleLastItemCallback=this.handleLastItemCallback.bind(this),this.handleNotificationIntersection=this.handleNotificationIntersection.bind(this),this.intersectionObserver=null}handleLastItemCallback(e){e&&this.props.hasMore&&(this.intersectionObserver||(this.intersectionObserver=new IntersectionObserver(this.handleNotificationIntersection,{root:this.nodeRefs.base,rootMargin:"0px 0px 288px 0px"})),this.intersectionObserver.observe(e))}handleNotificationIntersection(e){const t=e[0];t.isIntersecting&&(this.intersectionObserver.unobserve(t.target),this.props.onEnd())}componentWillUnmount(){this.intersectionObserver&&this.intersectionObserver.disconnect()}renderEmpty(){return i.h("div",{class:"none noSelect"},"No notifications currently.",i.h("br",null),"Kinda great? 😏")}renderEnd(){return i.h("div",{class:"end noSelect"},"~ The End ~")}renderError(){return i.h("div",{class:"error noSelect"},"Something went wrong while fetching",i.h("br",null),"notifications. ",i.h("span",{onClick:this.props.onRetry,class:"tryAgain"},"Try Again"))}renderNotifications(){const{notifications:e,notificationLastReadTime:t,onItemClick:n,hasError:i,hasMore:r}=this.props;if(i)return this.renderError();const o=e.map((i,r)=>{const o={notificationLastReadTime:t,onClick:n};r===e.length-1&&(o.ref=this.handleLastItemCallback);return Object(h.default)(i,o)});return 0===o.length?this.renderEmpty():(r||o.push(this.renderEnd()),o)}render(){return i.h("div",{ref:Object(m.default)(this,"base"),class:"notificationsContainer"},this.renderNotifications())}}b.propTypes={onRetry:o.a.func.isRequired,onEnd:o.a.func.isRequired,onItemClick:o.a.func.isRequired,notifications:o.a.array.isRequired,hasMore:o.a.bool.isRequired,notificationLastReadTime:o.a.object.isRequired,hasError:o.a.object};class y extends i.Component{constructor(e){super(e),this.fetchMore=this.fetchMore.bind(this),this.handlePopoverOpen=this.handlePopoverOpen.bind(this),this.handlePopoverClose=this.handlePopoverClose.bind(this),this.handleWindowsAppBadgeShow=this.handleWindowsAppBadgeShow.bind(this),this.state={showNotifications:!1}}static calculateState(){const{notifications:e,notificationLastReadTime:t,error:n,hasMore:i}=l.NotificationsStore.getState(),r=e.length>0&&new Date(e[0].updated)>t;let o;if(r)for(let s of e){if(new Date(s.updated)<t)break;if("CreateCoupon"===s.actionName){o=!0;break}}return{notifications:e,hasError:n,hasMore:i,notificationLastReadTime:t,hasUnread:r,hasPromotion:o}}static getStores(){return[l.NotificationsStore]}getAllNotifications(){setTimeout(l.NotificationsActions.getNotifications(null,50),4)}fetchMore(){const{notifications:e}=this.state,t=e.length?e[e.length-1].updated:null;l.NotificationsActions.getNotifications(t,50)}registerSubscribers(){s.userChannel.bind("Notification",e=>{l.NotificationsActions.addNotification(e.body)}),s.default.subscribe(a.ANNOUNCEMENT_CHANNEL).bind("Notification",e=>{l.NotificationsActions.addNotification(e.body)})}unregisterSubscribers(){s.userChannel.unbind("Notification"),s.default.unsubscribe(a.ANNOUNCEMENT_CHANNEL)}handlePopoverClose(){this.setState({showNotifications:!1}),l.NotificationsActions.updateNotificationLastReadTime()}handlePopoverOpen(){f.default&&this.state.hasUnread&&f.default.ipcRenderer.send("read-notifications"),this.setState({showNotifications:!0,hasUnread:!1,hasPromotion:!1})}handleWindowsAppBadgeShow(e,t){const{hasUnread:n}=this.state;t&&n&&f.default.ipcRenderer.send("unread-notifications",Object(g.calculateOverlayIcon)())}componentDidMount(){this.getAllNotifications(),this.unregisterSubscribers(),this.registerSubscribers(),window.addEventListener("online",this.getAllNotifications),c.default.isWindowsApp&&f.default.ipcRenderer.on("show-badge",this.handleWindowsAppBadgeShow)}componentDidUpdate(e,t){f.default&&!t.hasUnread&&this.state.hasUnread&&f.default.ipcRenderer.send("unread-notifications",Object(g.calculateOverlayIcon)())}componentWillUnmount(){this.unregisterSubscribers(),window.removeEventListener("online",this.getAllNotifications)}render(){const{notifications:e,hasMore:t,hasError:n,hasUnread:r,hasPromotion:o,notificationLastReadTime:s,showNotifications:a}=this.state,l=i.h(b,{notifications:e,onRetry:this.getAllNotifications,onEnd:this.fetchMore,onItemClick:this.handlePopoverClose,hasMore:t,hasError:n,notificationLastReadTime:s});return i.h(u.default,{open:a,content:l,onOpen:this.handlePopoverOpen,onClose:this.handlePopoverClose,toggleable:!0},i.h(d.default,{hasUnread:r,hasPromotion:o}))}}t.default=Object(p.default)(y)},function(e,t,n){"use strict";n.r(t);var i=n(726);n.d(t,"NotificationsActions",(function(){return i.default}));var r=n(727);n.d(t,"NotificationsActionTypes",(function(){return r.default}));var o=n(728);n.d(t,"NotificationsDispatcher",(function(){return o.default}));var s=n(831);n.d(t,"NotificationsStore",(function(){return s.default}))},function(e,t,n){"use strict";n.r(t);var i=n(73),r=n.n(i),o=n(728),s=n(727),a=n(92);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends r.a{constructor(){super(o.default)}getInitialState(){return{notifications:[],hasMore:null,loading:null,error:null,notificationLastReadTime:new Date}}load(e,t={}){return"notificationLastReadTime"in t&&"string"==typeof t.notificationLastReadTime&&(t.notificationLastReadTime=new Date(t.notificationLastReadTime)),c(c({},e),t)}getNotificationsRequested(e){return Object.assign({},e,{loading:!0})}mergeNotifications(e,t){let n=[];for(let i=0;i<e.length;i++)if(e[i]._id===t[0]._id){n=e.slice(0,i);break}return n.concat(t)}getNotificationsSuccess(e,t,n){return Object.assign({},e,{notifications:this.mergeNotifications(e.notifications,t),loading:!1,hasMore:n})}getNotificationsFailed(e,t){return Object.assign({},e,{loading:!1,error:t})}addNotification(e,t){const n=e.notifications.filter(e=>e._id!==t._id);return c(c({},e),{},{notifications:[t].concat(n)})}updateLastReadTime(e,t){const n="string"==typeof t?new Date(t):t;return c(c({},e),{},{notificationLastReadTime:n})}reduce(e,t){switch(t.type){case a.default.LOAD:return this.load(e,t.notifications);case s.default.GET_NOTIFICATIONS_REQUESTED:return this.getNotificationsRequested(e);case s.default.GET_NOTIFICATIONS_SUCCESS:return this.getNotificationsSuccess(e,t.notifications,t.hasMore);case s.default.GET_NOTIFICATIONS_FAILED:return this.getNotificationsFailed(e,t.error);case s.default.UPDATE_NOTIFICATION_LAST_READ_TIME:return this.updateLastReadTime(e,t.notificationLastReadTime);case s.default.ADD_NOTIFICATION:return this.addNotification(e,t.notification);default:return e}}}t.default=new u},function(e,t,n){"use strict";n.r(t);var i=n(833);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(18);n(834);function a({hasUnread:e,hasPromotion:t}){return i.h("button",{class:"notificationsButton"},e&&!t&&i.h("div",{class:"unreadBadge"}),e&&t&&i.h("img",{src:Object(s.imageUrl)("img/ntf/icNotificationStar.svg"),class:"promotionBadge"}),i.h("svg",{width:"24",height:"26"},i.h("path",{fill:"#979197","fill-rule":"evenodd",d:"M15.996 20.82l-5.66 2.046a.601.601 0 0 0-.361.769l6.795-2.458a.603.603 0 0 0-.774-.358zm3.77-7.738l-4.387-8.665C13.583.87 9.087-.9 5.335.457 1.58 1.815-.715 6.046.202 9.907l2.243 9.44-.4.145a2.394 2.394 0 0 0-1.44 3.07 2.416 2.416 0 0 0 3.09 1.433l18.119-6.555a2.394 2.394 0 0 0 1.44-3.07 2.416 2.416 0 0 0-3.089-1.433l-.4.145zm-5.157 12.7c-1.876.68-3.951-.282-4.634-2.147l6.795-2.458a3.587 3.587 0 0 1-2.161 4.605z"})))}a.propTypes={hasUnread:o.a.bool,hasPromotion:o.a.bool},t.default=a},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(44),o=n(62),s=n(56),a=n(96),l=n(836),c=n(837);t.default=function(e,t){const n=t.notificationLastReadTime<new Date(e.updated),d=e.events,u=d?d[0]:null;switch(e.actionName){case"AddProjectExtension":case"AddStyleguideExtension":{const l=u.extension,d=e.params.project?a.default.PROJECT:a.default.STYLEGUIDE,h=e.params[d],p=Object(o.getPlatformString)(h.type),f=e.params.source,g=Object(s.getUserAvatar)(f).src,m=Object(r.urlResolve)(d,{url:{bid:h._id},query:{eid:l._id}});return i.h(c.AddExtensionNotification,{onClick:t.onClick,link:m,avatarUrl:g,barrelName:h.name,platform:p,extensionName:l.name,usernames:[f.fullName||f.username],updated:e.updated,unread:n,baseRef:t.ref})}case"ActivateProject":case"ActivateStyleguide":{const o=u.project?a.default.PROJECT:a.default.STYLEGUIDE,l=u[o],d=e.params.source,h=Object(s.getUserAvatar)(d).src,p=Object(r.urlResolve)(o,{url:{bid:l._id}});return i.h(c.ActivateBarrelNotification,{barrelType:o,onClick:t.onClick,link:p,avatarUrl:h,usernames:[d.fullName||d.username],barrelNames:[l.name],updated:e.updated,unread:n,baseRef:t.ref})}case"ArchiveProject":case"ArchiveStyleguide":{const r=u.project?a.default.PROJECT:a.default.STYLEGUIDE,o=u[r],l=e.params.source,d=Object(s.getUserAvatar)(l).src;return i.h(c.ArchiveBarrelNotification,{barrelType:r,onClick:t.onClick,avatarUrl:d,usernames:[l.fullName||l.username],barrelNames:[o.name],updated:e.updated,unread:n,baseRef:t.ref})}case"AuthProjectSlack":case"AuthStyleguideSlack":{const o=u.project?a.default.PROJECT:a.default.STYLEGUIDE,s=u[o],l=e.params.source,d=Object(r.urlResolve)(o,{url:{bid:s._id}});return i.h(c.AuthSlackNotification,{onClick:t.onClick,link:d,usernames:[l.fullName||l.username],barrelName:s.name,slackChannelName:e.content,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateAnnouncement":{if(!("webURI"in e.action))return null;const r=e.params.source,o=e.action.webURI;return i.h(c.AnnouncementNotification,{onClick:t.onClick,link:o||"#",disabled:!o,usernames:[r.fullName||r.username],content:Object(l.default)(e.content),updated:e.updated,unread:n,baseRef:t.ref})}case"CreateProjectComponent":case"CreateStyleguideComponent":{const l=e.params.source,h=Object(s.getUserAvatar)(l).src,p=e.params.project?a.default.PROJECT:a.default.STYLEGUIDE,f=e.params[p],g=Object(o.getPlatformString)(f.type),m=d.map(e=>e.component.name),b=d.length>1?d.map(e=>e.component._id):u.component._id,y=Object(r.urlResolve)(p===a.default.PROJECT?"project-styleguide-components":"styleguide-components",{url:{bid:f._id},query:{coid:b}});return i.h(c.CreateComponentNotification,{onClick:t.onClick,link:y,avatarUrl:h,barrelName:f.name,platform:g,componentNames:m,usernames:[l.fullName||l.username],updated:e.updated,unread:n,baseRef:t.ref})}case"CreateProjectComponentVersion":case"CreateStyleguideComponentVersion":{const l=e.params.source,h=Object(s.getUserAvatar)(l).src,p=e.params.project?a.default.PROJECT:a.default.STYLEGUIDE,f=e.params[p],g=Object(o.getPlatformString)(f.type),m=d.map(e=>e.component.name),b=d.length>1?d.map(e=>e.component._id):u.component._id,y=Object(r.urlResolve)(p===a.default.PROJECT?"project-styleguide-components":"styleguide-components",{url:{bid:f._id},query:{coid:b}});return i.h(c.CreateComponentVersionNotification,{onClick:t.onClick,link:y,avatarUrl:h,barrelName:f.name,platform:g,componentNames:m,usernames:[l.fullName||l.username],updated:e.updated,unread:n,baseRef:t.ref})}case"CreateProjectColor":case"CreateStyleguideColor":{const s=e.params.source,l=d.map(e=>e.color),h=e.params.project?a.default.PROJECT:a.default.STYLEGUIDE,p=e.params[h],f=Object(o.getPlatformString)(p.type),g=d.length>1?d.map(e=>e.color._id):u.color._id,m=Object(r.urlResolve)(h===a.default.PROJECT?"project-styleguide-colors":"styleguide-colors",{url:{bid:p._id},query:{cid:g}});return i.h(c.CreateColorNotification,{onClick:t.onClick,link:m,barrelName:p.name,platform:f,usernames:[s.fullName||s.username],colors:l,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateCoupon":return"webURI"in e.action?i.h(c.CreateCouponNotification,{onClick:t.onClick,link:e.action.webURI,content:Object(l.default)(e.content),updated:e.updated,unread:n,baseRef:t.ref}):null;case"CreateDot":{const a=1===d.length?e.content:null,l=e.params.project,h=e.params.screen,p=Object(s.getUserAvatar)(u.source).src,f=Array.from(new Set(d.map(e=>e.source.fullName||e.source.username))),g=Object(o.getPlatformString)(l.type),m=d.length>1?d.map(e=>e.dot._id):u.dot._id,b=Object(r.urlResolve)("project-screen",{url:{pid:l._id,sid:h._id},query:{did:m}});return i.h(c.CreateDotNotification,{onClick:t.onClick,link:b,avatarUrl:p,screenName:h.name,barrelName:l.name,platform:g,usernames:f,notes:d,content:a,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateDot-Mention":{const a=u.dot,l=e.params.project,d=Object(o.getPlatformString)(l.type),h=e.params.screen,p=Object(s.getUserAvatar)(u.source).src,f=Object(r.urlResolve)("project-screen",{url:{pid:l._id,sid:h._id},query:{did:a._id,cmid:u.comment._id}});return i.h(c.CommentMentionNotification,{onClick:t.onClick,link:f,avatarUrl:p,barrelName:l.name,platform:d,screenName:h.name,noteName:a.name,usernames:[u.source.fullName||u.source.username],content:e.content,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateDotComment-Mention":{const a=e.params.dot,l=a.name,d=e.params.project,h=Object(o.getPlatformString)(d.type),p=e.params.screen,f=Object(s.getUserAvatar)(u.source).src,g=Object(r.urlResolve)("project-screen",{url:{pid:d._id,sid:p._id},query:{did:a._id,cmid:u.comment._id}});return i.h(c.CommentMentionNotification,{onClick:t.onClick,link:g,avatarUrl:f,barrelName:d.name,platform:h,screenName:p.name,noteName:l,usernames:[u.source.fullName||u.source.username],content:e.content,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateDotComment":{const a=1===d.length?e.content:null,l=e.params.dot.name,h=e.params.project,p=e.params.screen,f=Object(s.getUserAvatar)(u.source).src,g=Array.from(new Set(d.map(e=>e.source.fullName||e.source.username))),m=Object(o.getPlatformString)(h.type),b=d.length>1?d.map(e=>e.comment._id):u.comment._id,y=Object(r.urlResolve)("project-screen",{url:{pid:h._id,sid:p._id},query:{did:e.params.dot._id,cmid:b}});return i.h(c.CreateCommentNotification,{onClick:t.onClick,link:y,avatarUrl:f,screenName:p.name,barrelName:h.name,platform:m,noteName:l,usernames:g,content:a,updated:e.updated,unread:n,baseRef:t.ref})}case"CreateScreen":{const a=e.params.source,l=d.map(e=>e.screen),u=l.map(e=>e.name),h=l.map(e=>e._id),p=Object(s.getUserAvatar)(e.params.source).src,f=e.params.project,g=Object(o.getPlatformString)(f.type),m=d.length>1?Object(r.urlResolve)("project",{url:{bid:f._id},query:{sid:h}}):Object(r.urlResolve)("project-screen",{url:{pid:f._id,sid:h[0]}});return i.h(c.CreateScreenNotification,{onClick:t.onClick,link:m,avatarUrl:p,barrelName:f.name,platform:g,usernames:[a.fullName||a.username],screenNames:u,updated:e.updated,content:e.content,unread:n,baseRef:t.ref})}case"CreateScreenVersion":{const a=e.params.source,l=d.map(e=>e.screen),u=l.map(e=>e.name),h=l.map(e=>e._id),p=Object(s.getUserAvatar)(e.params.source).src,f=e.params.project,g=Object(o.getPlatformString)(f.type),m=d.length>1?Object(r.urlResolve)("project",{url:{bid:f._id},query:{sid:h}}):Object(r.urlResolve)("project-screen",{url:{pid:f._id,sid:h[0]}});return i.h(c.CreateScreenVersionNotification,{onClick:t.onClick,link:m,avatarUrl:p,barrelName:f.name,platform:g,usernames:[a.fullName||a.username],screenNames:u,updated:e.updated,content:e.content,unread:n,baseRef:t.ref})}case"CreateProjectTextStyle":case"CreateStyleguideTextStyle":{const s=e.params.source,l=d.map(e=>e.textStyle),u=l.map(({name:e})=>e),h=l.map(({_id:e})=>e),p=e.params.project?a.default.PROJECT:a.default.STYLEGUIDE,f=e.params[p],g=Object(o.getPlatformString)(f.type),m=l.length>1?h:h[0],b=Object(r.urlResolve)(p===a.default.PROJECT?"project-styleguide-textstyles":"styleguide-textstyles",{url:{bid:f._id},query:{tsid:m}});return i.h(c.CreateTextStyleNotification,{onClick:t.onClick,link:b,barrelName:f.name,platform:g,usernames:[s.fullName||s.username],textStyles:u,updated:e.updated,unread:n,baseRef:t.ref})}case"DeleteProjectColor":case"DeleteStyleguideColor":{const r=e.params.source,s=d.map(e=>e.color),l=e.params.project?a.default.PROJECT:a.default.STYLEGUIDE,u=e.params[l],h=Object(o.getPlatformString)(u.type);return i.h(c.DeleteColorNotification,{barrelName:u.name,platform:h,usernames:[r.fullName||r.username],colors:s,updated:e.updated,unread:n,baseRef:t.ref})}case"DeleteProjectComponent":case"DeleteStyleguideComponent":{const r=e.params.source,l=Object(s.getUserAvatar)(r).src,u=e.params.project?a.default.PROJECT:a.default.STYLEGUIDE,h=e.params[u],p=Object(o.getPlatformString)(h.type),f=d.map(e=>e.component.name);return i.h(c.DeleteComponentNotification,{avatarUrl:l,barrelName:h.name,platform:p,componentNames:f,usernames:[r.fullName||r.username],updated:e.updated,unread:n,baseRef:t.ref})}case"DeleteScreen":{const r=e.params.source,a=d.map(e=>e.screen).map(e=>e.name),l=Object(s.getUserAvatar)(e.params.source).src,u=e.params.project,h=Object(o.getPlatformString)(u.type);return i.h(c.DeleteScreenNotification,{avatarUrl:l,barrelName:u.name,platform:h,usernames:[r.fullName||r.username],screenNames:a,updated:e.updated,unread:n,baseRef:t.ref})}case"DeleteProject":case"DeleteStyleguide":{const r=e.params.source,o=Object(s.getUserAvatar)(r).src,l=u.project?a.default.PROJECT:a.default.STYLEGUIDE,d=u[l].name;return i.h(c.DeleteBarrelNotification,{barrelType:l,avatarUrl:o,usernames:[r.fullName||r.username],barrelNames:[d],updated:e.updated,unread:n,baseRef:t.ref})}case"DeleteProjectTextStyle":case"DeleteStyleguideTextStyle":{const r=e.params.source,s=d.map(e=>e.textStyle).map(({name:e})=>e),l=e.params.project?a.default.PROJECT:a.default.STYLEGUIDE,u=e.params[l],h=Object(o.getPlatformString)(u.type);return i.h(c.DeleteTextStyleNotification,{barrelName:u.name,platform:h,usernames:[r.fullName||r.username],textStyles:s,updated:e.updated,unread:n,baseRef:t.ref})}case"RemoveExtensionFromProject":case"RemoveExtensionFromStyleguide":{const r=u.extension,l=e.params.project?a.default.PROJECT:a.default.STYLEGUIDE,d=e.params[l],h=Object(o.getPlatformString)(d.type),p=e.params.source,f=Object(s.getUserAvatar)(p).src;return i.h(c.DeleteExtensionNotification,{avatarUrl:f,barrelName:d.name,platform:h,extensionName:r.name,usernames:[p.fullName||p.username],updated:e.updated,unread:n,baseRef:t.ref})}case"ResolveDot":{const a=d.map(e=>e.dot.name),l=Object(s.getUserAvatar)(u.source).src,h=e.params.screen,p=e.params.project,f=Object(o.getPlatformString)(p.type),g=Array.from(new Set(d.map(e=>e.source.fullName||e.source.username))),m=d.length>1?d.map(e=>e.dot._id):u.dot._id,b=Object(r.urlResolve)("project-screen",{url:{pid:p._id,sid:h._id},query:{did:m}});return i.h(c.ResolveDotNotification,{onClick:t.onClick,link:b,avatarUrl:l,barrelName:p.name,platform:f,screenName:h.name,usernames:g,notes:a,updated:e.updated,unread:n,baseRef:t.ref})}case"UpdateOrganizationMemberRole":{const o=d[d.length-1],a=o.user.role,l=o.source,u=e.params.organization,h=Object(s.getUserAvatar)(l).src,p=Object(r.urlResolve)("organization-dashboard",{url:{oid:u._id}});return i.h(c.UpdateOrganizationMemberRoleNotification,{onClick:t.onClick,link:p,avatarUrl:h,roleName:a,organizationName:u.name,usernames:[l.fullName||l.username],updated:e.updated,unread:n,baseRef:t.ref})}case"UpdateProjectColor":case"UpdateStyleguideColor":{const s=e.params.source,l=d.map(e=>e.color),h=e.params.project?a.default.PROJECT:a.default.STYLEGUIDE,p=e.params[h],f=Object(o.getPlatformString)(p.type),g=d.length>1?d.map(e=>e.color._id):u.color._id,m=Object(r.urlResolve)(h===a.default.PROJECT?"project-styleguide-colors":"styleguide-colors",{url:{bid:p._id},query:{cid:g}});return i.h(c.UpdateColorNotification,{onClick:t.onClick,link:m,barrelName:p.name,platform:f,colors:l,usernames:[s.fullName||s.username],updated:e.updated,unread:n,baseRef:t.ref})}case"UpdateProjectUserRole":case"UpdateStyleguideUserRole":{const o=u.project?a.default.PROJECT:a.default.STYLEGUIDE,l=u[o],h=d.map(e=>e[o].name),p=e.params.source,f=Object(s.getUserAvatar)(p).src,g=d.length>1?{query:{bid:d.map(e=>e[o]._id)}}:{url:{bid:l._id}},m=d.length>1?o+"s":o,b=Object(r.urlResolve)(m,g);return i.h(c.AssignAdminNotification,{barrelType:o,onClick:t.onClick,link:b,avatarUrl:f,barrelNames:h,usernames:[p.fullName||p.username],updated:e.updated,unread:n,baseRef:t.ref})}case"UpdateProjectTextStyle":case"UpdateStyleguideTextStyle":{const s=e.params.source,l=d.map(e=>e.textStyle),u=l.map(({name:e})=>e),h=l.map(({_id:e})=>e),p=e.params.project?a.default.PROJECT:a.default.STYLEGUIDE,f=e.params[p],g=Object(o.getPlatformString)(f.type),m=l.length>1?h:h[0],b=Object(r.urlResolve)(p===a.default.PROJECT?"project-styleguide-textstyles":"styleguide-textstyles",{url:{bid:f._id},query:{tsid:m}});return i.h(c.UpdateTextStyleNotification,{onClick:t.onClick,link:b,barrelName:f.name,platform:g,usernames:[s.fullName||s.username],textStyles:u,updated:e.updated,unread:n,baseRef:t.ref})}case"UserJoined":{const o=Object(s.getUserAvatar)(u.member).src,l=Array.from(new Set(d.map(e=>e.member.fullName||e.member.username))),h=e.params.project?a.default.PROJECT:a.default.STYLEGUIDE,p=e.params[h],f=Object(r.urlResolve)(h,{url:{bid:p._id}});return i.h(c.NewMemberNotification,{onClick:t.onClick,link:f,avatarUrl:o,barrelNames:[p.name],usernames:l,updated:e.updated,unread:n,baseRef:t.ref})}case"RemoveUserFromProject":case"RemoveUserFromStyleguide":{const r=e.params.source,o=Object(s.getUserAvatar)(r).src,l=e.params.project?a.default.PROJECT:a.default.STYLEGUIDE,d=e.params[l];return i.h(c.RemoveUserNotification,{avatarUrl:o,barrelNames:[d.name],usernames:[r.fullName||r.username],updated:e.updated,unread:n,baseRef:t.ref})}case"InviteMember":{const o=e.params.source,a=Object(s.getUserAvatar)(o).src,l=e.params.organization,d=Object(r.urlResolve)("organization-dashboard",{url:{oid:l._id}});return i.h(c.InviteMemberNotification,{onClick:t.onClick,link:d,avatarUrl:a,organizationName:l.name,usernames:[o.fullName||o.username],updated:e.updated,unread:n,baseRef:t.ref})}case"InviteProjectUser":case"InviteStyleguideUser":{const o=e.params.source,l=u.project?a.default.PROJECT:a.default.STYLEGUIDE,h=u[l],p=Object(s.getUserAvatar)(o).src,f=d.map(e=>e[l].name),g=d.length>1?{query:{bid:d.map(e=>e[l]._id)}}:{url:{bid:h._id}},m=d.length>1?l+"s":l,b=Object(r.urlResolve)(m,g);return i.h(c.InviteUserNotification,{barrelType:l,onClick:t.onClick,link:b,avatarUrl:p,barrelNames:f,usernames:[o.fullName||o.username],updated:e.updated,unread:n,baseRef:t.ref})}case"TransferProjectOwnership":case"TransferStyleguideOwnership":{const o=u.project?a.default.PROJECT:a.default.STYLEGUIDE,l=u[o],d=e.params.source,h=Object(s.getUserAvatar)(d).src,p=Object(r.urlResolve)(o,{url:{bid:l._id}});return i.h(c.TransferOwnershipNotification,{onClick:t.onClick,link:p,avatarUrl:h,usernames:[d.fullName||d.username],barrelNames:[l.name],updated:e.updated,unread:n,baseRef:t.ref})}case"AttachProjectToJiraIssue":case"AttachSectionToJiraIssue":case"AttachScreenToJiraIssue":case"RemoveProjectJiraIssueAttachment":case"RemoveSectionJiraIssueAttachment":case"RemoveScreenJiraIssueAttachment":{const r=e.params.project,s=Array.from(new Set(d.map(e=>e.jiraAttachment.issueKey))),a=d.reduce((e,t)=>{const{itemId:n,itemName:i}=t.jiraAttachment;return e.find(e=>e.itemId===n)||e.push({itemId:n,itemName:i}),e},[]),l=Object(o.getPlatformString)(r.type);return i.h(c.JiraAttachmentNotification,{onClick:t.onClick,barrelId:r._id,barrelName:r.name,platform:l,actionName:e.actionName,updated:e.updated,unread:n,issueKeys:s,items:a,baseRef:t.ref})}case"CreateProjectSpacingToken":case"CreateStyleguideSpacingToken":{const{params:s,updated:l}=e,u=d.map(e=>e.spacingToken),h=u.map(({token:e})=>e),p=u.map(({_id:e})=>e),f=s.project?a.default.PROJECT:a.default.STYLEGUIDE,g=s[f],m=Object(r.urlResolve)(f===a.default.PROJECT?"project-styleguide-spacing":"styleguide-spacing",{url:{bid:g._id},query:{sptid:u.length>1?p:p[0]}});return i.h(c.CreateSpacingTokenNotification,{baseRef:t.ref,spacingTokens:h,usernames:[s.source.fullName||s.source.username],barrelName:g.name,platform:Object(o.getPlatformString)(g.type),link:m,updated:l,unread:n,onClick:t.onClick})}case"UpdateProjectSpacingToken":case"UpdateStyleguideSpacingToken":{const{params:s,updated:l}=e,u=d.map(e=>e.spacingToken),h=u.map(({token:e})=>e),p=u.map(({_id:e})=>e),f=s.project?a.default.PROJECT:a.default.STYLEGUIDE,g=s[f],m=Object(r.urlResolve)(f===a.default.PROJECT?"project-styleguide-spacing":"styleguide-spacing",{url:{bid:g._id},query:{sptid:u.length>1?p:p[0]}});return i.h(c.UpdateSpacingTokenNotification,{baseRef:t.ref,spacingTokens:h,usernames:[s.source.fullName||s.source.username],barrelName:g.name,platform:Object(o.getPlatformString)(g.type),link:m,updated:l,unread:n,onClick:t.onClick})}case"DeleteProjectSpacingToken":case"DeleteStyleguideSpacingToken":{const{params:r,updated:s}=e,l=d.map(e=>e.spacingToken).map(({token:e})=>e),u=r[r.project?a.default.PROJECT:a.default.STYLEGUIDE];return i.h(c.DeleteSpacingTokenNotification,{baseRef:t.ref,spacingTokens:l,usernames:[r.source.fullName||r.source.username],barrelName:u.name,platform:Object(o.getPlatformString)(u.type),updated:s,unread:n})}default:return null}}},function(e,t,n){"use strict";n.r(t);var i=n(1);t.default=e=>{const t=e.split(/\*([^*]+)\*/g).map((e,t)=>t%2?i.h("strong",{key:e+t},e):e);return i.h("span",null,t)}},function(e,t,n){"use strict";n.r(t);var i=n(838);n.d(t,"CreateDotNotification",(function(){return i.default}));var r=n(857);n.d(t,"CreateScreenNotification",(function(){return r.default}));var o=n(863);n.d(t,"CreateScreenVersionNotification",(function(){return o.default}));var s=n(866);n.d(t,"NewMemberNotification",(function(){return s.default}));var a=n(871);n.d(t,"UpdateColorNotification",(function(){return a.default}));var l=n(879);n.d(t,"CreateComponentNotification",(function(){return l.default}));var c=n(881);n.d(t,"CreateComponentVersionNotification",(function(){return c.default}));var d=n(883);n.d(t,"DeleteComponentNotification",(function(){return d.default}));var u=n(885);n.d(t,"InviteUserNotification",(function(){return u.default}));var h=n(887);n.d(t,"InviteMemberNotification",(function(){return h.default}));var p=n(890);n.d(t,"UpdateOrganizationMemberRoleNotification",(function(){return p.default}));var f=n(894);n.d(t,"AnnouncementNotification",(function(){return f.default}));var g=n(897);n.d(t,"ResolveDotNotification",(function(){return g.default}));var m=n(900);n.d(t,"CreateCommentNotification",(function(){return m.default}));var b=n(903);n.d(t,"CommentMentionNotification",(function(){return b.default}));var y=n(906);n.d(t,"DeleteScreenNotification",(function(){return y.default}));var S=n(908);n.d(t,"RemoveUserNotification",(function(){return S.default}));var v=n(910);n.d(t,"AddExtensionNotification",(function(){return v.default}));var C=n(913);n.d(t,"DeleteExtensionNotification",(function(){return C.default}));var O=n(916);n.d(t,"DeleteBarrelNotification",(function(){return O.default}));var E=n(918);n.d(t,"ArchiveBarrelNotification",(function(){return E.default}));var T=n(920);n.d(t,"ActivateBarrelNotification",(function(){return T.default}));var D=n(922);n.d(t,"AssignAdminNotification",(function(){return D.default}));var k=n(924);n.d(t,"CreateColorNotification",(function(){return k.default}));var w=n(926);n.d(t,"DeleteColorNotification",(function(){return w.default}));var _=n(928);n.d(t,"AuthSlackNotification",(function(){return _.default}));var j=n(931);n.d(t,"CreateCouponNotification",(function(){return j.default}));var P=n(934);n.d(t,"CreateTextStyleNotification",(function(){return P.default}));var R=n(936);n.d(t,"DeleteTextStyleNotification",(function(){return R.default}));var I=n(938);n.d(t,"UpdateTextStyleNotification",(function(){return I.default}));var A=n(940);n.d(t,"CreateSpacingTokenNotification",(function(){return A.default}));var x=n(942);n.d(t,"UpdateSpacingTokenNotification",(function(){return x.default}));var N=n(944);n.d(t,"DeleteSpacingTokenNotification",(function(){return N.default}));var L=n(946);n.d(t,"TransferOwnershipNotification",(function(){return L.default}));var U=n(948);n.d(t,"JiraAttachmentNotification",(function(){return U.default}))},function(e,t,n){"use strict";n.r(t);var i=n(839);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(843),l=n(850),c=n(851),d=n(854),u=n(848),h=n(19);n(856);function p(e){const{baseRef:t,usernames:n,screenName:r,barrelName:o,platform:p,notes:f,content:g,avatarUrl:m,updated:b,link:y,unread:S,onClick:v}=e,C=n.length>1?i.h(l.default,{iconType:u.default.GROUP_MEMBERS,subIconType:u.default.NOTE}):i.h(a.default,{avatarUrl:m,subIconType:u.default.NOTE}),O=i.h(i.Fragment,null,i.h(d.default,{key:"username",usernames:n}),` added ${Object(h.pluralize)(f.length,"note")} to `,i.h("span",{key:"span",class:"screenName"},r),g?":":"."),E=i.h("div",{class:"contentWrapper ellipsis"},g),T=i.h(c.default,{name:o,platform:p});return i.h(s.default,{baseRef:t,class:"createDot",onClick:v,icon:C,header:O,content:E,footer:T,unread:S,updated:b,link:y})}p.propTypes={onClick:o.a.func,unread:o.a.bool,link:o.a.string.isRequired,avatarUrl:o.a.string.isRequired,updated:o.a.string.isRequired,barrelName:o.a.string.isRequired,platform:o.a.string.isRequired,screenName:o.a.string.isRequired,notes:o.a.arrayOf(o.a.oneOfType([o.a.string,o.a.object])),usernames:o.a.arrayOf(o.a.string),content:o.a.string},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(841);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(517),a=n(11);n(842);function l(e){const{unread:t,disabled:n,link:r,linkTarget:o,linkType:l,icon:c,header:d,content:u,footer:h,updated:p,onClick:f,class:g,baseRef:m}=e,b=Object(a.default)("notificationItem",{disabled:n,unread:t},g);return i.h("a",{ref:m,onClick:n?null:f,target:o,class:b,href:r,"data-link-type":l},c&&i.h("div",{class:"notificationIcon"},c),i.h("div",{class:"notificationBody"},d&&i.h("div",{class:"notificationHeader"},d),u&&i.h("div",{class:"notificationContent"},u),i.h("div",{class:"notificationFooter"},h,i.h(s.default,{key:"time",type:"time-ago",format:"micro",class:"date",datetime:p}))))}l.propTypes={icon:o.a.node,header:o.a.node,content:o.a.node,footer:o.a.node,unread:o.a.bool,disabled:o.a.bool,link:o.a.string,linkTarget:o.a.string,linkType:o.a.string,class:o.a.string,updated:o.a.string.isRequired,onClick:o.a.func},l.defaultProps={linkType:"inApp"},t.default=l},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(844),a=n(513);function l(e){const{avatarUrl:t,subIconType:n}=e;return i.h(s.default,{subIconType:n},i.h(a.default,{width:"36",height:"36",src:t}))}l.propTypes={avatarUrl:o.a.string.isRequired,subIconType:o.a.string},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(845),a=n(11);n(849);function l(e){const{children:t,subIconType:n,class:r}=e,o=Object(a.default)("icon",r);return i.h("div",{class:o},t,n&&i.h(s.default,{class:"subIcon",type:n}))}l.propTypes={class:o.a.string,subIconType:o.a.string},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(846);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(313),a=n(847);function l(e){const{type:t,class:n}=e,r=a.default[t],o=r.responsive?s.default:"img",l={[r.responsive?"asset":"src"]:r.source,alt:r.alt,class:n};return i.h(o,l)}l.propTypes={avatar:o.a.bool,type:o.a.string},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(848),r=n(18);const o={[i.default.ADD]:{source:Object(r.imageUrl)("img/ntf/icAdd.svg"),alt:"+"},[i.default.DELETE]:{source:Object(r.imageUrl)("img/ntf/icDelete.svg"),alt:"-"},[i.default.PERSON]:{source:Object(r.imageUrl)("img/ntf/icPerson.svg"),alt:"&#x1f464;"},[i.default.NOTE]:{source:Object(r.imageUrl)("img/ntf/icNote.svg"),alt:"&#x270f;"},[i.default.TRANSFER]:{source:Object(r.imageUrl)("img/ntf/icTransfer.svg"),alt:"&#x21c6;"},[i.default.ARCHIVE]:{source:Object(r.imageUrl)("img/ntf/icArchive.svg"),alt:"&#x1f4e5;"},[i.default.ACTIVATE]:{source:Object(r.imageUrl)("img/ntf/icTransfer.svg"),alt:"&#x1f4e4;"},[i.default.STAR]:{source:Object(r.imageUrl)("img/ntf/icStar.svg"),alt:"&#x2b50;"},[i.default.JIRA]:{source:Object(r.imageUrl)("img/ntf/icJira.svg"),alt:""},[i.default.UPDATE]:{source:"img/ntf/icUpdate.png",alt:"&#x1f4e2;",responsive:!0},[i.default.SLACK]:{source:"img/ntf/icSlack.png",alt:"#",responsive:!0},[i.default.ADMIN]:{source:"img/ntf/icAdmin.png",alt:"&#x1f4aa;",responsive:!0},[i.default.MENTION]:{source:"img/ntf/icMention.png",alt:"&#x1f449;",responsive:!0},[i.default.GROUP_MEMBERS]:{source:"img/ntf/icGroupMembers.png",alt:"&#x1f4aa;",responsive:!0},[i.default.GROUP_COLORS]:{source:"img/ntf/icGroupColors.png",alt:"&#x1F3A8;",responsive:!0},[i.default.TEXT_STYLES]:{source:"img/ntf/icTextStyles.png",alt:"&#x270f;",responsive:!0},[i.default.SPACING]:{source:"img/ntf/icSpacing.png",alt:"&#xe12b;",responsive:!0}};t.default=o},function(e,t,n){"use strict";n.r(t),t.default={ADD:"add",DELETE:"delete",UPDATE:"update",PERSON:"person",NOTE:"note",TRANSFER:"transfer",JIRA:"jira",ARCHIVE:"archive",ACTIVATE:"activate",SLACK:"slack",ADMIN:"admin",MENTION:"mention",GROUP_MEMBERS:"groupMembers",GROUP_COLORS:"groupColors",TEXT_STYLES:"textStyles",SPACING:"spacing",STAR:"star"}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(844),a=n(845);function l(e){const{iconType:t,subIconType:n}=e;return i.h(s.default,{subIconType:n},i.h(a.default,{type:t}))}l.propTypes={iconType:o.a.string.isRequired,subIconType:o.a.string},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(852);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r);n(853);function s(e){const{name:t,platform:n}=e;return i.h("div",{class:"barrel"},i.h("span",{class:"name ellipsis",title:t},t)," • ",i.h("span",{class:"platform"},n))}s.propTypes={name:o.a.string.isRequired,platform:o.a.string.isRequired},t.default=s},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(855);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r);function s(e){const{usernames:t=[]}=e;let n,r,o;return 0===t.length?null:(1===t.length?n=t[0]:t.length>3?(n=t.slice(0,3).join(", "),r=t.length-3+" more people",o=t.slice(3).join("\n")):(r=t.pop(),n=t.join(", ")),i.h("span",null,n,r&&i.h("span",{title:o}," and ",r)))}s.propTypes={usernames:o.a.arrayOf(o.a.string).isRequired},t.default=s},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(858);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(843),l=n(851),c=n(854),d=n(859),u=n(848);n(862);function h(e){const{baseRef:t,usernames:n,screenNames:r,barrelName:o,content:h,platform:p,avatarUrl:f,link:g,unread:m,updated:b,onClick:y}=e,S=i.h(a.default,{avatarUrl:f,subIconType:u.default.ADD}),v=r.length>1,C=[i.h(c.default,{key:"usernames",usernames:n}),v?" added ":" added a screen: ",i.h(d.default,{key:"screenNames",names:r}),v?" screens.":"."],O=h?i.h("div",{class:"contentWrapper ellipsis"},h):null,E=i.h(l.default,{name:o,platform:p});return i.h(s.default,{baseRef:t,class:"createScreen",onClick:y,icon:S,header:C,footer:E,unread:m,content:O,updated:b,link:g})}h.propTypes={onClick:o.a.func,unread:o.a.bool,link:o.a.string.isRequired,avatarUrl:o.a.string.isRequired,updated:o.a.string.isRequired,barrelName:o.a.string.isRequired,platform:o.a.string.isRequired,screenNames:o.a.arrayOf(o.a.string),usernames:o.a.arrayOf(o.a.string)},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(860);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r);n(861);function s(e){const{names:t=[]}=e;if(0===t.length)return null;if(1===t.length)return i.h("span",{key:"multiName",class:"multiName"},t[0]);const n=t.join("\n");return i.h("span",{class:"multiName",title:n},t.length)}s.propTypes={names:o.a.arrayOf(o.a.string).isRequired},t.default=s},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(864);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(843),l=n(851),c=n(854),d=n(859),u=n(848);n(865);function h(e){const{baseRef:t,usernames:n,screenNames:r,barrelName:o,platform:h,avatarUrl:p,updated:f,link:g,content:m,unread:b,onClick:y}=e,S=i.h(a.default,{avatarUrl:p,subIconType:u.default.ADD}),v=r.length>1,C=[i.h(c.default,{key:"usernames",usernames:n}),v?" added versions to ":" added a version to ",i.h(d.default,{key:"screenNames",names:r}),v?" screens.":" screen."],O=m?i.h("div",{class:"contentWrapper ellipsis"},m):null,E=i.h(l.default,{name:o,platform:h});return i.h(s.default,{baseRef:t,class:"createScreenVersion",onClick:y,icon:S,header:C,footer:E,unread:b,content:O,updated:f,link:g})}h.propTypes={onClick:o.a.func,unread:o.a.bool,link:o.a.string.isRequired,avatarUrl:o.a.string.isRequired,updated:o.a.string.isRequired,barrelName:o.a.string.isRequired,platform:o.a.string.isRequired,screenNames:o.a.arrayOf(o.a.string),usernames:o.a.arrayOf(o.a.string)},t.default=h},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(867);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(843),l=n(850),c=n(868),d=n(854),u=n(848);function h(e){const{baseRef:t,usernames:n,barrelNames:r,avatarUrl:o,updated:h,link:p,unread:f,onClick:g}=e,m=n.length>1?i.h(l.default,{iconType:u.default.GROUP_MEMBERS,subIconType:u.default.PERSON}):i.h(a.default,{avatarUrl:o,subIconType:u.default.PERSON}),b=[i.h(d.default,{key:"usernames",usernames:n})," joined ",i.h(c.default,{key:"barrelNames",barrelNames:r}),"."];return i.h(s.default,{baseRef:t,class:"newMember",onClick:g,icon:m,header:b,updated:h,unread:f,link:p})}h.propTypes={onClick:o.a.func,unread:o.a.bool,link:o.a.string.isRequired,avatarUrl:o.a.string.isRequired,updated:o.a.string.isRequired,barrelNames:o.a.arrayOf(o.a.string),usernames:o.a.arrayOf(o.a.string),content:o.a.string},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(869);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r);n(870);function s(e){const{barrelNames:t=[]}=e;let n,r;return 0===t.length?null:(1===t.length?n=t[0]:(r=t.pop(),n=t.join(", ")),i.h("span",null,i.h("span",{class:"barrelName"},n),r&&[" and ",i.h("span",{key:"tail",class:"barrelName"},r)]))}s.propTypes={barrelNames:o.a.arrayOf(o.a.string).isRequired},t.default=s},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(872);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(850),l=n(873),c=n(851),d=n(854),u=n(876),h=n(848);function p(e){const{baseRef:t,usernames:n,colors:r,barrelName:o,platform:p,updated:f,link:g,unread:m,onClick:b}=e,y=r.length>1?i.h(a.default,{iconType:h.default.GROUP_COLORS,subIconType:h.default.ADD}):i.h(l.default,{color:r[0],subIconType:h.default.ADD}),S=r.length>1,v=[i.h(d.default,{key:"usernames",usernames:n}),S?" updated ":" updated a color: ",i.h(u.default,{key:"colors",platform:p,colors:r}),S?" colors.":"."],C=i.h(c.default,{name:o,platform:p});return i.h(s.default,{baseRef:t,class:"updateColor",onClick:b,icon:y,header:v,footer:C,unread:m,updated:f,link:g})}p.propTypes={onClick:o.a.func,unread:o.a.bool,link:o.a.string.isRequired,updated:o.a.string.isRequired,barrelName:o.a.string.isRequired,platform:o.a.string.isRequired,usernames:o.a.arrayOf(o.a.string),colors:o.a.arrayOf(o.a.object)},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(874);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(844),a=n(20);n(875);function l(e){const{color:t,subIconType:n}=e;return i.h(s.default,{subIconType:n},i.h("div",{class:"colorPreviewWrapper"},i.h("div",{class:"colorPreview",style:{backgroundColor:new a.default(t).toCSS()}})))}l.propTypes={color:o.a.string.isRequired,subIconType:o.a.string},t.default=l},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(877);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(20);n(878);function a(e){const{platform:t,colors:n=[]}=e;if(0===n.length)return null;if(1===n.length){const e=new s.default(n[0]);return i.h("span",{class:"colorName",title:e.toPlatformString(t)},e.name)}const r=n.map(e=>{const n=new s.default(e);return n.name+": "+n.toPlatformString(t)}).join("\n");return i.h("span",{class:"colorName",title:r},n.length)}a.propTypes={platform:o.a.string.isRequired,colors:o.a.arrayOf(o.a.object).isRequired},t.default=a},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(880);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(843),l=n(851),c=n(854),d=n(859),u=n(848);function h(e){const{baseRef:t,usernames:n,componentNames:r,barrelName:o,platform:h,avatarUrl:p,updated:f,link:g,unread:m,onClick:b}=e,y=i.h(a.default,{avatarUrl:p,subIconType:u.default.ADD}),S=r.length>1,v=[i.h(c.default,{key:"usernames",usernames:n}),S?" added ":" added a component: ",i.h(d.default,{key:"componentNames",names:r}),S?" components.":"."],C=i.h(l.default,{name:o,platform:h});return i.h(s.default,{baseRef:t,class:"createComponent",onClick:b,icon:y,header:v,footer:C,unread:m,updated:f,link:g})}h.propTypes={onClick:o.a.func,unread:o.a.bool,link:o.a.string.isRequired,avatarUrl:o.a.string.isRequired,updated:o.a.string.isRequired,barrelName:o.a.string.isRequired,platform:o.a.string.isRequired,componentNames:o.a.arrayOf(o.a.string),usernames:o.a.arrayOf(o.a.string)},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(882);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(843),l=n(851),c=n(854),d=n(859),u=n(848);function h(e){const{baseRef:t,usernames:n,componentNames:r,barrelName:o,platform:h,avatarUrl:p,updated:f,link:g,unread:m,onClick:b}=e,y=i.h(a.default,{avatarUrl:p,subIconType:u.default.ADD}),S=r.length>1,v=[i.h(c.default,{key:"usernames",usernames:n}),S?" added versions to ":" added a version to ",i.h(d.default,{key:"componentNames",names:r}),S?" components.":" component."],C=i.h(l.default,{name:o,platform:h});return i.h(s.default,{baseRef:t,class:"createComponentVersion",onClick:b,icon:y,header:v,footer:C,unread:m,updated:f,link:g})}h.propTypes={onClick:o.a.func,unread:o.a.bool,link:o.a.string.isRequired,avatarUrl:o.a.string.isRequired,updated:o.a.string.isRequired,barrelName:o.a.string.isRequired,platform:o.a.string.isRequired,componentNames:o.a.arrayOf(o.a.string),usernames:o.a.arrayOf(o.a.string)},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(884);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(843),l=n(851),c=n(854),d=n(859),u=n(848);function h(e){const{baseRef:t,usernames:n,componentNames:r,barrelName:o,platform:h,avatarUrl:p,updated:f,unread:g}=e,m=i.h(a.default,{avatarUrl:p,subIconType:u.default.DELETE}),b=r.length>1,y=[i.h(c.default,{key:"usernames",usernames:n}),b?" removed ":" removed a component: ",i.h(d.default,{key:"componentNames",names:r}),b?" components.":"."],S=i.h(l.default,{name:o,platform:h});return i.h(s.default,{baseRef:t,class:"deleteComponent",icon:m,header:y,footer:S,unread:g,updated:f,disabled:!0})}h.propTypes={unread:o.a.bool,avatarUrl:o.a.string.isRequired,updated:o.a.string.isRequired,barrelName:o.a.string.isRequired,platform:o.a.string.isRequired,componentNames:o.a.arrayOf(o.a.string),usernames:o.a.arrayOf(o.a.string)},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(886);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(843),l=n(854),c=n(868),d=n(848);function u(e){const{baseRef:t,usernames:n,barrelNames:r,avatarUrl:o,updated:u,link:h,unread:p,onClick:f,barrelType:g}=e,m=i.h(a.default,{avatarUrl:o,subIconType:d.default.PERSON}),b=r.length>1,y=[i.h(l.default,{key:"usernames",usernames:n}),b?` invited you to ${r.length} ${g}s: `:" invited you to ",i.h(c.default,{key:"barrelNames",barrelNames:r}),"."];return i.h(s.default,{baseRef:t,class:"inviteUser",onClick:f,icon:m,header:y,updated:u,unread:p,link:h})}u.propTypes={onClick:o.a.bool,unread:o.a.bool,link:o.a.string.isRequired,avatarUrl:o.a.string.isRequired,updated:o.a.string.isRequired,barrelType:o.a.string.isRequired,barrelNames:o.a.arrayOf(o.a.string),usernames:o.a.arrayOf(o.a.string)},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(888);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(843),l=n(854),c=n(848);n(889);function d(e){const{baseRef:t,usernames:n,organizationName:r,avatarUrl:o,updated:d,link:u,unread:h,onClick:p}=e,f=i.h(a.default,{avatarUrl:o,subIconType:c.default.PERSON}),g=[i.h(l.default,{key:"usernames",usernames:n})," invited you to ",i.h("span",{key:"organizationName",class:"organizationName"},r)," organization."];return i.h(s.default,{baseRef:t,class:"inviteMember",onClick:p,icon:f,header:g,updated:d,unread:h,link:u,linkType:"legacy"})}d.propTypes={onClick:o.a.func,unread:o.a.bool,link:o.a.string.isRequired,avatarUrl:o.a.string.isRequired,updated:o.a.string.isRequired,organizationName:o.a.string.isRequired,usernames:o.a.arrayOf(o.a.string)},t.default=d},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(891);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(843),l=n(854),c=n(313),d=n(848),u=n(892);n(893);function h(e){const{baseRef:t,usernames:n,roleName:r,organizationName:o,avatarUrl:h,updated:p,link:f,unread:g,onClick:m}=e,b=u.default[r],y=i.h(a.default,{avatarUrl:h,subIconType:d.default.PERSON}),S=[i.h(l.default,{key:"usernames",usernames:n})," assigned you as ",i.h("span",{key:"roleName",class:"roleName"},b.name)," ",i.h(c.default,{key:"roleIcon",class:"roleIcon",asset:b.icon})," on ",i.h("span",{key:"organizationName",class:"organizationName"},o)," organization."];return i.h(s.default,{baseRef:t,class:"updateOrganizationMemberRole",onClick:m,icon:y,header:S,updated:p,unread:g,link:f,linkType:"legacy"})}h.propTypes={onClick:o.a.func,unread:o.a.bool,link:o.a.string.isRequired,avatarUrl:o.a.string.isRequired,updated:o.a.string.isRequired,roleName:o.a.string.isRequired,organizationName:o.a.string.isRequired,usernames:o.a.arrayOf(o.a.string)},t.default=h},function(e,t,n){"use strict";n.r(t),t.default={king:{name:"Owner",icon:"img/icQueen.png"},queen:{name:"Admin",icon:"img/icQueen.png"},rook:{name:"Editor",icon:"img/icRook.png"},knight:{name:"Member",icon:"img/icKnight.png"}}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(895);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(850),l=n(854),c=n(848);n(896);function d(e){const{baseRef:t,usernames:n,content:r,updated:o,link:d,unread:u,onClick:h,disabled:p}=e,f=i.h(a.default,{iconType:c.default.UPDATE}),g=i.h("div",{class:"contentWrapper"},r),m=i.h(l.default,{usernames:n});return i.h(s.default,{baseRef:t,class:"announcement",onClick:h,icon:f,content:g,footer:m,unread:u,updated:o,disabled:p,link:d,linkTarget:"_blank"})}d.propTypes={onClick:o.a.func,disabled:o.a.bool,unread:o.a.bool,link:o.a.string.isRequired,updated:o.a.string.isRequired,usernames:o.a.arrayOf(o.a.string),content:o.a.node},t.default=d},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(898);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(843),l=n(850),c=n(851),d=n(854),u=n(848),h=n(19);n(899);function p(e){const{baseRef:t,usernames:n,screenName:r,barrelName:o,platform:p,notes:f,avatarUrl:g,updated:m,link:b,unread:y,onClick:S}=e,v=n.length>1?i.h(l.default,{iconType:u.default.GROUP_MEMBERS,subIconType:u.default.NOTE}):i.h(a.default,{avatarUrl:g,subIconType:u.default.NOTE}),C=[i.h(d.default,{key:"usernames",usernames:n}),` resolved ${Object(h.pluralize)(f.length,"note")} on `,i.h("span",{key:"screenName",class:"screenName"},r),"."],O=i.h(c.default,{name:o,platform:p});return i.h(s.default,{baseRef:t,class:"resolveDot",onClick:S,icon:v,header:C,footer:O,unread:y,updated:m,link:b})}p.propTypes={onClick:o.a.func,unread:o.a.bool,link:o.a.string.isRequired,avatarUrl:o.a.string.isRequired,updated:o.a.string.isRequired,barrelName:o.a.string.isRequired,platform:o.a.string.isRequired,screenName:o.a.string.isRequired,notes:o.a.arrayOf(o.a.string),usernames:o.a.arrayOf(o.a.string)},t.default=p},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(901);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(850),l=n(843),c=n(851),d=n(854),u=n(848);n(902);function h(e){const{baseRef:t,usernames:n,screenName:r,barrelName:o,platform:h,noteName:p,content:f,avatarUrl:g,updated:m,link:b,unread:y,onClick:S}=e,v=n.length>1?i.h(a.default,{iconType:u.default.GROUP_MEMBERS,subIconType:u.default.NOTE}):i.h(l.default,{avatarUrl:g,subIconType:u.default.NOTE}),C=i.h("div",{class:"contentWrapper ellipsis"},f),O=[i.h(d.default,{key:"usernames",usernames:n})," replied to note ",i.h("span",{key:"noteName",class:"noteName"},p)," on ",i.h("span",{key:"screenName",class:"screenName"},r),f?":":"."],E=i.h(c.default,{name:o,platform:h});return i.h(s.default,{baseRef:t,class:"createComment",onClick:S,icon:v,header:O,content:C,footer:E,unread:y,updated:m,link:b})}h.propTypes={onClick:o.a.func,unread:o.a.bool,link:o.a.string.isRequired,avatarUrl:o.a.string.isRequired,updated:o.a.string.isRequired,barrelName:o.a.string.isRequired,platform:o.a.string.isRequired,screenName:o.a.string.isRequired,noteName:o.a.string.isRequired,usernames:o.a.arrayOf(o.a.string),content:o.a.string},t.default=h},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(904);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(843),l=n(851),c=n(854),d=n(848);n(905);function u(e){const{baseRef:t,usernames:n,screenName:r,barrelName:o,platform:u,noteName:h,content:p,avatarUrl:f,updated:g,link:m,unread:b,onClick:y}=e,S=i.h(a.default,{avatarUrl:f,subIconType:d.default.MENTION}),v=[i.h(c.default,{key:"usernames",usernames:n})," mentioned you in note ",i.h("span",{key:"noteName",class:"noteName"},h)," on ",i.h("span",{key:"screenName",class:"screenName"},r),p?":":"."],C=i.h("div",{class:"contentWrapper ellipsis"},p),O=i.h(l.default,{name:o,platform:u});return i.h(s.default,{baseRef:t,class:"commentMention",onClick:y,icon:S,header:v,content:C,footer:O,unread:b,updated:g,link:m})}u.propTypes={onClick:o.a.func,unread:o.a.bool,link:o.a.string.isRequired,avatarUrl:o.a.string.isRequired,updated:o.a.string.isRequired,barrelName:o.a.string.isRequired,platform:o.a.string.isRequired,screenName:o.a.string.isRequired,noteName:o.a.string.isRequired,usernames:o.a.arrayOf(o.a.string),content:o.a.string},t.default=u},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(907);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(843),l=n(851),c=n(854),d=n(859),u=n(848);function h(e){const{baseRef:t,usernames:n,screenNames:r,barrelName:o,platform:h,avatarUrl:p,updated:f,unread:g}=e,m=i.h(a.default,{avatarUrl:p,subIconType:u.default.DELETE}),b=r.length>1,y=[i.h(c.default,{key:"usernames",usernames:n}),b?" deleted ":" deleted a screen: ",i.h(d.default,{key:"screenNames",names:r}),b?" screens.":"."],S=i.h(l.default,{name:o,platform:h});return i.h(s.default,{baseRef:t,class:"deleteScreen",icon:m,header:y,footer:S,unread:g,updated:f,disabled:!0})}h.propTypes={unread:o.a.bool,avatarUrl:o.a.string.isRequired,updated:o.a.string.isRequired,barrelName:o.a.string.isRequired,platform:o.a.string.isRequired,screenNames:o.a.arrayOf(o.a.string),usernames:o.a.arrayOf(o.a.string)},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(909);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(843),l=n(868),c=n(854),d=n(848);function u(e){const{baseRef:t,usernames:n,barrelNames:r,avatarUrl:o,updated:u,unread:h}=e,p=i.h(a.default,{avatarUrl:o,subIconType:d.default.DELETE}),f=[i.h(c.default,{key:"usernames",usernames:n})," removed you from ",i.h(l.default,{key:"barrelNames",barrelNames:r}),"."];return i.h(s.default,{baseRef:t,class:"removeUser",icon:p,header:f,updated:u,unread:h,disabled:!0})}u.propTypes={unread:o.a.bool,avatarUrl:o.a.string.isRequired,updated:o.a.string.isRequired,barrelNames:o.a.arrayOf(o.a.string),usernames:o.a.arrayOf(o.a.string)},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(911);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(843),l=n(851),c=n(854),d=n(848);n(912);function u(e){const{baseRef:t,usernames:n,barrelName:r,platform:o,extensionName:u,avatarUrl:h,updated:p,link:f,unread:g,onClick:m}=e,b=i.h(a.default,{avatarUrl:h,subIconType:d.default.ADD}),y=[i.h(c.default,{key:"usernames",usernames:n})," added an extension: ",i.h("span",{key:"extensionName",class:"extensionName"},u),"."],S=i.h(l.default,{name:r,platform:o});return i.h(s.default,{baseRef:t,class:"addExtension",onClick:m,icon:b,header:y,footer:S,unread:g,updated:p,link:f})}u.propTypes={onClick:o.a.bool,unread:o.a.bool,link:o.a.string.isRequired,avatarUrl:o.a.string.isRequired,updated:o.a.string.isRequired,barrelName:o.a.string.isRequired,platform:o.a.string.isRequired,extensionName:o.a.string.isRequired,usernames:o.a.arrayOf(o.a.string)},t.default=u},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(914);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(843),l=n(851),c=n(854),d=n(848);n(915);function u(e){const{baseRef:t,usernames:n,barrelName:r,platform:o,extensionName:u,avatarUrl:h,updated:p,unread:f}=e,g=i.h(a.default,{avatarUrl:h,subIconType:d.default.DELETE}),m=[i.h(c.default,{key:"usernames",usernames:n})," removed an extension: ",i.h("span",{key:"extensionName",class:"extensionName"},u),"."],b=i.h(l.default,{name:r,platform:o});return i.h(s.default,{baseRef:t,class:"deleteExtension",icon:g,header:m,footer:b,unread:f,updated:p,disabled:!0})}u.propTypes={unread:o.a.bool,avatarUrl:o.a.string.isRequired,updated:o.a.string.isRequired,barrelName:o.a.string.isRequired,platform:o.a.string.isRequired,extensionName:o.a.string.isRequired,usernames:o.a.arrayOf(o.a.string)},t.default=u},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(917);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(843),l=n(854),c=n(868),d=n(848);function u(e){const{baseRef:t,barrelType:n,usernames:r,barrelNames:o,content:u,avatarUrl:h,updated:p,unread:f}=e,g=i.h(a.default,{avatarUrl:h,subIconType:d.default.DELETE}),m=[i.h(l.default,{key:"usernames",usernames:r}),` deleted a ${n}: `,i.h(c.default,{key:"barrelNames",barrelNames:o}),"."];return i.h(s.default,{baseRef:t,icon:g,header:m,content:u,updated:p,unread:f,disabled:!0})}u.propTypes={unread:o.a.bool,avatarUrl:o.a.string.isRequired,updated:o.a.string.isRequired,barrelType:o.a.string.isRequired,usernames:o.a.arrayOf(o.a.string),barrelNames:o.a.arrayOf(o.a.string),content:o.a.string},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(919);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(843),l=n(854),c=n(868),d=n(848);function u(e){const{baseRef:t,usernames:n,barrelNames:r,avatarUrl:o,updated:u,link:h,unread:p,onClick:f,barrelType:g}=e,m=i.h(a.default,{avatarUrl:o,subIconType:d.default.ARCHIVE}),b=[i.h(l.default,{key:"usernames",usernames:n}),` archived a ${g}: `,i.h(c.default,{key:"barrelNames",barrelNames:r}),"."];return i.h(s.default,{baseRef:t,onClick:f,icon:m,header:b,updated:u,unread:p,link:h})}u.propTypes={onClick:o.a.func,unread:o.a.bool,link:o.a.string.isRequired,avatarUrl:o.a.string.isRequired,updated:o.a.string.isRequired,barrelType:o.a.string.isRequired,usernames:o.a.arrayOf(o.a.string),barrelNames:o.a.arrayOf(o.a.string)},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(921);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(843),l=n(854),c=n(868),d=n(848);function u(e){const{baseRef:t,usernames:n,barrelNames:r,avatarUrl:o,updated:u,link:h,unread:p,onClick:f,barrelType:g}=e,m=i.h(a.default,{avatarUrl:o,subIconType:d.default.ACTIVATE}),b=[i.h(l.default,{key:"usernames",usernames:n}),` activated a ${g}: `,i.h(c.default,{key:"barrelNames",barrelNames:r}),"."];return i.h(s.default,{baseRef:t,onClick:f,icon:m,header:b,unread:p,updated:u,link:h})}u.propTypes={onClick:o.a.func,unread:o.a.bool,link:o.a.string.isRequired,avatarUrl:o.a.string.isRequired,updated:o.a.string.isRequired,barrelType:o.a.string.isRequired,usernames:o.a.arrayOf(o.a.string),barrelNames:o.a.arrayOf(o.a.string)},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(923);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(843),l=n(854),c=n(868),d=n(848);function u(e){const{baseRef:t,barrelType:n,usernames:r,barrelNames:o,avatarUrl:u,updated:h,link:p,unread:f,onClick:g}=e,m=i.h(a.default,{avatarUrl:u,subIconType:d.default.ADMIN}),b=o.length>1,y=[i.h(l.default,{key:"usernames",usernames:r}),b?` assigned you as an admin on ${o.length} ${n}s: `:" assigned you as an admin on ",i.h(c.default,{key:"barrelNames",barrelNames:o}),"."];return i.h(s.default,{baseRef:t,class:"assignAdmin",onClick:g,icon:m,header:y,updated:h,unread:f,link:p})}u.propTypes={onClick:o.a.func,unread:o.a.bool,link:o.a.string.isRequired,avatarUrl:o.a.string.isRequired,updated:o.a.string.isRequired,barrelType:o.a.string.isRequired,barrelNames:o.a.arrayOf(o.a.string),usernames:o.a.arrayOf(o.a.string)},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(925);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(873),l=n(850),c=n(851),d=n(854),u=n(876),h=n(848);function p(e){const{baseRef:t,usernames:n,colors:r,barrelName:o,platform:p,updated:f,link:g,unread:m,onClick:b}=e,y=r.length>1?i.h(l.default,{iconType:h.default.GROUP_COLORS,subIconType:h.default.ADD}):i.h(a.default,{color:r[0],subIconType:h.default.ADD}),S=r.length>1,v=[i.h(d.default,{key:"usernames",usernames:n}),S?" added ":" added a color: ",i.h(u.default,{key:"colors",platform:p,colors:r}),S?" colors.":"."],C=i.h(c.default,{name:o,platform:p});return i.h(s.default,{baseRef:t,class:"createColor",onClick:b,icon:y,header:v,footer:C,unread:m,updated:f,link:g})}p.propTypes={onClick:o.a.func,unread:o.a.bool,link:o.a.string.isRequired,updated:o.a.string.isRequired,barrelName:o.a.string.isRequired,platform:o.a.string.isRequired,colors:o.a.arrayOf(o.a.object),usernames:o.a.arrayOf(o.a.string)},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(927);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(850),l=n(873),c=n(851),d=n(854),u=n(876),h=n(848);function p(e){const{baseRef:t,usernames:n,colors:r,barrelName:o,platform:p,updated:f,unread:g}=e,m=r.length>1?i.h(a.default,{iconType:h.default.GROUP_COLORS,subIconType:h.default.DELETE}):i.h(l.default,{color:r[0],subIconType:h.default.DELETE}),b=r.length>1,y=[i.h(d.default,{key:"usernames",usernames:n}),b?" removed ":" removed a color: ",i.h(u.default,{key:"colors",platform:p,colors:r}),b?" colors.":"."],S=i.h(c.default,{name:o,platform:p});return i.h(s.default,{baseRef:t,class:"deleteColor",icon:m,header:y,footer:S,unread:g,updated:f,disabled:!0})}p.propTypes={unread:o.a.bool,updated:o.a.string.isRequired,barrelName:o.a.string.isRequired,platform:o.a.string.isRequired,usernames:o.a.arrayOf(o.a.string),colors:o.a.arrayOf(o.a.object)},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(929);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(850),l=n(854),c=n(848);n(930);function d(e){const{baseRef:t,usernames:n,barrelName:r,slackChannelName:o,updated:d,link:u,unread:h,onClick:p}=e,f=i.h(a.default,{iconType:c.default.SLACK}),g=[i.h(l.default,{key:"usernames",usernames:n})," connected ",i.h("span",{key:"barrelName",class:"barrelName"},r)," to Slack channel ",i.h("span",{key:"slackChannelName",class:"slackChannelName"},o),"."];return i.h(s.default,{baseRef:t,class:"authSlack",onClick:p,icon:f,header:g,updated:d,unread:h,link:u})}d.propTypes={onClick:o.a.func,unread:o.a.bool,link:o.a.string.isRequired,updated:o.a.string.isRequired,barrelName:o.a.string.isRequired,slackChannelName:o.a.string.isRequired,usernames:o.a.arrayOf(o.a.string),content:o.a.string},t.default=d},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(932);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(850),l=n(848);n(933);function c(e){const{baseRef:t,updated:n,link:r,content:o,unread:c,onClick:d}=e,u=i.h("div",{class:"iconWrapper"},i.h(a.default,{iconType:l.default.STAR})),h=i.h("div",{class:"contentWrapper"},o);return i.h(s.default,{baseRef:t,class:"createCoupon",onClick:d,icon:u,content:h,updated:n,unread:c,link:r})}c.propTypes={onClick:o.a.func,unread:o.a.bool,link:o.a.string.isRequired,updated:o.a.string.isRequired,content:o.a.node},t.default=c},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(935);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(850),l=n(851),c=n(854),d=n(859),u=n(848);function h(e){const{baseRef:t,usernames:n,textStyles:r,barrelName:o,platform:h,updated:p,link:f,unread:g,onClick:m}=e,b=i.h(a.default,{iconType:u.default.TEXT_STYLES,subIconType:u.default.ADD}),y=r.length>1,S=[i.h(c.default,{key:"usernames",usernames:n}),y?" added ":" added a text style: ",i.h(d.default,{key:"textStyles",names:r}),y?" text styles.":"."],v=i.h(l.default,{name:o,platform:h});return i.h(s.default,{baseRef:t,class:"createTextStyle",onClick:m,icon:b,header:S,footer:v,unread:g,updated:p,link:f})}h.propTypes={onClick:o.a.func,unread:o.a.bool,link:o.a.string.isRequired,updated:o.a.string.isRequired,barrelName:o.a.string.isRequired,platform:o.a.string.isRequired,textStyles:o.a.arrayOf(o.a.string),usernames:o.a.arrayOf(o.a.string)},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(937);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(850),l=n(851),c=n(854),d=n(859),u=n(848);function h(e){const{baseRef:t,usernames:n,textStyles:r,barrelName:o,platform:h,updated:p,unread:f}=e,g=i.h(a.default,{iconType:u.default.TEXT_STYLES,subIconType:u.default.DELETE}),m=r.length>1,b=[i.h(c.default,{key:"usernames",usernames:n}),m?" removed ":" removed a text style: ",i.h(d.default,{key:"textStyles",names:r}),m?" text styles.":"."],y=i.h(l.default,{name:o,platform:h});return i.h(s.default,{baseRef:t,class:"deleteTextStyle",icon:g,header:b,footer:y,unread:f,updated:p,disabled:!0})}h.propTypes={unread:o.a.bool,updated:o.a.string.isRequired,barrelName:o.a.string.isRequired,platform:o.a.string.isRequired,textStyles:o.a.arrayOf(o.a.string),usernames:o.a.arrayOf(o.a.string)},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(939);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(850),l=n(851),c=n(854),d=n(859),u=n(848);function h(e){const{baseRef:t,usernames:n,textStyles:r,barrelName:o,platform:h,updated:p,link:f,unread:g,onClick:m}=e,b=i.h(a.default,{iconType:u.default.TEXT_STYLES,subIconType:u.default.ADD}),y=r.length>1,S=[i.h(c.default,{key:"usernames",usernames:n}),y?" updated ":" updated a text style: ",i.h(d.default,{key:"textStyles",names:r}),y?" text styles.":"."],v=i.h(l.default,{name:o,platform:h});return i.h(s.default,{baseRef:t,class:"deleteTextStyle",onClick:m,icon:b,header:S,footer:v,unread:g,updated:p,link:f})}h.propTypes={onClick:o.a.func,unread:o.a.bool,link:o.a.string.isRequired,updated:o.a.string.isRequired,barrelName:o.a.string.isRequired,platform:o.a.string.isRequired,textStyles:o.a.arrayOf(o.a.string),usernames:o.a.arrayOf(o.a.string)},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(941);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(850),l=n(851),c=n(854),d=n(859),u=n(848);function h(e){const{baseRef:t,spacingTokens:n,usernames:r,barrelName:o,platform:h,link:p,updated:f,unread:g,onClick:m}=e,b=i.h(a.default,{iconType:u.default.SPACING,subIconType:u.default.ADD}),y=n.length>1,S=[i.h(c.default,{key:"usernames",usernames:r}),y?" added ":" added a spacing token: ",i.h(d.default,{key:"spacingTokens",names:n}),y?" spacing tokens.":"."],v=i.h(l.default,{name:o,platform:h});return i.h(s.default,{baseRef:t,icon:b,header:S,footer:v,unread:g,updated:f,link:p,onClick:m})}h.propTypes={spacingTokens:o.a.arrayOf(o.a.string).isRequired,usernames:o.a.arrayOf(o.a.string).isRequired,barrelName:o.a.string.isRequired,platform:o.a.string.isRequired,link:o.a.string.isRequired,updated:o.a.string.isRequired,unread:o.a.bool.isRequired,onClick:o.a.func.isRequired},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(943);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(850),l=n(851),c=n(854),d=n(859),u=n(848);function h(e){const{baseRef:t,spacingTokens:n,usernames:r,barrelName:o,platform:h,link:p,updated:f,unread:g,onClick:m}=e,b=i.h(a.default,{iconType:u.default.SPACING,subIconType:u.default.ADD}),y=n.length>1,S=[i.h(c.default,{key:"usernames",usernames:r}),y?" updated ":" updated a spacing token: ",i.h(d.default,{key:"spacingTokens",names:n}),y?" spacing tokens.":"."],v=i.h(l.default,{name:o,platform:h});return i.h(s.default,{baseRef:t,icon:b,header:S,footer:v,unread:g,updated:f,link:p,onClick:m})}h.propTypes={spacingTokens:o.a.arrayOf(o.a.string).isRequired,usernames:o.a.arrayOf(o.a.string).isRequired,barrelName:o.a.string.isRequired,platform:o.a.string.isRequired,link:o.a.string.isRequired,updated:o.a.string.isRequired,unread:o.a.bool.isRequired,onClick:o.a.func.isRequired},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(945);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(850),l=n(851),c=n(854),d=n(859),u=n(848);function h(e){const{baseRef:t,spacingTokens:n,usernames:r,barrelName:o,platform:h,updated:p,unread:f}=e,g=i.h(a.default,{iconType:u.default.SPACING,subIconType:u.default.DELETE}),m=n.length>1,b=[i.h(c.default,{key:"usernames",usernames:r}),m?" removed ":" removed a spacing token: ",i.h(d.default,{key:"spacingTokens",names:n}),m?" spacing tokens.":"."],y=i.h(l.default,{name:o,platform:h});return i.h(s.default,{baseRef:t,icon:g,header:b,footer:y,unread:f,updated:p,disabled:!0})}h.propTypes={spacingTokens:o.a.arrayOf(o.a.string).isRequired,usernames:o.a.arrayOf(o.a.string).isRequired,barrelName:o.a.string.isRequired,platform:o.a.string.isRequired,updated:o.a.string.isRequired,unread:o.a.bool.isRequired},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(947);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(843),l=n(854),c=n(868),d=n(848);function u(e){const{baseRef:t,usernames:n,barrelNames:r,avatarUrl:o,updated:u,link:h,unread:p,onClick:f}=e,g=i.h(a.default,{avatarUrl:o,subIconType:d.default.TRANSFER}),m=[i.h(l.default,{key:"usernames",usernames:n})," transfered the ownership of ",i.h(c.default,{key:"barrelNames",barrelNames:r})," to you."];return i.h(s.default,{baseRef:t,onClick:f,icon:g,header:m,updated:u,unread:p,link:h})}u.propTypes={onClick:o.a.func,unread:o.a.bool,link:o.a.string.isRequired,avatarUrl:o.a.string.isRequired,updated:o.a.string.isRequired,usernames:o.a.arrayOf(o.a.string),barrelNames:o.a.arrayOf(o.a.string)},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(949);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(840),a=n(850),l=n(11),c=n(848),d=n(950),u=n(44),h=n(851);n(951);function p(e){const{baseRef:t,barrelId:n,barrelName:r,platform:o,actionName:p,issueKeys:f,items:g,updated:m,unread:b,onClick:y}=e,S=d.default[p],v=i.h(a.default,{iconType:c.default.JIRA,subIconType:"attach"===S.eventType?c.default.ADD:c.default.DELETE}),C=g.length>1?`${g.length} ${S.itemType}s`:g[0].itemName,O=f.length>1?f.length+" issues":f[0];let E="";E="attach"===S.eventType&&"project"!==S.itemType?Object(u.urlResolve)("project-dashboard",{url:{pid:n},query:{ja:f}}):"screen"===S.itemType&&1===g.length?Object(u.urlResolve)("project-screen",{url:{pid:n,sid:g[0].itemId}}):Object(u.urlResolve)("project-dashboard",{url:{pid:n}});const T=[i.h("span",{key:"itemNames",class:Object(l.default)({bold:1===g.length})},C),g.length>1?" are ":" is ","attach"===S.eventType?"attached to ":"removed from ",i.h("span",{key:"issueKeys",class:Object(l.default)({bold:1===f.length})},O)],D="project"!==S.itemType?i.h(h.default,{name:r,platform:o}):null;return i.h(s.default,{baseRef:t,class:"JiraAttachment",onClick:y,icon:v,header:T,footer:D,updated:m,unread:b,link:E})}p.propTypes={onClick:o.a.func,unread:o.a.bool,barrelId:o.a.string.isRequired,barrelName:o.a.string.isRequired,platform:o.a.string.isRequired,actionName:o.a.string.isRequired,updated:o.a.string.isRequired,items:o.a.array.isRequired,issueKeys:o.a.arrayOf(o.a.string).isRequired},t.default=p},function(e,t,n){"use strict";n.r(t),t.default={AttachProjectToJiraIssue:{eventType:"attach",itemType:"project"},AttachSectionToJiraIssue:{eventType:"attach",itemType:"section"},AttachScreenToJiraIssue:{eventType:"attach",itemType:"screen"},RemoveProjectJiraIssueAttachment:{eventType:"remove",itemType:"project"},RemoveSectionJiraIssueAttachment:{eventType:"remove",itemType:"section"},RemoveScreenJiraIssueAttachment:{eventType:"remove",itemType:"screen"}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(954);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(955),o=n(973),s=n(289),a=n(334),l=n(513),c=n(582),d=n(62),u=n(11),h=n(24),p=n(56),f=n(349),g=n(473),m=n(130),b=n(165);n(983);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}class C extends i.Component{constructor(e){super(e),this.handleUserMenuSelect=this.handleUserMenuSelect.bind(this),this.handleEmotarsSelect=this.handleEmotarsSelect.bind(this),this.handleEmotarClick=this.handleEmotarClick.bind(this)}handleUserMenuSelect(){this.props.onSelectedViewChange(m.USER_MENU)}handleEmotarsSelect(){this.props.onSelectedViewChange(m.EMOTARS)}handleEmotarClick(e){const{selectedEmotar:t,onEmotarChange:n}=this.props;e!==t&&n(e)}renderEmotarsSection(){const{avatar:e,selectedEmotar:t}=this.props;return i.h("section",{class:"emotarsSection",ref:Object(h.default)(this,m.EMOTARS)},i.h(o.default,{avatarUrl:e,selectedEmotar:t,onEmotarClick:this.handleEmotarClick,onBackButtonClick:this.handleUserMenuSelect}))}renderUserMenuSection(){const{currentAvatar:e,username:t,fullName:n,email:o,organizations:s,verified:a,paymentPlan:l,isDesktopNotificationEnabled:c,isEmailNotificationEnabled:d,onEmailNotificationToggle:u,onDesktopNotificationToggle:p,onUpdatePlanClick:f,onLogout:g}=this.props;return i.h("section",{class:"userMenuSection",ref:Object(h.default)(this,m.USER_MENU)},i.h(r.default,{avatarUrl:e,username:t,fullName:n,email:o,organizations:s,verified:a,paymentPlanName:l.name,isDesktopNotificationEnabled:c,isEmailNotificationEnabled:d,onUpdatePlanClick:f,onEmailNotificationToggle:u,onDesktopNotificationToggle:p,onLogoutClick:g,onAvatarClick:this.handleEmotarsSelect}))}render(){const{selectedView:e}=this.props,t=Object(u.default)("userMenuContainer",e);return i.h("div",{ref:Object(h.default)(this,"container"),class:t},this.renderUserMenuSection(),this.renderEmotarsSection())}}class O extends i.Component{constructor(e){super(e),this.handleToggleEmailNotification=this.handleToggleEmailNotification.bind(this),this.handleToggleDesktopNotification=this.handleToggleDesktopNotification.bind(this),this.handleUpdatePlanClick=this.handleUpdatePlanClick.bind(this),this.showDialog=this.showDialog.bind(this),this.closeDialog=this.closeDialog.bind(this),this.handlePopoverOpen=this.handlePopoverOpen.bind(this),this.handlePopoverClose=this.handlePopoverClose.bind(this),this.state={showUserMenu:!1,isDialogVisible:!1}}static calculateState(){const{organizations:e,loadingProfiles:t,organizationProfiles:n}=g.OrganizationStore.getState(),i=t?[]:e.filter(({_id:e})=>!n[e].restricted).sort(d.sortBy.name),r=f.UserStore.getState(),{userId:o,email:s,avatar:a,emotar:l}=r,c=v(r,["userId","email","avatar","emotar"]);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({organizations:i,userId:o,email:s,emotar:l,avatar:a,currentAvatar:Object(p.getUserAvatar)({email:s,emotar:l,avatar:a,_id:o}).src},c)}static getStores(){return[f.UserStore,g.OrganizationStore]}showDialog(){this.setState({isDialogVisible:!0})}closeDialog(){this.setState({isDialogVisible:!1})}handleToggleEmailNotification(){const{isEmailNotificationEnabled:e}=this.state;f.UserActions.updateEmailNotifications(!e)}handleToggleDesktopNotification(){const{isDesktopNotificationEnabled:e}=this.state;"default"===Notification.permission?Notification.requestPermission(e=>{f.UserActions.setDesktopNotifications("granted"===e)}):"granted"===Notification.permission?f.UserActions.setDesktopNotifications(!e):"denied"===Notification.permission&&this.showDialog()}handleUpdatePlanClick(){this.setState({showUserMenu:!1},()=>{Object(b.showPlanChooserOverlay)()})}handlePopoverOpen(){this.setState({showUserMenu:!0})}handlePopoverClose(){this.setState({showUserMenu:!1}),f.UserActions.setSelectedView(m.USER_MENU)}render(){const{username:e,fullName:t,email:n,avatar:r,emotar:o,currentAvatar:a,verified:d,paymentPlan:u,organizations:h,isEmailNotificationEnabled:p,isDesktopNotificationEnabled:g,isDialogVisible:m,selectedView:b,showUserMenu:y}=this.state,S=i.h("div",null,i.h(C,{username:e,fullName:t,email:n,avatar:r,currentAvatar:a,verified:d,paymentPlan:u,selectedEmotar:o,organizations:h,selectedView:b,isDesktopNotificationEnabled:g,isEmailNotificationEnabled:p,onEmailNotificationToggle:this.handleToggleEmailNotification,onDesktopNotificationToggle:this.handleToggleDesktopNotification,onUpdatePlanClick:this.handleUpdatePlanClick,onSelectedViewChange:f.UserActions.setSelectedView,onEmotarChange:f.UserActions.updateUserEmotar,onLogout:f.UserActions.logout}),m&&i.h(s.BasicDialog,{message:"You need to enable notifications from browser settings.",positiveButtonText:"OK",onPositiveButtonClick:this.closeDialog,hideNegativeButton:!0}));return i.h(c.default,{open:y,content:S,onClose:this.handlePopoverClose,onOpen:this.handlePopoverOpen},i.h("button",{class:"currentUser noSelect",title:e},i.h(l.default,{width:"28",height:"28",src:a})))}}t.default=Object(a.default)(O,{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(956);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(957),a=n(963),l=n(966),c=n(9),d=n(969),u=n(44);n(972);function h(){return i.h("div",{class:"menuSeparator"})}function p(e){const{avatarUrl:t,username:n,fullName:r,email:o,verified:p,paymentPlanName:f,organizations:g,isDesktopNotificationEnabled:m,isEmailNotificationEnabled:b,onUpdatePlanClick:y,onDesktopNotificationToggle:S,onEmailNotificationToggle:v,onAvatarClick:C,onLogoutClick:O}=e;return i.h("div",{class:"userMenu"},i.h(s.default,{profileLink:"/profile",onAvatarClick:C,avatarUrl:t,username:n,fullName:r,info:o,verified:p}),g.length>0&&[i.h(h,{key:"separator"}),g.map(e=>{const t=Object(u.urlResolve)("organization-dashboard",{url:{oid:e._id}});return i.h(a.default,{key:e._id,avatarUrl:e.logo,organizationName:e.name,organizationLink:t})})],i.h(h,null),0===g.length&&i.h(l.default,{onClick:y,menuLabel:f,iconUrl:"img/icPlan.svg",actionContent:i.h(c.default,{class:"updatePlanButton"},"Update Plan")}),i.h(l.default,{onClick:S,menuLabel:"Desktop Notifications",iconUrl:"img/icNotification.svg",actionContent:i.h(d.default,{checked:m})}),i.h(l.default,{onClick:v,menuLabel:"Email Notifications",actionContent:i.h(d.default,{checked:b})}),i.h(h,null),i.h(l.default,{onClick:O,menuLabel:"Log out"}))}p.propTypes={avatarUrl:o.a.string.isRequired,username:o.a.string.isRequired,fullName:o.a.string,email:o.a.string.isRequired,verified:o.a.bool.isRequired,paymentPlanName:o.a.string.isRequired,organizations:o.a.arrayOf(o.a.shape({logo:o.a.string,name:o.a.string.isRequired,_id:o.a.string.isRequired})),isDesktopNotificationEnabled:o.a.bool.isRequired,isEmailNotificationEnabled:o.a.bool.isRequired,onUpdatePlanClick:o.a.func.isRequired,onDesktopNotificationToggle:o.a.func.isRequired,onEmailNotificationToggle:o.a.func.isRequired,onAvatarClick:o.a.func.isRequired,onLogoutClick:o.a.func.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(958);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(959);n(962);class a extends i.Component{constructor(e){super(e),this.handleAvatarClick=this.handleAvatarClick.bind(this)}handleAvatarClick(e){const{onAvatarClick:t}=this.props;e.preventDefault(),t()}render(){const{avatarUrl:e,username:t,fullName:n,info:r,verified:o,profileLink:a}=this.props;return i.h("a",{class:"menuUserItem",href:a},i.h(s.default,{onClick:this.handleAvatarClick,type:"user",width:"64",height:"64",src:e}),i.h("div",{class:"infoContainer"},i.h("span",{class:"username ellipsis",title:n||t},n||t),i.h("span",{class:"info ellipsis"},r),!o&&i.h("span",{class:"status"},"Not verified yet.")))}}a.propTypes={avatarUrl:o.a.string.isRequired,username:o.a.string.isRequired,fullName:o.a.string,info:o.a.string.isRequired,profileLink:o.a.string.isRequired,onAvatarClick:o.a.func.isRequired,verified:o.a.bool},t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(960);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(513);n(961);t.default=function(e){const t=Object.assign({},e);return delete t.onClick,i.h("div",{class:"updatableAvatar",onClick:e.onClick},i.h(r.default,t))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(964);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(513);n(965);function a(e){const{avatarUrl:t,organizationName:n,organizationLink:r}=e;return i.h("a",{class:"menuOrganizationItem",href:r},i.h(s.default,{type:"organization",width:"64",height:"64",bgSize:36,src:t}),i.h("div",{class:"infoContainer"},i.h("span",{class:"organizationName ellipsis",title:n},n),i.h("span",{class:"info"},"Organization")))}a.propTypes={avatarUrl:o.a.string,organizationName:o.a.string.isRequired,organizationLink:o.a.string.isRequired},t.default=a},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(967);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(18);n(968);function a(e){const{onClick:t,iconUrl:n,menuLabel:r,actionContent:o}=e;return i.h("div",{onClick:t,class:"menuItem noSelect"},i.h("div",{class:"menuIcon"},n&&i.h("img",{src:Object(s.imageUrl)(n)})),i.h("span",{class:"menuLabel ellipsis"},r),o)}a.propTypes={menuLabel:o.a.string.isRequired,iconUrl:o.a.string,actionContent:o.a.node,onClick:o.a.func.isRequired},t.default=a},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(970);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11);n(971);class o extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange&&(e.preventDefault(),e.stopPropagation(),this.props.onChange())}render(){const{checked:e}=this.props;return i.h("div",{onClick:this.handleChange,class:Object(r.default)("switch",{switchOn:e})},i.h("input",{type:"checkbox",checked:e,class:"preferenceCheckbox"}),i.h("div",{class:"switchKnob"}))}}t.default=o},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(974);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(975),a=n(959),l=n(9),c=n(228),d=n(18),u=n(44);n(982);function h(e){const{onEmotarClick:t,onBackButtonClick:n,avatarUrl:r,selectedEmotar:o}=e;let h=null;return o?h=Object(d.emotarUrl)(o):r&&(h=r),i.h("div",{class:"emotars"},i.h("h2",null,i.h(l.default,{class:"backButton",onClick:n},i.h(c.IconArrowLeft,{color:"var(--gandalf)"})," ",i.h("span",null,"Back")),i.h("span",null,"How is your mood today?")),i.h("div",{class:"avatarContainer"},i.h("a",{href:Object(u.urlResolve)("profile")},i.h(a.default,{src:h,width:"64",height:"64"}))),i.h(s.default,{onEmotarClick:t,avatarUrl:r,selectedEmotar:o}))}h.propTypes={onEmotarClick:o.a.func.isRequired,onBackButtonClick:o.a.func.isRequired,avatarUrl:o.a.string,selectedEmotar:o.a.string},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(976);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(977),a=n(513),l=n(980),c=n(11);n(981);class d extends i.Component{constructor(e){super(e),this.handleRandomClick=this.handleRandomClick.bind(this),this.handleSmallAvatarClick=this.handleSmallAvatarClick.bind(this)}handleRandomClick(){const{onEmotarClick:e}=this.props,t=Math.floor(Math.random()*l.default.length);e(l.default[t])}handleSmallAvatarClick(){this.props.onEmotarClick(null)}render(){const{onEmotarClick:e,avatarUrl:t,selectedEmotar:n}=this.props,r=Object(c.default)("emotar",{selected:!!t&&!n});return i.h("div",{class:"emotarList"},t?i.h("div",{onClick:this.handleSmallAvatarClick,class:r},i.h(a.default,{width:"36",height:"36",src:t})):i.h(s.default,{onClick:this.handleRandomClick,emotar:"random",selected:"random"===n}),l.default.map(t=>i.h(s.default,{key:t,onClick:e,emotar:t,selected:t===n})))}}d.propTypes={onEmotarClick:o.a.func.isRequired,selectedEmotar:o.a.bool,avatarUrl:o.a.string},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(978);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(513),a=n(11),l=n(18);n(979);class c extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{onClick:e,emotar:t}=this.props;e(t)}render(){const{emotar:e,selected:t}=this.props,n=Object(a.default)("emotar","noSelect",{selected:t}),r=Object(l.emotarUrl)(e);return i.h("div",{onClick:this.handleClick,class:n},i.h(s.default,{src:r,width:"36",height:"36"}))}}c.propTypes={onClick:o.a.func.isRequired,emotar:o.a.string.isRequired,selected:o.a.bool},t.default=c},function(e,t){},function(e,t,n){"use strict";n.r(t),t.default=["sunglasses","thinking_face","heart_eyes","grin","sweat_smile","white_frowning_face","unamused","upside_down_face","relieved","nerd_face","weary","anguished","face_with_rolling_eyes","scream","smile","smirk","face_with_thermometer","face_with_head_bandage","panda_face","new_moon_with_face","tomato","full_moon_with_face","tennis","space_invader","monkey_face","tophat","lion_face","four_leaf_clover","shit","pig_nose","robot_face","mouse","mushroom","penguin","chestnut","koala","hamburger","jack_o_lantern","rabbit","lollipop","hamster","lemon","tv","gift","ghost","frog","eyes","dart","dark_sunglasses","chicken","cookie","grapes","bear","eggplant","alien","octopus","bread","dog","meat_on_bone","pizza"]},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(985);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(334),o=n(349),s=n(986),a=n(582),l=n(67),c=n(18),d=n(65);n(989);const u="dismiss-globalstyleguides-whatsnew-popup";class h extends i.Component{constructor(e){super(e),this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleDismiss=this.handleDismiss.bind(this),this.renderContent=this.renderContent.bind(this),this.state={whatsNewPopupOpen:!1}}static calculateState(){const{zeplinThreeZeroWhatsNewSeen:e}=o.UserStore.getState();return{zeplinThreeZeroWhatsNewSeen:e}}static getStores(){return[o.UserStore]}handleOpen(){mixpanel.master.track("Viewed what's new",{Feature:"Zeplin 3.0"}),this.setState({whatsNewPopupOpen:!0})}handleClick({eventSource:e}){e&&mixpanel.master.track("Clicked what's new link",{Link:e,Feature:"Zeplin 3.0"})}handleClose(){this.setState({whatsNewPopupOpen:!1})}handleDismiss({eventSource:e}){d.default.isWindowsApp&&(l.default.ipcRenderer.send(u),l.default.ipcRenderer.send("dismiss-zeplinthreezero-whatsnew-popup")),this.handleClick({eventSource:e}),o.UserActions.markZeplinThreeZeroWhatsNewAsSeen(),this.setState({whatsNewPopupOpen:!1})}componentDidMount(){d.default.isWindowsApp&&(l.default.ipcRenderer.on(u,()=>{o.UserActions.markZeplinThreeZeroWhatsNewAsSeen()}),l.default.ipcRenderer.on("dismiss-zeplinthreezero-whatsnew-popup",()=>{o.UserActions.markZeplinThreeZeroWhatsNewAsSeen()}))}componentWillUnmount(){d.default.isWindowsApp&&(l.default.ipcRenderer.removeAllListeners(u),l.default.ipcRenderer.removeAllListeners("dismiss-zeplinthreezero-whatsnew-popup"))}renderContent(){return mixpanel.master.track("Viewed what's new",{Feature:"Zeplin 3.0"}),i.h(s.default,{onClick:this.handleClick,onDismiss:this.handleDismiss})}render(){const{whatsNewPopupOpen:e,zeplinThreeZeroWhatsNewSeen:t}=this.state;return t?null:i.h(a.default,{contentClass:"whatsNewPopoverContent",open:e,content:this.renderContent,onOpen:this.handleOpen,onClose:this.handleClose,toggleable:!0},i.h("button",{class:"whatsNewButton"},i.h("img",{src:Object(c.imageUrl)("img/icGrapePressed.png"),srcSet:`${Object(c.imageUrl)("img/icGrapePressed@2x.png")} 2x, ${Object(c.imageUrl)("img/icGrapePressed@3x.png")} 3x`,alt:"Whats New"})))}}t.default=Object(r.default)(h,{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(987);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(1),r=n(9),o=n(313);n(988);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends i.Component{constructor(...e){super(...e),s(this,"handleClickDismiss",()=>{const{onDismiss:e}=this.props;e({eventSource:"Dismiss"})}),s(this,"handleClickShare",()=>{const{onClick:e}=this.props;e({eventSource:"Share"})}),s(this,"handleClickLearnMore",()=>{const{onDismiss:e}=this.props;e({eventSource:"Learn more"})}),s(this,"handleClickImage",()=>{const{onClick:e}=this.props;e({eventSource:"Image"})})}render(){return i.h("div",{class:"whatsNewPopup"},i.h("h2",null,"Announcing Zeplin 3.0"),i.h("div",{class:"body"},i.h("p",null,"3 million users, 2 new features, 1 source of truth",i.h("strong",null,"—today, we’re proud to announce Zeplin 3.0"),"."),i.h("figure",null,i.h("a",{href:"https://zpl.io/blog/3.0",target:"_blank",onClick:this.handleClickImage},i.h(o.default,{asset:"img/imgZeplinThreeZero.png"}))),i.h("p",null,"Source of truth comes from transparency and honesty, and probably bravery. We’ve introduced a couple features to Zeplin we think are worthy of those words.",i.h("br",null),i.h("br",null),i.h("strong",null,"1. Connected Components"),", which lets engineers access components in their codebase—with links to Storybook, GitHub, and any other source of workflow documentation—right on the designs.",i.h("br",null),i.h("br",null),i.h("strong",null,"2. Zeplin API"),", a new way to access your data in Zeplin, one that lets you build a wide set of solutions ranging from internal scripts to full-blown apps.")),i.h("div",{class:"footer"},i.h(r.default,{secondary:!0,inverted:!0,onClick:this.handleClickDismiss},"DISMISS"),i.h("div",null,i.h("a",{href:"https://zpl.io/tweet/3.0",target:"_blank",class:"button secondary inverted",onClick:this.handleClickShare},"SHARE"),i.h("a",{href:"https://zpl.io/blog/3.0",target:"_blank",class:"button primary inverted",onClick:this.handleClickLearnMore},"LEARN MORE"))))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(991);n.d(t,"default",(function(){return i.default})),n.d(t,"TABS",(function(){return i.TABS}))},function(e,t,n){"use strict";n.r(t),n.d(t,"TABS",(function(){return T}));var i=n(1),r=n(992),o=n(995),s=n(1186),a=n(1189),l=n(1122),c=n(289),d=n(470),u=n(473),h=n(345),p=n(346),f=n(349),g=n(334),m=n(67),b=n(165),y=n(24),S=n(56),v=n(65),C=(n(1270),n(44)),O=n(481);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const T={PROJECTS:"projects",STYLEGUIDES:"styleguides"};class D extends i.Component{constructor(...e){super(...e),E(this,"handleCopyLink",e=>{Object(S.copyContent)({content:e,toastContainer:this.nodeRefs.base})}),E(this,"renderOrganizationSummary",()=>{const{loading:e,selectedOrganization:t,projectsCount:n,styleguidesCount:o,membersCount:s,organizationDashboardLink:a}=this.state,{_id:l,name:c,logo:d}=t;return l?i.h(r.OrganizationSummary,{loading:e,imageSrc:d,dashboardLink:a,title:c,projectsCount:n,styleguidesCount:o,membersCount:s}):null})}static calculateState(){const{loading:e,selectedOrganizationId:t,selectedTab:n,visibleDialogType:i,visibleDialogParams:r}=d.SpaceStore.getState(),{organizations:o,organizationProfiles:s,loading:a,loadingOrganization:l,loadingProfiles:c,loadingBarrels:h}=u.OrganizationStore.getState(),{loading:p}=f.UserStore.getState(),g=o.find(({_id:e})=>e===t)||{},m=u.OrganizationHelpers.getOrganizationProjects(g._id),b=u.OrganizationHelpers.getOrganizationStyleguides(g._id),y=g.members;return{selectedTab:n,loading:e||a||l||c||p||h,organizationDashboardLink:c||!s[t]||s[t].restricted?null:Object(C.urlResolve)("organization-dashboard",{url:{oid:t}}),visibleDialogType:i,visibleDialogParams:r,selectedOrganization:g,projectsCount:m&&m.length,styleguidesCount:b&&b.length,membersCount:y&&y.length}}static getStores(){return[d.SpaceStore,u.OrganizationStore,h.ProjectsDataStore,p.StyleguidesDataStore,f.UserStore]}componentDidMount(){v.default.isWindowsApp&&m.default.ipcRenderer.send("on-login",Zeplin.user)}renderDialogs(){const{visibleDialogType:e,visibleDialogParams:t}=this.state;if(e===O.default.UPGRADE_PLAN)return i.h(c.BasicDialog,{title:"Please upgrade your plan first",message:`Looks like you reached your ${t.barrelType} limit, upgrade now to create more!`,onPositiveButtonClick:b.showPlanChooserOverlay,onNegativeButtonClick:d.SpaceActions.closeDialog,onClose:d.SpaceActions.closeDialog,positiveButtonText:"SEE PLANS",negativeButtonText:"CANCEL",hideNegativeButton:!1})}renderProjectsTab(){const{loading:e}=this.state;return e?i.h(s.default,null):i.h(o.default,{onCopyLink:this.handleCopyLink})}renderStyleguidesTab(){const{loading:e}=this.state;return e?i.h(s.default,null):i.h(a.default,{onCopyLink:this.handleCopyLink})}render(){const{selectedTab:e}=this.state;return i.h("main",{class:"spaceContainer",ref:Object(y.default)(this,"base")},i.h(l.default,{selectedTab:e,onChange:d.SpaceActions.changeSelectedTab,renderOrganizationSummary:this.renderOrganizationSummary},i.h(l.default.Tab,{label:"Projects",value:T.PROJECTS},this.renderProjectsTab()),i.h(l.default.Tab,{label:"Styleguides",value:T.STYLEGUIDES},this.renderStyleguidesTab())),this.renderDialogs())}}t.default=Object(g.default)(D)},function(e,t,n){"use strict";n.r(t);var i=n(993);n.d(t,"OrganizationSummary",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(19),a=n(11);n(994);function l(){return i.h(i.Fragment,null,i.h("div",{class:"logo breathe"}),i.h("div",null,i.h("div",{class:"title breathe"}),i.h("div",{class:"counts breathe"})))}function c({loading:e,imageSrc:t,title:n,projectsCount:r,styleguidesCount:o,membersCount:c,dashboardLink:d}){const u=c?", "+Object(s.pluralize)(c,"member"):"";return i.h("div",{class:Object(a.default)("organizationSummary",{loading:e})},e?i.h(l,null):i.h(i.Fragment,null,d?i.h("a",{href:d,target:"_blank"},i.h("div",{class:Object(a.default)("logo",{placeholder:!t})},t&&i.h("img",{src:t,width:"64",height:"64"}))):i.h("div",{class:Object(a.default)("logo",{placeholder:!t})},t&&i.h("img",{src:t,width:"64",height:"64"})),i.h("div",null,d?i.h("a",{href:d,target:"_blank",class:"title"},n):i.h("div",{class:"title"},n),i.h("div",{class:"counts"},`${Object(s.pluralize)(r,"project")}, ${Object(s.pluralize)(o,"styleguide")}${u}`))))}c.propTypes={loading:o.a.bool,imageSrc:o.a.string,title:o.a.string,projectsCount:o.a.number,styleguidesCount:o.a.number,membersCount:o.a.number},t.default=c},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(996);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(997),o=n(1066),s=n(1073),a=n(1134),l=n(1082),c=n(1136),d=n(289),u=n(1139),h=n(1150),p=n(1165),f=n(1171),g=n(1174),m=n(1177),b=n(1180),y=n(345),S=n(470),v=n(473),C=n(342),O=n(349),E=n(334),T=n(1183),D=n(24),k=n(62),w=n(56),_=n(643),j=n(96),P=n(94),R=n(481),I=n(1184),A=n(1133);n(1185);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class U extends i.Component{constructor(...e){super(...e),L(this,"focusCountLimit",A.DEFAULT_FOCUS_COUNT_LIMIT),L(this,"projectRefs",{}),L(this,"handleProjectPreviewJoin",()=>{C.BarrelActions.join({barrelType:j.default.PROJECT,bid:this.state.previewProject._id})}),L(this,"handleOpenCreateProjectDialog",()=>{S.SpaceActions.openDialog(R.default.CREATE_PROJECT)}),L(this,"handleCreateProject",e=>{const{selectedOrganizationId:t}=this.state;y.ProjectsActions.createProject({oid:t,platform:e})}),L(this,"handleProjectDidMount",(e,t)=>{this.projectRefs[e]=t}),L(this,"handleProjectClick",(e,t,n=!1)=>{const{projects:i,currentUserId:r}=this.state,o=i[t];if(o&&"active"===o.status&&!o.users.some(e=>e.user._id===r))return e.preventDefault(),e.stopPropagation(),void S.SpaceActions.openDialog(R.default.PREVIEW_PROJECT,{previewBarrelId:t});S.SpaceActions.trackBarrelClick({isFromPinArea:n})}),L(this,"handleArchiveProject",({pid:e})=>{C.BarrelActions.archive({bid:e,barrelType:j.default.PROJECT,syncWithApi:!0})}),L(this,"handleActivateProject",({pid:e})=>{C.BarrelActions.activate({bid:e,barrelType:j.default.PROJECT,syncWithApi:!0})}),L(this,"handleJoinProject",({pid:e,shouldLoadBarrel:t})=>{C.BarrelActions.join({barrelType:j.default.PROJECT,bid:e,shouldLoadBarrel:t})}),L(this,"handleDeleteProject",({pid:e})=>{C.BarrelActions.remove({bid:e,barrelType:j.default.PROJECT,syncWithApi:!0})}),L(this,"handleLeaveProject",({bid:e,mid:t})=>{C.BarrelActions.removeMember({barrelType:j.default.PROJECT,bid:e,mid:t,syncWithApi:!0})}),L(this,"handlePin",e=>{const{pinnedBarrels:t}=this.state;v.OrganizationActions.addBarrelToFocus({mid:this.state.currentUserId,bid:e,barrelType:j.default.PROJECT,shouldPopOldestBarrel:t.length===this.focusCountLimit,syncWithApi:!0}),this.showToast({text:"Project pinned",source:"projectsContainer"}),S.SpaceActions.updatePageState({highlightedBarrels:[e]})}),L(this,"handleUnpinFromFocusArea",e=>{v.OrganizationActions.unpinBarrelFromFocus({mid:this.state.currentUserId,bid:e,barrelType:j.default.PROJECT,syncWithApi:!0}),this.showToast({text:"Project unpinned",source:"projectsContainer"})}),L(this,"handleUnpin",e=>{v.OrganizationActions.removeBarrelFromFocus({mid:this.state.currentUserId,bid:e,barrelType:j.default.PROJECT,syncWithApi:!0}),this.showToast({text:"Project unpinned",source:"projectsContainer"})}),L(this,"handleRemoveUnpinned",e=>{v.OrganizationActions.removeBarrelFromFocus({bid:e})}),L(this,"handleScrollToUnpinnedBarrel",e=>{const{sections:t,collapsedSections:n}=this.state,i=t.find(t=>t.projects.find(({_id:t})=>t===e));i&&n[i._id]&&S.SpaceActions.expandSection(i._id),S.SpaceActions.updatePageState({highlightedBarrels:[e]})}),L(this,"handleReorderProject",({sourceSectionId:e,targetSectionId:t,pid:n,index:i})=>{const{selectedOrganization:r,restrictedUser:o,dismissedDialogs:s}=this.state,a={oseid:t,projects:[n],index:i,shouldCalculateActualIndex:!0,syncWithApi:!0};if(o){if(e===t&&!s.reorderProjectDismissed)return void S.SpaceActions.openDialog(R.default.RESTRICTED_EDITOR_WARNING,{title:"Reorder Project?",message:["Reordering this project will affect other projects in the section that may not be visible to you.","Are you sure you want to change the order in this section?"],positiveButtonClick:e=>v.OrganizationActions.updateProjectOrder(N(N({},a),{},{dialogDismissParams:e})),positiveButtonText:"REORDER PROJECT",dismissPrefKey:"reorderProjectDismissed"});const i=v.OrganizationHelpers.findProjectOrganizationSection(n),o=i._id===r.sections[0]._id,l=v.OrganizationHelpers.getVisibleProjectsOfSection(r._id,i._id);if(!o&&1===l.length&&!s.moveProjectOutOfSectionDismissed)return void S.SpaceActions.openDialog(R.default.RESTRICTED_EDITOR_WARNING,{title:"Move Project?",message:[`Moving this project out of the "${i.name}" section will cause you to lose access to this section.`,"Are you sure you want to move the project out of this section?"],positiveButtonClick:e=>v.OrganizationActions.updateProjectOrder(N(N({},a),{},{dialogDismissParams:e})),positiveButtonText:"MOVE PROJECT",dismissPrefKey:"moveProjectOutOfSectionDismissed"})}v.OrganizationActions.updateProjectOrder(a)}),L(this,"handleMoveProjectToSection",(e,t)=>{this.handleReorderProject({targetSectionId:t,pid:e})}),L(this,"handleProjectToSectionHeaderDrop",(e,t)=>{const n=v.OrganizationHelpers.findProjectOrganizationSectionId(e);n!==t&&this.handleReorderProject({sourceSectionId:n,targetSectionId:t,pid:e})}),L(this,"handleProjectToSectionDrop",({mirrorPosition:e,sourceId:t,sourceIndex:n,sourceSectionId:i,targetIndex:r,targetSectionId:o})=>{const{isPersonalWorkspace:s,sections:a}=this.state;if(s)return;const l=a.find(e=>e._id===o),c=l.projects[r],d=this.projectRefs[c._id].getBoundingClientRect(),u=e.left>d.left+d.width/2?"right":"left";let h;if(i===o){if("individual"===l.type)return;h=r,n>r&&"right"===u&&(h=r+1),n<r&&"left"===u&&(h=r-1)}else"right"===u?h=r+1:"individual"!==l.type&&r&&(h=r);i===o&&n===h||this.handleReorderProject({sourceSectionId:i,targetSectionId:o,pid:t,index:h})}),L(this,"handleSectionDrop",({sourceId:e,sourceIndex:t,moveIndex:n})=>{const{selectedOrganizationName:i,sections:r,restrictedUser:o,dismissedDialogs:s}=this.state;if(t===n||n===r.length)return;const a={oseid:e,index:n,shouldCalculateActualIndex:!0,syncWithApi:!0};!o||s.reorderSectionDismissed?v.OrganizationActions.updateProjectSectionOrder(a):S.SpaceActions.openDialog(R.default.RESTRICTED_EDITOR_WARNING,{title:"Reorder Section?",message:[`Reordering this section will affect other sections in the ${i} Workspace that may not be visible to you.`,"Are you sure you want to change the order of this section?"],positiveButtonClick:e=>v.OrganizationActions.updateProjectSectionOrder(N(N({},a),{},{dialogDismissParams:e})),positiveButtonText:"REORDER SECTION",dismissPrefKey:"reorderSectionDismissed"})}),L(this,"handleCreateEmptySection",()=>{v.OrganizationActions.addProjectSection({index:1,sectionData:{name:A.NEW_SECTION_TITLE,description:A.NEW_SECTION_DESCRIPTION,projects:[]},shouldCalculateActualIndex:!0,syncWithApi:!0}),this.showToast({text:"Section created",source:"projectsContainer"})}),L(this,"handleCreateSectionFromProject",e=>{const{selectedOrganization:t,restrictedUser:n,dismissedDialogs:i}=this.state,r={sectionData:{name:A.NEW_SECTION_TITLE,description:A.NEW_SECTION_DESCRIPTION,projects:[e]},shouldCalculateActualIndex:!0,syncWithApi:!0};if(n){const n=v.OrganizationHelpers.findProjectOrganizationSection(e),o=n._id===t.sections[0]._id,s=v.OrganizationHelpers.getVisibleProjectsOfSection(t._id,n._id);if(!o&&1===s.length&&!i.moveProjectOutOfSectionDismissed)return void S.SpaceActions.openDialog(R.default.RESTRICTED_EDITOR_WARNING,{title:"Move Project?",message:[`Moving this project out of the "${n.name}" section will cause you to lose access to this section.`,"Are you sure you want to move the project out of this section?"],positiveButtonClick:e=>v.OrganizationActions.addProjectSection(N(N({},r),{},{dialogDismissParams:e})),positiveButtonText:"MOVE PROJECT",dismissPrefKey:"moveProjectOutOfSectionDismissed"})}v.OrganizationActions.addProjectSection(r),this.showToast({text:"Section created",source:"projectsContainer"})}),L(this,"handleSortChange",e=>{const{selectedSortType:t}=this.state;"showArchivedProjects"===e?S.SpaceActions.toggleArchivedProjects():t!==e&&S.SpaceActions.changeProjectSelectedSortType(e)}),L(this,"handleShowCannotDragToast",()=>{const{selectedSortType:e,filterValue:t}=this.state;let n;"sections"!==e?n="Unselect sort option to reorder":this.isWorkflowStatusFilterApplied?n="Reset status filter to reorder":t&&(n="Reset search to reorder"),n&&this.showToast({text:n,source:"showCannotDragToast"})}),L(this,"handleMouseDown",e=>{const{isPersonalWorkspace:t}=this.state;t||this.canEditSections||e.button!==Zeplin.MOUSE_BUTTON.LEFT||(clearTimeout(this.dragStartTimeout),this.dragStartTimeout=setTimeout(this.handleShowCannotDragToast,A.GRAB_DELAY_FOR_UNDRAGGABLE_PROJECTS),document.addEventListener("mouseup",this.handleMouseUp))}),L(this,"handleMouseUp",()=>{clearTimeout(this.dragStartTimeout),document.removeEventListener("mouseup",this.handleMouseUp)}),L(this,"renderProject",(e,t,n)=>{const{onCopyLink:r}=this.props,{currentOrganizationProfile:o,isPersonalWorkspace:s,currentUserId:l,pinnedBarrels:c,highlightedBarrels:d,firstHighlightedProject:u,selectedOrganization:h}=this.state,p=c.some(({barrelId:t})=>t===e._id),f=!p&&d.includes(e._id),g=!p&&u===e._id;let m;return m=s?e.users.find(e=>e.user._id===l):o,i.h(a.default,{key:e._id,sectionId:n,sections:h&&h.sections,onDrop:this.handleProjectToSectionDrop,index:t,onProjectHover:f?S.SpaceActions.unhighlightBarrel:null,onClick:this.handleProjectClick,onMouseDown:this.handleMouseDown,project:e,currentUser:m,onArchive:this.handleArchiveProject,onActivate:this.handleActivateProject,onJoin:this.handleJoinProject,onLeave:this.handleLeaveProject,onTransferOwnership:y.ProjectsActions.initTransferOwnership,onDelete:this.handleDeleteProject,onInvite:y.ProjectsActions.inviteUser,onCopyLink:r,onMoveProjectToSection:this.handleMoveProjectToSection,onCreateNewSection:this.handleCreateSectionFromProject,highlight:f,onProjectDidMount:this.handleProjectDidMount,pinnable:!s&&"archived"!==e.status,pinned:p,scroll:g,shouldDisplayPinWarningAuntie:c.length===this.focusCountLimit,onPinWarningAuntieAction:v.OrganizationActions.hitPinLimit,focusCountLimit:this.focusCountLimit,onPin:this.handlePin,onUnpin:this.handleUnpin})}),L(this,"renderProjectSectionContainer",(e,t)=>{const{onCopyLink:n}=this.props,{highlightedSection:r,collapsedSections:a,selectedSortType:l,selectedOrganizationId:c,selectedOrganizationName:d,organizationStyleguides:u}=this.state,h="individual"!==e.type||!!e.projects.length,p="sections"===l&&"individual"!==e.type&&(e.links.length||e.projects.length||this.canEditSections);return h&&i.h(s.default,{collapsed:a[e._id],selectedOrganizationId:c,selectedOrganizationName:d,ref:Object(D.default)(this,e._id,"componentRefs"),key:e.key,index:t+1,data:e,organizationStyleguides:u,highlight:e._id===r,actionsDisabled:"sections"!==l||"individual"===e.type,defaultSection:"default"===e.type,readOnly:!this.canEditSections||"individual"===e.type,shouldRenderSummary:p,showDescription:"sections"===l,onSectionDrop:this.handleSectionDrop,onProjectDrop:this.handleProjectToSectionHeaderDrop,onProjectToSectionDrop:this.handleProjectToSectionDrop,onCopyLink:n},i.h(o.default,null,e.projects&&e.projects.map((t,n)=>this.renderProject(t,n,e._id))))})}static calculateState(){const{highlightedBarrels:e,highlightedSection:t,collapsedSections:n,selectedOrganizationId:i,filterValue:r,selectedProjectSortType:o,pinnedBarrelOnce:s,selectedWorkflowStatusFilter:a,visibleDialogType:l,visibleDialogParams:c}=S.SpaceStore.getState();let{showArchivedProjects:d}=S.SpaceStore.getState();const{organizations:u,organizationProfiles:h,focusedBarrels:p,dialogDismissStates:f}=v.OrganizationStore.getState(),{projects:g,loadingProject:m}=y.ProjectsDataStore.getState(),{paymentPlan:b,userId:C}=O.UserStore.getState(),E=v.OrganizationHelpers.getOrganizationProjects(i),T=v.OrganizationHelpers.getOrganizationStyleguides(i),D=E&&0===E.length,w=E||[],j=g[c.previewBarrelId],R=u.find(e=>e._id===i),I=R&&R.name,A=R&&R.status,x=R&&R.subscriptionStatus,L="free"!==b.id,U=h[i],M=U&&U.restricted,B="user"===i,z=h[i],F=k.permissions.canUpdateProject(z),H=!!e.length&&e[0],W=f[i];let V;if("suspended"===A&&(d=!0),!B)if(a===P.default.NoStatus._id)V=P.default.NoStatus.name;else{const{name:e}=R&&R.workflowStatuses.find(({_id:e})=>e===a)||{};V=e}let G=[];if(R){if(R.complete&&R.sections.length){const[e,...t]=R.sections;if(e.name="Individual Projects",e.type="individual",e.description="Individual projects that are not assigned to a section.",G=Object(_.filterSortProjectSections)({sections:[...t,e],projects:w,sortType:o,showArchivedProjects:d,filterValue:r,statusFilter:a,shouldCreateTimelineSections:!0}),"sections"===o&&G.length){const e=G[G.length-1];e.projects=function(e,t){let n=[...e];return n.sort((e,n)=>{const i=e.users.some(({user:e})=>e._id===t),r=n.users.some(({user:e})=>e._id===t);return i===r?new Date(n.updated)-new Date(e.updated):r-i}),n}(e.projects,C)}}}else G=Object(_.filterSortProjectSections)({sections:[{_id:"personalProjectDefaultSection",name:"default",type:"default",projects:w.map(e=>e._id)}],projects:w,sortType:o,showArchivedProjects:d,filterValue:r,shouldCreateTimelineSections:!1});let q=[],$=[];const Z=p[i];Z&&(q=Z.map(({barrelId:e,unpinned:t})=>{const n=w.find(t=>t._id===e);return n?N(N({},n),{},{unpinned:t}):null}).filter(Boolean),$=Z.filter(e=>!e.unpinned));const Y=S.SpaceHelpers.canCreateProject();return{showWelcome:D,sections:G,focusedProjects:q,pinnedBarrels:$,pinnedBarrelOnce:s,selectedOrganizationId:i,selectedOrganizationName:I,selectedOrganizationStatus:A,selectedOrganizationSubscriptionStatus:x,isPersonalWorkspace:B,projects:g,highlightedBarrels:e,highlightedSection:t,collapsedSections:n,firstHighlightedProject:H,selectedSortType:o,showArchivedProjects:d,selectedWorkflowStatusFilter:a,selectedWorkflowStatusName:V,filterValue:r,visibleDialogType:l,visibleDialogParams:c,dismissedDialogs:W,organizations:u,organizationProfiles:h,organizationStyleguides:T,selectedOrganization:R,canCreateProject:Y,canUpdateProject:F,currentOrganizationProfile:U,restrictedUser:M,hasPaidPlan:L,currentUserId:C,loadingProject:m,previewProject:j}}static getStores(){return[y.ProjectsDataStore,S.SpaceStore,v.OrganizationStore,O.UserStore]}get projectsSortOptions(){const{isPersonalWorkspace:e}=this.state,t=[{label:"Sort by Created",dropdownLabel:"Created",value:"created"},{label:"Sort by Last updated",dropdownLabel:"Last updated",value:"lastUpdated"},{label:"Sort from A-Z",dropdownLabel:"A-Z",value:"name"},{label:"Show Archived Projects",dropdownLabel:"Show Archived Projects",value:"showArchivedProjects",class:"archivedProjectsOption"}];return e?t:[{label:"Sort by Sections",dropdownLabel:"Sections",value:"sections"},...t]}get selectedSortOptions(){const{showArchivedProjects:e,selectedSortType:t}=this.state;return e?[t,"showArchivedProjects"]:[t]}get isWorkflowStatusFilterApplied(){const{selectedWorkflowStatusFilter:e}=this.state;return e&&e!==P.default.All._id}get canEditSections(){const{isPersonalWorkspace:e,canCreateProject:t,selectedSortType:n,filterValue:i}=this.state;return!e&&t&&"sections"===n&&!this.isWorkflowStatusFilterApplied&&!i}get isOrganizationSuspended(){const{selectedOrganizationStatus:e}=this.state;return"suspended"===e}get shouldDisplayEmptyProjects(){const{sections:e}=this.state;return 0===e.reduce((e,t)=>t.projects.length+e,0)}get shouldDisplaySectionOnboarding(){const{sections:e}=this.state;return this.canEditSections&&e.length<=1}async componentDidMount(){const{focus:e=A.DEFAULT_FOCUS_COUNT_LIMIT}=await Object(I.getApiConfigValue)("countLimit");this.focusCountLimit=e}componentDidUpdate(e,t){let n;this.nodeRefs&&this.nodeRefs.base&&(n=Object(w.getFirstScrollableParent)(this.nodeRefs.base)),n&&(this.state.selectedOrganizationId!==t.selectedOrganizationId?n.scrollTop=0:1===this.state.pinnedBarrels.length&&0===t.pinnedBarrels.length&&(this.state.pinnedBarrelOnce?n.scrollTop+=A.FOCUS_SECTION_HEIGHT:n.scrollTop=0))}getChildContext(){const{organizations:e,organizationProfiles:t,selectedOrganizationId:n,selectedOrganizationName:i,currentOrganizationProfile:r,canCreateProject:o,filterValue:s,currentUserId:a}=this.state;return{selectedOrganizationId:n,selectedOrganizationName:i,organizations:e,organizationProfiles:t,currentOrganizationProfile:r,canCreateProject:o,canEditSections:this.canEditSections,filterValue:s,currentUserId:a}}renderDialogs(){const{visibleDialogType:e,visibleDialogParams:t,loadingProject:n,previewProject:r}=this.state;switch(e){case R.default.CREATE_PROJECT:return i.h(h.default,{onCreate:this.handleCreateProject,onClose:S.SpaceActions.closeDialog});case R.default.RESTRICTED_EDITOR_WARNING:return i.h(d.DismissibleDialog,{title:t.title,message:t.message,dismissPrefKey:t.dismissPrefKey,onPositiveButtonClick:t.positiveButtonClick,onNegativeButtonClick:S.SpaceActions.closeDialog,onClose:S.SpaceActions.closeDialog,positiveButtonText:t.positiveButtonText,negativeButtonText:"CANCEL",hideNegativeButton:!1});case R.default.PREVIEW_PROJECT:return i.h(u.default,{loading:n,onClose:S.SpaceActions.closeDialog,onJoin:this.handleProjectPreviewJoin,project:r})}}renderNoProjects(){const{organizations:e,hasPaidPlan:t}=this.state,n=e.find(({status:e})=>"deleted"!==e);return i.h(f.default,{hasPaidPlan:t,availableOrganization:n,onCreate:this.handleOpenCreateProjectDialog,onCheckoutOrganization:S.SpaceActions.changeSelectedOrganization})}renderSuspendedOrganization(){const{selectedOrganizationId:e,selectedOrganizationSubscriptionStatus:t,organizationProfiles:{role:n}}=this.state;return i.h(b.default,{organizationId:e,subscriptionStatus:t,memberRole:n})}renderProjectsEmptyState(){const{filterValue:e,selectedWorkflowStatusName:t,isPersonalWorkspace:n,restrictedUser:r,canCreateProject:o}=this.state;return!this.isOrganizationSuspended&&i.h(m.default,{filterValue:e,selectedWorkflowStatusName:t,isPersonalWorkspace:n,restrictedUser:r,canCreateProject:o})}render(){const{onCopyLink:e}=this.props,{showWelcome:t,highlightedBarrels:n,firstHighlightedProject:o,sections:s,focusedProjects:a,pinnedBarrelOnce:d,filterValue:u,selectedOrganizationId:h,selectedOrganization:f={},isPersonalWorkspace:m,canCreateProject:b,restrictedUser:v}=this.state;return i.h("div",{ref:Object(D.default)(this,"base"),class:"projectsContainer"},t?this.renderNoProjects():i.h(i.Fragment,null,i.h("div",{key:"focus",class:"projects"},i.h(r.default,{projects:a,highlightedProjects:n,firstHighlightedProject:o,pinnedBarrelOnce:d,sections:f.sections,organizationId:h,organizationStatus:f.status,organizationSubscriptionStatus:f.subscriptionStatus,onArchive:this.handleArchiveProject,onJoin:this.handleJoinProject,onLeave:this.handleLeaveProject,onTransferOwnership:y.ProjectsActions.initTransferOwnership,onDelete:this.handleDeleteProject,onInvite:y.ProjectsActions.inviteUser,onProjectHover:S.SpaceActions.unhighlightBarrel,onCopyLink:e,onMoveProjectToSection:this.handleMoveProjectToSection,onCreateNewSection:this.handleCreateSectionFromProject,onProjectClick:this.handleProjectClick,onScrollToUnpinnedBarrel:this.handleScrollToUnpinnedBarrel,onPin:this.handlePin,onUnpin:this.handleUnpinFromFocusArea,onRemoveUnpinned:this.handleRemoveUnpinned})),i.h("div",{key:"menuBar",class:"menuBar"},i.h(p.default,{key:"filterSortView",inputPlaceholder:"Search for a project",placeholderWidth:131,sortOptions:this.projectsSortOptions,sortOptionsClass:"projectsSortOptionsClass",selectedSortTypes:this.selectedSortOptions,filterValue:u,onSort:this.handleSortChange,onFilter:S.SpaceActions.changeFilterValue,rightContent:b&&i.h(g.default,{onCreateProjectClick:this.handleOpenCreateProjectDialog,canCreateSection:!v&&!m,onCreateSectionClick:this.handleCreateEmptySection}),showWorkflowStatus:!m})),this.isOrganizationSuspended&&this.renderSuspendedOrganization(),this.shouldDisplayEmptyProjects?this.renderProjectsEmptyState():i.h(i.Fragment,null,this.shouldDisplaySectionOnboarding&&i.h(c.default,{onCreateSection:this.handleCreateEmptySection,restrictedUser:v}),i.h(l.default,{key:"projectSectionsDragDropContainer",class:"projects",itemsClass:"projectsDragDropItems",disabled:!this.canEditSections},s.map(this.renderProjectSectionContainer)))),this.renderDialogs())}}t.default=Object(E.default)(Object(T.default)(U))},function(e,t,n){"use strict";n.r(t);var i=n(998);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(999),o=n(1066),s=n(1069);n(1072);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{constructor(...e){super(...e),a(this,"handleProjectClick",(e,t)=>{this.props.onProjectClick(e,t,!0)}),a(this,"renderFocusedProject",e=>{const{currentOrganizationProfile:t}=this.context,{highlightedProjects:n,firstHighlightedProject:o,pinnedBarrelOnce:s,sections:a,onDelete:l,onInvite:c,onTransferOwnership:d,onArchive:u,onLeave:h,onProjectHover:p,onJoin:f,onCopyLink:g,onCreateNewSection:m,onMoveProjectToSection:b,onUnpin:y}=this.props,S=n.includes(e._id),v=!s&&o===e._id;return i.h(r.default,{key:e._id,sections:a,onProjectHover:S?p:null,onClick:this.handleProjectClick,project:e,currentUser:t,onArchive:u,onLeave:h,onTransferOwnership:d,onDelete:l,onInvite:c,onJoin:f,onCopyLink:g,onCreateNewSection:m,onMoveProjectToSection:b,highlight:S,scroll:v,pinnable:!0,pinned:!0,onUnpin:y})})}getChildContext(){return{filterValue:""}}render(){const{projects:e,onScrollToUnpinnedBarrel:t,onRemoveUnpinned:n}=this.props;return e.length?i.h("section",{class:"focusedProjects"},i.h(o.default,null,e.map(e=>e.unpinned?i.h(s.default,{barrelId:e._id,onScrollToUnpinnedBarrel:t,onDismiss:n}):this.renderFocusedProject(e)))):null}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1e3);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1001),o=n(1045),s=n(1052),a=n(1055),l=n(582),c=n(289),d=n(589),u=n(1060),h=n(62),p=n(44),f=n(11),g=n(24),m=n(481),b=n(96),y=n(1061),S=n(1064),v=n(40),C=n(680),O=n(334);n(1065);function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends i.Component{constructor(...e){super(...e),E(this,"transferOwnershipPayload",{}),E(this,"projectThumbnailObserver",null),E(this,"state",{transferOwnershipPopupVisible:!1,moveProjectToSectionPopupVisible:!1,visibleDialogType:null,contextMenu:null,projectThumbnail:null}),E(this,"showTransferOwnershipPopup",()=>{this.setState({transferOwnershipPopupVisible:!0})}),E(this,"hideTransferOwnershipPopup",()=>{this.setState({transferOwnershipPopupVisible:!1})}),E(this,"showMoveProjectToSectionPopup",()=>{this.setState({moveProjectToSectionPopupVisible:!0})}),E(this,"hideMoveProjectToSectionPopup",()=>{this.setState({moveProjectToSectionPopupVisible:!1})}),E(this,"openArchiveDialog",()=>{this.setState({visibleDialogType:m.default.ARCHIVE})}),E(this,"openLeaveDialog",()=>{this.setState({visibleDialogType:m.default.LEAVE})}),E(this,"openDeleteDialog",()=>{this.setState({visibleDialogType:m.default.DELETE})}),E(this,"openTransferDialog",(e,t)=>{this.transferOwnershipPayload={selected:e,toOrganization:t},this.setState({visibleDialogType:m.default.TRANSFER})}),E(this,"generateShortlink",()=>{const{webURL:e}=this.state;C.AppActions.generateShortlink(e)}),E(this,"handlePopoverClose",()=>{const{transferOwnershipPopupVisible:e,moveProjectToSectionPopupVisible:t}=this.state;e?this.hideTransferOwnershipPopup():t&&this.hideMoveProjectToSectionPopup()}),E(this,"handleDialogClose",()=>{this.transferOwnershipPayload={},this.setState({visibleDialogType:null})}),E(this,"handleContextMenu",e=>{this.setState({contextMenu:{origin:e}})}),E(this,"handleContextMenuClose",()=>{this.setState({contextMenu:null})}),E(this,"handleJoinFromContextMenu",()=>{const{project:{_id:e},onJoin:t}=this.props;t({pid:e,shouldLoadBarrel:!1})}),E(this,"handleJoinFromCard",e=>{e.stopPropagation();const{project:{_id:t},onJoin:n}=this.props;n({pid:t,shouldLoadBarrel:!0})}),E(this,"handleArchive",()=>{const{project:{_id:e},onArchive:t}=this.props;t({pid:e})}),E(this,"handleActivate",()=>{const{project:{_id:e},onActivate:t}=this.props;t({pid:e})}),E(this,"handleDelete",()=>{const{project:{_id:e},onDelete:t}=this.props;t({pid:e})}),E(this,"handleLeave",()=>{const{project:{_id:e},currentUser:t,onLeave:n}=this.props;n({bid:e,mid:t.user._id})}),E(this,"handleInvite",()=>{const{selectedOrganizationId:e}=this.context,{onInvite:t,project:{_id:n,users:i}}=this.props;t({container:this.nodeRefs.base,pid:n,users:i,oid:e}),this.hideTransferOwnershipPopup()}),E(this,"handleMoveProjectToSection",e=>{const{project:{_id:t},onMoveProjectToSection:n}=this.props;this.setState({moveProjectToSectionPopupVisible:!1},()=>n(t,e))}),E(this,"handleCreateNewSection",()=>{const{project:{_id:e},onCreateNewSection:t}=this.props;t(e)}),E(this,"handleRemoveProjectFromSection",()=>{const{project:{_id:e},sections:t=[],onMoveProjectToSection:n}=this.props;n(e,t[0]._id)}),E(this,"handleCopyWebLink",()=>{const{onCopyLink:e}=this.props,{shortURL:t}=this.state;e(t)}),E(this,"handleCopyAppUri",()=>{const{onCopyLink:e}=this.props,{appURI:t}=this.state;e(t)}),E(this,"handleTransferOwnership",()=>{const{selectedOrganizationId:e}=this.context,{onTransferOwnership:t,project:{_id:n},currentUser:i}=this.props,{selected:r,toOrganization:o}=this.transferOwnershipPayload;t({pid:n,fromUserId:i.user._id,targetId:r,toOrganization:o,oid:e})}),E(this,"handleIntersection",e=>{0!==e.intersectionRatio?this.cropTimeout=requestIdleCallback(()=>{this.projectThumbnailObserver.unobserve(this.nodeRefs.base),this.setState({projectThumbnail:this.props.project.thumbnail||null})},{timeout:300}):cancelIdleCallback(this.cropTimeout)}),E(this,"handleBaseRef",e=>{Object(g.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)})}static getStores(){return[C.AppStore]}static calculateState(e,t){const{project:{_id:n}}=t,{shortlinks:i}=C.AppStore.getState(),r=Object(p.urlResolve)("project",{url:{bid:n}});return{webURL:r,appURI:`${v.ZPL_PROTOCOL}//project?pid=${n}`,shortURL:i[r]||r}}get isPopoverOpen(){const{transferOwnershipPopupVisible:e,moveProjectToSectionPopupVisible:t}=this.state;return e||t}get targetSectionsForMovePopup(){const{project:{_id:e},sections:t=[]}=this.props;return t.filter(t=>"individual"!==t.type&&!t.projects.includes(e))}get removeFromSectionsVisible(){const{project:{_id:e},sections:t=[]}=this.props,n=t.find(t=>t.projects.includes(e));return n&&"individual"!==n.type}componentDidMount(){const{scroll:e}=this.props,{base:t}=this.nodeRefs;e&&t.scrollIntoView(),this.projectThumbnailObserver=Object(u.getThumbnailObserver)(),this.projectThumbnailObserver.observe(t,this.handleIntersection)}componentWillReceiveProps(e){const{projectThumbnail:t}=this.state;null!==t&&e.project.thumbnail!==t&&this.setState({projectThumbnail:e.project.thumbnail})}componentDidUpdate(e){const{project:{_id:t},scroll:n,onProjectDidMount:i}=this.props,{scroll:r}=e;i&&i(t,this.nodeRefs.base),!r&&n&&this.nodeRefs.base.scrollIntoView()}componentWillUnmount(){cancelIdleCallback(this.cropTimeout),this.projectThumbnailObserver.unobserve(this.nodeRefs.base)}renderPopoverContent(){const{transferOwnershipPopupVisible:e,moveProjectToSectionPopupVisible:t}=this.state;return e?this.renderTransferOwnershipPopup():t?this.renderMoveProjectToSectionsPopup():null}renderTransferOwnershipPopup(){const{project:{users:e}}=this.props,{organizations:t,selectedOrganizationId:n,organizationProfiles:r,currentUserId:s}=this.context,a=e.filter(e=>"invited"!==e.user.status&&!(e.user._id===s&&"user"===n));let l=[];return t.length&&"user"===n&&(l=t.filter(e=>{const t=r[e._id];return t&&h.permissions.canTransferOwnership(t)&&"active"===e.status})),i.h(o.default,{barrelType:b.default.PROJECT,users:a,organizations:l,onSelect:this.openTransferDialog,onInvite:this.handleInvite})}renderMoveProjectToSectionsPopup(){return i.h(s.default,{barrelType:b.default.PROJECT,sections:this.targetSectionsForMovePopup,onSelect:this.handleMoveProjectToSection})}renderContextMenu(){const{contextMenu:{origin:e}}=this.state,{currentUser:t,project:n}=this.props;return i.h(a.default,{currentUser:t,project:n,moveToSectionVisible:!!this.targetSectionsForMovePopup.length,removeFromSectionsVisible:this.removeFromSectionsVisible,onClose:this.handleContextMenuClose,onOpen:this.generateShortlink,onJoin:this.handleJoinFromContextMenu,onActivate:this.handleActivate,onArchive:this.openArchiveDialog,onLeave:this.openLeaveDialog,onDelete:this.openDeleteDialog,onTransferOwnership:this.showTransferOwnershipPopup,onInvite:this.handleInvite,onCopyWebLink:this.handleCopyWebLink,onCopyAppUri:this.handleCopyAppUri,onMoveProjectToSection:this.showMoveProjectToSectionPopup,onCreateNewSection:this.handleCreateNewSection,onRemoveProjectFromSection:this.handleRemoveProjectFromSection,autoPosition:{menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:e}})}renderDialog(e){const{organizations:t}=this.context,{project:{name:n,users:r}}=this.props,{selected:o,toOrganization:s}=this.transferOwnershipPayload;if(e===m.default.DELETE)return i.h(d.default,{title:"Enter the name of the project to confirm:",placeholder:"Project name",confirmationText:n,onDelete:this.handleDelete,onClose:this.handleDialogClose});let a,l,u;if(e===m.default.TRANSFER){let e;e=s?t.find(e=>e._id===o).name:r.find(e=>e.user._id===o).user.username,a="TRANSFER",l=`Transfer ownership of “${n}” to ${e}?`,u=this.handleTransferOwnership}return e===m.default.LEAVE&&(a="LEAVE",l=`Leave “${n}”?`,u=this.handleLeave),e===m.default.ARCHIVE&&(a="ARCHIVE",l=`Archive “${n}”?`,u=this.handleArchive),i.h(c.BasicDialog,{positiveButtonText:a,onPositiveButtonClick:u,onClose:this.handleDialogClose,negativeButtonText:"CANCEL",hideNegativeButton:!1,message:l})}render(){const{filterValue:e}=this.context,{contextMenu:t,visibleDialogType:n,projectThumbnail:o}=this.state,{project:{_id:s,name:a,type:c,users:d,updated:u,status:g,workflowStatus:m},moveCubukPosition:b,dragging:v,highlight:C,onClick:O,onProjectHover:E,pinnable:T,pinned:D,shouldDisplayPinWarningAuntie:k,onPinWarningAuntieAction:w,focusCountLimit:_,onPin:j,onUnpin:P,onMouseDown:R}=this.props,I=Object(p.urlResolve)("project",{url:{bid:s}}),A=d.sort(h.sortBy.role),x=i.h(y.default,{top:12,height:191});return i.h("div",{class:"projectWrapper"},i.h("div",{class:"projectPaddingArea left"},b===S.CUBUK_POSITION.LEFT&&x),i.h("div",{class:"projectCardWrapper"},i.h(l.default,{open:this.isPopoverOpen,onClose:this.handlePopoverClose,content:this.renderPopoverContent(),top:-12,left:-236,faceTop:!0},i.h(r.default,{id:s,class:Object(f.default)("projectCard",{dragging:v}),baseRef:this.handleBaseRef,onClick:O,onHover:E,link:I,type:c,name:a,members:A,source:o,updated:u,filterValue:e,onContextMenu:this.handleContextMenu,contextMenu:t&&this.renderContextMenu(),highlight:C,archived:"archived"===g,pinnable:T,pinned:D,shouldDisplayPinWarningAuntie:k,onPinWarningAuntieAction:w,focusCountLimit:_,onPin:j,onUnpin:P,onJoin:this.handleJoinFromCard,onMouseDown:R,workflowStatus:m}),n&&this.renderDialog(n))),i.h("div",{class:"projectPaddingArea right"},b===S.CUBUK_POSITION.RIGHT&&x))}}t.default=Object(O.default)(T,{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(1002);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"SpaceCardMirror",(function(){return y}));var i=n(1),r=n(6),o=n.n(r),s=n(1003),a=n(1007),l=n(9),c=n(1013),d=n(1016),u=n(1035),h=n(1041),p=n(11),f=n(24),g=n(62),m=n(94);n(1044);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const y=({source:e,users:t,type:n,name:r})=>{const o=t.sort(g.sortBy.role);return i.h("div",{class:"spaceCard noSelect mirror"},i.h(s.default,{source:e,isMirror:!0}),i.h(a.default,{name:r,type:n,members:o}))};class S extends i.Component{constructor(...e){super(...e),b(this,"state",{showPinWarningAuntie:!1}),b(this,"showPinWarningAuntie",()=>{document.addEventListener("scroll",this.hidePinWarningAuntie,!0),document.addEventListener("click",this.hidePinWarningAuntie),this.setState({pinWarningAuntieVisible:!0})}),b(this,"hidePinWarningAuntie",()=>{document.removeEventListener("scroll",this.hidePinWarningAuntie,!0),document.removeEventListener("click",this.hidePinWarningAuntie),this.setState({pinWarningAuntieVisible:!1})}),b(this,"handleClick",e=>{const{onClick:t,id:n}=this.props;t&&t(e,n)}),b(this,"handleMouseEnter",()=>{const{onHover:e,id:t}=this.props;e&&e(t)}),b(this,"handleContextMenu",e=>{e.preventDefault();const{onContextMenu:t}=this.props;t&&t({x:e.clientX,y:e.clientY})}),b(this,"handleOptionsClick",e=>{e.preventDefault(),e.stopPropagation();const{id:t,onContextMenu:n}=this.props;if(n){const e=this.nodeRefs.optionsButton.getBoundingClientRect();n({x:e.left+24,y:e.top-24},t)}}),b(this,"handlePinButtonClick",e=>{e.preventDefault(),e.stopPropagation();const{id:t,pinned:n,shouldDisplayPinWarningAuntie:i,onPin:r,onUnpin:o}=this.props;n?o(t):i?this.showPinWarningAuntie():r(t)}),b(this,"handlePinAnyway",()=>{const{id:e,onPin:t,onPinWarningAuntieAction:n,focusCountLimit:i}=this.props;t(e),n({pinnedAnyway:!0,focusCountLimit:i}),this.hidePinWarningAuntie()}),b(this,"handleHideAuntie",()=>{const{onPinWarningAuntieAction:e,focusCountLimit:t}=this.props;e({pinnedAnyway:!1,focusCountLimit:t}),this.hidePinWarningAuntie()}),b(this,"renderPinButtonAndAuntie",()=>{const{pinnable:e,pinned:t,focusCountLimit:n}=this.props,{pinWarningAuntieVisible:r}=this.state;return e?i.h("div",{class:"pinButtonContainer"},i.h(u.default,{class:"pinButton",pinned:t,onClick:this.handlePinButtonClick}),r&&i.h(h.default,{class:"pinWarningAuntie",content:`You can only pin ${n} projects at once. Pinning this project will unpin the oldest.`,popover:!0,buttonText:"OK, got it!",actionButton:{text:"Pin anyway",callback:this.handlePinAnyway},hideCallback:this.handleHideAuntie})):null})}render(){const{id:e,source:t,archived:n,highlight:r,name:o,type:u,link:h,updated:b,members:y,contextMenu:S,filterValue:v,workflowStatus:C,onJoin:O,onMouseDown:E,baseRef:T,class:D}=this.props,{currentUserId:k}=this.context,w=Object(p.default)("spaceCard","noSelect",{highlight:r,noStatus:C&&C._id===m.default.NoStatus._id},D),_=y.some(({user:e})=>e._id===k);return i.h("div",{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseDown:E,class:w,ref:T},i.h("div",{class:"cardButtons",onClick:g.stopPropagation},this.renderPinButtonAndAuntie(),i.h(c.default,{class:"optionsButton",baseRef:Object(f.default)(this,"optionsButton"),onClick:this.handleOptionsClick}),S),C&&i.h(d.default,{bid:e}),n?i.h("div",{class:Object(p.default)({archived:n}),onContextMenu:this.handleContextMenu},i.h(s.default,{source:t}),i.h(a.default,{filterValue:v,members:y,name:o,type:u,updated:b})):i.h("a",{onContextMenu:this.handleContextMenu,onClick:this.handleClick,href:_?h:null,"data-link-type":"inApp"},i.h(s.default,{source:t}),i.h(a.default,{filterValue:v,members:y,name:o,type:u,updated:b})),!_&&i.h("span",{onClick:g.stopPropagation,className:"unjoinedOverlay"},"Not joined yet, ",i.h(l.default,{class:"joinButton",ninja:!0,onClick:O},"join now"),"."))}}S.propTypes={id:o.a.string.isRequired,source:o.a.string,archived:o.a.bool,highlight:o.a.bool,name:o.a.string.isRequired,type:o.a.string.isRequired,link:o.a.string.isRequired,updated:o.a.string.isRequired,members:o.a.array.isRequired,filterValue:o.a.string,onContextMenu:o.a.func,contextMenu:o.a.element,pinnable:o.a.bool,pinned:o.a.bool,onPin:o.a.func,onUnpin:o.a.func,focusCountLimit:o.a.number,shouldDisplayPinWarningAuntie:o.a.bool,onPinWarningAuntieAction:o.a.func},t.default=S},function(e,t,n){"use strict";n.r(t);var i=n(1004);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1005),o=n(11);n(1006);class s extends i.Component{constructor(e){super(e),this.handleImageLoad=this.handleImageLoad.bind(this),this.state={source:null,loading:!1}}handleImageLoad(){this.setState({loading:!1})}componentDidMount(){const{source:e}=this.props;this.setState({source:e,loading:!!e})}componentWillReceiveProps(e){const{source:t}=this.state;e.source!==t&&this.setState({source:e.source,loading:!0})}render(){const{loading:e,source:t}=this.state,n=Object(o.default)("cardThumbnailFrame",{breathe:e});return i.h("div",{class:n},t&&i.h(r.default,{class:"cardThumbnail",source:t,onLoad:this.handleImageLoad,width:270,height:92}))}}t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(24),o=n(18),s=n(6),a=n.n(s);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}class d extends i.Component{constructor(e){super(e),this.state={src:null,srcset:null},this.handleError=this.handleError.bind(this)}getDimensions(){const{width:e,height:t}=this.props;if(void 0!==e&&void 0!==t)return{width:e,height:t};const{img:{width:n,height:i}}=this.nodeRefs;return{width:n,height:i}}load(e){const t=this.getDimensions(),{src:n,srcset:i}=Object(o.getResizedImageSources)(e,t);this.setState({src:n,srcset:i})}handleError(){const{source:e}=this.props,{width:t,height:n}=this.getDimensions();if(!e)return null;Promise.all([Object(o.cropImage)(e,{width:t,height:n}),Object(o.cropImage)(e,{width:2*t,height:2*n})]).then(([e,t])=>{this.setState({src:e,srcset:t})})}componentDidMount(){const{source:e}=this.props;e&&this.load(e)}componentWillReceiveProps(e){const{source:t}=e,{source:n}=this.props;t&&t!==n&&this.load(t)}render(){const{src:e,srcset:t}=this.state,n=this.props,{source:o}=n,s=c(n,["source"]);return i.h("img",l({},s,{src:e,srcSet:t,onError:this.handleError,ref:Object(r.default)(this,"img")}))}}d.propTypes={source:a.a.string.isRequired},t.default=d},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1008);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1009),o=n(517),s=n(56);n(1012);const a=Object.freeze({base:"BASE",android:"ANDROID",ios:"iOS",osx:"macOS",web:"WEB"});t.default=function({members:e=[],name:t,type:n,updated:l,filterValue:c=""}){const d=a[n],u=d.toLowerCase();let h;h=new RegExp(`\\s*\\b${u}\\b\\s*`,"ig").test(c)?`<span class="highlight">${d}</span>`:d;const p=Object(s.highlightMatchedParts)(t,c,{caseInsensitive:!0});return i.h("div",{class:"cardInfo"},i.h("div",{class:"subInfo"},i.h("div",{class:"type",dangerouslySetInnerHTML:{__html:h}}),i.h(o.default,{type:"time-ago",format:"micro",class:"updated",datetime:l})),i.h("div",{class:"name ellipsis",dangerouslySetInnerHTML:{__html:p}}),i.h(r.default,{members:e}))}},function(e,t,n){"use strict";n.r(t);var i=n(1010);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(513),o=n(56),s=n(11);n(1011);function a(e,t){return"invited"!==e.status?e.username+("user"!==t?` (${e.email})`:""):`Pending… (${e.email})`}function l({remainingMembers:e,currentMemberRole:t}){const n="+"+e.length,r=e.map(e=>a(e.user,t)).join("\n");return i.h("div",{class:"remainingMembers",title:r},n)}t.default=function({members:e,currentMemberRole:t,class:n,avatarSize:c=30}){const d=e.slice(0,6),u=e.length;let h;if(u>7)h=i.h(l,{key:"remainingMembers",currentMemberRole:t,remainingMembers:e.slice(6)});else if(7===u){const n=e[u-1],s=Object(o.getUserAvatar)(n.user).src,l=a(n.user,t);h=i.h(r.default,{key:"lastUser",class:"avatar",type:"user",width:c,height:c,src:s,title:l})}return i.h("div",{class:Object(s.default)("memberAvatarList",n)},d.map(e=>{const n=Object(o.getUserAvatar)(e.user).src,s=a(e.user,t);return i.h(r.default,{key:e.user._id,class:"avatar",type:"user",width:c,height:c,src:n,title:s})}),h)}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1014);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(228),o=n(11),s=n(9);n(1015);t.default=function({onClick:e,baseRef:t,class:n}){const a=Object(o.default)("optionsButton",n);return i.h(s.default,{secondary:!0,baseRef:t,onClick:e,class:a,tabindex:"-1"},i.h(r.IconSettings,null))}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1017);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1018),o=n(349),s=n(473),a=n(470),l=n(345),c=n(346),d=n(342),u=n(94),h=n(62),p=n(42),f=n(334),g=n(19);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends i.Component{constructor(...e){super(...e),y(this,"handleWorkflowStatusChange",e=>{const{bid:t}=this.props,{workflowStatuses:n}=this.state,{workflowStatus:i}=n.find(({workflowStatus:{_id:t}})=>t===e);t?e===u.default.NoStatus._id?d.BarrelActions.deleteWorkflowStatus({bid:t,syncWithApi:!0}):d.BarrelActions.updateWorkflowStatus({bid:t,workflowStatus:i,syncWithApi:!0}):a.SpaceActions.changeWorkflowStatusFilter({workflowStatus:i})}),y(this,"handleAddButtonClick",e=>{e.stopPropagation();const{workflowStatuses:t}=this.state,n=t.filter(({workflowStatus:{name:e}})=>e.startsWith("New Status")),{workflowStatus:{name:i}={}}=n[n.length-1]||{},r=u.default.generateNew(i);s.OrganizationActions.addOrganizationWorkflowStatus({workflowStatusData:r,syncWithApi:!1})}),y(this,"handleWorkflowInputBlur",(e,t,n)=>{const{_id:i}=e,r=b(b({},e),{},{name:t});i.startsWith("newWorkflowStatusId")?n?s.OrganizationActions.deleteOrganizationWorkflowStatus({workflowStatusId:r._id,syncWithApi:!1}):s.OrganizationActions.addOrganizationWorkflowStatus({workflowStatusData:r,syncWithApi:!0}):n||e.name===t||s.OrganizationActions.updateOrganizationWorkflowStatusName({workflowStatusId:i,name:t,syncWithApi:!0})}),y(this,"handleUpdateWorkflowStatusColor",(e,t)=>{s.OrganizationActions.updateOrganizationWorkflowStatusColor({workflowStatusId:e,color:t,syncWithApi:!0})}),y(this,"handleDeleteWorkflowStatus",e=>{const{workflowStatuses:t}=this.state,{count:n}=t.find(({workflowStatus:{_id:t}})=>t===e),i=1===n?"is":"are",r=1===n?"this project.":"all of these projects.";if(n)return p.create({message:`There ${i} ${Object(g.pluralize)(n,"project")} using this status. Deleting the status will remove it from ${r}`,done:{name:"DELETE",cb(){s.OrganizationActions.deleteOrganizationWorkflowStatus({workflowStatusId:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}});const o=e.startsWith("newWorkflowStatusId");s.OrganizationActions.deleteOrganizationWorkflowStatus({workflowStatusId:e,syncWithApi:!o})})}static getStores(){return[o.UserStore,a.SpaceStore,s.OrganizationStore,d.BarrelStore,l.ProjectsDataStore,c.StyleguidesDataStore]}static calculateState(e,{bid:t}){const{status:n}=d.BarrelHelpers.getBarrel({bid:t})||{},{selectedOrganizationId:i,selectedWorkflowStatusFilter:r}=a.SpaceStore.getState();if("user"===i)return{isPersonalWorkspace:!0};const{loadingBarrels:o,organizations:l,organizationProfiles:c}=s.OrganizationStore.getState();if(o)return{loading:!0};let p=r;if(t){const e=d.BarrelHelpers.getBarrel({bid:t});if(!e)return{loading:!0};p=e.workflowStatus._id}const f=l.find(e=>e._id===i),g=s.OrganizationHelpers.getOrganizationProjects(i)||[],{role:m}=c[i]||{},b=m&&h.permissions.canManageWorkflowStatuses({role:m}),{workflowStatuses:y}=f||{};return{isPersonalWorkspace:!1,loading:o,projects:g,workflowStatuses:function(e=[],t,n){const i={};t.forEach(({workflowStatus:{_id:e}})=>{e in i?i[e]++:i[e]=1});const r=e.map(({_id:e,name:t,color:n})=>({workflowStatus:new u.default({_id:e,name:t,color:n}),count:i[e]||0})),o=i[u.default.NoStatus._id],s={workflowStatus:u.default.NoStatus,count:o};if(n)return[...r,s];const a={workflowStatus:u.default.All};return o?[a,...r,s]:[a,...r]}(y,g,t),selectedWorkflowStatus:p,permissions:{canManageWorkflowStatuses:b},userRole:m,disabled:"archived"===n}}render(){const{bid:e}=this.props,{isPersonalWorkspace:t,loading:n,workflowStatuses:o,selectedWorkflowStatus:s,permissions:a,userRole:l,disabled:c}=this.state;return t||n?null:i.h(r.default,{workflowStatuses:o,selectedWorkflowStatus:s,onWorkflowStatusChange:this.handleWorkflowStatusChange,onAddButtonClick:this.handleAddButtonClick,onWorkflowInputBlur:this.handleWorkflowInputBlur,onUpdateWorkflowStatusColor:this.handleUpdateWorkflowStatusColor,onDeleteWorkflowStatus:this.handleDeleteWorkflowStatus,permissions:a,userRole:l,bid:e,disabled:c})}}t.default=Object(f.default)(S,{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(1019);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(776),o=n(9),s=n(1020),a=n(1023),l=n(1025),c=n(630),d=n(819),u=n(24),h=n(11),p=n(1033),f=n(62),g=n(114),m=n(94);n(1034);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends i.Component{constructor(...e){super(...e),b(this,"state",{customizing:!1,dropdownOpen:!1,showAuntie:!1}),b(this,"handleDropdownStateChange",e=>{const{workflowStatuses:t}=this.props,n=!e&&1!==t.length;this.setState(t=>({dropdownOpen:e,customizing:!n&&t.customizing}))}),b(this,"handleAuntieClick",e=>{e.stopPropagation(),this.setState({showAuntie:!1})}),b(this,"handleCustomizeClick",e=>{e.stopPropagation(),this.setState({customizing:!0})}),b(this,"handleDoneClick",e=>{const{workflowStatuses:t,bid:n}=this.props;(!n||t.length>1)&&(e.stopPropagation(),this.setState({customizing:!1}))}),b(this,"handleDropdownClick",e=>{e.stopPropagation(),this.setState({showAuntie:!0})}),b(this,"renderLabel",({color:e,name:t})=>i.h("div",{class:"workflowStatusDropdownLabel"},i.h(l.default,{color:Object(g.getColorName)(e)}),i.h("span",{class:"ellipsis"},t))),b(this,"renderFooter",()=>{const{customizing:e}=this.state,{permissions:{canManageWorkflowStatuses:t},userRole:n}=this.props;return i.h("div",{key:"workflowStatusOptionsFooter",class:Object(h.default)("workflowStatusOptionsFooter",{customizing:e}),onClick:f.stopPropagation},t?i.h(o.default,{key:"customize",onClick:this.handleCustomizeClick,ninja:!0},"Customize"):i.h(c.default,{content:Object(p.default)(n,"customize statuses")},i.h(o.default,{ninja:!0,disabled:!0},"Customize")))}),b(this,"renderCustomize",()=>{const{workflowStatuses:e,onAddButtonClick:t,onWorkflowInputBlur:n,onUpdateWorkflowStatusColor:r,onDeleteWorkflowStatus:o}=this.props,a=e.filter(({workflowStatus:{_id:e}})=>e!==m.default.All._id&&e!==m.default.NoStatus._id);return i.h(s.default,{workflowStatuses:a,onAddButtonClick:t,onDoneButtonClick:this.handleDoneClick,onWorkflowInputBlur:n,onUpdateWorkflowStatusColor:r,onDeleteWorkflowStatus:o})}),b(this,"renderWorkflowStatuses",()=>{const{workflowStatuses:e,selectedWorkflowStatus:t,onUpdateWorkflowStatusColor:n,bid:o}=this.props,{customizing:s}=this.state;return i.h("div",{key:"workflowStatusOptions",class:Object(h.default)("workflowStatusDropdownOptionsWrapper",{customizing:s})},e.map(({workflowStatus:{_id:e,name:l,color:c},count:d})=>{const u=o&&e===m.default.NoStatus._id&&e===t,p=e!==m.default.All._id&&e!==m.default.NoStatus._id,f=e===t,b=!o&&d>0?d:"";return!u&&i.h(r.default.Item,{key:e,label:this.renderLabel({color:c,name:l}),value:e,selected:f},i.h("div",{class:Object(h.default)("workflowStatusItemWrapper",{customizing:s})},i.h(a.default,{itemId:e,selectedColor:Object(g.getColorName)(c),colorSelectable:p,onColorClick:n,selected:f}),i.h("div",{class:"label ellipsis"},l),i.h("span",{class:"labelInfo"},b)))}))})}componentDidMount(){const{workflowStatuses:e,bid:t}=this.props,n=1===e.length&&!!t;this.setState({customizing:n})}componentDidUpdate(e,t){const{workflowStatuses:n,bid:i}=this.props,r=!!i;if(e.workflowStatuses.length!==n.length&&r){const e=n.length,i=e>1&&t.customizing&&t.dropdownOpen;1===e||i?this.setState({customizing:!0}):e>1&&!t.dropdownOpen&&this.setState({customizing:!1})}}render(){const{onWorkflowStatusChange:e,bid:t,permissions:{canManageWorkflowStatuses:n},userRole:o,disabled:s}=this.props,{customizing:a,showAuntie:l,dropdownOpen:c}=this.state,p=!n&&!!t,g=this.renderLabel(t?m.default.NoStatus:m.default.All);return i.h("div",{class:Object(h.default)({spaceCardWorkflowStatus:!!t,dropdownOpen:c})},i.h(r.default,{ref:Object(u.default)(this,"dropdown"),defaultLabel:g,class:"workflowStatusFilter",optionsClass:"workflowStatusOptions",onChange:e,onDropdownClick:p&&this.handleDropdownClick,onDropdownStateChange:this.handleDropdownStateChange,disableClosingWithESC:a,showCheck:!1,showChevron:!t,alignRight:!!t,disabled:s},this.renderWorkflowStatuses(),this.renderFooter(),a&&this.renderCustomize()),l&&i.h("div",{class:"workflowStatusHintBox"},i.h(d.default,{hideButtonText:"Got it!",onHideClick:this.handleAuntieClick},`Your organization role is ${Object(f.getUserRoleString)(o)}, only ${Object(f.getUserRoleString)("rook")}s or higher can customize statuses.`)))}}t.default=y},function(e,t,n){"use strict";n.r(t);var i=n(1021);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(9),o=n(1022),s=n(1029),a=n(630),l=n(62),c=n(11),d=n(24);n(1032);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.Component{constructor(...e){super(...e),u(this,"state",{inputFocused:!1,discard:!1,scrolling:!1}),u(this,"updateScrolling",()=>{const{scrolling:e}=this.state,{workflowStatusItemsWrapper:t}=this.nodeRefs||{};t&&(t.clientHeight<t.scrollHeight&&!e?this.setState({scrolling:!0}):t.clientHeight===t.scrollHeight&&e&&this.setState({scrolling:!1}))}),u(this,"handleInputDeleteClick",(e,t)=>{e.stopPropagation();const{onDeleteWorkflowStatus:n}=this.props;n(t._id)}),u(this,"handleInputFocus",()=>{this.setState({inputFocused:!0})}),u(this,"handleInputBlur",(e,t)=>{const{onWorkflowInputBlur:n}=this.props,{discard:i}=this.state,r=t._id.startsWith("newWorkflowStatusId")&&e.relatedTarget&&e.relatedTarget.className.includes("inputDelete")&&e.relatedTarget.previousSibling.firstChild.value===t.name,o=i||r||!e.target.value;n(t,e.target.value,o),this.setState({discard:!1,inputFocused:!1})}),u(this,"handleKeyDown",e=>{e.stopPropagation();const{onDoneButtonClick:t}=this.props,{inputFocused:n}=this.state;e.keyCode===Zeplin.KEY_CODE.ESC&&(n?this.setState({discard:!0},()=>{e.target.blur()}):t(e)),e.keyCode===Zeplin.KEY_CODE.ENTER&&e.target.blur()}),u(this,"renderAddButton",()=>{const{workflowStatuses:{length:e},onAddButtonClick:t}=this.props;return 20===e?i.h(a.default,{content:"An organization can have at most 20 statuses."},i.h(r.default,{ninja:!0,disabled:!0},"Add")):i.h(r.default,{key:"add",onClick:t,ninja:!0},"Add")}),u(this,"renderInputsOrEmptyState",()=>{const{workflowStatuses:e,onUpdateWorkflowStatusColor:t}=this.props;return e.length?i.h("div",{class:"workflowStatusItemsWrapper",ref:Object(d.default)(this,"workflowStatusItemsWrapper")},e.map(({workflowStatus:e})=>i.h(o.default,{key:e._id,workflowStatus:e,onUpdateWorkflowStatusColor:t,onInputFocus:this.handleInputFocus,onInputBlur:this.handleInputBlur,onInputDelete:this.handleInputDeleteClick,colorSelectable:!e._id.startsWith("newWorkflowStatusId")}))):i.h(s.default,null)})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown,!0),this.updateScrolling()}componentDidUpdate(){this.updateScrolling()}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}render(){const{selectedWorkflowStatus:e,onDoneButtonClick:t}=this.props,{scrolling:n}=this.state;return i.h("div",{class:Object(c.default)("customizeWorkflowStatus",{scrolling:n}),selected:e},this.renderInputsOrEmptyState(),i.h("div",{class:"workflowStatusOptionsFooter",onClick:l.stopPropagation},this.renderAddButton(),i.h(r.default,{key:"done",onClick:t,ninja:!0},"Done")))}}t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1023),o=n(228),s=n(24),a=n(62),l=n(114);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),c(this,"handleInputBlur",(e,t)=>{const{onInputBlur:n}=this.props;n&&n(e,t)}),c(this,"handleInputDeleteClick",(e,t)=>{const{onInputDelete:n}=this.props;n&&n(e,t)})}componentDidMount(){const{workflowStatus:{_id:e}}=this.props;e.startsWith("newWorkflowStatusId")&&(this.nodeRefs.inputRef.select(),this.nodeRefs.inputRef.scrollIntoView())}render(){const{workflowStatus:e,colorSelectable:t,onUpdateWorkflowStatusColor:n,onInputFocus:c}=this.props,d=Object(l.getColorName)(e.color);return i.h("div",{key:e.name,class:"workflowStatusItem",onClick:a.stopPropagation},d&&i.h(r.default,{itemId:e._id,selectedColor:d,colorSelectable:t,onColorClick:n}),i.h("div",{class:"inputWrapper"},i.h("input",{ref:Object(s.default)(this,"inputRef"),type:"text",name:e.name,value:e.name,onFocus:c,onBlur:t=>this.handleInputBlur(t,e),maxLength:20})),i.h("button",{type:"button",class:"inputDelete deleteButton",onClick:t=>this.handleInputDeleteClick(t,e),tabIndex:"-1"},i.h(o.IconDelete,null)))}}d.defaultProps={colorSelectable:!0},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1024);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(1025),a=n(114),l=n(62),c=n(11);n(1028);class d extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>{const{itemId:t,onColorClick:n}=this.props;n&&n(t,e)},(n="handleColorClick")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{selectedColor:e,colorSelectable:t,selected:n}=this.props;return i.h("div",{class:Object(c.default)("colorSelector",{selectable:t}),onClick:l.stopPropagation},i.h(s.default,{key:e+"-viewOnly",color:e,selected:n,mainColor:!0}),t&&i.h("div",{class:"colorDotsContainer"},i.h("div",{class:"colorDots"},a.colorNames.map(t=>i.h(s.default,{key:t+"-colorDot",color:t,selected:t===e,onClick:this.handleColorClick})))))}}d.propTypes={itemId:o.a.string,selected:o.a.bool,selectedColor:o.a.string,colorSelectable:o.a.bool,onColorClick:o.a.func},d.defaultProps={size:"small",colorSelectable:!0},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1026);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(11),a=n(114),l=n(20);n(1027);const c=({size:e,color:t,selected:n,mainColor:r,onClick:o})=>i.h("div",{class:Object(s.default)("colorDot",e,t,{selected:n,mainColor:r}),onClick:e=>{o&&!n&&(e.stopPropagation(),o(new l.default(Object(a.getColorValueByName)(t))))}});c.defaultProps={size:"small",color:"karl"},c.propTypes={size:o.a.oneOf(["small","medium"]),color:o.a.oneOf(["karl","clooney","yellow","orange","peach","green","turquoise","cornflowerBlue","deepPurple"]).isRequired,selected:o.a.bool,mainColor:o.a.bool,onClick:o.a.func},t.default=c},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1030);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1);n(1031);t.default=()=>i.h("div",{class:"workflowEmptyState"},i.h("div",null,"No custom status. 🤷‍♀️"),i.h("br",null),i.h("div",null,"You can create status by clicking on “Add” button"))},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(1),r=n(18),o=n(62);function s(e){const t=o.getRoleIconName(e);return i.h("img",{src:Object(r.imageUrl)(`img/${t}.png`),srcSet:`${Object(r.imageUrl)(`img/${t}@2x.png`)} 2x, ${Object(r.imageUrl)(`img/${t}@3x.png`)} 3x`})}function a(e,t){return"pawn"===e?`Only organization members can ${t}.`:[i.h("p",{key:"tooltipExplanation"},"Your organization role is ",o.getUserRoleString(e)," ",s(e)," , only ",o.getUserRoleString("rook"),"s or higher can ",t,"."),i.h("p",{key:"tooltipLink"},i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more")," about roles or contact organization Admins to update your role!")]}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1036);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(265),o=n(266),s=n(11),a=n(9),l=n(1037);n(1040);const c=Object(l.default)((function({pinned:e,class:t,onClick:n,hover:l}){const c=Object(s.default)("pinButton",t,{pinned:e});return i.h(a.default,{secondary:!0,class:c,onClick:n,tabindex:"-1"},e&&l?i.h(o.default,null):i.h(r.default,{color:e?"var(--cornflower-blue)":"var(--teflon)"}))}));t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1038);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r);n(1039);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function a({x:e,y:t},{top:n,right:i,bottom:r,left:o}){return i>e&&o<e&&r>t&&n<t}function l(e){return class extends i.Component{constructor(e){super(e),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.state={hover:!1}}changeHover(e){this.setState({hover:e}),this.props.onHoverChange&&this.props.onHoverChange(e)}handleMouseEnter(){this.changeHover(!0)}handleMouseLeave(e){const{initialHover:t,ignoreOverlays:n=!0}=this.props,{clientX:i,clientY:r,relatedTarget:o,target:s}=e,l=s.getBoundingClientRect();if(!t)if(n&&o&&a({x:i,y:r},l)){const e=this;o.addEventListener("mouseleave",(function t(n){a({x:n.clientX,y:n.clientY},l)||e.changeHover(!1),o.removeEventListener("mouseleave",t)}))}else this.changeHover(!1)}componentWillReceiveProps({initialHover:e}){void 0!==e&&e!==this.state.hover&&this.setState({hover:e})}render(){return i.h("div",{class:"hoverRegion",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.h(e,s({},this.props,{hover:this.state.hover})))}}}l.displayName="HoverRegion",l.propTypes={class:o.a.string,initialHover:o.a.bool,ignoreOverlays:o.a.bool,onHoverChange:o.a.func},l.defaultProps={initialHover:!1,ignoreOverlays:!0},t.default=l},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1042);t.default=i.default},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(1),r=n(62),o=n(11),s=n(18),a=n(24);n(1043);class l extends i.Component{constructor(e){super(e),this.closePopup=this.closePopup.bind(this),this.closeHandler=this.closeHandler.bind(this),this.handleButtonClick=this.handleButtonClick.bind(this),this.handleActionButtonClick=this.handleActionButtonClick.bind(this)}closePopup(){const{base:e}=this.nodeRefs;i.render(null,e.parentElement,e)}handleActionButtonClick(){this.props.actionButton.callback&&this.props.actionButton.callback()}handleButtonClick(){this.props.noControls||(this.props.hideCallback&&this.props.hideCallback(),this.closePopup())}closeHandler(){(this.props.noControls||this.props.popover)&&(this.props.noControls&&this.props.hideCallback&&this.props.hideCallback(),this.closePopup())}componentDidMount(){document.addEventListener("click",this.closeHandler),this.props.bodyCallbacks&&Object.keys(this.props.bodyCallbacks).forEach(e=>{this.nodeRefs.base.querySelector(e).addEventListener("click",this.props.bodyCallbacks[e])})}componentWillUnmount(){document.removeEventListener("click",this.closeHandler)}render(){const{popover:e,padBottom:t,actionButton:n,content:l,noControls:c,buttonText:d,anchor:u,class:h}=this.props,p=Object(o.default)("hideableInfo",h,{popover:e,padBottom:t});let f=null;n&&n.text&&n.callback&&(f=i.h("button",{class:"infoActionButton",onClick:this.handleActionButtonClick},n.text));let g=null;return c||(g=i.h("div",{class:"infoButtons"},i.h("button",{class:"infoHideButton",onClick:this.handleButtonClick},i.h("div",null,i.h("img",{src:s.imageUrl("img/icGuidelineRemove.svg"),alt:"×"}),i.h("span",{class:"infoHideButtonText"},d||"OK, hide it!"))),f)),i.h("div",{class:p,onClick:r.stopPropagation,ref:Object(a.default)(this,"base")},i.h("span",{class:"emoji"},"💁‍♀️"),i.h("div",{class:"infoBody"},i.h("div",{class:"infoText"},l),g),i.h("div",{class:"anchor "+(u||"bottom")}))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1046);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1047),o=n(9),s=n(513),a=n(56),l=n(18),c=n(24),d=n(11),u=n(96);n(1051);function h({selected:e,avatarUrl:t,avatarType:n,avatarBgSize:r,info:o,subInfo:a}){const l=Object(d.default)("listItem",{selected:e});return i.h("div",{class:l},i.h(s.default,{class:"itemAvatar",src:t,width:36,height:36,bgSize:r,type:n}),i.h("div",{class:"infoContainer"},i.h("div",{class:"info ellipsis"},o),a&&i.h("div",{class:"subInfo ellipsis"},a)))}class p extends i.Component{constructor(e){super(e),this.renderOrganizationListItem=this.renderOrganizationListItem.bind(this),this.renderUserListItem=this.renderUserListItem.bind(this),this.handleSelect=this.handleSelect.bind(this)}handleSelect(e){const{onSelect:t,organizations:n}=this.props,i=n.find(t=>t._id===e);t(e,i)}renderOrganizationListItem(e){const t=e._id;return i.h(r.default.ListItem,{class:"selectableListItem",value:t,item:e,renderItem:this.renderOrganizationListItemContent})}renderOrganizationListItemContent({logo:e,name:t},n){return i.h(h,{selected:n,avatarUrl:e,avatarType:"organization",avatarBgSize:19,info:t})}renderUserListItem(e){const t=e.user._id;return i.h(r.default.ListItem,{class:"selectableListItem",value:t,item:e,renderItem:this.renderUserListItemContent})}renderUserListItemContent(e,t){const{user:n,user:{email:r,username:o}}=e,s=Object(a.getUserAvatar)(n).src;return i.h(h,{selected:t,avatarUrl:s,avatarType:"user",info:o,subInfo:r})}renderListBody(){const{onInvite:e,organizations:t,users:n}=this.props;return t.length+n.length===0?i.h("div",{class:"targetOwnersEmpty"},"No invited team members yet.",i.h(o.default,{class:"inviteButton",onClick:e},"INVITE NOW")):i.h("div",{class:"transferOwnershipBody"},i.h(r.default,{class:"targetOwners",onSelect:this.handleSelect},[t.length>0&&i.h("h5",null,"To an organization:"),t.map(this.renderOrganizationListItem),n.length>0&&i.h("h5",null,"To a member:"),n.map(this.renderUserListItem)]),i.h("div",{class:"transferOwnershipFooter"},i.h("img",{src:Object(l.imageUrl)("img/icInfo.svg"),alt:"ℹ"}),"We’ll notify them via email"))}render(){const{barrelType:e}=this.props;return i.h("div",{class:"transferOwnership noSelect",ref:Object(c.default)(this,"base")},i.h("h5",{class:"transferOwnershipHeader"},"You can only transfer your ",e,"s to invited team members or organizations.",e===u.default.STYLEGUIDE&&" Transferring a styleguide will also transfer its children."),this.renderListBody())}}p.defaultProps={organizations:[],users:[]},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(1048);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(1049),a=n(337),l=n(24),c=n(11),d=n(56);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return e.filter(e=>e&&e.type&&e.type.name===s.default.name).map(e=>e.props.value)}class p extends i.Component{constructor(...e){super(...e),u(this,"values",h(this.listItems)),u(this,"state",{selected:this.values[0]}),u(this,"handleKeyDown",e=>{if(!this.values.length)return;this.mouseActive=!1;const{selected:t}=this.state;let n=this.values.indexOf(t);switch(e.keyCode){case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),n=Math.max(n-1,0);break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),n=Math.min(n+1,this.values.length-1);break;case Zeplin.KEY_CODE.ENTER:e.preventDefault(),this.props.onSelect(t)}this.changeSelected(this.values[n])}),u(this,"handleItemHover",e=>{this.mouseActive&&this.changeSelected(e)}),u(this,"handleMouseMove",()=>{this.mouseActive=!0})}get listItems(){return i.toChildArray(this.props.children)}changeSelected(e){this.state.selected!==e&&this.setState({selected:e},()=>{Object(d.scrollIfNecessary)(this.nodeRefs["selectedListItem-"+e])})}componentDidMount(){window.addEventListener("keydown",this.handleKeyDown,!0)}componentWillReceiveProps(e){const t=h(this.listItems);Object(a.default)(t,this.values)&&(this.values=t,this.changeSelected(this.values[0]))}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown,!0)}renderBody(){const{selected:e}=this.state,{onSelect:t}=this.props;return this.listItems.map(n=>{if(!n||!n.type||n.type.name!==s.default.name)return n;const r=n.props.value,o=r===e;return i.cloneElement(n,{key:r,onClick:t,onHover:this.handleItemHover,selected:o,baseRef:Object(l.default)(this,"selectedListItem-"+r)})})}render(){const{class:e}=this.props,t=Object(c.default)("selectableListView",e);return i.h("div",{class:t,onMouseMove:this.handleMouseMove},this.renderBody())}}p.propTypes={onSelect:o.a.func.isRequired,children:o.a.oneOfType([o.a.instanceOf(s.default),o.a.node])},p.ListItem=s.default,t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(1050);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r);class s extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleHover=this.handleHover.bind(this)}handleClick(){const{onClick:e,value:t,disabled:n}=this.props;n||e&&void 0!==t&&e(t)}handleHover(){const{onHover:e,value:t}=this.props;e&&void 0!==t&&e(t)}render(){const{selected:e,item:t,renderItem:n,style:r,baseRef:o,class:s}=this.props;return i.h("div",{ref:o,class:s,onClick:this.handleClick,onMouseEnter:this.handleHover,style:r},n(t,e))}}s.propTypes={renderItem:o.a.func.isRequired,onClick:o.a.func,onHover:o.a.func,value:o.a.string.isRequired,selected:o.a.bool},t.default=s},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1053);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(1047),a=n(11);n(1054);function l(e,t){return i.h("div",{class:Object(a.default)("listItem",{selected:t})},e.name)}function c({sections:e,onSelect:t}){return i.h("div",{class:"moveProjectToSection noSelect"},i.h("div",{class:"moveProjectToSectionBody"},i.h(s.default,{class:"targetSections",onSelect:t},e.map(({_id:e,name:t})=>i.h(s.default.ListItem,{key:e,class:"selectableListItem",value:e,item:{name:t},renderItem:l})))))}c.defaultProps={sections:o.a.array,onSelect:o.a.func},t.default=c},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1056);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(1),r=n(1057),o=n(62);function s(e,t){const{project:{users:n,status:s},currentUser:a,moveToSectionVisible:l,removeFromSectionsVisible:c,autoPosition:d,onInvite:u,onJoin:h,onActivate:p,onArchive:f,onTransferOwnership:g,onDelete:m,onLeave:b,onClose:y,onOpen:S,onCopyWebLink:v,onCopyAppUri:C,onMoveProjectToSection:O,onRemoveProjectFromSection:E,onCreateNewSection:T}=e,{organizations:D,selectedOrganizationId:k}=t,w=n.some(e=>e.user._id===Zeplin.user._id),_=D.find(e=>e._id===k),j=_&&"suspended"===_.status,P="archived"===s,R=!w&&!j,I=w&&!j,A=!P&&w&&!j&&o.permissions.canChangeProjectStatus(a),x=P&&w&&!j&&o.permissions.canChangeProjectStatus(a),N=w&&o.permissions.canUpdateProject(a),L=c&&N&&!j,U=l&&N&&!j,M=_&&o.permissions.canCreateProjectSection(a)&&!j,B=w&&o.permissions.canTransferOwnership(a),z=w&&!j&&o.permissions.canLeaveProject(a),F=w&&o.permissions.canDeleteProject(a);return i.h(r.default.withAutoPosition,{autoPosition:d,onOpen:S,onClose:y},R&&i.h(r.default.Item,{key:"join",onClick:h},"Join"),I&&i.h(r.default.Item,{key:"invite",onClick:u},"Invite…"),!P&&i.h(r.default.Item,{key:"copyWebLink",onClick:v},"Copy project web link"),!P&&i.h(r.default.Item,{key:"copyApiUri",onClick:C},"Copy project app URI"),B&&i.h(r.default.ItemDivider,{key:"ownershipDivider"}),B&&i.h(r.default.Item,{key:"transferOwnership",onClick:g},"Transfer ownership…"),(M||U)&&i.h(r.default.ItemDivider,{key:"sectionOptionsDivider"}),U&&i.h(r.default.Item,{key:"moveProjectToSection",onClick:O},"Move project to section…"),M&&i.h(r.default.Item,{key:"createNewSection",onClick:T},"Create a new section"),L&&i.h(r.default.Item,{key:"removeProjectFromSection",onClick:E},"Remove project from section"),(z||F)&&i.h(r.default.ItemDivider,{key:"warningDivider"}),A&&i.h(r.default.Item,{key:"archive",onClick:f},"Archive project"),x&&i.h(r.default.Item,{key:"activate",onClick:p},"Activate project"),z&&i.h(r.default.Item,{key:"leave",onClick:b,warning:!0},"Leave project"),F&&i.h(r.default.Item,{key:"delete",onClick:m,warning:!0},"Delete project…"))}},function(e,t,n){"use strict";n.r(t);var i=n(1058);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11),o=n(24),s=n(62);n(1059);class a extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){this.props.onClick(e),this.context.close()}render(){const{children:e,warning:t}=this.props;return i.h("button",{type:"button",class:Object(r.default)("menuitem",{warning:t}),onClick:this.handleClick},e)}}class l extends i.Component{constructor(e){super(e),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleOnClose=this.handleOnClose.bind(this)}handleOnClose(){this.props.onClose&&this.props.onClose()}handleDocumentClick(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(this.nodeRefs.base.contains(e.target)||this.handleOnClose())}handleDocumentKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),this.handleOnClose())}componentDidMount(){document.addEventListener("contextmenu",this.handleOnClose,!0),document.addEventListener("click",this.handleDocumentClick,!0),document.addEventListener("keydown",this.handleDocumentKeyDown,!0);const{onOpen:e}=this.props;e&&e()}componentWillUnmount(){document.removeEventListener("contextmenu",this.handleOnClose,!0),document.removeEventListener("click",this.handleDocumentClick,!0),document.removeEventListener("keydown",this.handleDocumentKeyDown,!0)}getChildContext(){return{close:this.handleOnClose}}render(){const{children:e,toLeft:t,toTop:n,class:a,style:l,onMouseDown:c}=this.props;return i.h("div",{ref:Object(o.default)(this,"base"),class:Object(r.default)("contextMenu",a,{toLeft:t,toTop:n}),style:l,onMouseDown:c,onClick:s.stopPropagation},e)}}class c extends i.Component{constructor(e){super(e),this.state={top:null,left:null,toLeft:!1,toTop:!1}}autoPosition(){const{autoPosition:e}=this.props;if(!e)return;const{sidebar:t,menuContainer:n,clickOrigin:i}=e,{left:r,top:o,toLeft:s,toTop:a}=this.state,l=this.nodeRefs.contextMenu.base,c=("string"==typeof n?document.querySelector(n):n).getBoundingClientRect(),d="string"==typeof t?document.querySelector(t):t,u=d?d.getBoundingClientRect().width:0,h=i.x-c.left+2+"px",p=i.y-c.top+2+"px",f=i.x+u+l.offsetWidth>window.innerWidth,g=i.y+l.offsetHeight>window.innerHeight;h===r&&p===o&&f===s&&g===a||this.setState({left:h,top:p,toLeft:f,toTop:g})}resetAutoPosition(){const{autoPosition:e}=this.props;e&&this.setState({left:null,top:null,toLeft:!1,toTop:!1})}componentDidMount(){this.autoPosition()}componentWillReceiveProps(){this.resetAutoPosition()}componentDidUpdate(){this.autoPosition()}render(){const e=Object.assign({},this.props),{class:t,autoPosition:n}=e;delete e.autoPosition;const{left:s,top:a,toLeft:c,toTop:d}=this.state,u=n?n.zIndex:null;return i.h(l,Object.assign({},e,{toTop:d,toLeft:c,class:Object(r.default)(t,{autoPositioned:!!n}),style:{left:s,top:a,zIndex:u},ref:Object(o.default)(this,"contextMenu")}))}}l.Item=a,l.ItemDivider=()=>i.h("hr",null),l.withAutoPosition=c,t.default=l},function(e,t){},function(e,t,n){"use strict";let i,r;n.r(t),n.d(t,"getThumbnailObserver",(function(){return a}));const o=new WeakMap;function s(e){e.forEach(e=>{const t=o.get(e.target);t&&t(e)})}function a(e){return r||(i=new IntersectionObserver(s,{root:"string"==typeof e?document.querySelector(e):e,threshold:[0,.01]}),r={observe(e,t){o.set(e,t),i.observe(e)},unobserve(e){i.unobserve(e),o.delete(e)}}),r}},function(e,t,n){"use strict";n.r(t);var i=n(1062);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1);n(1063);t.default=function(e){const{height:t,top:n,left:r}=e;return i.h("div",{class:"moveCubuk",style:{height:t,top:n,left:r}})}},function(e,t){},function(e,t,n){"use strict";n.r(t),n.d(t,"CUBUK_POSITION",(function(){return i}));const i=Object.freeze({LEFT:"left",RIGHT:"right"})},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1067);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1);n(1068);t.default=function({children:e}){return i.h("div",{class:"projectsList"},e)}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1070);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(239);n(1071);t.default=function(e){const{barrelId:t,onScrollToUnpinnedBarrel:n,onDismiss:o}=e;return i.h("div",{class:"unpinnedBarrel"},i.h("p",null,"Project unpinned."),i.h("a",{href:"#",onClick:e=>function(e,t,n){e.preventDefault(),t(n)}(e,n,t)},i.h("strong",null,"Scroll to project")),i.h("div",{onClick:()=>o(t)},i.h(r.default,null),i.h("span",null,"Got it!")))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1074);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1075),o=n(1078),s=n(1115),a=n(289),l=n(680),c=n(470),d=n(473),u=n(334),h=n(1112),p=n(24),f=n(19),g=n(97),m=n(44),b=n(1133),y=n(40);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends i.Component{constructor(...e){super(...e),C(this,"state",{editingDescription:!1,deleteDialogVisible:!1,waiting:this.props.index>1}),C(this,"generateShortlink",()=>{const{webURL:e}=this.state;l.AppActions.generateShortlink(e)}),C(this,"highlightDescription",()=>{this.componentRefs.section.highlightDescription()}),C(this,"highlightName",()=>{this.componentRefs.section.highlightName()}),C(this,"handleNameBlur",({discard:e,value:t})=>{const{data:{_id:n,name:i}}=this.props;e||i===t||(n!==g.TEMPORARY_PROJECT_SECTION_ID?d.OrganizationActions.updateProjectSection({oseid:n,sectionData:{name:t},syncWithApi:!0}):this.highlightName())}),C(this,"handleDescriptionUpdate",e=>{const{data:{_id:t}}=this.props;d.OrganizationActions.updateProjectSection({oseid:t,sectionData:{description:e},syncWithApi:!0}),this.handleEditingStateChange()}),C(this,"handleEditingStateChange",()=>{this.setState(e=>({editingDescription:!e.editingDescription}))}),C(this,"handleCopyWebLink",()=>{const{onCopyLink:e}=this.props,{shortURL:t}=this.state;e(t)}),C(this,"handleCopyAppURI",()=>{const{onCopyLink:e}=this.props,{appURI:t}=this.state;e(t)}),C(this,"handleDeleteSectionClick",()=>{this.setState({deleteDialogVisible:!0})}),C(this,"handleDeleteDialogClose",()=>{this.setState({deleteDialogVisible:!1})}),C(this,"handleDeleteSection",()=>{const{data:{_id:e}}=this.props;d.OrganizationActions.removeProjectSection({oseid:e,syncWithApi:!0}),this.context.showToast({text:"Section deleted",source:"projectsContainer"})}),C(this,"handleMoveSectionClick",e=>{e.stopPropagation();const{onMoveSectionClick:t,data:n}=this.props,{sectionOptionsButton:i}=this.nodeRefs;t({section:n,targetNode:i})}),C(this,"handleAddCustomLinkClick",e=>{const{selectedOrganizationId:t,data:{_id:n}}=this.props,i=v(v({},e),{},{_id:"tempCustomLinkId"});d.OrganizationActions.addSectionLink({oid:t,oseid:n,linkData:i,syncWithApi:!0})}),C(this,"handleUpdateCustomLinkClick",e=>{const{selectedOrganizationId:t,data:{_id:n}}=this.props;d.OrganizationActions.updateSectionLink({oid:t,oseid:n,oselid:e._id,linkData:e,syncWithApi:!0})}),C(this,"handleRemoveCustomLinkClick",e=>{const{selectedOrganizationId:t,data:{_id:n}}=this.props;d.OrganizationActions.removeSectionLink({oid:t,oseid:n,oselid:e,syncWithApi:!0})}),C(this,"handleAddNewDescription",()=>{this.handleDescriptionUpdate(b.NEW_SECTION_DESCRIPTION)}),C(this,"renderOptionsMenu",()=>{const{data:{description:e}}=this.props,{canEditSections:t}=this.context;return i.h(r.default,{onOpen:this.generateShortlink},i.h(i.Fragment,null,!e&&i.h(i.Fragment,null,i.h(r.default.Item,{onClick:this.handleAddNewDescription},"Add description"),i.h(r.default.ItemDivider,{key:"addDescriptionDivider"})),i.h(r.default.Item,{key:"copyWebLink",onClick:this.handleCopyWebLink},"Copy section web link"),i.h(r.default.Item,{key:"copyAppUri",onClick:this.handleCopyAppURI},"Copy section app URI"),t&&i.h(i.Fragment,null,i.h(r.default.ItemDivider,null),i.h(r.default.Item,{key:"deleteSection",warning:!0,onClick:this.handleDeleteSectionClick},"Delete section"))))}),C(this,"renderSummary",()=>{const{shouldRenderSummary:e,selectedOrganizationName:t}=this.props,{editingDescription:n}=this.state;if(!e||n)return null;const{selectedOrganizationId:r,actionsDisabled:o,readOnly:a,data:{projects:l,links:c}}=this.props;return i.h(s.default,{selectedOrganizationId:r,selectedOrganizationName:t,projectCount:l.length,styleguides:this.sectionStyleguides,links:c,readOnly:a||o,onAddLinkButtonClick:this.handleAddCustomLinkClick,onUpdateLinkButtonClick:this.handleUpdateCustomLinkClick,onRemoveLinkButtonClick:this.handleRemoveCustomLinkClick})})}static getStores(){return[l.AppStore]}static calculateState(e,t){const{data:{_id:n},selectedOrganizationId:i}=t,{shortlinks:r}=l.AppStore.getState(),o=Object(m.urlResolve)("organization-projects",{url:{oid:i},query:{seid:n}});return{webURL:o,appURI:`${y.ZPL_PROTOCOL}//projects?oid=${i}&seid=${n}`,shortURL:r[o]||o}}get sectionStyleguides(){const{data:{projects:e},organizationStyleguides:t}=this.props;return e.reduce((e,n)=>{const{styleguideLink:{styleguide:{_id:i}={}}={}}=n,r=t.find(({_id:e})=>e===i);return r&&!e.includes(r)?[...e,r]:e},[])}componentDidMount(){this.props.data.newSection&&this.highlightName(),this.props.index>1&&requestIdleCallback(()=>{this.setState({waiting:!1})},{timeout:200})}renderDeleteDialog(){return i.h(a.BasicDialog,{title:"Delete Section?",message:"Deleting a section will delete the section links and descriptions, the projects will still remain. Are you sure you want to delete this section?",positiveButtonText:"DELETE",onPositiveButtonClick:this.handleDeleteSection,onClose:this.handleDeleteDialogClose,negativeButtonText:"CANCEL",hideNegativeButton:!1})}render(){const{loading:e,waiting:t,editingDescription:n,deleteDialogVisible:r}=this.state;if(e)return null;const{data:{projects:s,name:a,type:l,description:d,_id:u,newSection:g},index:m,collapsed:b,readOnly:y,actionsDisabled:S,highlight:v,showDescription:C,onSectionDrop:O,onProjectDrop:E,onProjectToSectionDrop:T,children:D}=this.props;if(!g&&t)return null;const k=s&&s.length?Object(f.pluralize)(s.length,"project")+" collapsed":"",w=this.renderOptionsMenu(),_="individual"===l||!b||v;return i.h(i.Fragment,null,i.h(o.DragDropProjectSection,{id:u,name:a,index:m,type:h.PROJECT_SECTION,collapsed:b,optionsButtonRef:Object(p.default)(this,"sectionOptionsButton"),componentRef:Object(p.default)(this,"section","componentRefs"),empty:0===s.length,forceExpand:_,headerClass:"projectSectionHeader",description:d,countInfoText:k,optionsMenu:w,defaultSection:"default"===l,actionsDisabled:S,readOnly:y,highlight:v,scroll:v,draggable:!0,isWorkspace:!0,showDescription:C,editingDescription:n,onSectionDrop:O,onProjectDrop:E,onProjectToSectionDrop:T,onNameBlur:this.handleNameBlur,onDescriptionBlur:this.handleDescriptionUpdate,onEditingStateChange:this.handleEditingStateChange,onExpand:c.SpaceActions.expandSection,onCollapse:c.SpaceActions.collapseSection,onHighlightEnd:c.SpaceActions.unhighlightSection,summary:this.renderSummary()},!b&&i.toChildArray(D)),r&&this.renderDeleteDialog())}}t.default=Object(u.default)(O,{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(1076);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1057);n(1077);const o=e=>i.h(r.default,Object.assign({},e,{class:"sectionMenu"}));o.Item=r.default.Item,o.ItemDivider=r.default.ItemDivider,t.default=o},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1079);n.d(t,"default",(function(){return i.default}));var r=n(1110);n.d(t,"DragDropScreenThumbnailSection",(function(){return r.default}));var o=n(1113);n.d(t,"DragDropComponentSection",(function(){return o.default}));var s=n(1114);n.d(t,"DragDropProjectSection",(function(){return s.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"getSectionComponent",(function(){return d}));var i=n(1),r=n(6),o=n.n(r),s=n(62),a=n(11),l=n(24),c=n(1080);n(1109);function d(e){class t extends i.Component{constructor(e){super(e),this.collapseExpandSection=this.collapseExpandSection.bind(this),this.handleHeaderClick=this.handleHeaderClick.bind(this),this.handleStartDrag=this.handleStartDrag.bind(this),this.handleEndDrag=this.handleEndDrag.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this),this.showOptionsMenu=this.showOptionsMenu.bind(this),this.hideOptionsMenu=this.hideOptionsMenu.bind(this),this.highlightName=this.highlightName.bind(this),this.highlightDescription=this.highlightDescription.bind(this),this.state={collapsed:e.collapsed,menuShown:!1,hidden:!1}}collapseExpandSection(e){e.stopPropagation(),this.state.collapsed?this.setState({collapsed:!1}):this.setState({collapsed:!0})}showOptionsMenu(e){e.stopPropagation(),this.state.menuShown||this.setState({menuShown:!0})}hideOptionsMenu(){this.state.menuShown&&this.setState({menuShown:!1})}highlight(){const{scroll:e,highlight:t,onScroll:n,onHighlightEnd:i}=this.props;if((e||t)&&(this.state.collapsed&&this.setState({collapsed:!1}),this.nodeRefs.base.scrollIntoView()),t&&this.nodeRefs&&this.nodeRefs.headerBase){const e=this.nodeRefs.headerBase.animate([{backgroundColor:"var(--cornflower-blue-15pc)"},{backgroundColor:"transparent"}],{duration:2e3,easing:"cubic-bezier(1, 0, 0.4, 0)"});i&&e.addEventListener("finish",i,{once:!0})}e&&n&&n()}highlightName(){this.componentRefs.header.highlightName()}highlightDescription(){this.state.collapsed?this.setState({collapsed:!1},()=>{this.componentRefs.header.highlightDescription()}):this.componentRefs.header.highlightDescription()}handleHeaderClick(){const{collapsed:e}=this.state;e&&this.setState({collapsed:!1})}handleStartDrag(){const{empty:e,isWorkspace:t}=this.props;this.setState(Object(s.getStateUpdateFunction)({hidden:!0,collapsed:!e||t,menuShown:!1}))}handleEndDrag(){this.setState({hidden:!1})}handleBaseRef(e){Object(l.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}componentDidMount(){this.highlight()}componentWillReceiveProps(e){const{collapsed:t,isWorkspace:n}=this.props;t&&(e.forceExpand||!n&&e.empty)&&this.setState({collapsed:!1})}componentDidUpdate(e,t){!t.collapsed&&this.state.collapsed?this.props.onCollapse(this.props.id):t.collapsed&&!this.state.collapsed&&this.props.onExpand(this.props.id),this.highlight()}renderHeader(){const{id:t,name:n,index:r,styleguideId:o,defaultSection:s,countInfoText:a,componentCount:c,emptyText:d,empty:u,isWorkspace:h,readOnly:p,headerClass:f,actionsDisabled:g,description:m,showDescription:b,optionsMenu:y,editingDescription:S,onNameBlur:v,onDescriptionBlur:C,onEditingStateChange:O,draggable:E,optionsButtonRef:T,optionsActive:D,sectionHeaderHover:k,summary:w,onHover:_,onHoverOut:j,onDrop:P}=this.props,{collapsed:R,menuShown:I}=this.state;return s?null:i.h(e,{baseRef:Object(l.default)(this,"headerBase"),componentRef:Object(l.default)(this,"header","componentRefs"),class:f,hasDragHover:k,id:t,index:r,styleguideId:o,name:n,countInfoText:a,componentCount:c,empty:u,emptyText:d,isWorkspace:h,defaultSection:s,readOnly:p,actionsDisabled:g,description:m,showDescription:b,onNameBlur:v,onDescriptionBlur:C,collapsed:R,optionsMenu:I&&y,draggable:E,optionsButtonRef:T,optionsActive:D,editingDescription:S,onEditingStateChange:O,onShowOptionsMenu:this.showOptionsMenu,onHideOptionsMenu:this.hideOptionsMenu,onExpandCollapseSection:this.collapseExpandSection,onHeaderClick:this.handleHeaderClick,onStartDrag:this.handleStartDrag,onEndDrag:this.handleEndDrag,summary:w,onHover:_,onHoverOut:j,onDrop:P})}render(){const{children:e,targetPosition:t,empty:n,isWorkspace:r,putComponentGroupInto:o,class:s}=this.props,{collapsed:l,hidden:c,menuShown:d}=this.state,u=Object(a.default)("section",s,t,{putComponentGroupInto:o,collapsed:l,empty:n,menuShown:d,workspace:r,hidden:c});return i.h("div",{class:u,ref:this.handleBaseRef},this.renderHeader(),!l&&!n&&e)}}return e=>{const n=Object.assign({ref:e.componentRef},e);return delete n.componentRef,i.h(t,n)}}const u=d(c.default);u.displayName="Section",u.propTypes={onNameBlur:o.a.func.isRequired,onDescriptionBlur:o.a.func.isRequired,name:o.a.string,description:o.a.string,id:o.a.string.isRequired,defaultSection:o.a.bool,countInfoText:o.a.string,showOptionsButton:o.a.bool,optionsMenu:o.a.element,readOnly:o.a.bool,actionsDisabled:o.a.bool},u.defaultProps={showOptionsButton:!1,defaultSection:!1},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(1081);n.d(t,"default",(function(){return i.default})),n.d(t,"DragSourceSectionHeader",(function(){return i.DragSourceSectionHeader}))},function(e,t,n){"use strict";n.r(t),n.d(t,"DragSourceSectionHeader",(function(){return b}));var i=n(1),r=n(24),o=n(536),s=n(1082),a=n(228),l=n(11),c=n(62),d=n(1087),u=n(1096);n(1108);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}class f extends i.Component{constructor(e){super(e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"handleDescriptionUpdate",e=>{const{onDescriptionBlur:t}=this.props;t(e)}),this.state={hasHover:!1},this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this)}highlightName(){this.componentRefs.nameInput.highlight()}highlightDescription(){this.componentRefs.descriptionInput.highlight()}handleMouseEnter(){this.setState({hasHover:!0})}handleMouseLeave(){this.setState({hasHover:!1})}handleBaseRef(e){Object(r.default)(this,"header")(e),this.props.baseRef(e)}componentDidUpdate(e){if(this.props.optionsMenu&&!e.optionsMenu){const{contextMenu:e,header:t}=this.nodeRefs,{topPadding:n}=this.props;!function(e,t,n=60){const i=e.getBoundingClientRect(),r=window.innerHeight;if(i.bottom+12>r)e.style.top=r+-36-i.bottom-12+"px";else if(i.top-n-12<0){const i=t.querySelector("div:first-child").getBoundingClientRect().top;e.style.top=12+n-i+"px"}}(e,t,n)}}renderMenu(){const{optionsMenu:e,onHideOptionsMenu:t}=this.props,n=i.cloneElement(e,{onClose:t});return i.h("div",{class:"sectionContextMenuContainer",ref:Object(r.default)(this,"contextMenu")},n)}renderSectionInfo(){const{hasHover:e}=this.state,{draggable:t,showMoveHandle:n,name:s,readOnly:l,actionsDisabled:c,onNameBlur:d,collapsed:u,empty:h,countInfoText:p,emptyText:f}=this.props,g=t&&!c&&(e||n);return i.h("div",{class:"sectionInfo"},g&&i.h(a.IconMoveHandle,{class:"moveHandleIcon"}),i.h(o.default,{ref:Object(r.default)(this,"nameInput","componentRefs"),value:s,required:!0,readOnly:l||c,onBlur:d}),u&&i.h("span",{class:"countInfo"},p),h&&i.h("span",{class:"countInfo"},f))}renderSectionActions(){const{empty:e,actionsDisabled:t,optionsButtonRef:n,optionsActive:r,isWorkspace:o,mirror:s,editingDescription:d,collapsed:u,onEditingStateChange:h,onExpandCollapseSection:p,onShowOptionsMenu:f}=this.props;const g=!s&&o?!t:!e;return i.h("div",{class:Object(l.default)("sectionActions",{disabled:t})},g&&i.h("button",{class:"collapseButton",onMouseDown:c.stopPropagation,onClick:function(e){o&&!u&&d&&h(),p(e)}},i.h(a.IconCollapse,null)),!t&&i.h("button",{class:Object(l.default)("sectionOptionsButton",{active:r}),ref:n,onMouseDown:c.stopPropagation,onClick:f},i.h(a.IconMenu,null)))}renderDescriptionInfo(){const{description:e,readOnly:t,actionsDisabled:n,isWorkspace:s,showDescription:a,empty:l,editingDescription:c,onEditingStateChange:d,collapsed:h,onDescriptionBlur:p}=this.props,f=t||n||s&&h;return s&&!a?null:i.h("div",{key:"descriptionInfo",class:"descriptionInfo"},s?i.h(u.default,{description:e,readOnly:f,editing:c,emptyWorkspaceSection:l,sectionCollapsed:h,onEditingStateChange:d,onUpdateDescription:this.handleDescriptionUpdate}):i.h(o.default,{value:e,ref:Object(r.default)(this,"descriptionInput","componentRefs"),required:!1,readOnly:f,showRemaining:!0,onBlur:p}))}renderJiraIntegrations(){const{id:e}=this.props;return i.h("div",{key:"jiraAttachmentsContainer",class:"jiraIntegrationArea"},i.h(d.default,{items:[{itemType:"section",itemId:e,label:"Attached to "}]}),i.h("div",{class:"bumper"}))}render(){const{width:e,isWorkspace:t,description:n,collapsed:r,class:o,onHeaderClick:s,hasDragHover:a,empty:c,summary:d,optionsMenu:u}=this.props,h=t||!r&&n;return i.h("div",{class:Object(l.default)("sectionHead",o,{collapsed:r,empty:c,dragHover:a}),style:{width:e},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,ref:this.handleBaseRef,onClick:s},i.h("div",{class:"mainInfo"},this.renderSectionInfo(),this.renderSectionActions(),u&&this.renderMenu()),d,h&&this.renderDescriptionInfo(),!r&&this.renderJiraIntegrations())}}const g=e=>{const t=Object.assign({ref:e.componentRef},e);return delete t.componentRef,i.h(f,t)},m=Object(s.DragSource)({itemType:"SectionHeader",allowX:!1,mirrorComponent:e=>{let{sourceRect:t,class:n}=e,r=p(e,["sourceRect","class"]);return i.h(f,h({},r,{width:t.width,mirror:!0,class:Object(l.default)("mirror","noSelect",n),actionsDisabled:!0,showMoveHandle:!0}))},mirrorZIndex:100,onStartDrag:e=>e.onStartDrag(),onEndDrag:e=>e.onEndDrag(),provideDragData:e=>Object.assign({},e,{collapsed:!e.empty||e.isWorkspace,optionsMenu:null})})(g),b=e=>i.h(m,Object.assign({draggable:!0},e));t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(1083);n.d(t,"DragSource",(function(){return i.default}));var r=n(1084);n.d(t,"DropTarget",(function(){return r.default}));var o=n(1085);n.d(t,"default",(function(){return o.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(24),o=n(62);const s={allowX:!0,allowY:!0,movingThreshold:12};t.default=function(e={}){const t=Object.assign({},s,e);return Component=>class extends i.Component{constructor(e){super(e),this.state={dragging:!1},this.initialPosition={top:0,left:0},this.handleBaseRef=this.handleBaseRef.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleDragStart=this.handleDragStart.bind(this)}handleBaseRef(e){const{dragBaseRef:t}=this.props;Object(r.default)(this,"base")(e),t&&t(e)}handleMouseMove(e){if(this.state.dragging)return e.preventDefault(),void this.handleDrag(e);const n=t.allowX?Math.abs(e.clientX-this.state.originX):0,i=t.allowY?Math.abs(e.clientY-this.state.originY):0;Math.hypot(n,i)>t.movingThreshold&&this.handleDragStart(e)}handleMouseDown(e){e.button!==Zeplin.MOUSE_BUTTON.LEFT||this.context.dragDisabled||(this.setState({originX:e.clientX,originY:e.clientY}),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseUp(e){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.state.dragging&&(this.handleDragEnd(e),e.preventDefault())}handleDragStart(e){const n=this.nodeRefs.base.getBoundingClientRect(),i={left:e.clientX-n.left,top:e.clientY-n.top};this.dragStartTimeout=!1;const r=t.provideDragData(this.props);this.context.onStartDrag({draggingItemType:t.itemType,sourceRect:n,mirrorComponent:t.mirrorComponent,mirrorZIndex:t.mirrorZIndex,dragData:r,dragOffset:i,position:{left:e.clientX,top:e.clientY}}),t.onStartDrag&&t.onStartDrag(this.props),this.setState({dragging:!0}),this.initialPosition={left:e.clientX,top:e.clientY}}handleDrag(e){this.context.onDrag({left:t.allowX?e.clientX:this.initialPosition.left,top:t.allowY?e.clientY:this.initialPosition.top})}handleDragEnd(){this.context.onEndDrag(),t.onEndDrag&&t.onEndDrag(this.props),this.setState({dragging:!1}),this.initialPosition={top:0,left:0}}render(){return i.h("div",{style:t.style,ref:this.handleBaseRef,onMouseDown:this.handleMouseDown,onDragStart:o.preventDefault},i.h(Component,Object.assign({},this.props,{dragging:this.state.dragging})))}}}},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(24),o=n(62);t.default=function(e={}){return Component=>class extends i.Component{constructor(e){super(e),this.hasHover=!1}acceptsItemType(t,n){if("string"==typeof e.acceptsItemType)return e.acceptsItemType===t;if(Array.isArray(e.acceptsItemType))return e.acceptsItemType.includes(t);if("object"==typeof e.acceptsItemType){const i=e.acceptsItemType[n];if("string"==typeof i)return i===t;if(Array.isArray(i))return i.includes(t)}}checkHoverOut(t){this.acceptsItemType(t.draggingItemType,"drag")&&this.hasHover&&(e.onHoverOut&&e.onHoverOut(this.props,t),this.hasHover=!1)}checkDrop(t,n){if(!this.acceptsItemType(n.draggingItemType,"drop"))return!1;let i=!0;const r=()=>{i=!1},s=this.nodeRefs.base.getBoundingClientRect(),a={x:t.left,y:t.top};return!!Object(o.rectContainsPoint)(s,a)&&(e.onDrop&&e.onDrop(this.props,n,r),i)}checkHover(t,n){if(!this.acceptsItemType(n.draggingItemType,"drag"))return;const i=this.nodeRefs.base.getBoundingClientRect(),r={x:t.left,y:t.top};if(Object(o.rectContainsPoint)(i,r))return e.onHover&&e.onHover(this.props,n),void(this.hasHover||(this.hasHover=!0));this.checkHoverOut(n)}componentDidMount(){this.context.registerDropTarget(this)}componentWillUnmount(){this.context.unregisterDropTarget(this)}render(){return i.h("div",{style:e.style,ref:Object(r.default)(this,"base")},i.h(Component,this.props))}}}},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(293),o=n(340),s=n(11),a=n(24),l=n(56),c=n(62),d=n(6),u=n.n(d);n(1086);class h extends o.default{getChildContext(){const{onStartDrag:e,onDrag:t,onEndDrag:n,dragDisabled:i,registerDropTarget:r,unregisterDropTarget:o}=this.props;return{onStartDrag:e,onDrag:t,onEndDrag:n,dragDisabled:i,registerDropTarget:r,unregisterDropTarget:o}}render(){const{class:e,baseRef:t,items:n,onScroll:r}=this.props;return i.h("div",{class:e,ref:t,onScroll:r},n)}}function p(e){return{top:e.top+window.scrollY,left:e.left}}class f extends i.Component{constructor(e){super(e),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleStartDrag=this.handleStartDrag.bind(this),this.handleDrag=this.handleDrag.bind(this),this.handleEndDrag=this.handleEndDrag.bind(this),this.handleWheel=this.handleWheel.bind(this),this.registerDropTarget=this.registerDropTarget.bind(this),this.unregisterDropTarget=this.unregisterDropTarget.bind(this),this.state={dragging:!1,dragData:null,sourceRect:null,draggingItemType:"",mirrorComponent:null,mirrorZIndex:"",dragOffset:{top:0,left:0},mirrorPosition:{top:0,left:0}},this.scrollableDropContainers=null,this.lastScrolledDropContainer=null,this.registeredDropTargets=new Set,this.scrollRoot=this.scrollRoot.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this)}scrollRoot(){const{base:e,mirror:t}=this.nodeRefs;if(!t)return;cancelAnimationFrame(this.scrollRootAF);const{mirrorPosition:n}=this.state;let i=this.lastScrolledDropContainer||e;if(i.scrollHeight<=i.clientHeight&&(i=Object(l.getFirstScrollableParent)(i)||i),this.scrollableDropContainers)for(let l of this.scrollableDropContainers){const e=l.getBoundingClientRect(),t={x:n.left,y:n.top};if(Object(c.rectContainsPoint)(e,t)){i=l,this.lastScrolledDropContainer=l;break}}const r=t.getBoundingClientRect(),o=i.getBoundingClientRect(),s=r.top-.1*r.height-o.top;if(s<0&&i.scrollTop>0)return i.scrollTop+=s,void(this.scrollRootAF=requestAnimationFrame(this.scrollRoot));const a=n.top-window.scrollY,d=r.top+.1*r.height-o.bottom,u=a+30-o.bottom,h=d>0?d:u;h>0&&i.scrollTop+i.offsetHeight+.1*r.height<i.scrollHeight&&(i.scrollTop+=h,this.scrollRootAF=requestAnimationFrame(this.scrollRoot))}registerDropTarget(e){this.registeredDropTargets.add(e)}unregisterDropTarget(e){this.registeredDropTargets.delete(e)}checkHoverOnVisibleTargets(){const e={top:this.state.mirrorPosition.top-window.scrollY,left:this.state.mirrorPosition.left};this.registeredDropTargets.forEach(t=>{t.checkHover(e,this.state)})}checkDropOnVisibleTargets(){const e={top:this.state.mirrorPosition.top-window.scrollY,left:this.state.mirrorPosition.left};let t=!1;this.registeredDropTargets.forEach(n=>{!this.props.enableDropOntoMultipleTargets&&t||(t=n.checkDrop(e,this.state)),n.checkHoverOut(this.state)})}isDragEnded(e){return e.dragging&&!this.state.dragging}isDragPositionChanged(e){return this.state.dragging&&this.state.mirrorPosition!==e.mirrorPosition}handleDocumentClick(e){this.state.dragging&&(e.preventDefault(),e.stopImmediatePropagation())}handleStartDrag({draggingItemType:e,sourceRect:t,mirrorComponent:n,mirrorZIndex:i,dragData:r,dragOffset:o,position:s}){const{disabled:a,scrollableDropContainers:l}=this.props;a||(this.lastScrolledDropContainer=null,this.scrollableDropContainers=l&&l(),this.setState({dragging:!0,draggingItemType:e,sourceRect:t,mirrorComponent:n,mirrorZIndex:i,dragData:r,dragOffset:o,mirrorPosition:p(s)},()=>{document.body.classList.add("dragging"),this.props.onStartDrag&&this.props.onStartDrag()}))}handleDrag(e){this.props.disabled||this.setState({mirrorPosition:p(e)})}handleEndDrag(){this.props.disabled||(this.scrollableDropContainers=null,this.setState({dragging:!1},()=>{document.body.classList.remove("dragging"),this.props.onEndDrag&&this.props.onEndDrag()}))}handleBaseRef(e){Object(a.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}handleWheel(e){this.state.dragging&&(this.setState(e=>({mirrorPosition:{top:e.mirrorPosition.top,left:e.mirrorPosition.left}})),this.getScrollContainer().scrollTop+=e.deltaY)}componentDidMount(){document.addEventListener("click",this.handleDocumentClick,!0),document.addEventListener("wheel",this.handleWheel)}componentDidUpdate(e,t){this.isDragEnded(t)?this.checkDropOnVisibleTargets():this.isDragPositionChanged(t)&&(cancelAnimationFrame(this.scrollRootAF),this.scrollRootAF=requestAnimationFrame(this.scrollRoot),this.checkHoverOnVisibleTargets())}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0),document.removeEventListener("wheel",this.handleWheel),document.body.classList.remove("dragging")}render(){const{class:e,children:t,disabled:n,itemsClass:o,noScroll:l,onScroll:c}=this.props,{dragging:d,sourceRect:u,mirrorComponent:p,mirrorZIndex:f,dragData:g,mirrorPosition:m,dragOffset:b}=this.state,y=Object(s.default)("dragDropItems",o,{noScroll:l});return i.h("div",{class:Object(s.default)("dragDropContainer",e)},i.h(h,{class:y,onScroll:c,dragDisabled:n,baseRef:this.handleBaseRef,onStartDrag:this.handleStartDrag,onDrag:this.handleDrag,onEndDrag:this.handleEndDrag,registerDropTarget:this.registerDropTarget,unregisterDropTarget:this.unregisterDropTarget,items:t}),d&&i.h(r.default,null,i.h("div",{ref:Object(a.default)(this,"mirror"),class:"dragMirrorWrapper",style:{transform:`translate(${m.left-b.left}px, ${m.top-b.top}px)`,zIndex:f}},i.h(p,Object.assign({},g,{sourceRect:u})))))}}f.propTypes={onStartDrag:u.a.func,onEndDrag:u.a.func,disabled:u.a.bool,class:u.a.string,itemsClass:u.a.string,noScroll:u.a.bool,enableDropOntoMultipleTargets:u.a.bool,children:u.a.node},t.default=f},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1088);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(342),a=n(334),l=n(62),c=n(1089),d=n(1092),u=n(11),h=n(345),p=n(40);n(1095);class f extends i.Component{constructor(e){super(e),this.handleJiraAttachmentClick=this.handleJiraAttachmentClick.bind(this)}static getStores(){return[s.BarrelStore,h.ProjectsDataStore]}static calculateState(e,t){const{loading:n}=s.BarrelStore.getState(),{integration:i={}}=s.BarrelHelpers.getBarrel()||{};return{loading:n,integration:i}}handleJiraAttachmentClick(){mixpanel.master.track("Clicked Jira issue")}shouldComponentUpdate(e,t){return this.props.itemId!==e.itemId||this.props.itemType!==e.itemType||(this.state.integration.jira!==t.integration.jira||this.state.loading!==t.loading)}renderJiraAttachments(e){const{class:t}=this.props;return i.h("div",{class:Object(u.default)("jiraAttachmentsContainer",t)},e.map(e=>i.h(c.default,{class:"attachmentRow",logo:i.h(d.default,null),description:e.label,text:e.attachmentIds,href:e.href,onClick:this.handleJiraAttachmentClick})))}render(){const{loading:e,integration:{jira:t}}=this.state,{wrappingFn:n,items:i,maxNumberOfAttachmentsShown:r}=this.props;if(e||!i||!i.length||!t)return null;const o=i.reduce((e,n)=>n.itemId?e.concat(function(e,{itemType:t,itemId:n,label:i},r){if(!e)return[];const o=Object(l.groupBy)(e.filter(e=>e.type===t&&e.itemId===n),"deploymentUrl"),s="atlOrigin="+p.JIRA_ATL_ORIGIN_TOKEN;return Object.values(o).map(e=>{let t="",n="",o="",a=0;return e.forEach((e,i)=>{0===i?(t=e.issueKey,n=e.issueUrl,o+="jql=issuekey in ("+e.issueKey):i<r?(t+=", "+e.issueKey,o+=","+e.issueKey):(a++,o+=","+e.issueKey)}),o+=")",a>0&&(t+=` and ${a} more`),{attachmentIds:t,label:i,href:e.length>1?`${n}?${o}&${s}`:`${n}?${s}`}})}(t.attachments,n,r)):e,[]),s=this.renderJiraAttachments(o);return o.length>0&&n?n(s):s}}f.propTypes={wrappingFn:o.a.func,itemType:o.a.string,itemId:o.a.string,maxNumberOfAttachmentsShown:o.a.number},f.defaultProps={maxNumberOfAttachmentsShown:3},t.default=Object(a.default)(f,{withProps:!0,pure:!1})},function(e,t,n){"use strict";n.r(t);var i=n(1090);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(11);n(1091);function a(e){const{class:t,logo:n,disabled:r,description:o,text:a,href:l,onClick:c}=e,d=i.cloneElement(n,{class:"integrationLogo",disabled:r});return i.h("div",{class:Object(s.default)("integrationInfo",t)},d,i.h("span",null,o),l?i.h("a",{class:"text ellipsis",target:"_blank",title:a,href:l,onClick:c,rel:"external noopener noreferrer"},a):i.h("span",{class:"text ellipsis"},a))}a.propTypes={logo:o.a.element,disabled:o.a.bool,description:o.a.string,text:o.a.string,href:o.a.string},t.default=a},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1093);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11);n(1094);t.default=function(e){const{class:t,disabled:n}=e,o=Object(r.default)("jiraLogo",t,{disabled:n});return i.h("svg",{width:"16",height:"16",viewBox:"0 0 16 16",class:o},i.h("defs",null,i.h("linearGradient",{id:"a",x1:"67.673%",x2:"40.808%",y1:"40.311%",y2:"81.641%"},i.h("stop",{offset:"18%","stop-color":"#0052CC"}),i.h("stop",{offset:"100%","stop-color":"#2684FF"})),i.h("linearGradient",{id:"b",x1:"32.633%",x2:"59.341%",y1:"-23.325%",y2:"17.855%"},i.h("stop",{offset:"18%","stop-color":"#0052CC"}),i.h("stop",{offset:"100%","stop-color":"#2684FF"}))),i.h("g",{fill:"none","fill-rule":"nonzero"},i.h("path",{fill:"#2684FF",d:"M15.586 7.55L8.703.667 8.036 0 2.854 5.181.484 7.55a.635.635 0 0 0 0 .895L5.22 13.18l2.817 2.816 5.18-5.181.08-.08 2.29-2.285a.633.633 0 0 0 0-.9zm-7.55 2.813L5.67 7.998l2.365-2.365L10.4 7.998l-2.364 2.365z"}),i.h("path",{fill:"url(#a)",d:"M7.736 5.633A3.981 3.981 0 0 1 7.718.019L2.544 5.192 5.36 8.008l2.376-2.375z",transform:"translate(.3)"}),i.h("path",{fill:"url(#b)",d:"M10.106 7.991l-2.37 2.372a3.982 3.982 0 0 1 0 5.63l5.189-5.185-2.819-2.817z",transform:"translate(.3)"})))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1097);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(296),a=n(612),l=n(1098),c=n(11),d=n(62);n(1107);const u=[a.CustomRules.SPOTIFY,a.CustomRules.YOUTUBE,a.MarkdownRules.IMAGE,a.MarkdownRules.CHECKBOX,a.MarkdownRules.TABLE,a.MarkdownRules.HEADING];function h({description:e,readOnly:t,editing:n,sectionCollapsed:r,emptyWorkspaceSection:o,onEditingStateChange:a,onUpdateDescription:h}){const p=Object(s.useRef)(null),[f,g]=Object(s.useState)(!1),[m,b]=Object(s.useState)(!1),[y,S]=Object(s.useState)(!1);Object(s.useLayoutEffect)(()=>{const e=p.current;if(e){const{scrollHeight:t,clientHeight:n}=e;g(m?n>36:t>n),b(!1),function(e){const t=e.querySelector(".markdown");if(t){const{firstElementChild:e,childElementCount:n}=t;S(n>1&&18===e.offsetHeight)}}(e)}},[e]),Object(s.useEffect)(()=>{r&&b(!1)},[r]);const v=!m&&!n&&f;return i.h("div",{class:Object(c.default)("workspaceDescriptionWrapper",{editing:n}),onMouseDown:d.stopPropagation},e&&i.h("div",{class:Object(c.default)("workspaceDescription",{expanded:m,readOnly:t,hasNewLine:y}),ref:p},i.h(l.default,{value:e,disabledFeatures:u,supportLink:"https://zpl.io/article/lightweight-markdown-support",readOnly:t,editing:n,onEdit:a,onCancel:a,onUpdate:h})),f&&!n&&i.h("div",{class:"textButton",onClick:function(){b(!m)}},v?"Show more":"Show less"),o&&!r&&i.h("p",{class:"emptyWorkspaceSection"},"☝️ No projects yet. Move projects to this section by dragging and dropping."))}h.propTypes={description:o.a.string,editing:o.a.bool,emptyWorkspaceSection:o.a.bool,onEditingStateChange:o.a.func,onUpdateDescription:o.a.func},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(1099);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(340),a=n(11),l=n(24),c=n(62),d=n(64),u=n(9),h=n(1100),p=n(606),f=n(610),g=n(228),m=n(1105),b=n(612);n(1106);const y=/:(\S+?):/g;class S extends s.default{constructor(e){super(e),this.handleCancel=this.handleCancel.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handleInput=this.handleInput.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleKeyDownWhenListOpen=this.handleKeyDownWhenListOpen.bind(this),this.handleKeyDownListActions=Object(c.debounce)(this.handleKeyDownListActions).bind(this),this.handleSelectEmoji=this.handleSelectEmoji.bind(this),this.handleListItemMouseOver=this.handleListItemMouseOver.bind(this),this.handleListItemClick=this.handleListItemClick.bind(this),this.handleTextAreaClick=this.handleTextAreaClick.bind(this),this.scrollIntoView=this.scrollIntoView.bind(this),this.changeSuggestedEmojis=this.changeSuggestedEmojis.bind(this),this.setValueStateToInitialValue=this.setValueStateToInitialValue.bind(this),this.state={selectedEmojiIndex:0,suggestedEmojis:[],autoCompletedEmoji:!1,value:e.value}}changeSuggestedEmojis(){const{value:e,suggestedEmojis:t,selectedEmojiIndex:n}=this.state,{textArea:i}=this.nodeRefs,r=function(e,t){const n=e.substring(0,t),i=n.lastIndexOf(":"),r=e.substring(i,t).match(/^:(.+)/);if(r){const e=r[0].substring(1),t=n.substring(0,i).lastIndexOf(":"),o=n.substring(t,i+1).match(y);return o&&p.default.searchEmoji(o[0].substring(1,o[0].length-1))?[]:p.default.getSuggestedEmojis(e)}return[]}(e,i.selectionStart);if(r!==t){const e=Math.max(0,Math.min(n,r.length-1));this.setState({suggestedEmojis:r,selectedEmojiIndex:e})}}setValueStateToInitialValue(){const{initialValue:e}=this.props,{value:t}=this.state;!t&&e&&this.setState({value:e})}get maxLength(){const{maxLength:e}=this.props,{value:t}=this.state;return e&&"safari"===Object(d.getBrowser)()?e+(t.match(/\n/g)||[]).length:e}submit(){const{value:e,onUpdate:t,onCancel:n}=this.props,{value:i}=this.state;i!==e?t(i):n()}positionEmojiAutoComplete(){cancelAnimationFrame(this.rAF),this.rAF=requestAnimationFrame(()=>{const{textArea:e,emojiAutoCompleteContainer:t}=this.nodeRefs;if(!e||!t)return;const n=e.selectionStart,{top:i,left:r}=Object(m.default)(e,n);let o=i+22,s=r;t.style.top=o+"px",t.style.left=s+"px"})}scrollIntoView(){this.nodeRefs.styleguideDescription.scrollIntoView()}handleCancel(){const{value:e,onCancel:t}=this.props;this.setState({value:e}),t()}handleSubmit(){const{readOnly:e}=this.props;e||this.submit()}handleInput(e){const{readOnly:t}=this.props;t||this.setState({value:e.target.value,autoCompletedEmoji:!1})}handleKeyDown(e){const{editing:t,readOnly:n}=this.props;if(n)return;t&&this.state.suggestedEmojis.length?this.handleKeyDownWhenListOpen(e):(e.keyCode===Zeplin.KEY_CODE.ESC&&this.handleCancel(),e.keyCode===Zeplin.KEY_CODE.ENTER&&Object(d.cmdKey)(e)&&this.submit())}handleKeyDownListActions(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:this.setState({suggestedEmojis:[]});break;case Zeplin.KEY_CODE.ENTER:this.handleSelectEmoji();break;case Zeplin.KEY_CODE.ArrowDown:this.setState(e=>e.selectedEmojiIndex>=e.suggestedEmojis.length-1?{selectedEmojiIndex:e.suggestedEmojis.length-1}:{selectedEmojiIndex:e.selectedEmojiIndex+1});break;case Zeplin.KEY_CODE.ArrowUp:this.setState(e=>e.selectedEmojiIndex<=0?{selectedEmojiIndex:0}:{selectedEmojiIndex:e.selectedEmojiIndex-1})}}handleKeyDownWhenListOpen(e){(e.keyCode===Zeplin.KEY_CODE.ENTER||e.keyCode===Zeplin.KEY_CODE.ArrowDown||e.keyCode===Zeplin.KEY_CODE.ArrowUp)&&e.preventDefault(),this.handleKeyDownListActions(e)}handleKeyUp(e){e.keyCode!==Zeplin.KEY_CODE.ArrowLeft&&e.keyCode!==Zeplin.KEY_CODE.ArrowRight&&e.keyCode!==Zeplin.KEY_CODE.ArrowUp&&e.keyCode!==Zeplin.KEY_CODE.ArrowDown||this.setState({autoCompletedEmoji:!1},this.changeSuggestedEmojis)}handleListItemClick(e,t){this.setState({selectedEmojiIndex:e},this.handleSelectEmoji)}handleListItemMouseOver(e,t){this.setState({selectedEmojiIndex:e})}handleSelectEmoji(){const{suggestedEmojis:e,selectedEmojiIndex:t,value:n}=this.state,{textArea:i}=this.nodeRefs,r=e[t],o=i.selectionStart,s=n.substring(0,o).lastIndexOf(":"),a=r.formattedAlias,l=n.substring(0,s)+":"+a+": "+n.substring(o),c=s+a.length+3;this.setState({value:l,autoCompletedEmoji:!0,suggestedEmojis:[]},()=>{i.focus(),i.setSelectionRange(c,c)})}handleTextAreaClick(){this.props.editing&&this.changeSuggestedEmojis()}componentDidMount(){const{editing:e}=this.props;e&&(this.setValueStateToInitialValue(),this.nodeRefs.textArea.focus())}componentWillReceiveProps(e){const{value:t}=this.props,{value:n=""}=e;t!==n&&this.setState({value:n})}componentDidUpdate(e,t){const{editing:n}=this.props,{value:i,autoCompletedEmoji:r,suggestedEmojis:o}=this.state;n&&e.editing!==n&&(this.setValueStateToInitialValue(),this.nodeRefs.textArea.focus()),r||i===t.value||this.changeSuggestedEmojis(),n&&o.length&&this.positionEmojiAutoComplete()}renderEditBar(){const{editing:e,readOnly:t,onEdit:n}=this.props;return e||t?null:i.h("div",{key:"editBar",class:"editBar"},i.h(u.default,{onClick:n},i.h(g.IconEdit,null)))}renderControls(){const{editing:e,value:t,disabledFeatures:n,supportLink:r,readOnly:o}=this.props;if(!e||o)return null;const s=r||"https://zpl.io/article/markdown-support";return i.h("div",{key:"controls",class:"controls"},i.h("div",{class:"markdownGuide"},i.h("div",{class:"markdownSamples"},!n.includes(b.MarkdownRules.HEADING)&&i.h("span",null,"# Header  "),i.h("strong",null,"**bold**"),"  ",i.h("em",null,"_italics_"),"  ",i.h("code",null,"`code`"),"  ",i.h("span",null,">quote")),i.h("a",{href:s,target:"_blank"},"Learn more")),i.h("div",{class:"buttons"},i.h(u.default,{secondary:!0,onClick:this.handleCancel},"Cancel"),i.h(u.default,{primary:!0,class:"submitButton",onClick:this.handleSubmit,disabled:t===this.state.value},t?"Update":"Add")))}renderEmojiAutocomplete(){const{editing:e}=this.props,{suggestedEmojis:t,selectedEmojiIndex:n}=this.state;return e&&t.length?i.h("div",{class:"emojiAutoCompleteListContainer",tabIndex:"-1",ref:Object(l.default)(this,"emojiAutoCompleteContainer")},i.h(h.default,{onItemClick:this.handleListItemClick,onItemMouseOver:this.handleListItemMouseOver,suggestedEmojis:t,selectedIndex:n})):null}render(){const{editing:e,shouldPromoteEditButton:t,placeholder:n,disabledFeatures:r,onUpdate:o}=this.props,{value:s}=this.state,c=!e&&!s&&Boolean(n),d=Object(a.default)("styleguideDescription",{editing:e,promoteEditButton:t,placeholderVisible:c});return i.h("div",{ref:Object(l.default)(this,"styleguideDescription"),class:d},this.renderEditBar(),i.h("div",{class:"textArea"},!e&&i.h(f.default,{onUpdate:o,disabledFeatures:r},s||n),i.h("div",{class:"editor"},i.h("div",{class:"mirror"},s," "),this.renderEmojiAutocomplete(),i.h("textarea",{ref:Object(l.default)(this,"textArea"),value:s,spellcheck:"false",maxLength:this.maxLength,onClick:this.handleTextAreaClick,onInput:this.handleInput,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp}))),this.renderControls())}}S.propTypes={value:o.a.string,maxLength:o.a.number,readOnly:o.a.bool,placeholder:o.a.string,shouldPromoteEditButton:o.a.bool,supportLink:o.a.string,onEdit:o.a.func,onUpdate:o.a.func,onCancel:o.a.func},S.defaultProps={value:"",initialValue:"# Title\n\nDescription",editing:!1,readOnly:!1,disabledFeatures:[]},t.default=S},function(e,t,n){"use strict";n.r(t);var i=n(1101);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11),o=n(6),s=n.n(o),a=n(1102);n(1104);function l(e){const{emoji:t,formattedAlias:n,selected:o,customEmoji:s,onMouseOver:a,onClick:l,listRef:c}=e,d=s?i.h("img",{src:t,class:"emojiImg"}):i.h("span",{class:"emojiChar"},t);return i.h("div",{class:Object(r.default)({selected:o},"emojiItem"),onMouseOver:a,onClick:l,ref:c},d,i.h("span",{class:"emojiAlias"},n))}function c({suggestedEmojis:e,selectedIndex:t,onItemClick:n,onItemMouseOver:r}){return i.h(a.default,{class:"emojiAutoCompleteList",options:e,keyProp:"formattedAlias",selectedIndex:t,onItemMouseOver:r,onItemClick:n,RowComponent:l})}c.propTypes={suggestedEmojis:s.a.array,selectedIndex:s.a.number,onItemClick:s.a.func,onItemMouseOver:s.a.func},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1103);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(62),o=n(24),s=n(56);function a(e,t){return n=>t(e,n)}const l=Object(r.debounce)(e=>{e&&Object(s.scrollIfNecessary)(e)});class c extends i.Component{componentWillReceiveProps(e){const{selectedIndex:t}=e,{selectedIndex:n}=this.props;if(n===t)return;const i=this.nodeRefs["ref"+t],r=this.nodeRefs["ref"+n];i&&(l(i),i.classList.add("selected")),r&&r.classList.remove("selected")}shouldComponentUpdate(e,t){return this.props.options!==e.options}render({class:e,options:t,keyProp:n,RowComponent:r,selectedIndex:s,onItemMouseOver:l,onItemClick:c}){return i.h("div",{class:e},t.map((e,t)=>i.h(r,Object.assign({},e,{key:e[n]},{listRef:Object(o.default)(this,"ref"+t)},{selected:t===s,onMouseOver:a(t,l),onClick:a(t,c)}))))}}t.default=c},function(e,t){},function(e,t,n){"use strict";n.r(t);const i=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],r=null!==window.mozInnerScreenX;t.default=function(e,t){const n=document.createElement("div");document.body.appendChild(n);const o=n.style,s=window.getComputedStyle(e);var a="INPUT"===e.nodeName;o.whiteSpace="pre-wrap",a||(o.wordWrap="break-word"),o.position="absolute",o.visibility="hidden",i.forEach(e=>{if(a&&"lineHeight"===e)if("border-box"===s.boxSizing){const e=parseInt(s.height,10),t=parseInt(s.paddingTop,10)+parseInt(s.paddingBottom,10)+parseInt(s.borderTopWidth,10)+parseInt(s.borderBottomWidth,10),n=t+parseInt(s.lineHeight,10);o.lineHeight=e>n?e-t+"px":e===n?s.lineHeight:0}else o.lineHeight=s.height;else o[e]=s[e]}),r?e.scrollHeight>parseInt(s.height,10)&&(o.overflowY="scroll"):o.overflow="hidden",n.textContent=e.value.substring(0,t),a&&(n.textContent=n.textContent.replace(/\s/g," "));const l=document.createElement("span");l.textContent=e.value.substring(t)||".",n.appendChild(l);var c={top:l.offsetTop+parseInt(s.borderTopWidth,10),left:l.offsetLeft+parseInt(s.borderLeftWidth,10),height:parseInt(s.lineHeight,10)};return document.body.removeChild(n),c}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1082),o=n(1080),s=n(1079),a=n(1111),l=n(24);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u="SectionHeader",h="ScreenThumbnail",p=Object(r.DropTarget)({acceptsItemType:h,onHover:(e,t)=>e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t.draggingItemType),onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id},t.draggingItemType)})(o.DragSourceSectionHeader),f=Object(s.getSectionComponent)(p),g=Object(r.DropTarget)({acceptsItemType:u,onHover:(e,t)=>e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t.draggingItemType),onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id,sourceIndex:t.dragData.index},t.draggingItemType)})(f);class m extends i.Component{constructor(...e){super(...e),d(this,"state",{targetPosition:"",sectionHeaderHover:!1}),d(this,"handleDragHover",(e,t)=>{t!==u?this.setSectionHeaderHover():this.setTargetPosition(e)}),d(this,"handleDragHoverOut",e=>{e!==u?this.unsetSectionHeaderHover():this.unsetTargetPosition()}),d(this,"handleDrop",({sourceId:e,sourceIndex:t},n)=>n===u?this.dropSectionHeader(e,t):n===h?this.dropScreenThumbnail(e):void 0)}dropSectionHeader(e,t){if(""===this.props.targetPosition)return;const n=this.calculateMoveIndex(t);this.props.onSectionHeaderDrop(e,t,n)}dropScreenThumbnail(e){const{id:t,onScreenThumbnailDrop:n}=this.props;n(e,t)}render(){const{targetPosition:e,sectionHeaderHover:t}=this.state,{dragDisabled:n}=this.context;return i.h(g,c({},this.props,{baseRef:Object(l.default)(this,"base"),targetPosition:e,draggable:!n,sectionHeaderHover:t,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop}))}}t.default=Object(a.default)(m)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(1112);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o={[i.SCREEN_THUMBNAIL_SECTION]:80,[i.STYLEGUIDE_COMPONENT_SECTION]:80,[i.PROJECT_SECTION]:160};function s(e){return class extends e{constructor(...e){super(...e),r(this,"calculateMoveIndex",e=>{const{defaultSection:t,index:n}=this.props,{targetPosition:i}=this.state,r="bottom"===i;if(t&&!r)return;let o=n;return e>n&&r&&(o=n+1),e<n&&!r&&(o=n-1),o}),r(this,"setTargetPosition",e=>{const{defaultSection:t,type:n}=this.props,{targetPosition:i}=this.state,{base:r}=this.nodeRefs,s=function({type:e,baseRect:t,pointerPosition:n,targetPosition:i}){const r=i?o[e]:0,s=("top"===i?t.top+r:t.top)+(t.height-r)/2;return n.top>=s}({type:n,baseRect:r.getBoundingClientRect(),pointerPosition:e,targetPosition:i});if(t&&!s)return void this.setState({targetPosition:""});const a=s?"bottom":"top";i!==a&&this.setState({targetPosition:a})}),r(this,"unsetTargetPosition",()=>{this.state.targetPosition&&this.setState({targetPosition:""})}),r(this,"setSectionHeaderHover",()=>{this.state.sectionHeaderHover||this.setState({sectionHeaderHover:!0})})}unsetSectionHeaderHover(){this.state.sectionHeaderHover&&this.setState({sectionHeaderHover:!1})}}}},function(e,t,n){"use strict";n.r(t),n.d(t,"DEFAULT_DESCRIPTION",(function(){return i})),n.d(t,"SCREEN_THUMBNAIL_SECTION",(function(){return r})),n.d(t,"STYLEGUIDE_COMPONENT_SECTION",(function(){return o})),n.d(t,"PROJECT_SECTION",(function(){return s}));const i="A sweet, short description.",r="ScreenThumbnailSection",o="StyleguideComponentSection",s="ProjectSection"},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1082),o=n(1080),s=n(1079),a=n(1111),l=n(24);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u="SectionHeader",h="GroupHeader",p="StyleguideComponent",f=Object(r.DropTarget)({acceptsItemType:p,onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceIndex:t.dragData.index,sourceIdPath:t.dragData.idPath,sourceStyleguideId:t.dragData.styleguideId},t.draggingItemType)})(o.DragSourceSectionHeader),g=Object(s.getSectionComponent)(f),m=Object(r.DropTarget)({acceptsItemType:[u,h],onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id,sourceIndex:t.dragData.index,sourceIdPath:t.dragData.idPath,sourceStyleguideId:t.dragData.styleguideId},t.draggingItemType)})(g);class b extends i.Component{constructor(...e){super(...e),d(this,"state",{targetPosition:"",sectionHeaderHover:!1,putComponentGroupInto:!1}),d(this,"setPutComponentGroupInto",(e,t)=>{const n=this.nodeRefs.base.getBoundingClientRect(),{id:i,defaultSection:r,collapsed:o,componentGroupsCount:s}=this.props,{putComponentGroupInto:a}=this.state,l=t[0];r||o||s&&(1!==s||l!==i)||!function(e,t,n){return t.top+43+36>e.bottom-(n?43:0)}(n,e,a)?this.unsetPutComponentGroupInto():a||this.setState({putComponentGroupInto:!0})}),d(this,"unsetPutComponentGroupInto",()=>{this.state.putComponentGroupInto&&this.setState({putComponentGroupInto:!1})}),d(this,"dropSectionHeader",(e,t,n)=>{if(""===this.state.targetPosition)return;const{styleguideId:i,onSectionOrGroupDrop:r}=this.props,o=this.calculateMoveIndex(e);n===i&&e===o||r({sourceIdPath:[t],sourceIndex:e,sourceStyleguideId:n,targetStyleguideId:i,to:o})}),d(this,"dropComponent",(e,t,n)=>{const{id:i,styleguideId:r,componentCount:o,onComponentToSectionOrGroupDrop:s}=this.props;s({sourceIdPath:t,sourceIndex:e,targetIdPath:[i],sourceStyleguideId:n,targetStyleguideId:r,to:o})}),d(this,"dropGroupHeader",(e,t,n)=>{if(!this.state.putComponentGroupInto)return;const{id:i,styleguideId:r,onSectionOrGroupDrop:o}=this.props;o({sourceIndex:e,sourceIdPath:t,targetSectionIdPath:[i],sourceStyleguideId:n,targetStyleguideId:r,to:0})}),d(this,"handleDragHover",(e,t)=>{const{draggingItemType:n}=t;if(n===u)this.setTargetPosition(e);else if(n===h){const{dragData:{idPath:n}}=t;this.setPutComponentGroupInto(e,n)}else n===p&&this.setSectionHeaderHover()}),d(this,"handleDragHoverOut",e=>{e===u?this.unsetTargetPosition():e===h?this.unsetPutComponentGroupInto():e===p&&this.unsetSectionHeaderHover()}),d(this,"handleDrop",({sourceId:e,sourceIndex:t,sourceIdPath:n,sourceStyleguideId:i},r)=>{r===u?this.dropSectionHeader(t,e,i):r===p?this.dropComponent(t,n,i):r===h&&this.dropGroupHeader(t,n,i)})}render(){const{targetPosition:e,sectionHeaderHover:t,putComponentGroupInto:n}=this.state,{dragDisabled:r}=this.context;return i.h(m,c({},this.props,{baseRef:Object(l.default)(this,"base"),targetPosition:e,putComponentGroupInto:n,draggable:!r,sectionHeaderHover:t,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop}))}}t.default=Object(a.default)(b)},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1082),o=n(1080),s=n(1079),a=n(1111),l=n(24);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u="SectionHeader",h="Project",p=Object(r.DropTarget)({acceptsItemType:h,onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t.draggingItemType)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id,sourceIndex:t.dragData.index},t.draggingItemType)})(o.DragSourceSectionHeader),f=Object(r.DropTarget)({acceptsItemType:h,onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t.draggingItemType)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id},t.draggingItemType)})(s.default),g=Object(s.getSectionComponent)(p),m=Object(r.DropTarget)({acceptsItemType:u,onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top,left:t.mirrorPosition.left},t.draggingItemType)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceId:t.dragData.id,sourceIndex:t.dragData.index},t.draggingItemType)})(g);class b extends i.Component{constructor(...e){super(...e),d(this,"state",{targetPosition:"",sectionHeaderHover:!1}),d(this,"dropSectionHeader",(e,t)=>{if(""===this.state.targetPosition)return;const n=this.calculateMoveIndex(t);this.props.onSectionDrop({sourceId:e,sourceIndex:t,moveIndex:n})}),d(this,"dropProject",e=>{const{id:t,onProjectDrop:n}=this.props;n(e,t)}),d(this,"handleDragHover",(e,t)=>{t!==u?this.setSectionHeaderHover():this.setTargetPosition(e)}),d(this,"handleDragHoverOut",e=>{e!==u?this.unsetSectionHeaderHover():this.unsetTargetPosition()}),d(this,"handleDrop",({sourceId:e,sourceIndex:t},n)=>{n===u?this.dropSectionHeader(e,t):n===h&&this.dropProject(e)})}render(){const{targetPosition:e,sectionHeaderHover:t}=this.state,{dragDisabled:n}=this.context,{actionsDisabled:r}=this.props,o=r?f:m;return i.h(o,c({},this.props,{baseRef:Object(l.default)(this,"base"),targetPosition:e,draggable:!n,sectionHeaderHover:t,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop}))}}t.default=Object(a.default)(b)},function(e,t,n){"use strict";n.r(t);var i=n(1116);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(296),o=n(6),s=n.n(o),a=n(1117),l=n(1125),c=n(1128),d=n(1119),u=n(293),h=n(1041),p=n(1122),f=n(1131),g=n(19),m=n(44),b=n(56),y=n(140),S=n(353);n(1132);function v({selectedOrganizationId:e,selectedOrganizationName:t,projectCount:n,styleguides:o,links:s,readOnly:v,onAddLinkButtonClick:C,onUpdateLinkButtonClick:O,onRemoveLinkButtonClick:E}){const[T,D]=Object(r.useState)(8),[k,w]=Object(r.useState)({}),[_,j]=Object(r.useState)(!1),[P,R]=Object(r.useState)(!1),[I,A]=Object(r.useState)(!1),{enableScroll:x,disableScroll:N}=Object(r.useContext)(p.default.ScrollContext),L=Object(r.useRef)(null);function U(){const e=L.current;if(e){const t=e.scrollWidth>e.clientWidth,n=s.length;t&&T>1&&D(e=>e===n?n-1:e-1)}}function M(){R(!0)}function B(){w({}),j(!1),R(!1)}function z(e){e.stopPropagation(),w({}),M()}async function F(){await y.userPrefs.get("styleguidesUsed")?Object(b.openLink)("https://support.zeplin.io/en/articles/2886183-creating-a-styleguide"):S.default.history.push(Object(m.urlResolve)("organization-styleguides",{url:{oid:e}}))}function H(n,i){n.stopPropagation(),function(n){mixpanel.master.track("Clicked project section link",{"Organization ID":e,"Organization Name":t,Type:Object(f.getLinkType)(n)})}(i)}function W(){A(!I)}const V=new ResizeObserver(()=>{D(8),U()});return Object(r.useEffect)(()=>(L.current&&V.observe(L.current),()=>V.disconnect()),[]),Object(r.useLayoutEffect)(()=>{U()},[T,s.length]),Object(r.useLayoutEffect)(()=>(_||I?N():x(),()=>x()),[_,I]),i.h(i.Fragment,null,i.h("div",{class:"sectionHeaderSummary",ref:L},Boolean(n)&&i.h("div",{class:"summaryItem projectSummaryItem"},Object(g.pluralize)(n,"project"),i.h(l.default,null)),i.h(a.default,{linkTitle:n?o.length?Object(g.pluralize)(o.length,"styleguide"):i.h(i.Fragment,null,i.h("div",{onClick:W},"No linked styleguides"),I&&i.h(h.default,{class:"styleguideHideableInfo",content:"Link styleguides to projects to display components, colors, text styles and more.",buttonText:"OK, got it!",hideCallback:W,actionButton:{text:"Learn more",callback:F},popover:!0})):null,items:o.map(({_id:e,name:t})=>({_id:e,title:t,url:Object(m.urlResolve)("styleguide",{url:{bid:e}}),inApp:!0})),footer:function(){const t=Object(m.urlResolve)("organization-styleguides",{url:{oid:e},query:{stid:o.map(({_id:e})=>e)}});return i.h(d.default.Link,{href:t,inApp:!0},"View All Styleguides")}(),trackStyleguideClick:function(){mixpanel.master.track("Clicked project section linked styleguides",{"Organization ID":e,"Organization Name":t})}}),function(){const e=Boolean(n||s.length);return i.h(i.Fragment,null,s.slice(0,T).map(({_id:e,title:t,url:r},o)=>{const s=0!==o||Boolean(n);return i.h("div",{class:"summaryItem",key:e},s&&i.h(l.default,null),i.h("a",{title:"Right-click to edit",href:r,key:e,class:"summaryItemLink noSelect",target:"_blank",rel:"noopener",onContextMenu:n=>function({ev:e,_id:t,title:n,url:i}){v||(e.preventDefault(),w({pos:{x:e.clientX,y:e.clientY},_id:t,title:n,url:i}),j(!0))}({ev:n,_id:e,title:t,url:r}),onClick:e=>H(e,r)},Object(f.getLinkIcon)(r),i.h("div",{class:"summaryItemText ellipsis"},t)))}),s.length<8&&s.length<=T&&!v&&i.h("div",{class:"summaryItem"},e&&i.h(l.default,null),i.h("button",{class:"summaryItemLink",onClick:z},"Add link")))}(),s.length>T&&i.h(i.Fragment,null,i.h(l.default,null),i.h(a.default,{linkTitle:"Show more",items:s.slice(T),footer:!v&&i.h(i.Fragment,null,s.length<8&&!v&&i.h(d.default.Button,{onClick:z},"Add link"),i.h(d.default.Submenu,{name:"Edit custom link"},s.slice(T).map(({_id:e,title:t,url:n})=>i.h(d.default.Button,{key:"submenu-"+e,onClick:()=>function({_id:e,title:t,url:n}){w({_id:e,title:t,url:n}),M()}({_id:e,title:t,url:n})},t))))}))),_&&function(){if(v)return;const{pos:{x:e,y:t}}=k;return i.h(u.default,{didRender:function(n){n.style.transform=`translate(${e}px, ${t}px)`}},i.h(d.default,{onClose:function(){j(!1)},onChange:M},i.h(d.default.Button,null,"Edit")))}(),P&&function(){const{_id:e,title:t,url:n}=k,r=Boolean(t)||Boolean(n)?O:C;return i.h(c.default,{id:e,title:t,url:n,onClose:B,onPositiveButtonClick:r,onRemoveLinkButtonClick:E})}())}v.propTypes={selectedOrganizationId:s.a.string.isRequired,selectedOrganizationName:s.a.string.isRequired,projectCount:s.a.number.isRequired,styleguides:s.a.array.isRequired,links:s.a.array.isRequired,readOnly:s.a.bool.isRequired,onAddLinkButtonClick:s.a.func.isRequired,onUpdateLinkButtonClick:s.a.func.isRequired,onRemoveLinkButtonClick:s.a.func.isRequired},t.default=v},function(e,t,n){"use strict";n.r(t);var i=n(1118);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(296),a=n(1119),l=n(293),c=n(1122);function d({linkTitle:e,items:t,footer:n,trackStyleguideClick:r}){const o=Object(s.useRef)(),[d,u]=Object(s.useState)(!1),{enableScroll:h,disableScroll:p}=Object(s.useContext)(c.default.ScrollContext);return Object(s.useLayoutEffect)(()=>(d?p():h(),()=>h()),[d]),i.h(i.Fragment,null,i.h("div",{class:"summaryItem withMenu",ref:o,onClick:function(e){r&&r(),e.stopPropagation(),t.length&&u(!0)}},e),d&&i.h(l.default,{didRender:function(e){if(o.current){const{x:t,y:n,width:i}=o.current.getBoundingClientRect(),{width:r}=e.getBoundingClientRect(),s=8,a=t+i+r+36<=window.innerWidth?t+i+s:t-r-s;e.style.transform=`translate(${a}px, ${n}px)`}}},i.h(a.default,{class:"customLinkMenu",onClose:function(){u(!1)}},t.map(({_id:e,title:t,url:n,inApp:r})=>i.h(a.default.Link,{class:"ellipsis",key:e,href:n,inApp:r},t)),i.h("hr",null),n)))}d.propTypes={linkTitle:o.a.node,items:o.a.array,footer:o.a.node,trackStyleguideClick:o.a.func},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1120);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(62),o=n(11),s=n(24),a=n(18);n(1121);class l extends i.Component{constructor(e){super(e),this.showSubmenu=this.showSubmenu.bind(this),this.hideSubmenu=this.hideSubmenu.bind(this),this.state={open:!1,direction:"right"}}hideSubmenu(){this.setState({open:!1})}positionSubmenu(){if(!this.state.open)return;const{edgeOffset:e}=this.context,t=this.nodeRefs.base.getBoundingClientRect(),n=this.nodeRefs.submenu.getBoundingClientRect(),i=window.innerWidth>=t.right+n.width+e?"right":"left";let r=0;n.top<e?r=e:n.bottom+e>window.innerHeight&&(r=window.innerHeight-n.bottom-e),0!==r&&(this.nodeRefs.submenu.style.transform=`translate3d(0, ${r}px, 0)`),i!==this.state.direction&&this.setState({direction:i})}showSubmenu(){this.setState({open:!0})}componentDidMount(){this.positionSubmenu()}componentDidUpdate(){this.positionSubmenu()}render(){const{open:e,direction:t}=this.state,{content:n,name:r,children:l}=this.props;return i.h("label",{ref:Object(s.default)(this,"base"),for:"sidebarSubmenu",class:"sidebarSubmenu",onMouseEnter:this.showSubmenu,onMouseLeave:this.hideSubmenu},i.h("span",null,n||r),i.h("img",{src:a.imageUrl("img/icMenuArrow.svg"),alt:">",class:"menuChevron"}),e&&i.h("div",{ref:Object(s.default)(this,"submenu"),class:Object(o.default)("submenu",t)},l))}}class c extends i.Component{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this)}clickHandler(e){this.props.onClick&&this.props.onClick(this.props.name,e.target.value)}render(){const{options:e,name:t,value:n,submenu:r,content:o}=this.props,s=e.map(e=>{const r=e.value===n,{value:o,name:s}=e;return i.h("label",{key:`${s}-${o}`},i.h("span",null,s),i.h("input",{onClick:this.clickHandler,type:"radio",name:t,value:o,checked:r}),i.h("img",{src:a.imageUrl("img/icMenuCheck.svg"),alt:"&check;"}))});if(r){let r=t;if(o){r=`${o} (${e.find(e=>e.value===n).name})`}return i.h(l,{content:r},s)}return i.h("div",null,s)}}class d extends i.Component{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this)}clickHandler(e){this.props.onClick&&this.props.onClick(this.props.name,e.target.checked)}render(){const{content:e,name:t,disabled:n,value:r}=this.props;return i.h("label",{class:Object(o.default)({disabled:n})},i.h("span",null,e||t),i.h("input",{type:"checkbox",disabled:n,onClick:this.clickHandler,name:t,checked:r}),i.h("img",{src:a.imageUrl("img/icMenuCheck.svg"),alt:"&check;"}))}}class u extends i.Component{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this)}clickHandler(e,t){const{name:n,selectedOptionNames:i,onClick:r}=this.props;if(r){let o=i?[...i]:[];t?o.push(e):o=o.filter(t=>t!==e),r(n,o,!1)}}render(){const{options:e,content:t,selectedOptionNames:n,minNumberOfSelectedOptions:r}=this.props,o=e.map(e=>n&&n.includes(e.name)),s=r>=o.filter(e=>e).length;return i.h(p.Submenu,{content:t},e.map((e,t)=>i.h(p.Switch,{key:e.key||t,name:e.name,content:e.content,value:o[t],disabled:e.disabled||s&&o[t],onClick:this.clickHandler})))}}class h extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){this.props.onClick(e)}render(){return i.h("label",null,i.h("span",null,this.props.children),i.h("input",{onClick:this.handleClick,type:"button"}))}}class p extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this)}get edgeOffset(){return this.props.edgeOffset||12}handleClick(e,t,n=!0){this.props.onChange&&this.props.onChange(e,t),n&&this.props.onClose()}handleDocumentClick(e){this.nodeRefs.base.contains(e.target)||this.props.onClose()}componentDidMount(){document.addEventListener("click",this.handleDocumentClick,!0)}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0)}getChildContext(){return{edgeOffset:this.edgeOffset}}render(){const{class:e,children:t}=this.props,n=Object(o.default)("zplMenu",e);return i.h("div",{ref:Object(s.default)(this,"base"),onClick:r.stopPropagation,class:n},i.toChildArray(t).map(e=>i.cloneElement(e,{onClick:this.handleClick})))}}p.Submenu=l,p.Picker=c,p.Switch=d,p.SwitchMenu=u,p.Button=h,p.Link=function({class:e,href:t,inApp:n,children:r}){return n?i.h("a",{class:e,href:t,"data-link-type":"inApp",rel:"noopener"},r):i.h("a",{class:e,href:t,target:"_blank",rel:"noopener"},r)},p.Divider=function(){return i.h("hr",null)},t.default=p},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1123);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(19),o=n(11);n(1124);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a=i.createContext();class l extends i.Component{constructor(...e){super(...e),s(this,"handleChange",e=>{e.stopPropagation();const{value:t,onChange:n}=this.props;n(t)})}render(){const{label:e,name:t,value:n,selected:r}=this.props,s=Object(o.default)("tab","noSelect",{selected:r});return i.h("label",{class:s},e,i.h("input",{type:"radio",name:t,value:n,checked:r,onChange:this.handleChange}))}}class c extends i.Component{constructor(...e){super(...e),s(this,"state",{noScroll:!1}),s(this,"inputName",Object(r.getRandomString)()),s(this,"enableScroll",()=>{this.state.noScroll&&this.setState({noScroll:!1})}),s(this,"disableScroll",()=>{this.state.noScroll||this.setState({noScroll:!0})}),s(this,"handleTabChange",e=>{this.props.onChange&&this.props.onChange(e)})}get tabs(){return i.toChildArray(this.props.children)}renderTabs(){const{selectedTab:e}=this.props;return this.tabs.map(t=>i.cloneElement(t,{name:this.inputName,selected:t.props.value===e,onChange:this.handleTabChange,key:t.props.value}))}render(){const{selectedTab:e,renderOrganizationSummary:t}=this.props,{noScroll:n}=this.state;return i.h(a.Provider,{value:{enableScroll:this.enableScroll,disableScroll:this.disableScroll}},i.h("div",{class:Object(o.default)("tabView",{noScroll:n})},i.h(i.Fragment,null,t(),i.h("div",{class:"tabs"},this.renderTabs(),i.h("hr",null)),this.tabs.find(t=>t.props.value===e).props.children)))}}c.Tab=l,c.ScrollContext=a,t.default=c},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1126);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(1);n(1127);function r(){return i.h("div",{class:"separator"})}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1129);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(296),o=n(6),s=n.n(o),a=n(44),l=n(487),c=n(289);n(1130);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p({id:e,title:t,url:n,onPositiveButtonClick:o,onRemoveLinkButtonClick:s,onClose:d}){const[h,p]=Object(r.useState)({title:t,url:n}),f=t&&n?"edit":"add",g=h.title&&Object(a.isValidUrl)(h.url);function m(e,t){p(u(u({},h),{},{[e]:t}))}function b(){o({_id:e,title:h.title,url:h.url})}const y={add:{title:"Add link to a related resource: e.g. brief, requirements or repo.",buttonText:"ADD"},edit:{title:"Update existing link name and URL.",buttonText:"UPDATE",fallbackButtonText:"REMOVE"}};return i.h(c.default,{class:"customLinkDialog",width:540,positiveButtonText:y[f].buttonText,negativeButtonText:"CANCEL",fallbackButtonText:y[f].fallbackButtonText,onPositiveButtonClick:b,onNegativeButtonClick:d,onFallbackButtonClick:function(){s(e)},onClose:d,hideNegativeButton:!1,positiveButtonDisabled:!g},i.h("div",{class:"dialogBody",onKeyPress:function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:if(!g)return;e.preventDefault(),b(),d()}}},i.h("h3",null,y[f].title),i.h(l.default,{name:"title",label:"Name",value:h.title,placeholder:"Add a name for the link",maxLength:48,shouldDisplayCountDown:!1,onChange:m,autoFocus:!0}),i.h(l.default,{name:"url",label:"URL",value:h.url,placeholder:"Add URL",maxLength:1024,shouldDisplayCountDown:!1,nativeProps:{type:"url"},onChange:m})))}p.propTypes={width:s.a.number,linkName:s.a.string,url:s.a.string,onPositiveButtonClick:s.a.func,onClose:s.a.func},t.default=p},function(e,t){},function(e,t,n){"use strict";n.r(t),n.d(t,"getLinkType",(function(){return l})),n.d(t,"getLinkIcon",(function(){return c}));var i=n(1),r=n(228);const o=(e,...t)=>t.some(t=>e.endsWith(t)),s={zeplin:{type:"Zeplin",icon:i.h(r.IconZeplin,null)},asana:{type:"Asana",icon:i.h(r.IconAsana,null)},abstract:{type:"Abstract",icon:i.h(r.IconAbstract,null)},github:{type:"Github",icon:i.h(r.IconGithub,null)},gitlab:{type:"Gitlab",icon:i.h(r.IconGitlab,null)},bitbucket:{type:"Bitbucket",icon:i.h(r.IconBitbucket,null)},figma:{type:"Figma",icon:i.h(r.IconFigma,null)},sketchCloud:{type:"SketchCloud",icon:i.h(r.IconSketchCloud,null)},invision:{type:"Invision",icon:i.h(r.IconInvision,null)},notion:{type:"Notion",icon:i.h(r.IconNotion,null)},paper:{type:"Paper",icon:i.h(r.IconPaper,null)},trello:{type:"Trello",icon:i.h(r.IconTrello,null)},confluence:{type:"Confluence",icon:i.h(r.IconConfluence,null)},jira:{type:"Jira",icon:i.h(r.IconJira,null)},default:{type:"Custom",icon:i.h(r.IconCustomLink,null)}};function a(e){try{const{hostname:t,pathname:n}=new URL(e);return function(e,t){return o(e,"zeplin.io","zpl.io")?s.zeplin:o(e,"asana.com")?s.asana:o(e,"abstract.com")?s.abstract:o(e,"github.com")?s.github:o(e,"gitlab.com")?s.gitlab:o(e,"bitbucket.org")?s.bitbucket:o(e,"figma.com")?s.figma:o(e,"sketch.com")?s.sketchCloud:o(e,"invisionapp.com","invis.io")?s.invision:o(e,"notion.so")?s.notion:o(e,"paper.dropbox.com")?s.paper:o(e,"trello.com")?s.trello:o(e,"atlassian.net","jira.com")?((e,...t)=>t.some(t=>e.startsWith(t)))(t,"/wiki","/l/c/")?s.confluence:s.jira:s.default}(t,n)}catch(t){return s.default}}const l=e=>a(e).type,c=e=>a(e).icon},function(e,t){},function(e,t,n){"use strict";n.r(t),n.d(t,"DEFAULT_FOCUS_COUNT_LIMIT",(function(){return i})),n.d(t,"FOCUS_SECTION_HEIGHT",(function(){return r})),n.d(t,"NEW_SECTION_TITLE",(function(){return o})),n.d(t,"NEW_SECTION_DESCRIPTION",(function(){return s})),n.d(t,"GRAB_DELAY_FOR_UNDRAGGABLE_PROJECTS",(function(){return a}));const i=4,r=275,o="Untitled Section",s="Add a _markdown_ flavored description and tell the story of this section.",a=300},function(e,t,n){"use strict";n.r(t);var i=n(1135);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(999),o=n(1082),s=n(62),a=n(24),l=n(1064),c=n(1002);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const u=Object(s.pipe)(Object(o.DragSource)({itemType:"Project",mirrorComponent:c.SpaceCardMirror,provideDragData:e=>{const{project:{name:t,thumbnail:n,users:i,_id:r,type:o},moveCubukPosition:s,sectionId:a,index:l,lightness:c}=e;return{sectionId:a,moveCubukPosition:s,name:t,source:n,users:i,id:r,type:o,index:l,lightness:c}}}),Object(o.DropTarget)({acceptsItemType:"Project",onHover:(e,t)=>e.onHover({mirrorPosition:t.mirrorPosition}),onHoverOut:e=>e.onHoverOut(),onDrop:(e,t)=>e.onDrop({mirrorPosition:t.mirrorPosition,moveCubukPosition:t.dragData.moveCubukPosition,sourceId:t.dragData.id,sourceIndex:t.dragData.index,sourceSectionId:t.dragData.sectionId,targetIndex:e.index,targetSectionId:e.sectionId})}))(r.default);class h extends i.Component{constructor(e){super(e),this.state={lightness:"dark",moveCubukPosition:""},this.handleDragHover=this.handleDragHover.bind(this),this.handleDragHoverOut=this.handleDragHoverOut.bind(this)}getImageProperties(){}handleDragHover({mirrorPosition:e}){const{sections:t,sectionId:n}=this.props;if("individual"===t.find(({_id:e})=>e===n).type)return;const i=this.nodeRefs.base.getBoundingClientRect(),r=e.left>i.left+i.width/2;this.setState(Object(s.getStateUpdateFunction)({moveCubukPosition:r?l.CUBUK_POSITION.RIGHT:l.CUBUK_POSITION.LEFT}))}handleDragHoverOut(){this.setState(Object(s.getStateUpdateFunction)({moveCubukPosition:""}))}componentDidUpdate(){this.props.visible&&!this.state.lightness&&this.getImageProperties()}render(){const{moveCubukPosition:e,lightness:t}=this.state;return i.h(u,d({baseRef:Object(a.default)(this,"base"),dragBaseRef:Object(a.default)(this,"dragBase"),lightness:t,moveCubukPosition:e,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut},this.props))}}t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(1137);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(9),a=n(313);n(1138);function l({onCreateSection:e,restrictedUser:t}){return i.h("div",{class:"sectionOnboarding"},i.h("h1",null,"Introducing Sections for projects ",i.h(a.default,{width:"24",height:"18",asset:"img/emjWaffle.png"})),i.h("div",{class:"description"},"Bring clarity to your workspace by organizing and adding more context to your projects."),i.h(a.default,{class:"image noSelect",width:"720",asset:"img/sampleProjectSection.png"}),t?i.h("div",{class:"description restrictedUserInfo"},'Right-click a project and select "Create a new section" to get started'):i.h(s.default,{onClick:e,primary:!0},"Create Section"))}l.propTypes={onCreateSection:o.a.func.isRequired},t.default=l},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1140);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1141),o=n(289),s=n(1146),a=n(11);n(1149);t.default=function(e){const{project:t,onClose:n,onJoin:l,loading:c}=e,d=Object(a.default)("projectPreviewDialogBody",{loading:c});return i.h(o.default,{class:"projectPreviewDialog",positiveButtonText:"JOIN",onPositiveButtonClick:l,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:n,width:"66vw"},i.h("div",{class:d},c?i.h(s.default,null):i.h(r.default,{projectData:t,requiredMinimumPadding:24,defaultPadding:36,hideJoinButton:!0,headerSticky:!1})))}},function(e,t,n){"use strict";n.r(t);var i=n(1142);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(18),o=n(11),s=n(56),a=n(62),l=n(24),c=n(1143),d=n(513);n(1145);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){const{snapshot:t}=e.versions[0],n=Math.floor(180*t.height/t.width);return i.h(c.default,{height:n,key:e._id,source:t.url})}function g(e,t){if(!e||!e.length)return i.h("div",{class:"projectUsersEmpty"},"No members in this project, be the first!");const n=function(e){return e.sort(a.sortBy.role).map(({user:e})=>h(h({},e),{},{avatar:Object(s.getUserAvatar)(e).src,title:"invited"!==e.status?e.username:`Pending… (${e.email})`}))}(e),r=n.slice(0,t).map(e=>i.h(d.default,{key:e._id,src:e.avatar,title:e.title,class:"userImageFrame",width:"36",height:"36"}));if(n.length===t+1){const e=n[t];r.push(i.h(d.default,{key:e._id,src:e.avatar,title:e.title,class:"userImageFrame",width:"36",height:"36"}))}else if(n.length>t+1){const o=n.slice(t).map(e=>e.title).join("\n"),s=i.h("div",{key:"remainingUsers",class:"remainingUsers",title:o},"+",e.length-t);r.push(s)}return i.h("div",{class:"projectUsers"},r)}class m extends i.Component{constructor(e){super(),this.centerScreensUsersHeader=this.centerScreensUsersHeader.bind(this),this.handleJoinClick=this.handleJoinClick.bind(this),this.state={usersLimit:5}}centerScreensUsersHeader(){const{requiredMinimumPadding:e,defaultPadding:t,projectData:n}=this.props;if(!n.screens)return;const i=Math.floor(this.nodeRefs.base.getBoundingClientRect().width),r=Math.floor((i-e)/204),o=i-204*r;let s=t;n.screens.length&&(s=o/2),this.nodeRefs.base.style=`padding-left: ${s}px; padding-right: ${s}px;`;const a=204*r-24-36,l=Math.floor(a/42);l!==this.state.usersLimit&&this.setState({usersLimit:l})}handleJoinClick(){const{projectData:{_id:e},onJoin:t}=this.props;t({bid:e})}componentDidMount(){this.centerScreensUsersHeader(),window.addEventListener("resize",this.centerScreensUsersHeader)}componentDidUpdate(e,t){!e.projectData&&this.props.projectData&&this.centerScreensUsersHeader()}componentWillUnmount(){window.removeEventListener("resize",this.centerScreensUsersHeader)}render(){const{projectData:{_id:e,name:t,type:n,densityScale:s,users:c,screens:d},loadingJoin:u=!1,hideJoinButton:h,headerSticky:p}=this.props,{usersLimit:m}=this.state,b=Object(o.default)("projectPreviewHeader",{sticky:p}),y=Object(a.getDensityScaleRepresentation)(n,s);return i.h("div",{ref:Object(l.default)(this,"base"),class:"projectPreview",key:e},i.h("div",{class:b},i.h("div",null,i.h("h1",null,t),i.h("h5",null,i.h("span",{class:"projectPreviewType"},Object(a.getPlatformString)(n)),s&&i.h("span",{class:"projectPreviewDensity"},y))),!h&&i.h("button",{type:"button",class:"joinProject",onclick:this.handleJoinClick},u?i.h("img",{src:r.imageUrl("img/icSpinnerWhite.svg"),class:"spinning"}):i.h("span",null,"Join"))),g(c,m),function(e){return e&&e.length?i.h("div",{class:"projectPreviewScreens"},e.map(f)):i.h("div",{class:"projectPreviewScreensEmpty"},i.h("h1",null,"No designs in this project yet!"),i.h("h3",null,"Join and upload the first!"))}(d))}}t.default=m},function(e,t,n){"use strict";n.r(t);var i=n(1144);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1005),o=n(11);class s extends i.Component{constructor(e){super(e),this.handleLoad=this.handleLoad.bind(this),this.state={loading:!0}}handleLoad(){this.setState({loading:!1})}render(){const{height:e,source:t}=this.props,{loading:n}=this.state,s=Object(o.default)({loading:n},"projectPreviewScreen","noSelect");return i.h("div",{class:s,style:{height:e}},i.h(r.default,{source:t,onLoad:this.handleLoad}))}}t.default=s},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1147);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(24),o=n(11),s=n(62);n(1148);const a=Array.from({length:10},()=>{const e=Math.floor(180*Math.random()*.7)+180;return i.h("div",{style:{height:e},class:"projectPreviewLoadingScreen breathe"})});class l extends i.Component{constructor(e){super(e),this.state={availableWidth:0},this.handleWindowResize=Object(s.debounce)(this.handleWindowResize).bind(this)}handleWindowResize(){const{base:e}=this.nodeRefs;this.setState({availableWidth:e?e.clientWidth:0})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e}=this.state;return i.h("div",{class:Object(o.default)("projectPreviewLoading",this.props.class),ref:Object(r.default)(this,"base")},i.h("div",{class:"projectPreviewLoadingHead breathe"}),i.h("div",{class:"projectPreviewLoadingSubHead breathe"}),i.h("div",{class:"projectPreviewLoadingMembers"},function(e){const t=Math.floor(e/42);return Array.from({length:Math.min(12,t)},()=>i.h("div",{class:"projectPreviewLoadingMember breathe"}))}(e)),i.h("div",{class:"projectPreviewLoadingScreens"},a))}}t.default=l},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1151);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1152),o=n(1161),s=n(289),a=n(313),l=n(18);n(1164);class c extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.handlePositiveButtonClick=this.handlePositiveButtonClick.bind(this),this.handleTabClick=this.handleTabClick.bind(this),this.values=["ios","android","web","osx"],this.state={selected:this.values[0]}}handleChange(e){this.setState({selected:e})}handlePositiveButtonClick(){const{selected:e}=this.state,{onCreate:t}=this.props;t(e)}handleTabClick(e){const{selected:t}=this.state;switch(e.keyCode){case Zeplin.KEY_CODE.TAB:e.preventDefault(),this.handleChange(this.values[(this.values.indexOf(t)+1)%this.values.length])}}componentDidMount(){window.addEventListener("keydown",this.handleTabClick,!0)}componentWillUnmount(){window.removeEventListener("keydown",this.handleTabClick,!0)}render(){const{selected:e}=this.state,{onClose:t}=this.props;return i.h(s.default,{class:"createProjectDialog",onPositiveButtonClick:this.handlePositiveButtonClick,onClose:t,width:720,positiveButtonText:"CREATE",negativeButtonText:"CANCEL",hideNegativeButton:!1},i.h("div",{class:"dialogBody"},i.h("h1",null,"Choose your project type"),i.h("div",{class:"projectTypes"},i.h(r.default,{name:"projectType",onClick:this.handleChange,value:"ios",label:"iOS",image:i.h("svg",{width:"140",height:"104"},i.h("g",{fill:"ios"===e?"var(--cornflower-blue)":"var(--gandalf)","fill-rule":"evenodd"},i.h("path",{class:"frame",d:"M118 87.96v-59.8c0-3.93-3.23-7.16-7.17-7.16H15.17C11.23 21 8 24.23 8 28.17v59.8c0 3.93 3.23 7.16 7.17 7.16h95.66c3.94 0 7.17-3.23 7.17-7.17zm-4.78-29.9c0 .66-.54 1.2-1.2 1.2-.66 0-1.2-.54-1.2-1.2 0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2zm-102.83 0c0-1.97 1.6-3.58 3.57-3.58s3.6 1.6 3.6 3.6c0 1.97-1.62 3.57-3.6 3.57s-3.6-1.6-3.6-3.58zm9.55 32.3v-64.6h88.47v64.58H19.96z"}),i.h("g",{transform:"translate(81 4)"},i.h("path",{class:"frame",d:"M38.74 0H9.24C4.17 0 0 4.05 0 9v80.82c0 4.95 4.18 9 9.25 9h29.5c5.08 0 9.25-4.05 9.25-9V9c0-4.95-4.17-9-9.26-9zM24 2.82c.77 0 1.4.62 1.4 1.38 0 .75-.63 1.37-1.4 1.37-.8 0-1.42-.62-1.42-1.37 0-.76.63-1.38 1.4-1.38zM19.5 8h9c.82 0 1.5.68 1.5 1.5 0 .83-.68 1.5-1.5 1.5h-9c-.83 0-1.5-.67-1.5-1.5 0-.82.67-1.5 1.5-1.5zM24 96c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4zm21-11H3V13h42v72z"}),i.h("circle",{cx:"24",cy:"92",r:"4",fill:"#FFF"}),i.h("path",{fill:"#FFF",d:"M3 13h42v72H3z"})))),dimensionType:"pt",exportType:"Objective-C/Swift",selected:"ios"===e}),i.h(r.default,{name:"projectType",onClick:this.handleChange,value:"android",label:"Android",image:"android"===e?i.h(a.default,{asset:"img/icPrj_android-selected.png"}):i.h("img",{src:Object(l.imageUrl)("img/icPrj_android.svg")}),dimensionType:"dp/sp",exportType:"XML",selected:"android"===e}),i.h(r.default,{name:"projectType",onClick:this.handleChange,value:"web",label:"Web",image:i.h(a.default,{asset:`img/icPrj_web${"web"===e?"-selected":""}.png`}),dimensionType:"px",exportType:"CSS and HTML",selected:"web"===e})),i.h("div",{class:"experimentalProjectTypes"},i.h(o.default,{name:"projectType",onClick:this.handleChange,value:"osx",label:"macOS",dimensionType:"pt",exportType:"Objective-C/Swift",selected:"osx"===e}))))}}t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1153);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1154),o=n(1157);n(1160);function s({image:e}){return i.h("div",{class:"projectTypeImage noSelect"},e)}class a extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{onClick:e,value:t}=this.props;e(t)}render(){const{name:e,selected:t,value:n,label:a,image:l,dimensionType:c,exportType:d}=this.props;return i.h("label",{class:"projectType"},i.h(o.default,{name:e,value:n,label:a,checked:t,onClick:this.handleClick}),i.h(s,{image:l}),i.h(r.default,{dimensionType:c,exportType:d,selected:t}))}}t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(1155);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11);n(1156);t.default=function({dimensionType:e,exportType:t,selected:n,singleLine:o}){const s=Object(r.default)("projectInfo","noSelect",{selected:n});return i.h("div",{class:s},"Dimensions in ",i.h("strong",null,e),",",!o&&i.h("br",null)," ",t," export.")}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1158);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(201);n(1159);t.default=function(e){const{value:t,name:n,label:o,checked:s,onClick:a}=e;return i.h("div",{class:"projectRadio"},i.h(r.default,{name:n,checked:s,onClick:a,value:t}),i.h("span",{class:"projectTypeName noSelect"},o))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1162);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1154),o=n(1157);n(1163);class s extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{onClick:e,value:t}=this.props;e(t)}render(){const{name:e,selected:t,value:n,label:s,dimensionType:a,exportType:l}=this.props;return i.h("label",{class:"experimentalProjectType"},i.h(o.default,{name:e,value:n,label:s,checked:t,onClick:this.handleClick}),i.h(r.default,{dimensionType:a,exportType:l,selected:t,singleLine:!0}))}}t.default=s},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1166);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(11),a=n(1167),l=n(776),c=n(1016);n(1170);function d(e){const{class:t,sortOptionsClass:n,filterValue:r,onFilter:o,onSort:d,sortOptions:u,selectedSortTypes:h,jiraIssueList:p,selectedJiraIssues:f,onJiraIssueSelectionChange:g,showWorkflowStatus:m,inputPlaceholder:b,placeholderWidth:y,rightContent:S,disabled:v}=e;return i.h("div",{class:Object(s.default)("filterSortView",t)},i.h("div",{class:"bumper"},!r&&[u&&i.h(l.default,{onChange:d,optionsClass:Object(s.default)("sortOptionsClass",n)},u.map(({label:e,dropdownLabel:t,value:n,class:r})=>i.h(l.default.Item,{class:r,key:n,value:n,label:e,dropdownLabel:t,selected:h&&h.includes(n)}))),p&&p.length>0&&i.h(l.default,{defaultLabel:"Jira Issue",class:"jiraIssueFilter",optionsClass:"jiraIssueFilterOptions",multiSelect:!0,onChange:g},p.map(e=>i.h(l.default.Item,{key:e,label:e,value:e,selected:f&&f.includes(e)}))),m&&i.h(c.default,null)]),i.h(a.default,{placeholder:b,placeholderWidth:y,value:r,onFilter:o,disabled:v}),i.h("div",{class:"bumper"},S))}d.propTypes={class:o.a.string,sortOptionsClass:o.a.string,inputPlaceholder:o.a.string,placeholderWidth:o.a.number.isRequired,sortOptions:o.a.arrayOf(o.a.shape({label:o.a.string.isRequired,dropdownLabel:o.a.string,value:o.a.string.isRequired,class:o.a.string})),selectedSortTypes:o.a.arrayOf(o.a.string),filterValue:o.a.string,onSort:o.a.func,onFilter:o.a.func.isRequired,rightContent:o.a.node,disabled:o.a.bool},d.defaultProps={filterValue:"",showWorkflowStatus:!1},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1168);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(228),o=n(11),s=n(24),a=n(56),l=n(64);n(1169);class c extends i.Component{constructor(e){super(e),this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleInput=this.handleInput.bind(this),this.handleSearchShortcut=this.handleSearchShortcut.bind(this),this.filterTimeout=null,this.state={focusWithin:!1,value:e.value}}handleBlur(){this.setState({focusWithin:!1})}handleFocus(){this.setState({focusWithin:!0})}handleInput(e){this.setState({value:e.target.value}),clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout(this.props.onFilter,200,e.target.value)}handleKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.preventDefault(),e.stopPropagation(),clearTimeout(this.filterTimeout),e.target.value?(this.setState({value:""}),this.props.onFilter("")):e.target.blur())}handleSearchShortcut(e){Object(l.cmdKey)(e)&&e.keyCode===Zeplin.KEY_CODE.KeyF&&(e.preventDefault(),Object(a.highlightInput)(this.nodeRefs.input),this.nodeRefs.input.scrollIntoView())}componentDidMount(){document.addEventListener("keydown",this.handleSearchShortcut)}componentWillReceiveProps(e){void 0!==e.value&&e.value!==this.props.value&&this.setState({value:e.value})}componentWillUnmount(){document.removeEventListener("keydown",this.handleSearchShortcut)}render(){const{placeholder:e,placeholderWidth:t,disabled:n}=this.props,{focusWithin:a,value:l}=this.state,c=Object(o.default)("filterInput noSelect",{focusWithin:a}),d=a||l?null:{width:t};return i.h("label",{class:c},i.h(r.IconMagnifier,null),i.h("input",{style:d,type:"search",placeholder:e,value:l,ref:Object(s.default)(this,"input"),disabled:n,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onInput:this.handleInput}))}}t.default=c},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1172);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(9),o=n(24),s=n(64),a=n(65);n(1173);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let u;const h={primaryButtonLabel:i.h("strong",null,"Looks like you’re a part of an organization:"),primaryButtonText:"Check out {{organizationName}}'s space",primaryButtonSubLabel:"You can always switch between workspaces from the top."},p={title:"Welcome to Zeplin! We are glad you’re here 👋",description:i.h("strong",null,"Let’s start by watching this short tutorial:")},f={FREE_PLAN:c(c({},p),{},{primaryButtonLabel:i.h("strong",null,"Let's start by creating your first project:"),primaryButtonText:"Create a project"}),ORGANIZATION_MEMBER:c(c(c({},p),h),{},{secondaryButtonLabel:i.h("strong",null,"Let's start by creating your first project:"),secondaryButtonText:"Create a project"}),PAID_PLAN:c(c({},p),{},{primaryButtonLabel:i.h("strong",null,"Let's start by creating your first project:"),primaryButtonText:"Create a project"}),ORGANIZATION_NO_CREATE_PERMISSION:c(c({},p),{},{primaryButtonLabel:i.h("span",null,"Want to create a project? Your current role does not allow you to do that. ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank",rel:"noopener"},"Learn more…"))})};class g extends i.Component{constructor(e){super(e),this.showVideoOverlay=this.showVideoOverlay.bind(this),this.hideVideoOverlay=this.hideVideoOverlay.bind(this),this.handleVideoClick=this.handleVideoClick.bind(this),this.youtubePlayer=null,this.state={videoOverlayVisible:!1}}getLabelsAndHandlers(){const{canCreateProject:e,selectedOrganizationId:t}=this.context,{availableOrganization:n,hasPaidPlan:i,onCheckoutOrganization:r,onCreate:o}=this.props;if("user"===t){let e;return i?e={labels:f.PAID_PLAN,onPrimaryButtonClick:o}:(e={labels:p},a.default.isWindowsApp&&(e={labels:f.FREE_PLAN,onPrimaryButtonClick:o})),n&&(e=c(c({},e),{},{labels:c(c({},f.ORGANIZATION_MEMBER),{},{primaryButtonText:f.ORGANIZATION_MEMBER.primaryButtonText.replace("{{organizationName}}",n.name)}),onPrimaryButtonClick:()=>r(n._id)}),(i||a.default.isWindowsApp)&&(e=c(c({},e),{},{onSecondaryButtonClick:o}))),e}return e?{labels:f.PAID_PLAN,onPrimaryButtonClick:o}:{labels:f.ORGANIZATION_NO_CREATE_PERMISSION}}showVideoOverlay(){this.setState({videoOverlayVisible:!0})}hideVideoOverlay(){this.youtubePlayer.pauseVideo(),this.setState({videoOverlayVisible:!1})}handleVideoClick(e){if(e.button!==Zeplin.MOUSE_BUTTON.LEFT)return;Object(s.getDevice)()===s.DEVICE_TYPES.MOBILE?location.assign("https://www.youtube.com/watch?v=x1RPNx8Jsp4"):this.setState({videoOverlayVisible:!0})}componentDidMount(){u||(u=new Promise(e=>{const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",t.id="youtubeAPIScript",document.head.appendChild(t),window.onYouTubeIframeAPIReady=()=>e(window.YT)}))}componentDidUpdate(e,t){!t.videoOverlayVisible&&this.state.videoOverlayVisible&&u.then(e=>{this.youtubePlayer=new e.Player(this.nodeRefs.youtubePlayerAnchor,{width:800,height:530,videoId:"x1RPNx8Jsp4",events:{onReady:()=>this.youtubePlayer.playVideo()}})})}renderTutorialVideo(){return i.h("div",{key:"video",style:{backgroundImage:"url(https://img.youtube.com/vi/x1RPNx8Jsp4/maxresdefault.jpg)"},class:"tutorialVideo",onClick:this.handleVideoClick},i.h("button",{class:"watchTutorialButton"}))}renderVideoOverlay(){return i.h("div",{key:"overlay",onClick:this.hideVideoOverlay,class:"videoOverlay"},i.h("div",{ref:Object(o.default)(this,"youtubePlayerAnchor")}))}renderListItems(){return i.h("ol",null,i.h("li",null,"If you’re a developer, ask your designer to create a project for you."),i.h("li",null,i.h("span",null,"If you’re a designer, download our ",i.h("a",{href:"https://zpl.io/download-mac",target:"_blank"},"macOS")," or ",i.h("a",{href:"https://zpl.io/download-windows-64",target:"_blank"},"Windows")," app to export designs.")))}render(){const{videoOverlayVisible:e}=this.state,{availableOrganization:t}=this.props,{labels:n,onPrimaryButtonClick:o,onSecondaryButtonClick:s}=this.getLabelsAndHandlers(),l=!t&&!a.default.isWindowsApp;return i.h("div",{class:"noProjectsScrollContainer"},i.h("div",{class:"noProjects"},i.h("h1",null,n.title),i.h("p",{class:"description"},n.description),this.renderTutorialVideo(),e&&this.renderVideoOverlay(),l&&this.renderListItems(),i.h("div",{class:"buttonContainer"},i.h("p",{class:"primaryButtonLabel"},n.primaryButtonLabel),o&&i.h(r.default,{onClick:o,primary:!0},n.primaryButtonText),i.h("p",{class:"primaryButtonSubLabel"},n.primaryButtonSubLabel)),s&&i.h("div",{class:"buttonContainer"},i.h("p",{class:"secondaryButtonLabel"},n.secondaryButtonLabel),i.h(r.default,{onClick:s,secondary:!0},n.secondaryButtonText))))}}t.default=g},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1175);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(296),a=n(11),l=n(9),c=n(228),d=n(1057);n(1176);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f({onCreateProjectClick:e,canCreateSection:t,onCreateSectionClick:n}){const r=Object(s.useRef)(null),[o,u]=Object(s.useReducer)((e,t)=>h(h({},e),t),{menuOpen:!1,menuOrigin:{}});function p(){if(r.current&&!o.menuOpen){const{left:e,top:t,height:n}=r.current.getBoundingClientRect(),i=28,s=12;return u({menuOpen:!o.menuOpen,menuOrigin:{x:e-i,y:t+n+s}})}u({menuOpen:!o.menuOpen})}return i.h("div",{class:"buttonDropdownWrapper",ref:r},i.h(l.default,{class:Object(a.default)({canCreateSection:t}),onClick:e,primary:!0},"Create Project"),t&&i.h("button",{class:"buttonDropdown",onClick:p},i.h(c.IconArrowDown,{width:"9",color:"white",class:"chevron"})),o.menuOpen&&i.h(d.default.withAutoPosition,{class:"createContextMenu",onClose:p,autoPosition:{menuContainer:".buttonDropdownWrapper",clickOrigin:o.menuOrigin}},i.h(d.default.Item,{onClick:n},"Create section")))}f.propTypes={onCreateProjectClick:o.a.func.isRequired,canCreateSection:o.a.bool,onCreateSectionClick:o.a.func},t.default=f},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1178);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1);n(1179);t.default=function({isPersonalWorkspace:e,filterValue:t,restrictedUser:n,selectedWorkflowStatusName:r,canCreateProject:o}){const s=`No ${e?"":"organization"} projects ${function(e,t){let n="currently.";return e?n="with this name or type 🤷‍♀️":t&&(n=`with “${t}” status 🤷‍♀️`),n}(t,r)}`;return i.h("div",{class:"emptyProjects"},i.h("h3",null,s),!r&&!t&&!e&&i.h("p",null,o?"Go ahead and create one! ✌️":function(e){return e?i.h("span",null,"To create a project or be invited to an existing project, you can contact anyone with an Editor role in the Organization. "):i.h("span",null,"Want to create a project? Your current role does not allow you to do that. ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more…"))}(n)))}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1181);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(44);n(1182);t.default=function(e){const{organizationId:t,subscriptionStatus:n,memberRole:o}=e,s=Object(r.urlResolve)("organization-profile-billing",{url:{oid:t}}),a=["king","queen"].includes(o),l="auto_cancelled"===n?"Payment Failure":"Subscription Cancelled";let c,d;return c="auto_cancelled"===n?"Due to a failed payment, your organization has been suspended.":a?"Looks like you've cancelled your subscription, your organization has been suspended.":"It looks like the subscription has been cancelled and your organization has been suspended.",d=a?"auto_cancelled"===n?i.h("span",null,i.h("a",{href:s},"Click here")," to update your payment information"):i.h("span",null,i.h("a",{href:s},"Click here")," to activate the subscription."):i.h("span",null,"Please contact an admin to reactivate it."),i.h("div",{class:"suspendedOrganizationInfo"},i.h("h3",{key:"suspendedHeader"},l),i.h("p",{key:"suspendedInfo"},c,i.h("br",null),d))}},function(e,t){},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(61);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return class extends e{constructor(...e){super(...e),s(this,"showToast",({text:e,source:t})=>{(this.toastContainer||this.nodeRefs&&this.nodeRefs.base)&&Object(i.default)({text:e,source:t,container:this.toastContainer||this.nodeRefs.base})})}getChildContext(){let e;return super.getChildContext&&(e=super.getChildContext()),o(o({},e),{},{showToast:this.showToast})}}}},function(e,t,n){"use strict";n.r(t),n.d(t,"getApiConfigValue",(function(){return r}));var i=n(137);async function r(e){return Zeplin.apiConfig||(window.Zeplin.apiConfig=await Object(i.getApiConfig)()),Zeplin.apiConfig[e]}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1187);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1);n(1188);t.default=function(){return i.h("div",{class:"overviewLoading"},i.h("div",{class:"menubarLoading"},i.h("div",{class:"loadingItem breathe"}),i.h("div",{class:"loadingItem breathe"}),i.h("div",{class:"loadingItem breathe"})),i.h("div",{class:"cardGridLoading"},i.h("div",{class:"cardLoading loadingItem breathe"}),i.h("div",{class:"cardLoading loadingItem breathe"}),i.h("div",{class:"cardLoading loadingItem breathe"}),i.h("div",{class:"cardLoading loadingItem breathe"}),i.h("div",{class:"cardLoading loadingItem breathe"})))}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1190);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1165),o=n(1191),s=n(9),a=n(1226),l=n(1261),c=n(1265),d=n(1267),u=n(346),h=n(470),p=n(473),f=n(342),g=n(349),m=n(96),b=n(334),y=n(165),S=n(122),v=n(143),C=n(133),O=n(40),E=n(140),T=n(481);function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k extends i.Component{constructor(...e){super(...e),D(this,"state",{differentTypeDialogVisible:!1,styleguidesInfoVisible:!1}),D(this,"openDifferentTypeDialog",()=>{this.setState({differentTypeDialogVisible:!0})}),D(this,"closeDifferentTypeDialog",()=>{this.setState({differentTypeDialogVisible:!1})}),D(this,"createStyleguide",()=>{u.StyleguidesActions.createStyleguide({platform:this.selectedType,parent:this.selectedParent,oid:this.state.selectedOrganizationId})}),D(this,"createStyleguideWithParentType",()=>{u.StyleguidesActions.createStyleguide({platform:this.parentStyleguideType,parent:this.selectedParent,oid:this.state.selectedOrganizationId})}),D(this,"handleCreateStyleguide",(e,t)=>{this.selectedType=e,this.selectedParent=t,t&&(this.parentStyleguideType=this.state.currentStyleguides.find(e=>e._id===t).type,e!==this.parentStyleguideType&&this.parentStyleguideType!==S.PLATFORM.BASE)?this.openDifferentTypeDialog():this.createStyleguide()}),D(this,"handleStyleguideClick",(e,t)=>{const{filteredStyleguides:n}=this.state,i=n.find(e=>e._id===t);if("active"!==i.status)return;i.users.some(e=>e.user._id===Zeplin.user._id)?E.userPrefs.set("styleguidesUsed",!0):(e.preventDefault(),e.stopPropagation(),h.SpaceActions.openDialog(T.default.PREVIEW_STYLEGUIDE,{previewBarrelId:t}))}),D(this,"handleStyleguidePreviewJoin",()=>{f.BarrelActions.join({barrelType:m.default.STYLEGUIDE,bid:this.state.previewStyleguide._id})}),D(this,"handleDeleteStyleguide",({stid:e})=>{f.BarrelActions.remove({barrelType:m.default.STYLEGUIDE,bid:e,syncWithApi:!0})}),D(this,"handleLeaveStyleguide",({bid:e,mid:t})=>{f.BarrelActions.removeMember({barrelType:m.default.STYLEGUIDE,bid:e,mid:t,syncWithApi:!0})}),D(this,"handleArchiveStyleguide",({stid:e})=>{f.BarrelActions.archive({bid:e,barrelType:m.default.STYLEGUIDE,syncWithApi:!0})}),D(this,"handleActivateStyleguide",({stid:e})=>{f.BarrelActions.activate({bid:e,barrelType:m.default.STYLEGUIDE,syncWithApi:!0})}),D(this,"handleJoinStyleguide",({stid:e,shouldLoadBarrel:t})=>{f.BarrelActions.join({barrelType:m.default.STYLEGUIDE,bid:e,shouldLoadBarrel:t})}),D(this,"handleSelectParent",({stid:e,parent:t,oldParent:n})=>{u.StyleguidesActions.selectParent({stid:e,parent:t,oldParent:n,syncWithApi:!0})}),D(this,"handleRemoveParent",({stid:e,oldParent:t})=>{u.StyleguidesActions.removeParent({stid:e,oldParent:t,syncWithApi:!0})}),D(this,"handleCopyLink",e=>{const{onCopyLink:t}=this.props;t(`${O.ZPL_PROTOCOL}//styleguide?stid=${e}`)}),D(this,"handleCopyStyleguideWebLink",e=>{const{onCopyLink:t}=this.props;t(e)}),D(this,"handleOpenCreateStyleguideDialog",()=>{h.SpaceActions.openDialog(T.default.CREATE_STYLEGUIDE)})}static calculateState(){const{organizations:e,organizationProfiles:t}=p.OrganizationStore.getState(),{selectedOrganizationId:n,filterValue:i,styleguidesTabVisited:r,highlightedBarrels:o,visibleDialogType:s,visibleDialogParams:a}=h.SpaceStore.getState(),{loadingStyleguide:l}=u.StyleguidesDataStore.getState(),{userId:c,paymentPlan:d}=g.UserStore.getState(),f=p.OrganizationHelpers.getOrganizationStyleguides(n),m=f&&0===f.length,b=f||[],y=b.find(({_id:e})=>e===a.previewBarrelId),S=e.find(e=>e._id===n),O=t[n],E=c;let T=function(e,t=""){return t.length?e.map(e=>({styleguide:e,score:Object(v.calculateMatchingScore)(t,e.name,e.type)})).filter(({score:e})=>e).sort((e,t)=>t.score-e.score).map(({styleguide:e})=>e):e}(b,i);O&&O.restricted&&(T=T.filter(e=>e.users.some(e=>e.user._id===E)));const D=function(e,t){for(let n of e)if(t.includes(n._id))return n._id;return null}(T,o),k=Object(C.generateTrees)(T),w=Object(C.generateNodes)(T),_=h.SpaceHelpers.canCreateStyleguide();return{currentStyleguides:b,filteredStyleguides:T,trees:k,nodes:w,selectedOrganizationId:n,organizations:e,organizationProfiles:t,selectedOrganization:S,currentOrganizationProfile:O,filterValue:i,canCreateStyleguide:_,showWelcome:m,loadingStyleguide:l,paymentPlan:d,styleguidesTabVisited:r,highlightedBarrels:o,firstHighlightedStyleguide:D,currentUserId:E,visibleDialogType:s,visibleDialogParams:a,previewStyleguide:y}}static getStores(){return[u.StyleguidesDataStore,h.SpaceStore,p.OrganizationStore,g.UserStore]}getChildContext(){const{filterValue:e,selectedOrganizationId:t,organizations:n,organizationProfiles:i,currentOrganizationProfile:r,canCreateStyleguide:o,currentStyleguides:s,currentUserId:a}=this.state;return{filterValue:e,selectedOrganizationId:t,organizations:n,organizationProfiles:i,currentOrganizationProfile:r,currentUserId:a,canCreateStyleguide:o,currentStyleguides:s}}renderDialogs(){const{currentStyleguides:e,visibleDialogType:t,differentTypeDialogVisible:n,loadingStyleguide:r,selectedOrganizationId:o,currentUserId:s,previewStyleguide:d}=this.state;if(t===T.default.CREATE_STYLEGUIDE){let t=Object(C.generateTrees)(e).filter(e=>!e.isArchived());return"user"===o&&(t=t.filter(e=>{const t=e.root.data.users.find(e=>"owner"===e.role);return t&&t.user._id===s})),i.h(l.default,{trees:t,onCreate:this.handleCreateStyleguide,onClose:h.SpaceActions.closeDialog})}return t===T.default.PREVIEW_STYLEGUIDE?i.h(a.default,{styleguide:d,loading:r,onJoin:this.handleStyleguidePreviewJoin,onClose:h.SpaceActions.closeDialog}):n?i.h(c.default,{parentStyleguideType:this.parentStyleguideType,childStyleguideType:this.selectedType,onCreateAnyway:this.createStyleguide,onCreateWithParentType:this.createStyleguideWithParentType,onClose:this.closeDifferentTypeDialog}):void 0}renderEmptyStyleguides(){const{paymentPlan:e,organizations:t}=this.state,n="company_annual"===e.id||"company_monthly"===e.id,r="free"===e.id,o=t.find(({status:e})=>"deleted"!==e);return i.h(d.default,{hasCompanyPlan:n,hasFreePlan:r,availableOrganization:o,onOpenPlanChooserOverlay:y.showPlanChooserOverlay,onCreate:this.handleOpenCreateStyleguideDialog,onCheckoutOrganization:h.SpaceActions.changeSelectedOrganization})}render(){const{onCopyLink:e}=this.props,{trees:t,nodes:n,filterValue:a,selectedOrganizationId:l,selectedOrganization:c={},canCreateStyleguide:d,showWelcome:p,styleguidesTabVisited:f,highlightedBarrels:g,firstHighlightedStyleguide:m}=this.state;return i.h("div",null,p?this.renderEmptyStyleguides():i.h(i.Fragment,null,i.h("div",{key:"menuBar",class:"menuBar"},i.h(r.default,{key:"filterSortView",inputPlaceholder:"Search for a styleguide",placeholderWidth:155,filterValue:a,onFilter:h.SpaceActions.changeFilterValue,rightContent:d&&i.h("div",{class:"filterSortViewRightContent"},i.h(s.default,{class:"noSelect",onClick:this.handleOpenCreateStyleguideDialog,primary:!0},"Create Styleguide"))})),i.h(o.default,{key:"styleguides",nodes:n,trees:t,highlightedStyleguides:g,firstHighlightedStyleguide:m,organizationId:l,organizationStatus:c.status,organizationSubscriptionStatus:c.subscriptionStatus,isVisited:f,onVisited:h.SpaceActions.setStyleguidesTabVisited,onStyleguideClick:this.handleStyleguideClick,onStyleguideHover:h.SpaceActions.unhighlightBarrel,onStyleguideDelete:this.handleDeleteStyleguide,onStyleguideArchive:this.handleArchiveStyleguide,onStyleguideActivate:this.handleActivateStyleguide,onStyleguideLeave:this.handleLeaveStyleguide,onStyleguideTransferOwnership:u.StyleguidesActions.initTransferOwnership,onStyleguideJoin:this.handleJoinStyleguide,onStyleguideInvite:u.StyleguidesActions.inviteUser,onStyleguideParentSelect:this.handleSelectParent,onStyleguideParentRemove:this.handleRemoveParent,onCopyLink:e})),this.renderDialogs())}}t.default=Object(b.default)(k,{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(1192);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1193),o=n(1199),s=n(1219),a=n(1222),l=n(1180),c=n(340),d=n(24),u=n(62),h=n(11);n(1225);class p extends c.default{constructor(e){super(e),this.handleResize=Object(u.debounce)(this.handleResize).bind(this),this.handleHintBoxHideClick=this.handleHintBoxHideClick.bind(this),this.renderTree=this.renderTree.bind(this),this.renderNode=this.renderNode.bind(this),this.initialScroll=!1,this.state={wrapRootTrees:!0,styleguidesInfoVisible:!1}}handleResize(){this.nodeRefs&&this.nodeRefs.rootTrees&&this.nodeRefs.base&&this.setState({wrapRootTrees:this.nodeRefs.base.clientWidth>=this.nodeRefs.base.scrollWidth})}handleHintBoxHideClick(){this.setState({styleguidesInfoVisible:!1})}componentDidMount(){this.handleResize();const{isVisited:e,onVisited:t}=this.props;e||(this.setState({styleguidesInfoVisible:!0}),t()),window.addEventListener("resize",this.handleResize)}componentWillReceiveProps(e){e.nodes.length!==this.props.nodes.length&&this.handleResize()}componentDidUpdate(e,t){this.props.organizationId!==e.organizationId&&this.nodeRefs&&this.nodeRefs.scrollContainer&&(this.nodeRefs.scrollContainer.scrollTop=0)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}renderTree(e){const{onStyleguideDelete:t,onStyleguideArchive:n,onStyleguideActivate:o,onStyleguideTransferOwnership:s,onStyleguideLeave:a,onStyleguideJoin:l,onStyleguideInvite:c,onStyleguideClick:d,onStyleguideHover:u,onStyleguideParentSelect:h,onStyleguideParentRemove:p,onCopyLink:f,highlightedStyleguides:g,firstHighlightedStyleguide:m}=this.props;return i.h(r.default,{key:e.root.id,tree:e,highlightedStyleguides:g,firstHighlightedStyleguide:m,onNodeDelete:t,onNodeArchive:n,onNodeActivate:o,onNodeTransferOwnership:s,onNodeLeave:a,onNodeJoin:l,onNodeInvite:c,onNodeClick:d,onNodeHover:u,onNodeParentSelect:h,onNodeParentRemove:p,onCopyLink:f})}renderBranchedTrees(e){const{wrapRootTrees:t}=this.state,n=Object(h.default)("trees",{center:1===e.length&&t});return i.h("div",{class:n},e.map(this.renderTree))}renderRootTrees(e){const{wrapRootTrees:t}=this.state;return i.h("div",{class:"rootTrees"},i.h("div",{style:{flexWrap:t?"wrap":"nowrap"},ref:Object(d.default)(this,"rootTrees"),class:"trees"},e.map(this.renderTree)))}renderArchivedTrees(e){const t=[],n=[];for(const i of e)i.isRootTree()?t.push(i):n.push(i);return i.h("div",null,i.h("div",{class:"styleguideHeader"},i.h("h3",null,"Archived Trees"),i.h("p",null,"These styleguides are not accessible by members.",i.h("br",null),"Editors or higher can re-activate them anytime from the styleguide settings menu.")),i.h("div",{class:"archivedTrees"},n.length>0&&this.renderBranchedTrees(n),t.length>0&&this.renderRootTrees(t)))}renderEmptyStyleguides(){const{organizationId:e,organizationStatus:t,organizationSubscriptionStatus:n}=this.props;return"suspended"===t?i.h(l.default,{organizationId:e,subscriptionStatus:n}):i.h(s.default,null)}renderInTreeFormat(){const{trees:e}=this.props,t=[],n=[],r=[];for(const i of e)i.isArchived()?r.push(i):i.isRootTree()?t.push(i):n.push(i);return i.h("div",{ref:Object(d.default)(this,"base"),class:"styleguidesTreeView"},n.length>0&&this.renderBranchedTrees(n),t.length>0&&this.renderRootTrees(t),0===n.length&&0===t.length&&this.renderEmptyStyleguides(),r.length>0&&this.renderArchivedTrees(r))}renderNode(e){const{highlightedStyleguides:t,firstHighlightedStyleguide:n,onStyleguideClick:r,onStyleguideHover:s,onStyleguideDelete:a,onStyleguideArchive:l,onStyleguideActivate:c,onStyleguideTransferOwnership:d,onStyleguideLeave:u,onStyleguideJoin:h,onStyleguideInvite:p,onStyleguideParentSelect:f,onStyleguideParentRemove:g,onCopyLink:m}=this.props,b=t.includes(e.id),y=n===e.id;return i.h(o.default,{key:e.id,node:e,archived:e.isArchived(),highlight:b,scroll:y,onDelete:a,onArchive:l,onActivate:c,onTransferOwnership:d,onLeave:u,onJoin:h,onInvite:p,onClick:r,onHover:s,onParentSelect:f,onParentRemove:g,onCopyLink:m})}renderInListFormat(){const{filterValue:e}=this.context,{nodes:t}=this.props,n=[],r=[];for(const i of t)i.isArchived()?r.push(i):n.push(i);return i.h("div",{class:"styleguidesListView"},n.length>0?i.h("div",{class:"styleguideNodes"},n.map(this.renderNode)):this.renderEmptyStyleguides(),r.length>0&&i.h("div",{class:"styleguideNodes"},i.h("div",{class:"styleguideHeader"},e?i.h("h4",null,"Archived Styleguides"):i.h(i.Fragment,null,i.h("h3",null,"Archived Styleguides"),i.h("p",null,"These styleguides are not accessible by members.",i.h("br",null),"Editors or higher can re-activate them anytime from the styleguide settings menu."))),r.map(this.renderNode)))}render(){const{filterValue:e}=this.context,{styleguidesInfoVisible:t}=this.state;return i.h("div",{ref:Object(d.default)(this,"scrollContainer"),class:"styleguides"},t&&i.h(a.default,{onHideClick:this.handleHintBoxHideClick,hideButtonText:"Got it!"}),e?this.renderInListFormat():this.renderInTreeFormat())}}t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(1194);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1195),o=n(1199),s=n(340),a=n(62),l=n(24),c=n(337),d=n(1197);n(1218);function u(e){return[e.id].concat(...e.children.map(u))}class h extends s.default{constructor(e){super(e),this.handleNodeRef=this.handleNodeRef.bind(this),this.renderNode=this.renderNode.bind(this),this.handleNodeMouseEnter=this.handleNodeMouseEnter.bind(this),this.handleNodeMouseLeave=this.handleNodeMouseLeave.bind(this),this.treeMounted=!1,this.nodeRefs={},this.state={hoveredParentId:null}}handleNodeRef(e,t){this.nodeRefs[e]=t}handleNodeMouseEnter(e){this.setState({hoveredParentId:e})}handleNodeMouseLeave(){this.setState({hoveredParentId:null})}componentDidMount(){const{tree:e}=this.props;e.isRootTree()||this.forceUpdate()}componentWillReceiveProps(e){Object(c.default)(u(e.tree.root),u(this.props.tree.root))&&(this.treeMounted=!1)}componentDidUpdate(){const{tree:e}=this.props;e.isRootTree()||this.treeMounted||(this.treeMounted=!0,setTimeout(()=>{this.forceUpdate()}))}renderNode(e){const{highlightedStyleguides:t,firstHighlightedStyleguide:n,onNodeDelete:r,onNodeArchive:s,onNodeActivate:a,onNodeTransferOwnership:l,onNodeLeave:c,onNodeJoin:d,onNodeInvite:u,onNodeClick:h,onNodeHover:p,onNodeParentSelect:f,onNodeParentRemove:g,onCopyLink:m}=this.props,b=t.includes(e.id),y=n===e.id;return i.h(o.default,{key:e.id,node:e,archived:e.isArchived(),highlight:b,scroll:y,onMount:this.handleNodeRef,onDelete:r,onArchive:s,onActivate:a,onLeave:c,onJoin:d,onInvite:u,onClick:h,onHover:p,onTransferOwnership:l,onMouseEnter:this.handleNodeMouseEnter,onMouseLeave:this.handleNodeMouseLeave,onParentSelect:f,onParentRemove:g,onCopyLink:m})}renderLevels(){const{hoveredParentId:e}=this.state,{tree:t}=this.props,n={marginBottom:d.TOTAL_LEVEL_GAP};return[i.h("div",{style:n,class:"level",key:"root"},this.renderNode(t.root)),t.levels.map((o,s)=>{const c=function(e){const t=Object(a.groupBy)(e,"parentId"),n=Object.values(t).sort((e,t)=>t.length-e.length);let i=-1;return n.reduce((n,r,o,s)=>{const a=r[0].parentId;if(-1===i){if(s[o+1]&&r.length===s[o+1].length){const t=s[s.length-1],n=t[t.length-1];e.map(e=>e.id).indexOf(n.id)<e.length/2&&(i=o)}}let l;return l=-1!==i?o-i+1:s.length-o,n[a]={weight:l,nodes:t[a]},n},{})}(o.nodes),d=Object.keys(c);let u=d;if(s>0){const e=t.getNodesAtLevel(s-1);u=d.sort((t,n)=>{const i=e.find(e=>e.id===t),r=e.find(e=>e.id===n);return i.index-r.index})}const h=Object.keys(c).length,p=s!==t.levels.length-1?n:null;return i.h("div",{ref:Object(l.default)(this,"level"+s),style:p,class:"level",key:s},u.map(n=>{const{nodes:o,weight:a}=c[n],l=o.map(e=>this.nodeRefs[e.id]),d=this.nodeRefs[n],u=this.nodeRefs["level"+s];return i.h(i.Fragment,{key:"branches"+n},this.treeMounted&&u&&d&&l.length>0&&i.h(r.default,{key:n,parentId:n,totalWeight:h,weight:a,levelRef:u,parentNodeRef:d,nodeRefs:l,highlight:!t.isArchived()&&n===e}),i.h("div",{key:"nodes"+n,class:"nodes"},o.map(this.renderNode)))}))})]}render(){const{tree:e}=this.props;return e.isRootTree()?this.renderNode(e.root):i.h("div",{class:"styleguideTree"},this.renderLevels())}}t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(1196);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1197),o=n(11);n(1198);t.default=function(e){const{parentId:t,levelRef:n,parentNodeRef:s,nodeRefs:a,totalWeight:l,weight:c,highlight:d}=e,u=a[0].getBoundingClientRect(),h=a[a.length-1].getBoundingClientRect(),p=n.getBoundingClientRect(),f=s.getBoundingClientRect().left+136,g=Math.min(u.left+136,f),m=Math.max(h.right-136,f)-g,b=u.left+136-f>0,y=r.TOTAL_LEVEL_GAP/(l+1)*c,S=r.TOTAL_LEVEL_GAP-y,v=`M2,${y} l${m},00 `,C=2+(b?u.left-g+136:0),O=Array(a.length).fill().reduce((e,t,n)=>e.concat(i.h("path",{key:n,d:`M${C+296*n},${y} l00,${S}`})),[]),E=`M${2+(b?0:f-g)},00 l00,${y}`,T=g-p.left-2,D=Object(o.default)("branches",{highlight:d});return i.h("svg",{class:D,"data-parentId":t,style:{left:T,top:-r.TOTAL_LEVEL_GAP},width:m+4,height:r.TOTAL_LEVEL_GAP},O,i.h("path",{d:v}),i.h("path",{d:E}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"TOTAL_LEVEL_GAP",(function(){return i}));const i=48},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1200);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1001),o=n(1201),s=n(289),a=n(589),l=n(582),c=n(1045),d=n(1204),u=n(62),h=n(44),p=n(24),f=n(481),g=n(96),m=n(133),b=n(122),y=n(680),S=n(334),v=n(40);n(1217);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const O="transferOwnership",E="selectParent";class T extends i.Component{constructor(e){super(e),C(this,"generateShortlink",()=>{const{webURL:e}=this.state;y.AppActions.generateShortlink(e)}),C(this,"handleCopyWebLink",()=>{const{onCopyLink:e}=this.props,{shortURL:t}=this.state;e(t)}),C(this,"handleCopyAppUri",()=>{const{onCopyLink:e}=this.props,{appURI:t}=this.state;e(t)}),this.openArchiveDialog=this.openArchiveDialog.bind(this),this.openTransferDialog=this.openTransferDialog.bind(this),this.openLeaveDialog=this.openLeaveDialog.bind(this),this.openDeleteDialog=this.openDeleteDialog.bind(this),this.openSelectParentDialog=this.openSelectParentDialog.bind(this),this.openRemoveParentDialog=this.openRemoveParentDialog.bind(this),this.closeDialogs=this.closeDialogs.bind(this),this.openTransferOwnershipPopup=this.openTransferOwnershipPopup.bind(this),this.openSelectParentPopup=this.openSelectParentPopup.bind(this),this.closePopovers=this.closePopovers.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleInvite=this.handleInvite.bind(this),this.handleArchive=this.handleArchive.bind(this),this.handleActivate=this.handleActivate.bind(this),this.handleTransferOwnership=this.handleTransferOwnership.bind(this),this.handleLeave=this.handleLeave.bind(this),this.handleJoinFromContextMenu=this.handleJoinFromContextMenu.bind(this),this.handleJoinFromCard=this.handleJoinFromCard.bind(this),this.handleParentRemove=this.handleParentRemove.bind(this),this.getCurrentUser=this.getCurrentUser.bind(this),this.selectParent=this.selectParent.bind(this),this.transferOwnershipPayload={},this.state={contextMenu:null,visibleDialogType:null,visiblePopoverType:null,transferOwnershipPopupVisible:!1,selectParentPopupVisible:!1,selectedParentStyleguide:null,shortURL:null}}static getStores(){return[y.AppStore]}static calculateState(e,t){const{node:{id:n}}=t,{shortlinks:i}=y.AppStore.getState(),r=Object(h.urlResolve)("styleguide",{url:{bid:n}});return{webURL:r,appURI:`${v.ZPL_PROTOCOL}//styleguide?stid=${n}`,shortURL:i[r]||r}}getCurrentUser(){const{selectedOrganizationId:e,currentOrganizationProfile:t,currentUserId:n}=this.context,{node:{data:{users:i}}}=this.props;let r;return r="user"===e?i.find(e=>e.user._id===n):t,r}openTransferOwnershipPopup(){this.setState({visiblePopoverType:O})}openSelectParentPopup(){this.setState({visiblePopoverType:E})}closePopovers(){this.setState({visiblePopoverType:null})}openArchiveDialog(){this.setState({visibleDialogType:f.default.ARCHIVE})}openTransferDialog(e,t){this.transferOwnershipPayload={selected:e,toOrganization:t},this.setState({visibleDialogType:f.default.TRANSFER})}openLeaveDialog(){this.setState({visibleDialogType:f.default.LEAVE})}openDeleteDialog(){this.setState({visibleDialogType:f.default.DELETE})}openSelectParentDialog(e){const{currentStyleguides:t}=this.context,n=t.find(t=>t._id===e._id);this.setState({visibleDialogType:f.default.SELECT_PARENT,selectedParentStyleguide:n})}openRemoveParentDialog(){this.setState({visibleDialogType:f.default.REMOVE_PARENT})}closeDialogs(){this.transferOwnershipPayload={},this.setState({visibleDialogType:null,selectedParentStyleguide:null})}selectParent(){const{selectedParentStyleguide:{_id:e}}=this.state,{node:{data:{_id:t,parent:n}},onParentSelect:i}=this.props;i({stid:t,parent:e,oldParent:n})}handleContextMenu(e){this.setState({contextMenu:{origin:e}})}handleContextMenuClose(){this.setState({contextMenu:null})}handleMouseEnter(){const{node:{id:e},onMouseEnter:t}=this.props;t&&t(e)}handleMouseLeave(){const{onMouseLeave:e}=this.props;e&&e()}handleDelete(){const{node:{data:{_id:e}},onDelete:t}=this.props;t({stid:e})}handleArchive(){const{node:{data:{_id:e}},onArchive:t}=this.props;t({stid:e})}handleActivate(){const{node:{data:{_id:e}},onActivate:t}=this.props;t({stid:e})}handleTransferOwnership(){const{selectedOrganizationId:e,currentUserId:t}=this.context,{onTransferOwnership:n,node:{data:{_id:i}}}=this.props,{selected:r,toOrganization:o}=this.transferOwnershipPayload;n({stid:i,fromUserId:t,targetId:r,toOrganization:o,oid:e})}handleLeave(){const{node:{data:{_id:e}},onLeave:t}=this.props;t({bid:e,mid:this.getCurrentUser().user._id})}handleInvite(){const{selectedOrganizationId:e}=this.context,{onInvite:t,node:{data:{_id:n,users:i}}}=this.props;t({container:this.nodeRefs.base,stid:n,users:i,oid:e}),this.closePopovers()}handleJoinFromContextMenu(){const{node:{data:{_id:e}},onJoin:t}=this.props;t({stid:e,shouldLoadBarrel:!1})}handleJoinFromCard(){const{node:{data:{_id:e}},onJoin:t}=this.props;t({stid:e,shouldLoadBarrel:!0})}handleParentRemove(){const{node:{data:{_id:e,parent:t}},onParentRemove:n}=this.props;n({stid:e,oldParent:t})}componentDidMount(){const{node:{id:e},scroll:t,onMount:n}=this.props,{base:i}=this.nodeRefs;t&&i.scrollIntoView(),n&&n(e,i)}renderTransferOwnershipPopup(){const{node:{data:{users:e}}}=this.props,{organizations:t,selectedOrganizationId:n,organizationProfiles:r,currentUserId:o}=this.context,s=e.filter(e=>"invited"!==e.user.status&&!(e.user._id===o&&"user"===n));let a=[];return t.length&&"user"===n&&(a=t.filter(e=>{const t=r[e._id];return t&&u.permissions.canTransferOwnership(t)&&"active"===e.status})),i.h(c.default,{barrelType:g.default.STYLEGUIDE,users:s,organizations:a,onSelect:this.openTransferDialog,onInvite:this.handleInvite})}renderDialog(e){const{organizations:t}=this.context,{node:{data:{name:n,users:r,type:o,parent:l}}}=this.props,{selected:c,toOrganization:d}=this.transferOwnershipPayload;if(e===f.default.DELETE)return i.h(a.default,{title:"Enter the name of the styleguide to confirm:",placeholder:"Styleguide name",confirmationText:n,onDelete:this.handleDelete,onClose:this.closeDialogs});let u,h,p,g;switch(e){case f.default.TRANSFER:{let e;e=d?t.find(e=>e._id===c).name:r.find(e=>e.user._id===c).user.username,u="TRANSFER",h=`Transfer ownership of “${n}” to ${e}?`,p=this.handleTransferOwnership;break}case f.default.LEAVE:u="LEAVE",h=`Leave “${n}”?`,p=this.handleLeave;break;case f.default.ARCHIVE:u="ARCHIVE",h=`Archive “${n}”?`,p=this.handleArchive;break;case f.default.SELECT_PARENT:{const{selectedParentStyleguide:e}=this.state;if(!e)return null;const{name:t,type:i}=e,r=o===i||i===b.PLATFORM.BASE;u=`${l?"CHANGE":"SELECT"}${r?"":" ANYWAY"}`;const s=l?"to":"as";g=`${l?"Change":"Select"} parent styleguide of ${`“${n}”`+(r?"":` (${b.PlatformString[o]})`)} ${s} ${`“${t}”`+(r?"":` (${b.PlatformString[i]})`)}?`,h="Styleguide parent can be changed later.",p=this.selectParent;break}case f.default.REMOVE_PARENT:u="REMOVE PARENT",h=`Remove parent styleguide of “${n}”?`,p=this.handleParentRemove}return i.h(s.BasicDialog,{positiveButtonText:u,onPositiveButtonClick:p,onClose:this.closeDialogs,negativeButtonText:"CANCEL",hideNegativeButton:!1,message:h,title:g})}renderContextMenu(e){const{contextMenu:{origin:t}}=this.state,{node:{data:n}}=this.props;return i.h(o.default,{currentUser:this.getCurrentUser(),styleguide:n,onClose:this.handleContextMenuClose,onOpen:this.generateShortlink,onActivate:this.handleActivate,onArchive:this.openArchiveDialog,onDelete:this.openDeleteDialog,onTransferOwnership:this.openTransferOwnershipPopup,onInvite:this.handleInvite,onJoin:this.handleJoinFromContextMenu,onLeave:this.openLeaveDialog,onParentSelect:this.openSelectParentPopup,onParentRemove:this.openRemoveParentDialog,onCopyWebLink:this.handleCopyWebLink,onCopyAppUri:this.handleCopyAppUri,selectableParentStyleguidesLength:e,autoPosition:{menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:t}})}renderPopovers(e){const{visiblePopoverType:t}=this.state;if(!t)return null;let n;switch(t){case O:n=this.renderTransferOwnershipPopup();break;case E:n=i.h(d.default,{styleguides:e,onSelect:this.openSelectParentDialog})}return i.h(l.default,{targetNode:this.nodeRefs.base,onClose:this.closePopovers,content:n,top:-12,left:-236,faceTop:!0,open:!0})}render(){const{filterValue:e,selectedOrganizationId:t,currentStyleguides:n}=this.context,{contextMenu:o,visibleDialogType:s}=this.state,{node:a,node:{id:l,parentId:c,data:{type:d,name:f,users:g,thumbnail:b,updated:y}},highlight:S,archived:v,onClick:C,onHover:O}=this.props,E=Object(h.urlResolve)("styleguide",{url:{bid:l}}),T=g.sort(u.sortBy.role),D=Object(m.getSelectableParentStyleguides)({isOrganizationStyleguide:"user"!==t,currentStyleguides:n,currentUser:this.getCurrentUser(),id:l,parentId:c,users:g});return i.h("div",{ref:Object(p.default)(this,"base"),class:"styleguideCardContainer",onMouseLeave:v||a.isLeaf()?null:this.handleMouseLeave,onMouseEnter:v||a.isLeaf()?null:this.handleMouseEnter},i.h(r.default,{id:l,onClick:C,onHover:O,link:E,type:d,name:f,members:T,source:b,updated:y,onContextMenu:this.handleContextMenu,contextMenu:o&&this.renderContextMenu(D.length),filterValue:e,highlight:S,archived:v,onJoin:this.handleJoinFromCard}),s&&this.renderDialog(s),this.renderPopovers(D))}}t.default=Object(S.default)(T,{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(1202);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1057),o=n(62),s=n(1203);class a extends i.Component{renderOwnershipItems(){const{currentUser:e,onTransferOwnership:t}=this.props,n=o.permissions.canTransferOwnership(e);return[i.h(r.default.ItemDivider,{key:"ownershipDivider"}),n&&i.h(r.default.Item,{key:"transferOwnership",onClick:t},"Transfer ownership…"),n&&i.h(r.default.ItemDivider,{key:"ownershipDividerEnd"})]}renderParentItems(){const{currentUser:e,onParentSelect:t,onParentRemove:n,selectableParentStyleguidesLength:a,styleguide:{parent:l,status:c}}=this.props;if(c===s.default.ARCHIVED)return null;const d=o.permissions.canUpdateStyleguide(e),u=d&&a>0;return[!l&&u&&i.h(r.default.Item,{key:"selectParent",onClick:t},"Select parent styleguide"),l&&u&&i.h(r.default.Item,{key:"changeParent",onClick:t},"Change parent styleguide"),l&&d&&i.h(r.default.Item,{key:"removeParent",onClick:n},"Remove parent styleguide"),(l||u)&&i.h(r.default.ItemDivider,{key:"parentItemDividerEnd"})]}renderStatusItems(){const{currentUser:e,onActivate:t,onArchive:n,styleguide:{status:a}}=this.props,l=o.permissions.canChangeStyleguideStatus(e),c=o.permissions.canChangeStyleguideStatus(e),d=a===s.default.ARCHIVED;return[!d&&l&&i.h(r.default.Item,{key:"archive",onClick:n},"Archive styleguide"),d&&c&&i.h(r.default.Item,{key:"activate",onClick:t},"Activate styleguide")]}renderWarningItems(){const{currentUser:e,onLeave:t,onDelete:n}=this.props,s=o.permissions.canDeleteStyleguide(e);return[o.permissions.canLeaveStyleguide(e)&&i.h(r.default.Item,{key:"leave",onClick:t,warning:!0},"Leave styleguide"),s&&i.h(r.default.Item,{key:"delete",onClick:n,warning:!0},"Delete styleguide")]}renderCopyLinks(){const{styleguide:{status:e},onCopyWebLink:t,onCopyAppUri:n}=this.props,o=e===s.default.ARCHIVED;return[!o&&i.h(r.default.Item,{key:"copyWebLink",onClick:t},"Copy styleguide web link"),!o&&i.h(r.default.Item,{key:"copyApiUri",onClick:n},"Copy styleguide app URI")]}renderItems(){const{currentUserId:e}=this.context,{styleguide:{users:t},onInvite:n,onJoin:o}=this.props;return t.some(t=>t.user._id===e)?[i.h(r.default.Item,{key:"invite",onClick:n},"Invite…"),this.renderCopyLinks(),this.renderOwnershipItems(),this.renderParentItems(),this.renderStatusItems(),this.renderWarningItems()]:[i.h(r.default.Item,{key:"join",onClick:o},"Join"),this.renderCopyLinks()]}render(){const{autoPosition:e,onClose:t,onOpen:n}=this.props;return i.h(r.default.withAutoPosition,{autoPosition:e,onClose:t,onOpen:n},this.renderItems())}}t.default=a},function(e,t,n){"use strict";n.r(t),t.default={ROOT:"root",ARCHIVED:"archived",BRANCHED:"branched"}},function(e,t,n){"use strict";n.r(t);var i=n(1205);n.d(t,"default",(function(){return i.default})),n.d(t,"NoStyleguides",(function(){return i.NoStyleguides})),n.d(t,"NoStyleguidesForNonOwnerUser",(function(){return i.NoStyleguidesForNonOwnerUser})),n.d(t,"NoStyleguideToMoveInOrganization",(function(){return i.NoStyleguideToMoveInOrganization})),n.d(t,"NoStyleguideToMoveNonOwner",(function(){return i.NoStyleguideToMoveNonOwner})),n.d(t,"NoStyleguideToMove",(function(){return i.NoStyleguideToMove}))},function(e,t,n){"use strict";n.r(t),n.d(t,"NoStyleguides",(function(){return d})),n.d(t,"NoStyleguidesForNonOwnerUser",(function(){return c})),n.d(t,"NoStyleguideToMoveInOrganization",(function(){return u})),n.d(t,"NoStyleguideToMoveNonOwner",(function(){return h})),n.d(t,"NoStyleguideToMove",(function(){return p}));var i=n(1),r=n(1206),o=n(44),s=n(24),a=n(133);n(1216);const l=({title:e="No styleguides to link yet",children:t})=>i.h("div",{class:"linkToStyleguidePopupEmpty"},i.h("h3",null,e),t),c=({projectOwnerName:e})=>i.h(l,null,i.h("p",null,"Styleguides can only be linked to projects with the same owner. Looks like this project is owned by ",i.h("strong",null,e)," and you’re not invited to any of their styleguides.")),d=({hasOrganization:e})=>i.h(l,null,i.h("p",null,!e&&"Styleguides can only be linked to projects with the same owner. ","Looks like ",e?"there’s no organization styleguide yet":"you don’t have a styleguide yet",", ",i.h("a",{href:Object(o.urlResolve)("styleguides"),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),".")),u=({oid:e})=>i.h(l,{title:"No styleguides to move to yet"},i.h("p",null,"Looks like there’s no organization styleguide yet, ",i.h("a",{href:Object(o.urlResolve)("organization-styleguides",{url:{oid:e}}),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),".")),h=({resourceType:e,barrelType:t,barrelOwnerName:n})=>i.h(l,{title:"No styleguides to move to yet"},i.h("p",null,e," can only be moved to styleguides with the same owner. Looks like this ",t," is owned by ",n," and you’re not invited to any of their styleguides.")),p=({resourceType:e})=>i.h(l,{title:"No styleguides to move to yet"},i.h("p",null,e," can only be moved to styleguides with the same owner. Looks like you don’t have a styleguide yet, ",i.h("a",{href:Object(o.urlResolve)("styleguides"),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),"."));class f extends i.Component{constructor(e){super(e),this.handleSelect=this.handleSelect.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this);const t=Object(a.generateTrees)(e.styleguides);this.state={selected:t.length>0?t[0].root.id:null,trees:t}}handleSelect(e,t){if(this.setState({selected:e}),t){const{styleguides:t}=this.props,n=t.find(t=>t._id===e);this.props.onSelect(n)}}handleKeyDown(e){switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:{const{selected:e}=this.state,{onSelect:t,styleguides:n}=this.props;t(n.find(t=>t._id===e));break}}}componentDidMount(){this.nodeRefs&&(this.nodeRefs.base.style.height=this.nodeRefs.base.clientHeight+"px"),document.addEventListener("keydown",this.handleKeyDown,!0)}componentWillReceiveProps(e){if(e.styleguides.length!==this.props.styleguides.length){const t=Object(a.generateTrees)(e.styleguides);this.setState({trees:t,selected:t[0].root.id})}e.selected!==this.props.selected&&this.setState({selected:e.selected})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown,!0)}render(){const{selected:e,trees:t}=this.state,{loading:n,text:o}=this.props;return i.h("div",{ref:Object(s.default)(this,"base"),class:"linkToStyleguidePopup"},i.h("p",{class:"noSelect"},o),i.h(r.default,{selectedNodeId:e,trees:t,loading:n,onNodeSelect:this.handleSelect,hoverable:!0}))}}f.defaultProps={text:"Select a styleguide to reference the same colors, text styles and components."},t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(1207);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1208),o=n(228),s=n(11),a=n(122);n(1215);function l({name:e,type:t,selected:n,loading:r}){const a=Object(s.default)("nodeItem",{selected:n});return i.h("div",{class:a},i.h("span",{class:"styleguideName ellipsis"},e),", ",i.h("span",{class:"nodeType"},t),r&&n&&i.h("div",{class:"nodeSpinner"},i.h(o.IconSpinner,{color:"#fff"})))}t.default=function(e){const{trees:t,selectedNodeId:n,onNodeSelect:o,hoverable:c,loading:d,class:u}=e,h=function(e,t,n){return function e(r){return r.map(({id:r,data:{name:o,type:s},children:c})=>({id:r,title:o,children:e(c),content:i.h(l,{name:o,loading:n,type:a.PlatformString[s],selected:t===r})}))}(e.map(e=>e.root))}(t,n,d),p=Object(s.default)("styleguidesTreeView",u);return i.h(r.default,{class:p,tree:h,selectedNodeId:n,onNodeSelect:o,hoverable:!d&&c,focusOnMount:!0,frozen:d})}},function(e,t,n){"use strict";n.r(t);var i=n(1209);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(62),a=n(64),l=n(11),c=n(24),d=n(1210),u=n(1212);n(1214);function h(e,t,n){return[].concat(...e.map(e=>(e.parent=n,t.includes(e.id)?e:[e].concat(h(e.children,t,e.id)))))}function p(e,t){for(const n of e){if(n.id===t)return n;let e=p(n.children,t);if(e)return e}return null}class f extends i.Component{constructor(e){super(e),this.handleChevronClick=this.handleChevronClick.bind(this),this.handleNodeSelect=this.handleNodeSelect.bind(this),this.handleNodeHover=this.handleNodeHover.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this);const{selectedNodeId:t,tree:n}=e;this.nodeList=h(n,[],null),this.state={collapsedNodes:[],selectedNodeId:t}}findSelectedNodeIndex(){const{selectedNodeId:e}=this.state;return this.nodeList.findIndex(({id:t})=>t===e)}handleChevronClick(e){const{tree:t}=this.props,{selectedNodeId:n}=this.state;this.nodeRefs.base.focus({preventScroll:!0}),this.setState(t=>{let{collapsedNodes:n}=t;return n.includes(e)?Object(s.arrayRemove)(n,t=>t===e):n.push(e),{collapsedNodes:n}});const i=p(t,e);var r;r=n,p(i.children,r)&&this.handleNodeSelect(e)}handleNodeSelect(e,{debounce:t=!1,isSelectedWithClick:n=!1}={}){const{onNodeSelect:i,frozen:r}=this.props;if(r)return;this.setState({selectedNodeId:e});const o=t?300:4;clearTimeout(this.nodeTimeout),this.nodeTimeout=setTimeout(i,o,e,n)}handleNodeHover(e){const{hoverable:t}=this.props;t&&this.handleNodeSelect(e)}handleArrowDown(e){const{selectedNodeId:t}=this.state;if(null===t&&this.nodeList.length)return void this.handleNodeSelect(this.nodeList[0].id,{debounce:!0});const n=this.findSelectedNodeIndex();if(-1===n||n===this.nodeList.length-1)return;const i="mac"===Object(a.getOS)()&&e.metaKey?this.nodeList.length-1:n+1,r=this.nodeList[i];this.handleNodeSelect(r.id,{debounce:!0})}handleArrowUp(e){const{selectedNodeId:t}=this.state;if(null===t&&this.nodeList.length)return void this.handleNodeSelect(this.nodeList[0].id,{debounce:!0});const n=this.findSelectedNodeIndex();if(n<1)return;const i="mac"===Object(a.getOS)()&&e.metaKey?0:n-1,r=this.nodeList[i];this.handleNodeSelect(r.id,{debounce:!0})}handleArrowLeft(){const{collapsedNodes:e}=this.state,t=this.findSelectedNodeIndex();if(-1===t)return;const n=this.nodeList[t];!n.children.length||e.includes(n.id)?null!==n.parent&&this.handleNodeSelect(n.parent,{debounce:!0}):this.handleChevronClick(n.id)}handleArrowRight(){const{collapsedNodes:e}=this.state,t=this.findSelectedNodeIndex();if(-1===t)return;const n=this.nodeList[t];n.children.length&&e.includes(n.id)&&this.handleChevronClick(n.id)}handleHome(){if(this.findSelectedNodeIndex()<1)return;const e=this.nodeList[0];this.handleNodeSelect(e.id,{debounce:!0})}handleEnd(){const e=this.findSelectedNodeIndex();if(-1===e||e===this.nodeList.length-1)return;const t=this.nodeList[this.nodeList.length-1];this.handleNodeSelect(t.id,{debounce:!0})}handleKeyDown(e){let t=!0;switch(e.keyCode){case Zeplin.KEY_CODE.ArrowDown:this.handleArrowDown(e);break;case Zeplin.KEY_CODE.ArrowUp:this.handleArrowUp(e);break;case Zeplin.KEY_CODE.ArrowLeft:this.handleArrowLeft();break;case Zeplin.KEY_CODE.ArrowRight:this.handleArrowRight();break;case Zeplin.KEY_CODE.HOME:this.handleHome();break;case Zeplin.KEY_CODE.END:this.handleEnd();break;default:t=!1}t&&e.preventDefault()}handleFocus(){document.addEventListener("keydown",this.handleKeyDown,!0)}handleBlur(){document.removeEventListener("keydown",this.handleKeyDown,!0)}componentDidMount(){const{focusOnMount:e}=this.props;e&&this.nodeRefs.base.focus({preventScroll:!0})}componentWillUpdate(e,t){const{collapsedNodes:n}=this.state,{tree:i,selectedNodeId:r}=e,{collapsedNodes:o}=t;n.length!==o&&(this.nodeList=h(i,o,null)),this.setState({selectedNodeId:r})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderTree(e,t){const{nodeClass:n,nodePadding:r,dragDropEnabled:o,onComponentToSectionNodeDrop:s}=this.props,{collapsedNodes:a,selectedNodeId:l}=this.state;return e.map(({id:e,idPath:c,styleguideId:h,title:p,content:f,class:g,children:m})=>{const b=a.includes(e),y=l===e,S=o?u.default:d.default;return i.h("div",{key:"tree-"+e,class:"tree"},i.h(S,{key:"node-"+e,class:[n,g],extraPadding:r,id:e,idPath:c,styleguideId:h,title:p,level:t,leaf:!m.length,collapsed:b,selected:y,onChevronClick:this.handleChevronClick,onNodeSelect:this.handleNodeSelect,onNodeHover:this.handleNodeHover,onComponentToSectionNodeDrop:s},f),0!==m.length&&!b&&this.renderTree(m,t+1))})}render(){const{class:e,tree:t}=this.props,n=Object(l.default)("treeView",e);return i.h("div",{class:n,tabIndex:"0",ref:Object(c.default)(this,"base"),onClick:s.stopPropagation,onFocus:this.handleFocus,onBlur:this.handleBlur},this.renderTree(t,0))}}const g={id:o.a.string.isRequired,title:o.a.string.isRequired,content:o.a.node.isRequired},m=o.a.shape(g);m.children=o.a.arrayOf(m).isRequired,f.propTypes={class:o.a.oneOfType([o.a.string,o.a.arrayOf(o.a.string)]),nodeClass:o.a.string,nodePadding:o.a.number,dragDropEnabled:o.a.bool,tree:o.a.arrayOf(m).isRequired,selectedNodeId:o.a.string,onNodeSelect:o.a.func.isRequired,hoverable:o.a.bool,focusOnMount:o.a.bool,frozen:o.a.bool},t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(1211);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(228),a=n(56),l=n(11),c=n(24),d=n(652);class u extends i.Component{constructor(e){super(e),this.handleChevronClick=this.handleChevronClick.bind(this),this.handleNodeClick=this.handleNodeClick.bind(this),this.handleNodeHover=this.handleNodeHover.bind(this)}handleChevronClick(e){const{id:t,onChevronClick:n}=this.props;e.stopPropagation(),n(t)}handleNodeClick(e){const{id:t,onNodeSelect:n}=this.props;e.stopPropagation(),n(t,{isSelectedWithClick:!0})}handleNodeHover(e){const{id:t,onNodeHover:n}=this.props;e.stopPropagation(),n(t)}shouldComponentUpdate(e){const{children:t}=this.props,{children:n}=e,r=i.toChildArray(t),o=i.toChildArray(n);if(r.length!==o.length)return!0;for(const[i,s]of Object(d.default)(r,o))if(i!==s)return!0;return this.props.id!==e.id||this.props.title!==e.title||this.props.level!==e.level||this.props.leaf!==e.leaf||this.props.collapsed!==e.collapsed||this.props.selected!==e.selected||this.props.class!==e.class}componentDidUpdate(){const{selected:e}=this.props;e&&Object(a.scrollIfNecessary)(this.nodeRefs.base)}render(){const{children:e,class:t,extraPadding:n,title:r,level:o,leaf:a,collapsed:d,selected:u}=this.props,h=Object(l.default)("node",t,{selected:u}),p=Object(l.default)("chevron",{collapsed:d}),f=n+12*o+(a?24:8);return i.h("div",{class:h,style:{paddingLeft:f},onClick:this.handleNodeClick,onMouseEnter:this.handleNodeHover,ref:Object(c.default)(this,"base")},!a&&i.h("button",{class:p,onClick:this.handleChevronClick},i.h(s.IconChevron,null)),i.h("span",{class:"nodeName ellipsis noSelect",title:r},e))}}u.propTypes={class:o.a.oneOfType([o.a.string,o.a.arrayOf(o.a.string)]),extraPadding:o.a.number,id:o.a.string.isRequired,level:o.a.number.isRequired,children:o.a.oneOfType([o.a.node,o.a.element]).isRequired,title:o.a.string.isRequired,leaf:o.a.bool.isRequired,collapsed:o.a.bool.isRequired,selected:o.a.bool.isRequired,onNodeSelect:o.a.func.isRequired,onChevronClick:o.a.func.isRequired},u.defaultProps={extraPadding:0},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(1213);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1211),o=n(1082),s=n(11);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const c=Object(o.DropTarget)({acceptsItemType:"StyleguideComponent",onHover:(e,t)=>e.onHover(t.dragData.styleguideId),onHoverOut:e=>e.onHoverOut(),onDrop(e,t){const{idPath:n,index:i}=t.dragData;e.onDrop(n,i)}})(r.default);class d extends i.Component{constructor(e){super(e),this.handleDragHover=this.handleDragHover.bind(this),this.handleDragHoverOut=this.handleDragHoverOut.bind(this),this.handleDrop=this.handleDrop.bind(this),this.state={hovered:!1}}handleDragHover(e){const{barrelId:t}=this.context,{styleguideId:n}=this.props;t===n&&t===e&&this.setState({hovered:!0})}handleDragHoverOut(){this.state.hovered&&this.setState({hovered:!1})}handleDrop(e,t){if(!this.state.hovered)return;const{idPath:n,onComponentToSectionNodeDrop:i}=this.props;i(e,n,t)}render(){const{hovered:e}=this.state,t=this.props,{class:n}=t,r=l(t,["class"]);return i.h(c,a({class:Object(s.default)("dragDropNode",n,{dropHover:e}),onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop},r))}}t.default=d},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1220);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1);n(1221);t.default=function(e,t){const{selectedOrganizationId:n,filterValue:r,canCreateStyleguide:o}=t,s="user"!==n;return i.h("div",{class:"emptyActiveStyleguides"},i.h("h3",null,"No ",s?"joined":"active"," styleguides ",r?"with this name/type. 🤷":"currently."),!r&&s&&i.h("p",null,o?"Go ahead and create one! ✌️":i.h("span",null,"Want to create a styleguide? Your current role does not allow you to do that. ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank"},"Learn more…"))))}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1223);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(819);n(1224);const o=i.h("svg",{width:"456",height:"201",viewBox:"0 0 456 201"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("rect",{width:"80",height:"40",x:"188",fill:"#979197",rx:"2"}),i.h("rect",{width:"80",height:"40",x:"130",y:"64",fill:"#979197",rx:"2"}),i.h("path",{"fill-rule":"nonzero",stroke:"#979197","stroke-width":"2",d:"M170 64v-8a4 4 0 0 1 4-4h108a4 4 0 0 1 4 4v8"}),i.h("path",{fill:"#979197","fill-rule":"nonzero",d:"M227 40h2v12h-2z"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"210.472",y:"17"},"Parent ")," ",i.h("tspan",{x:"200.314",y:"31"},"Styleguide")),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"156.494",y:"81"},"Child")," ",i.h("tspan",{x:"142.314",y:"95"},"Styleguide")),i.h("rect",{width:"80",height:"40",x:"246",y:"64",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"272.494",y:"81"},"Child")," ",i.h("tspan",{x:"258.314",y:"95"},"Styleguide")),i.h("path",{fill:"#979197",d:"M283.3 140.697c-.855-.205-1.699-.444-2.534-.71 1.189-8.25 2.704-16.827 1.976-25.096.604-.093 1.208-.182 1.806-.282.388-.065.526-.469.352-.792-.647-1.206-1.282-2.422-1.98-3.596-.345-.578-.918-1.689-1.703-1.705-.763-.016-.914.979-1.11 1.555a37.71 37.71 0 0 0-1.118 4.036c-.138.63.821.765.96.135.205-.929.434-1.851.711-2.762a33.454 33.454 0 0 1 .689-2.022c.05.227.147.427.29.598.71 1.218 1.409 2.44 2.088 3.677l-1.08.168a40.835 40.835 0 0 0-.3-2.22c-.104-.625-1.073-.508-.968.125.124.748.22 1.501.302 2.256a21.7 21.7 0 0 0-1.674.347c-.603.155-.52 1.148.093.99.551-.14 1.113-.248 1.677-.347.7 8.11-.773 16.526-1.945 24.624-.11-.038-.221-.074-.331-.113-.499-.18-.853.607-.35.787.184.066.37.128.556.19-.082.58-.163 1.16-.24 1.736-.086.636.873.775.959.134.07-.52.143-1.041.217-1.563.582.182 1.169.35 1.76.505-.655.568-1.406.991-2.114 1.503-.52.377-.994.811-1.454 1.26l-.282-4.855c-.032-.55-.863-.443-.83.106.11 1.917.222 3.833.334 5.75.023.4.492.458.733.213.806-.818 1.62-1.562 2.573-2.192.79-.523 1.549-1.03 2.188-1.749.235-.264.035-.622-.25-.69M340.478 138.014c-.033-.406-.474-.596-.785-.325a7.768 7.768 0 0 1-1.968 1.257c-4.576-6.448-10.623-11.78-17.686-15.38-6.238-3.18-13.922-4.938-18.86-10.09a5.661 5.661 0 0 1 1.114-.249c.357-.041.655-.494.325-.786a83.1 83.1 0 0 0-3.834-3.196c-.576-.45-1.6-1.617-2.416-1.127-.804.483-.072 1.657.151 2.263l1.876 5.084c.204.55 1.093.313.887-.245-.2-.543-1.873-5.673-2.265-6.242.266.227 1.351 1.101 1.117.918.393.307.784.618 1.171.933a79.69 79.69 0 0 1 1.973 1.665 6.657 6.657 0 0 0-.769.245c-.49-.575-.949-1.188-1.37-1.848-.317-.498-1.113-.036-.794.465.405.635.843 1.228 1.31 1.786a6.847 6.847 0 0 0-.281.164c-.502.312-.04 1.11.464.795.148-.091.298-.17.448-.249 4.461 4.79 11.164 6.785 17.052 9.441a48.553 48.553 0 0 1 19.494 15.984 8.62 8.62 0 0 1-1.219.279c-.584.088-.336.975.244.888a8.825 8.825 0 0 0 1.53-.38c.264.385.527.77.781 1.163.32.496 1.117.035.795-.465-.229-.353-.465-.7-.702-1.048a8.74 8.74 0 0 0 1.375-.818c.105 1.24.222 2.479.35 3.717a21.493 21.493 0 0 0-4.979-2.353c-.564-.184-.806.705-.244.888a20.574 20.574 0 0 1 5.543 2.786c.27.19.728-.06.692-.398-.197-1.838-.37-3.679-.52-5.522M425.474 145.33l-1.252-4.312c-.091-.312-.573-.51-.805-.212a9.222 9.222 0 0 1-1.858 1.814c-21.667-19.283-51.239-24.595-79.421-26.513-6.548-.445-13.699-1.074-19.115-4.956l.9-2.305c.122-.315-.184-.586-.464-.608a24.108 24.108 0 0 1-5.858-1.214c-.412-.14-.737.357-.543.705l3.745 6.71c.3.54 1.132.057.83-.483l-3.156-5.657c1.41.404 2.843.681 4.306.835l-.553 1.418a17.496 17.496 0 0 1-1.65-1.508c-.43-.447-1.11.232-.68.678a18.12 18.12 0 0 0 1.968 1.757l-.553 1.416c-.224.576.705.825.928.255l.423-1.084c3.775 2.62 8.352 3.792 12.959 4.4 7.381.973 14.862 1.105 22.26 1.992 15.634 1.876 31.244 5.53 45.303 12.787 6.311 3.258 12.221 7.223 17.532 11.916-.375.212-.768.4-1.183.558-.572.219-.323 1.147.256.926.593-.228 1.147-.501 1.67-.817.627.569 1.251 1.14 1.86 1.73.445.43 1.126-.248.68-.68a80.724 80.724 0 0 0-1.718-1.604 9.469 9.469 0 0 0 1.267-1.15c.475 1.518 1.016 3.054 1.324 4.596l.132.454a.872.872 0 0 0-.666-.586c-.39-.265-.878-.445-1.298-.658l-2.594-1.316c-.55-.28-1.038.548-.486.829l3.892 1.974c.503.255 1.43.942 1.96.347.508-.572-.18-1.876-.342-2.434M178.531 113.935a19.965 19.965 0 0 0-1.209-.118c.053-.629.111-1.257.179-1.885.064-.591-.853-.691-.917-.1a80.97 80.97 0 0 0-.185 1.945 21.554 21.554 0 0 0-1.543.017l2.53-4.155c.53 1.393.91 2.822 1.145 4.296m-1.434-5.589l-3.32 5.454c-.297.486.388 1.006.714.582a.478.478 0 0 0 .482.324c.455-.024.908-.024 1.36-.015a81.792 81.792 0 0 0 2.812 27.973c-.187.014-.373.033-.565.037-.593.012-.449.924.137.912.233-.006.463-.02.691-.04.134.457.266.916.408 1.372.176.565 1.017.185.843-.375-.116-.372-.222-.746-.332-1.12.494-.089.98-.215 1.46-.378a18.177 18.177 0 0 0-.403 4.07l-3.077-3.17c-.41-.422-1.128.16-.713.587l3.946 4.065c.32.33.852.105.813-.362a16.92 16.92 0 0 1 .509-5.766c.099-.372-.224-.756-.618-.585a9.43 9.43 0 0 1-2.183.64 80.656 80.656 0 0 1-2.807-27.82c.591.042 1.182.105 1.772.199.302.047.545-.245.508-.527a22.493 22.493 0 0 0-1.64-5.976c-.131-.304-.613-.384-.797-.081M97.76 143.827l-3.758 3.246.201-4.987a.534.534 0 0 0 .074.046c.448.217.895.435 1.343.654-.432.54-.847 1.092-1.242 1.658-.354.507.476.986.826.484.413-.59.846-1.161 1.299-1.713l1.257.612m59.62-34.8a39.301 39.301 0 0 0-6.712 3.536c-.512.338-.033 1.167.483.827a38.368 38.368 0 0 1 5.517-3.015l-2.014 5.428c-.245-.348-.491-.693-.73-1.045.51-.472 1.01-.958 1.494-1.457.43-.442-.246-1.12-.677-.677-.443.456-.898.893-1.358 1.32-.173-.26-.35-.518-.52-.781-.333-.516-1.162-.037-.827.483.206.318.42.631.63.946-4.105 3.603-8.863 6.087-14.287 7.33-5.863 1.344-11.667 2.313-17.332 4.427-8.856 3.305-18.515 8.271-24.803 15.678l-1.484-.722a.478.478 0 0 0-.545.076c-.066-.526-.92-.502-.944.082l-.27 6.692c-.018.443.522.593.817.339l5.141-4.44c.223-.193.17-.623-.096-.752l-1.722-.838c3.145-3.589 7.09-6.385 11.171-8.867 5.175-3.148 10.71-5.698 16.484-7.531 5.683-1.804 11.675-2.33 17.332-4.167 4.118-1.338 7.843-3.641 11.08-6.493.38.556.769 1.107 1.165 1.654.25.343.726.287.875-.115l2.72-7.33c.12-.32-.26-.723-.589-.588"}),i.h("rect",{width:"62",height:"48",x:"74",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"86.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"148",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"160.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"246",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"258.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"320",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"332.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"394",y:"153",fill:"#979197",rx:"2"}),i.h("text",{fill:"#FFF","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"406.051",y:"181"},"Project"))));t.default=function({onHideClick:e,hideButtonText:t}){return i.h("div",{class:"styleguidesHintBoxContainer"},i.h(r.default,{class:"styleguidesHintBox",onHideClick:e,hideButtonText:t,hideEmoji:!0},i.h("div",{class:"topContainer"},i.h("span",{class:"emoji"},"💁‍♀️"),i.h("div",{class:"text"},i.h("h5",null,"Curate your design system 🍡"),i.h("p",null,"Here, you can explore styleguides created by you or your team. Create styleguides to organize colors, text styles and components. ",i.h("strong",null,"Link a styleguide to multiple projects to reference same resources"),". Set parent-child relationships to inherit resources between styleguides."))),i.h("div",{class:"imageContainer"},o)))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1227);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1228),o=n(289);n(1260);t.default=function(e){const{styleguide:t,loading:n,onClose:s,onJoin:a}=e,{name:l,type:c,densityScale:d,users:u,colors:h,textStyles:p,componentSections:[{components:f}]=[{}]}=t;return i.h(o.default,{class:"styleguidePreviewDialog",positiveButtonText:"JOIN",onPositiveButtonClick:a,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:s,width:"66vw"},n?i.h("div",{class:"styleguidePreviewDialogLoadingBody"},i.h(r.StyleguidePreviewLoading,null)):i.h("div",{class:"styleguidePreviewDialogBody"},i.h(r.default,{name:l,type:c,densityScale:d,users:u,colors:h,textStyles:p,components:f})))}},function(e,t,n){"use strict";n.r(t);var i=n(1229);n.d(t,"StyleguidePreviewLoading",(function(){return i.default}));var r=n(1241);n.d(t,"default",(function(){return r.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1230);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(24),o=n(62),s=n(1231),a=n(1234),l=(n(1240),n(11));class c extends i.Component{constructor(e){super(e),this.state={availableWidth:0},this.handleWindowResize=Object(o.debounce)(this.handleWindowResize).bind(this)}handleWindowResize(){const{base:e}=this.nodeRefs;this.setState({availableWidth:e?e.clientWidth:0})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e}=this.state;return i.h("div",{class:Object(l.default)("styleguidePreviewLoading",this.props.class),ref:Object(r.default)(this,"base")},i.h("div",{class:"styleguidePreviewLoadingHead"}),i.h("div",{class:"styleguidePreviewLoadingSubHead"}),i.h("div",{class:"styleguidePreviewLoadingMembers"},function(e){const t=Math.floor(e/42);return Array.from({length:Math.min(12,t)},()=>i.h("div",{class:"styleguidePreviewLoadingMember"}))}(e)),i.h("div",{class:"styleguidePreviewLoadingSection"},i.h("div",{class:"styleguidePreviewLoadingSectionHead"}),i.h("div",{class:"styleguidePreviewLoadingColors"},function(e){const t=Math.floor(e/72);return Array.from({length:2*t},()=>i.h(s.ColorPreviewPlaceholder,null))}(e))),i.h("div",{class:"styleguidePreviewLoadingSection"},i.h("div",{class:"styleguidePreviewLoadingSectionHead textStylesSection"}),i.h("div",{class:"styleguidePreviewLoadingTextStyles"},Array.from({length:6},()=>i.h(a.Placeholder,null)))),i.h("div",{class:"styleguidePreviewLoadingSection"},i.h("div",{class:"styleguidePreviewLoadingSectionHead componentsSection"}),i.h("div",{class:"styleguidePreviewLoadingComponents"},function(e){const t=Math.floor(e/108);return Array.from({length:2*t},()=>i.h("div",{class:"styleguidePreviewLoadingComponentPlaceholder"}))}(e))))}}t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1232);n.d(t,"default",(function(){return i.default})),n.d(t,"ColorPreviewPlaceholder",(function(){return i.ColorPreviewPlaceholder}))},function(e,t,n){"use strict";n.r(t),n.d(t,"ColorPreviewPlaceholder",(function(){return r}));var i=n(1);n(1233);function r(){return i.h("div",{class:"styleguidePreviewColorPreview placeholder"})}t.default=function({color:e}){return i.h("div",{class:"styleguidePreviewColorPreview",style:{backgroundColor:e.toRGBAString()}})}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1235);n.d(t,"default",(function(){return i.default})),n.d(t,"Placeholder",(function(){return i.Placeholder}))},function(e,t,n){"use strict";n.r(t),n.d(t,"Placeholder",(function(){return s}));var i=n(1),r=n(1236);n(1239);class o extends i.Component{renderName(){const{textStyle:{scaledFontSize:e,name:t,fontWeight:n,fontStyle:r}}=this.props,o={fontSize:e,fontWeight:n,fontStyle:r};return i.h("span",{style:o},t)}renderMainInfo(){const{formatter:e,textStyle:t}=this.props,{content:n,fontSize:o}=Object(r.getMainInfo)(t);return i.h("div",{class:"previewTextStyleCatalogRowStyle"},i.h("span",{class:"previewTextStyleCatalogRowFamily ellipsis",title:n},n),", ",e.textLength(o))}renderExtraInfo(){const{formatter:e,textStyle:t}=this.props;return i.h("div",{class:"previewTextStyleCatalogRowExtraInfo ellipsis"},Object(r.getExtraInfo)(e,t))}renderColor(){const{formatter:e,textStyle:{color:t}}=this.props;return i.h("div",{class:"previewTextStyleCatalogColorContainer"},i.h("span",{class:"previewTextStyleCatalogColorPreview",style:{backgroundColor:e.colorString(t)}}),i.h("span",{class:"previewTextStyleCatalogColorText ellipsis"},t.name?"#"+t.name:t.toHexString()))}render(){const{textStyle:{color:e}}=this.props;return i.h("div",{class:"previewTextStyleCatalogRow"},i.h("div",{class:"previewTextStyleCatalogRowName ellipsis"},this.renderName()),i.h("div",{class:"previewTextStyleCatalogRowInfo"},i.h("div",{class:"previewTextStyleCatalogRowMainInfo"},this.renderMainInfo(),e&&this.renderColor()),this.renderExtraInfo()))}}function s(){return i.h("div",{class:"previewTextStyleCatalogRow"},i.h("div",{class:"previewTextStyleCatalogRowName"},i.h("div",{class:"placeholder"})),i.h("div",{class:"previewTextStyleCatalogRowInfo"},i.h("div",{class:"placeholder"})))}t.default=o},function(e,t,n){"use strict";n.r(t),n.d(t,"REGISTERED_AXES",(function(){return a})),n.d(t,"enumerateFontVariationSettings",(function(){return c})),n.d(t,"getMainInfo",(function(){return d})),n.d(t,"getExtraInfo",(function(){return u}));var i=n(1),r=n(19),o=n(1237),s=n(1238);const a=Object.freeze({wght:"Weight",wdth:"Width",slnt:"Slant",ital:"Italic",opsz:"Optical sizing"}),l=Object.freeze({wght:0,wdth:1,slnt:2,ital:3,opsz:4});function c(e){return Object.entries(e).sort(([e],[t])=>e in a&&t in a?l[e]-l[t]:e in a&&!(t in a)?-1:!(e in a)&&t in a?1:e<t?-1:1)}function d(e){const{fontFamily:t,fontStyle:n,fontSize:i,stretchText:o,weightText:s,fontVariationSettings:a}=e,l=a||"normal"===o?"":" "+Object(r.uppercaseFirst)(o),c=a||"normal"===n?"":" "+Object(r.uppercaseFirst)(n),d=a?"":Object(r.uppercaseFirst)(s);return{content:`${t}${l}${d||c?", ":""}${d}${c}`,fontSize:i}}function u(e,t){const{textAlign:n,lineHeight:l,letterSpacing:d,fontVariationSettings:u}=t;let h=[];if(n&&"left"!==n&&h.push(Object(r.uppercaseFirst)(n)),u){const t=c(u).map(([t,n])=>i.h("span",{key:t},a[t]||i.h("code",null,t),": ",e.fontVariationAxis(n)));h.push(...t)}return l&&h.push("Line height: "+e.textLength(l)),"number"==typeof d&&h.push("Letter spacing: "+e.letterSpacing(d)),h=[...Object(o.default)(h,Object(s.default)(", "))],h.pop(),h}},function(e,t,n){"use strict";n.r(t),t.default=function*(...e){if(1===e.length)yield*e[0][Symbol.iterator]();else{const t=e.map(e=>e[Symbol.iterator]());let n,i=0,r=t[0].next();for(;;)if(n=r,i=(i+1)%t.length,r=t[i].next(),yield n.value,r.done)return}}},function(e,t,n){"use strict";n.r(t),t.default=function*(e,t=1/0){if(t===1/0)for(;;)yield e;else for(let n=0;n<t;n++)yield e}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var i=n(1),r=n(62),o=n(11),s=n(18),a=n(122),l=n(1242),c=n(1248),d=n(1252),u=n(1256),h=n(1009),p=n(9);n(1259);function f(e){const{loading:t,name:n,type:f,users:g,densityScale:m,colors:b,textStyles:y,components:S,showJoinButton:v,loadingJoin:C,onJoin:O,headerSticky:E}=e;if(t)return null;const T=b&&!!b.length,D=y&&!!y.length,k=S&&!!S.length,w=!T&&!D&&!k,_=Object(r.getDensityScaleRepresentation)(f,m);return i.h("div",{class:"styleguidePreview"},i.h("div",{class:Object(o.default)("styleguidePreviewHeader",{sticky:E})},i.h("div",null,i.h("h1",null,n),i.h("h5",null,i.h("span",{class:"styleguidePreviewType"},a.PlatformString[f]),m&&i.h("span",{class:"styleguidePreviewDensity"},", ",_))),v&&i.h(p.default,{class:"styleguidePreviewJoinButton",onClick:O},C?i.h("img",{src:Object(s.imageUrl)("img/icSpinnerWhite.svg"),class:"spinning"}):"Join")),i.h(h.default,{members:g,class:"styleguidePreviewMembers",avatarSize:36}),T&&i.h(l.default,{colors:b}),D&&i.h(c.default,{textStyles:y}),k&&i.h(d.default,{components:S}),w&&i.h(u.default,null))}},function(e,t,n){"use strict";n.r(t);var i=n(1243);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1231),o=n(1244),s=n(24);n(1247);class a extends i.Component{constructor(e){super(e),this.state={availableWidth:0},this.handleWindowResize=this.handleWindowResize.bind(this)}handleWindowResize(){requestAnimationFrame(()=>{this.setState({availableWidth:this.nodeRefs.contentWrapper.clientWidth})})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.setState({availableWidth:this.nodeRefs.contentWrapper.clientWidth})}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e}=this.state,{colors:t}=this.props,n=t.slice(0,10),a=n.length,l=t.length>=10,c=Math.floor(e/72),d=c-a%c;let u;return u=d===c?c:c+d,i.h(o.default,{name:"Color Palette"},i.h("div",{class:"styleguidePreviewColorPalette",ref:Object(s.default)(this,"contentWrapper")},n.map(e=>i.h(r.default,{color:e,key:e.id})),l&&Array.from({length:u},()=>i.h(r.ColorPreviewPlaceholder,null))))}}t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(1245);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1);n(1246);t.default=function(e){const{name:t,children:n}=e;return i.h("div",{class:"styleguidePreviewSection"},i.h("div",{class:"styleguidePreviewSectionHeader"},t),i.h("div",{class:"styleguidePreviewSectionContent"},n))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1249);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1244),o=n(1234),s=n(1250);n(1251);t.default=function(e){const{textStyles:t}=e,n=new s.default({dimensionSuffix:"px",textDimensionSuffix:"px",densityScale:1,type:"common"}),a=t.slice(0,6);return i.h(r.default,{name:"Text Style Catalog"},i.h("div",{class:"styleguidePreviewTextStyleCatalog"},a.map(e=>i.h(o.default,{formatter:n,textStyle:e})),t.length>=6&&[i.h(o.Placeholder,null),i.h(o.Placeholder,null)]))}},function(e,t,n){"use strict";n.r(t);var i=n(106);const r=new Intl.NumberFormat("en-US",{useGrouping:!1,minimumFractionDigits:1,maximumFractionDigits:2});t.default=class{constructor(e){this.project=e}percentage(e,t=0){return Object(i.round)(100*e,t)+"%"}withUnit(e){return`${e}${this.project.dimensionSuffix}`}withTextUnit(e){return`${e}${this.project.textDimensionSuffix}`}length(e){return this.withUnit(Object(i.round)(e/this.project.densityScale,1))}textLength(e){return this.withTextUnit(Object(i.round)(e/this.project.densityScale,1))}letterSpacing(e){return this.withTextUnit(Object(i.round)(e/this.project.densityScale,2))}fontVariationAxis(e){return String(Object(i.round)(e,2))}colorString(e,t){return e.toPlatformString(this.project.type,t)}alpha(e){return r.format(e)}}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1253);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1244),o=n(1254),s=n(62),a=n(24);n(1255);const l=()=>{};class c extends i.Component{constructor(e){super(e),this.state={lastComponentRowAvailableWidth:0,availableWidth:0},this.handleWindowResize=Object(s.debounce)(this.handleWindowResize).bind(this)}handleWindowResize(){const e=this.nodeRefs.contentWrapper.getBoundingClientRect(),t=this.nodeRefs.lastComponentEl.getBoundingClientRect().right;this.setState({lastComponentRowAvailableWidth:e.right-t-6,availableWidth:e.width})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize()}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{availableWidth:e,lastComponentRowAvailableWidth:t}=this.state,{components:n}=this.props,s=n.slice(0,10),c=n.length>=10,d=Math.max(Math.floor(t/108),0),u=Math.floor(e/108)+d;return i.h(r.default,{name:"Components"},i.h("div",{class:"styleguidePreviewComponents",ref:Object(a.default)(this,"contentWrapper")},s.map((e,t)=>{const{latestVersion:{snapshot:{width:n,height:r,url:c}}}=e,d=t===s.length-1?Object(a.default)(this,"lastComponentEl"):l;return i.h(o.default,{key:t,width:n,height:r,url:c,baseRef:d})}),c&&Array.from({length:u},()=>i.h(o.ComponentPlaceholder,null))))}}t.default=c},function(e,t,n){"use strict";n.r(t),n.d(t,"ComponentPlaceholder",(function(){return s}));var i=n(1),r=n(11),o=n(18);class Component extends i.Component{constructor(e){super(e),this.state={lightness:null}}componentDidMount(){const{url:e}=this.props;Object(o.getImageProperties)(e).then(({lightness:e})=>{this.setState({lightness:e})}).catch(()=>{this.setState({lightness:"dark"})})}render(){const{lightness:e}=this.state,{width:t,height:n,url:o,baseRef:s}=this.props,a={width:(l=t,12*Math.ceil(l/12)+48)};var l;const c=Object(r.default)("styleguidePreviewComponentContent",e);return i.h("div",{class:"styleguidePreviewComponent",style:a,ref:s},i.h("div",{class:c,style:{paddingBottom:100*n/t+"%"}},i.h("img",{class:"noSelect",width:t,height:n,src:o})))}}function s(){return i.h("div",{class:"styleguidePreviewComponent"})}t.default=Component},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1257);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1);n(1258);t.default=function(){return i.h("div",{class:"styleguidePreviewEmptyBody"},i.h("h1",null,"No colors, text styles or components yet."),i.h("h3",null,"Join and upload the first."))}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1262);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(289),o=n(1206),s=n(158),a=n(1263),l=n(11);n(1264);class c extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(){const{onChange:e,value:t}=this.props;e(t)}render(){const{selected:e,value:t,label:n,image:r,description:o,horizontal:s,tall:a}=this.props,c=Object(l.default)("styleguideType",{selected:e,horizontal:s,tall:a});return i.h("label",{class:c},i.h("h5",null,n),!s&&i.h("div",{class:"imageWrapper"},r),i.h("p",null,o),i.h("input",{onClick:this.handleChange,type:"radio",value:t,name:"styleguideType"}))}}class d extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.handleCheckboxChange=this.handleCheckboxChange.bind(this),this.handleParentStyleguideChange=this.handleParentStyleguideChange.bind(this),this.handlePositiveButtonClick=this.handlePositiveButtonClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.values=Object.keys(a.default).map(e=>a.default[e].value),this.state={selected:this.values[0],selectedParentStyleguide:e.trees[0]?e.trees[0].root.id:null,chooseParentChecked:!1}}handleChange(e){this.setState({selected:e})}handleCheckboxChange(e){const{trees:t}=this.props,n=e.target.checked,i=n&&t[0]?t[0].root.id:null;this.setState({chooseParentChecked:n,selectedParentStyleguide:i})}handleParentStyleguideChange(e){this.setState({selectedParentStyleguide:e})}handlePositiveButtonClick(){const{onCreate:e}=this.props,{selected:t,selectedParentStyleguide:n,chooseParentChecked:i}=this.state;i?e(t,n):e(t)}handleKeyDown(e){const{selected:t}=this.state;switch(e.keyCode){case Zeplin.KEY_CODE.TAB:e.preventDefault(),this.handleChange(this.values[(this.values.indexOf(t)+1)%this.values.length])}}componentDidMount(){window.addEventListener("keydown",this.handleKeyDown,!0)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown,!0)}renderStyleguidesPicker(){const{selectedParentStyleguide:e}=this.state,{trees:t}=this.props;return i.h("div",{class:"styleguidesPicker"},i.h("p",null,"Choose a parent styleguide"),i.h("div",{class:"styleguidesTreeViewContainer"},i.h(o.default,{trees:t,selectedNodeId:e,onNodeSelect:this.handleParentStyleguideChange})))}render(){const{selected:e,chooseParentChecked:t}=this.state,{trees:n,onClose:o}=this.props;return i.h(r.default,{class:"createStyleguideDialog",onPositiveButtonClick:this.handlePositiveButtonClick,onClose:o,width:828,positiveButtonText:"CREATE",negativeButtonText:"CANCEL",hideNegativeButton:!1},i.h("div",{class:"dialogBody noSelect"},i.h("h1",null,"Choose a type"),i.h("div",{class:"bodyContainer box"},i.h("div",null,i.h("h3",null,"Platform-free"),i.h(c,{onChange:this.handleChange,value:a.default.BASE.value,label:a.default.BASE.label,image:i.h(a.default.BASE.Image,{selected:e===a.default.BASE.value}),description:a.default.BASE.description,selected:a.default.BASE.value===e,tall:!0})),i.h("div",{class:"splitter"}),i.h("div",{class:"platformTypesContainer"},i.h("h3",null,"Platform-specific"),i.h("div",{class:"platformSpecificTypes"},i.h(c,{onChange:this.handleChange,value:a.default.WEB.value,label:a.default.WEB.label,image:i.h(a.default.WEB.Image,{selected:e===a.default.WEB.value}),description:a.default.WEB.description,selected:a.default.WEB.value===e}),i.h(c,{onChange:this.handleChange,value:a.default.IOS.value,label:a.default.IOS.label,image:i.h(a.default.IOS.Image,{selected:e===a.default.IOS.value}),description:a.default.IOS.description,selected:a.default.IOS.value===e}),i.h(c,{onChange:this.handleChange,value:a.default.ANDROID.value,label:a.default.ANDROID.label,image:i.h(a.default.ANDROID.Image,{selected:e===a.default.ANDROID.value}),description:a.default.ANDROID.description,selected:a.default.ANDROID.value===e}),i.h(c,{onChange:this.handleChange,value:a.default.OSX.value,label:a.default.OSX.label,image:i.h(a.default.OSX.Image,{selected:e===a.default.OSX.value}),description:a.default.OSX.description,selected:a.default.OSX.value===e,horizontal:!0})))),n.length>0&&i.h("div",{class:"nestedStyleguides"},i.h("label",{class:"checkboxContainer"},i.h(s.default,{name:"chooseParent",onChange:this.handleCheckboxChange,checked:t}),i.h("div",{class:"checkboxInfoContainer"},i.h("h5",null,"Create as child styleguide"),i.h("p",null,"Creating as child styleguide will inherit colors, text styles and components from the parent styleguide."))),t&&this.renderStyleguidesPicker())))}}t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1);t.default={BASE:{value:"base",label:"Base",description:"For parent styleguides with resources shared between platforms",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("path",{stroke:t,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M28.46 62.73c-7.676-19.865.038-42.908 19.058-53.889 19.02-10.981 42.832-6.14 56.197 10.44a43.76 43.76 0 0 0-16.36 17.114c-7 .225-14.047 2.13-20.536 5.877a43.783 43.783 0 0 0-15.357 14.846 43.76 43.76 0 0 0-23.002 5.611z"}),i.h("path",{stroke:t,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M87.591 36.15a43.97 43.97 0 0 0-.084.157c-7 .225-14.046 2.13-20.535 5.876a43.784 43.784 0 0 0-15.32 14.786c-12.04-20.972-13.79-42.553-3.888-48.27 9.893-5.712 27.686 6.57 39.827 27.45z"}),i.h("path",{fill:t,d:"M83.23 69.471l.186.321a5.864 5.864 0 0 0 10.156-5.863 1.466 1.466 0 0 1 2.54-1.466 8.795 8.795 0 1 1-15.363 8.565c-.02-.03-.04-.06-.057-.091L65.3 44.277l2.539-1.466 15.392 26.66zM47.56 7.688l-2.539 1.466-1.71-2.962a1.466 1.466 0 0 1 2.54-1.466l1.71 2.962z"})))}},WEB:{value:"web",label:"Web",description:"Dimensions in px/% CSS and HTML export, PNG and SVG assets",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("path",{fill:t,"fill-rule":"nonzero",d:"M122 15h4a2 2 0 0 1 2 2v61a2 2 0 0 1-2 2H14a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h106a2 2 0 0 1 2 2v10zm-2 0V8H14v70h78V43H38a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h54V17a2 2 0 0 1 2-2h26zM92 38H38v4h54v-4zM52 4.5a1 1 0 0 0 0 2h30a1 1 0 0 0 0-2H52zm-37 2a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zM94 20v58h32V20H94zm1-3.5a1 1 0 0 0 0 2h30a1 1 0 1 0 0-2H95zM97 45h26a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H97a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1zm0 1v4h26v-4H97z"}))}},IOS:{value:"ios",label:"iOS",description:"Dimensions in pt, Objective-C/Swift export, PNG and PDF assets",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("path",{fill:t,"fill-rule":"evenodd",d:"M122 10.162h-2.834a.417.417 0 0 0-.395.395c0 .757-.353 1.392-.888 1.759a1.95 1.95 0 0 1-1.107.34h-13.552c-1.102 0-1.995-.894-1.996-2.1a.417.417 0 0 0-.394-.394H97.57a3.16 3.16 0 0 0-3.159 3.159v61.182a3.16 3.16 0 0 0 3.16 3.159h24.859a3.16 3.16 0 0 0 3.159-3.16V13.322a3.16 3.16 0 0 0-3.16-3.16H122zM117.883 8V6.538l-.003-.465a3.355 3.355 0 0 0-.04-.463 1.528 1.528 0 0 0-.422-.816 1.556 1.556 0 0 0-.822-.418 3.764 3.764 0 0 0-.47-.041H16.134c-.052 0-.316.009-.47.037a1.557 1.557 0 0 0-.822.418 1.528 1.528 0 0 0-.422.816 3.363 3.363 0 0 0-.04.463l-.002.466v67.434s0 .144.002.214c.002.155.012.31.04.463a1.53 1.53 0 0 0 .422.816 1.56 1.56 0 0 0 .822.418c.154.026.31.036.467.04l.47.003h75.797a5.359 5.359 0 0 1-.149-1.256v-40a.25.25 0 0 1-.249-.25V29.75a.25.25 0 0 1 .25-.25v-1.333a.25.25 0 0 1-.25-.25V23.25a.25.25 0 0 1 .25-.25v-2.5a.25.25 0 0 1-.25-.25v-2.167a.25.25 0 0 1 .25-.25v-4.5A5.327 5.327 0 0 1 97.57 8h20.313zM106.25 80H17.33c-.264 0-.52 0-.774-.008a10.139 10.139 0 0 1-1.676-.144 5.593 5.593 0 0 1-1.591-.522A5.306 5.306 0 0 1 10.94 77a5.466 5.466 0 0 1-.528-1.575 12.029 12.029 0 0 1-.144-1.66c0-.262-.009-.514-.009-.767V11.33h-.217a.043.043 0 0 1-.043-.042V6.052c0-.024.02-.043.043-.043h.24c.02-.395.058-.787.13-1.176.102-.556.264-1.07.528-1.576A5.307 5.307 0 0 1 13.289.932a5.593 5.593 0 0 1 1.59-.523 12.383 12.383 0 0 1 1.677-.143c.263 0 .519-.008.774-.008h1.685V.043c0-.024.02-.043.044-.043h4.508c.024 0 .043.02.043.043v.215h.91V.043c0-.024.02-.043.043-.043h4.508c.024 0 .044.02.044.043v.215h85.815c.264 0 .52 0 .775.008.561.008 1.123.042 1.676.143.561.101 1.08.261 1.59.523a5.306 5.306 0 0 1 2.348 2.326c.264.505.426 1.019.528 1.575.093.548.128 1.104.145 1.66 0 .26.008.514.008.767V8h.43a5.327 5.327 0 0 1 5.32 5.333v11.5a.25.25 0 0 1 .25.25v7.5a.25.25 0 0 1-.25.25v41.834A5.327 5.327 0 0 1 122.43 80h-16.18zM12.304 39.47a.648.648 0 0 0-.651.644v.003c0 .356.291.645.651.645.36 0 .652-.289.652-.645v-.003a.648.648 0 0 0-.652-.645zm-.007 2.719a.906.906 0 0 0-.91.901c0 .498.408.901.91.901.503 0 .91-.403.91-.9a.906.906 0 0 0-.91-.902zm0 3.219c-.359 0-.65.288-.65.644 0 .355.291.643.65.643.36 0 .65-.288.65-.643a.647.647 0 0 0-.65-.644zm95.79-34.908a.291.291 0 0 0 0 .583h3.825a.291.291 0 0 0 0-.583h-3.824zm5.654-.25a.541.541 0 1 0 .002 1.082.541.541 0 0 0-.002-1.082zm1.538 66.424a.166.166 0 0 1 0 .333h-10.558a.166.166 0 0 1 0-.333h10.558z"}))}},ANDROID:{value:"android",label:"Android",description:"Dimensions in dp/sp, XML export, PNG and SVG assets",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("path",{fill:t,"fill-rule":"evenodd",d:"M103.642 80H16.686c-3.587 0-6.522-2.918-6.522-6.484V19.484c0-3.566 2.935-6.484 6.522-6.484H90.32V4.498C90.32 2.014 92.324 0 94.796 0h28.184c2.472 0 4.475 2.014 4.475 4.498v12.706h.333c.084 0 .151.068.151.152v5.47a.152.152 0 0 1-.151.153h-.333v5.805h.333c.084 0 .151.068.151.152v10.942a.152.152 0 0 1-.151.152h-.333v35.472c0 2.484-2.003 4.498-4.475 4.498h-19.338zm-11.78-67v60.063a1.43 1.43 0 0 0 1.422 1.437H124.462a1.43 1.43 0 0 0 1.42-1.438V6.939a1.43 1.43 0 0 0-1.42-1.438H93.284a1.43 1.43 0 0 0-1.422 1.438V13zm-1.542 3.075H15.576v60.261h74.821c-.05-.27-.077-.55-.077-.834V16.075zm-30.738-1.497a.5.5 0 1 0 1-.001.5.5 0 0 0-1 .001zM54.664 78.34c0 .267.222.499.496.499h9.008a.501.501 0 0 0 .496-.5.503.503 0 0 0-.496-.498H55.16a.501.501 0 0 0-.496.499zM97.971 2.28a.94.94 0 0 0-.937.942c0 .52.42.942.937.942a.94.94 0 0 0 .937-.942.94.94 0 0 0-.937-.942zm3.342.364a.591.591 0 0 0-.59.593c0 .327.264.593.59.593.325 0 .59-.266.59-.593a.591.591 0 0 0-.59-.593zm3.19.061v.213c0 .185.149.334.333.334h8.074c.183 0 .332-.15.332-.334v-.213a.334.334 0 0 0-.332-.334h-8.074a.334.334 0 0 0-.333.334z"}))}},OSX:{value:"osx",label:"macOS",description:"Dimensions in pt, Objctive-C/Swift export, PNG and PDF assets.",Image:({selected:e})=>{const t=e?"#fff":"var(--gandalf)";return i.h("svg",{width:"128",height:"80"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("path",{stroke:t,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M28.46 62.73c-7.676-19.865.038-42.908 19.058-53.889 19.02-10.981 42.832-6.14 56.197 10.44a43.76 43.76 0 0 0-16.36 17.114c-7 .225-14.047 2.13-20.536 5.877a43.783 43.783 0 0 0-15.357 14.846 43.76 43.76 0 0 0-23.002 5.611z"}),i.h("path",{stroke:t,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M87.591 36.15a43.97 43.97 0 0 0-.084.157c-7 .225-14.046 2.13-20.535 5.876a43.784 43.784 0 0 0-15.32 14.786c-12.04-20.972-13.79-42.553-3.888-48.27 9.893-5.712 27.686 6.57 39.827 27.45z"}),i.h("path",{fill:t,d:"M83.23 69.471l.186.321a5.864 5.864 0 0 0 10.156-5.863 1.466 1.466 0 0 1 2.54-1.466 8.795 8.795 0 1 1-15.363 8.565c-.02-.03-.04-.06-.057-.091L65.3 44.277l2.539-1.466 15.392 26.66zM47.56 7.688l-2.539 1.466-1.71-2.962a1.466 1.466 0 0 1 2.54-1.466l1.71 2.962z"})))}}}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1266);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(289),o=n(122);t.default=function(e){const{parentStyleguideType:t,childStyleguideType:n,onCreateAnyway:s,onCreateWithParentType:a,onClose:l}=e,c=o.PlatformString[n],d=o.PlatformString[t];return i.h(r.BasicDialog,{class:"differentTypeDialog",onPositiveButtonClick:a,onFallbackButtonClick:s,onClose:l,positiveButtonText:"CREATE AS "+d.toUpperCase(),negativeButtonText:"CANCEL",fallbackButtonText:"CREATE ANYWAY",hideNegativeButton:!1,width:484,title:`Create ${c} child styleguide from ${d} parent styleguide?`,message:"Creating child styleguide with a different platform-specific type from its parent styleguide is not recommended."})}},function(e,t,n){"use strict";n.r(t);var i=n(1268);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(9),o=n(65);n(1269);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=i.h("svg",{width:"456",height:"201",viewBox:"0 0 456 201"},i.h("g",{fill:"none","fill-rule":"evenodd",transform:"translate(74)"},i.h("rect",{width:"80",height:"40",x:"114",fill:"#EDECED",rx:"2"}),i.h("rect",{width:"80",height:"40",x:"56",y:"64",fill:"#EDECED",rx:"2"}),i.h("path",{"fill-rule":"nonzero",stroke:"#EDECED","stroke-width":"2",d:"M96 64v-8a4 4 0 0 1 4-4h108a4 4 0 0 1 4 4v8"}),i.h("path",{fill:"#EDECED","fill-rule":"nonzero",d:"M153 40h2v12h-2z"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"136.472",y:"17"},"Parent ")," ",i.h("tspan",{x:"126.314",y:"31"},"Styleguide")),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"82.494",y:"81"},"Child")," ",i.h("tspan",{x:"68.314",y:"95"},"Styleguide")),i.h("rect",{width:"80",height:"40",x:"172",y:"64",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"198.494",y:"81"},"Child")," ",i.h("tspan",{x:"184.314",y:"95"},"Styleguide")),i.h("path",{fill:"#C1BEC1",d:"M209.3 140.697c-.855-.205-1.699-.444-2.534-.71 1.189-8.25 2.704-16.827 1.976-25.096.604-.093 1.208-.182 1.806-.282.388-.065.526-.469.352-.792-.647-1.206-1.282-2.422-1.98-3.596-.345-.578-.918-1.689-1.703-1.705-.763-.016-.914.979-1.11 1.555a37.71 37.71 0 0 0-1.118 4.036c-.138.63.821.765.96.135.205-.929.434-1.851.711-2.762a33.454 33.454 0 0 1 .689-2.022c.05.227.147.427.29.598.71 1.218 1.409 2.44 2.088 3.677l-1.08.168a40.835 40.835 0 0 0-.3-2.22c-.104-.625-1.073-.508-.968.125.124.748.22 1.501.302 2.256a21.7 21.7 0 0 0-1.674.347c-.603.155-.52 1.148.093.99.551-.14 1.113-.248 1.677-.347.7 8.11-.773 16.526-1.945 24.624-.11-.038-.221-.074-.331-.113-.499-.18-.853.607-.35.787.184.066.37.128.556.19-.082.58-.163 1.16-.24 1.736-.086.636.873.775.959.134.07-.52.143-1.041.217-1.563.582.182 1.169.35 1.76.505-.655.568-1.406.991-2.114 1.503-.52.377-.994.811-1.454 1.26l-.282-4.855c-.032-.55-.863-.443-.83.106.11 1.917.222 3.833.334 5.75.023.4.492.458.733.213.806-.818 1.62-1.562 2.573-2.192.79-.523 1.549-1.03 2.188-1.749.235-.264.035-.622-.25-.69M266.478 138.014c-.033-.406-.474-.596-.785-.325a7.768 7.768 0 0 1-1.968 1.257c-4.576-6.448-10.623-11.78-17.686-15.38-6.238-3.18-13.922-4.938-18.86-10.09a5.661 5.661 0 0 1 1.114-.249c.357-.041.655-.494.325-.786a83.1 83.1 0 0 0-3.834-3.196c-.576-.45-1.6-1.617-2.416-1.127-.804.483-.072 1.657.151 2.263l1.876 5.084c.204.55 1.093.313.887-.245-.2-.543-1.873-5.673-2.265-6.242.266.227 1.351 1.101 1.117.918.393.307.784.618 1.171.933a79.69 79.69 0 0 1 1.973 1.665 6.657 6.657 0 0 0-.769.245c-.49-.575-.949-1.188-1.37-1.848-.317-.498-1.113-.036-.794.465.405.635.843 1.228 1.31 1.786a6.847 6.847 0 0 0-.281.164c-.502.312-.04 1.11.464.795.148-.091.298-.17.448-.249 4.461 4.79 11.164 6.785 17.052 9.441a48.553 48.553 0 0 1 19.494 15.984 8.62 8.62 0 0 1-1.219.279c-.584.088-.336.975.244.888a8.825 8.825 0 0 0 1.53-.38c.264.385.527.77.781 1.163.32.496 1.117.035.795-.465-.229-.353-.465-.7-.702-1.048a8.74 8.74 0 0 0 1.375-.818c.105 1.24.222 2.479.35 3.717a21.493 21.493 0 0 0-4.979-2.353c-.564-.184-.806.705-.244.888a20.574 20.574 0 0 1 5.543 2.786c.27.19.728-.06.692-.398-.197-1.838-.37-3.679-.52-5.522M351.474 145.33l-1.252-4.312c-.091-.312-.573-.51-.805-.212a9.222 9.222 0 0 1-1.858 1.814c-21.667-19.283-51.239-24.595-79.421-26.513-6.548-.445-13.699-1.074-19.115-4.956l.9-2.305c.122-.315-.184-.586-.464-.608a24.108 24.108 0 0 1-5.858-1.214c-.412-.14-.737.357-.543.705l3.745 6.71c.3.54 1.132.057.83-.483l-3.156-5.657c1.41.404 2.843.681 4.306.835l-.553 1.418a17.496 17.496 0 0 1-1.65-1.508c-.43-.447-1.11.232-.68.678a18.12 18.12 0 0 0 1.968 1.757l-.553 1.416c-.224.576.705.825.928.255l.423-1.084c3.775 2.62 8.352 3.792 12.959 4.4 7.381.973 14.862 1.105 22.26 1.992 15.634 1.876 31.244 5.53 45.303 12.787 6.311 3.258 12.221 7.223 17.532 11.916-.375.212-.768.4-1.183.558-.572.219-.323 1.147.256.926.593-.228 1.147-.501 1.67-.817.627.569 1.251 1.14 1.86 1.73.445.43 1.126-.248.68-.68a80.724 80.724 0 0 0-1.718-1.604 9.469 9.469 0 0 0 1.267-1.15c.475 1.518 1.016 3.054 1.324 4.596l.132.454a.872.872 0 0 0-.666-.586c-.39-.265-.878-.445-1.298-.658l-2.594-1.316c-.55-.28-1.038.548-.486.829l3.892 1.974c.503.255 1.43.942 1.96.347.508-.572-.18-1.876-.342-2.434M104.531 113.935a19.965 19.965 0 0 0-1.209-.118c.053-.629.111-1.257.179-1.885.064-.591-.853-.691-.917-.1a80.97 80.97 0 0 0-.185 1.945 21.554 21.554 0 0 0-1.543.017l2.53-4.155c.53 1.393.91 2.822 1.145 4.296m-1.434-5.589l-3.32 5.454c-.297.486.388 1.006.714.582a.478.478 0 0 0 .482.324c.455-.024.908-.024 1.36-.015a81.792 81.792 0 0 0 2.812 27.973c-.187.014-.373.033-.565.037-.593.012-.449.924.137.912.233-.006.463-.02.691-.04.134.457.266.916.408 1.372.176.565 1.017.185.843-.375-.116-.372-.222-.746-.332-1.12.494-.089.98-.215 1.46-.378a18.177 18.177 0 0 0-.403 4.07l-3.077-3.17c-.41-.422-1.128.16-.713.587l3.946 4.065c.32.33.852.105.813-.362a16.92 16.92 0 0 1 .509-5.766c.099-.372-.224-.756-.618-.585a9.43 9.43 0 0 1-2.183.64 80.656 80.656 0 0 1-2.807-27.82c.591.042 1.182.105 1.772.199.302.047.545-.245.508-.527a22.493 22.493 0 0 0-1.64-5.976c-.131-.304-.613-.384-.797-.081M23.76 143.827l-3.758 3.246.201-4.987a.534.534 0 0 0 .074.046c.448.217.895.435 1.343.654-.432.54-.847 1.092-1.242 1.658-.354.507.476.986.826.484.413-.59.846-1.161 1.299-1.713l1.257.612m59.62-34.8a39.301 39.301 0 0 0-6.712 3.536c-.512.338-.033 1.167.483.827a38.368 38.368 0 0 1 5.517-3.015l-2.014 5.428c-.245-.348-.491-.693-.73-1.045a39.26 39.26 0 0 0 1.494-1.457c.43-.442-.246-1.12-.677-.677-.443.456-.898.893-1.358 1.32-.173-.26-.35-.518-.52-.781-.333-.516-1.162-.037-.827.483.206.318.42.631.63.946-4.105 3.603-8.863 6.087-14.287 7.33-5.863 1.344-11.667 2.313-17.332 4.427-8.856 3.305-18.515 8.271-24.803 15.678l-1.484-.722a.478.478 0 0 0-.545.076c-.066-.526-.92-.502-.944.082l-.27 6.692c-.018.443.522.593.817.339l5.141-4.44c.223-.193.17-.623-.096-.752l-1.722-.838c3.145-3.589 7.09-6.385 11.171-8.867 5.175-3.148 10.71-5.698 16.484-7.531 5.683-1.804 11.675-2.33 17.332-4.167 4.118-1.338 7.843-3.641 11.08-6.493.38.556.769 1.107 1.165 1.654.25.343.726.287.875-.115l2.72-7.33c.12-.32-.26-.723-.589-.588"}),i.h("rect",{width:"62",height:"48",y:"153",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"12.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"74",y:"153",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"86.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"172",y:"153",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"184.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"246",y:"153",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"258.051",y:"181"},"Project")),i.h("rect",{width:"62",height:"48",x:"320",y:"153",fill:"#EDECED",rx:"2"}),i.h("text",{fill:"#979197","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"332.051",y:"181"},"Project")))),d={title:"This is where you manage your design system. 🎨",description:"Styleguides allow you organize your colors, text styles and components. If you have a common styleguide feeding multiple projects, you can create a shared styleguide and link it to your projects to reference them.",primaryButtonLabel:i.h("strong",null,"Looks like you’re a part of an organization:"),primaryButtonText:"Check out {{organizationName}}'s space",primaryButtonSubLabel:"You can always switch between workspaces from the top."},u={title:"Curate your design system 🍡",description:i.h("span",null,"Create styleguides to organize colors, text styles and components. ",i.h("strong",null,"Link a styleguide to multiple projects to reference same resources"),". Set parent-child relationships to inherit resources between styleguides.")},h={COMMON_PLAN:a(a({},u),{},{primaryButtonLabel:i.h("strong",null,"Let's start by creating your first styleguide:"),primaryButtonText:"Create a styleguide"}),COMMON_PLAN_ORGANIZATION_MEMBER:a(a({},d),{},{secondaryButtonLabel:i.h("strong",null,"Let's start by creating your first styleguide:"),secondaryButtonText:"Create a styleguide"}),COMPANY_PLAN:a(a({},u),{},{primaryButtonLabel:"You’re on the deprecated Company plan where styleguides are not supported. We're sunsetting this plan soon, please update your plan or contact us at support@zeplin.io.",primaryButtonText:"See plans"}),COMPANY_PLAN_ORGANIZATION_MEMBER:a(a({},d),{},{secondaryButtonLabel:"You’re on the deprecated Company plan where styleguides are not supported. We're sunsetting this plan soon, please update your plan or contact us at support@zeplin.io.",secondaryButtonText:"See plans"}),ORGANIZATION_NO_CREATE_PERMISSION:a(a({},u),{},{primaryButtonLabel:i.h("span",null,"Want to create a styleguide? Your current role does not allow you to do that. ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/organization/assigning-roles-to-organization-members",target:"_blank",rel:"noopener"},"Learn more…"))})};class p extends i.Component{getLabelsAndHandlers(){const{selectedOrganizationId:e,canCreateStyleguide:t}=this.context,{hasCompanyPlan:n,hasFreePlan:r,availableOrganization:s,onOpenPlanChooserOverlay:l,onCreate:c,onCheckoutOrganization:d}=this.props;if("user"===e){let e;return n?e={labels:h["COMPANY_PLAN"+(s?"_ORGANIZATION_MEMBER":"")],[s?"onSecondaryButtonClick":"onPrimaryButtonClick"]:l}:(e={labels:h["COMMON_PLAN"+(s?"_ORGANIZATION_MEMBER":"")],[s?"onSecondaryButtonClick":"onPrimaryButtonClick"]:c},r&&!o.default.isWindowsApp&&(e={labels:a(a({},e.labels),{},{[s?"secondaryButtonLabel":"primaryButtonLabel"]:i.h("span",null,"Download ",i.h("a",{href:"https://zpl.io/download-mac",target:"_blank"},"macOS")," or ",i.h("a",{href:"https://zpl.io/download-windows-64",target:"_blank"},"Windows")," app to create a styleguide and export resources.")})})),s&&(e=a(a({},e),{},{labels:a(a({},e.labels),{},{primaryButtonText:e.labels.primaryButtonText.replace("{{organizationName}}",s.name)}),onPrimaryButtonClick:()=>d(s._id)})),e}return t?{labels:h.COMMON_PLAN,onPrimaryButtonClick:c}:{labels:h.ORGANIZATION_NO_CREATE_PERMISSION}}render(){const{labels:e,onPrimaryButtonClick:t,onSecondaryButtonClick:n}=this.getLabelsAndHandlers();return i.h("div",{class:"noStyleguidesScrollContainer"},i.h("div",{class:"noStyleguides"},i.h("h1",null,e.title),i.h("p",{class:"description"},e.description),c,i.h("div",{class:"buttonContainer"},i.h("p",{class:"primaryButtonLabel"},e.primaryButtonLabel),t&&i.h(r.default,{onClick:t,primary:!0},e.primaryButtonText),i.h("p",{class:"primaryButtonSubLabel"},e.primaryButtonSubLabel)),n&&i.h("div",{class:"buttonContainer"},i.h("p",{class:"secondaryButtonLabel"},e.secondaryButtonLabel),i.h(r.default,{onClick:n,secondary:!0},e.secondaryButtonText))))}}t.default=p},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1272);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(96),o=n(1273),s=n(1282),a=n(1426),l=n(1681),c=n(1814),d=n(1835),u=n(1849),h=n(342),p=n(658),f=n(473),g=n(635),m=n(345),b=n(346),y=n(334),S=n(56),v=n(44),C=n(24),O=n(353);n(1857);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function T(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k extends i.Component{constructor(...e){super(...e),D(this,"getScreenContainerRef",()=>this.nodeRefs&&this.nodeRefs.screenContainer),D(this,"getStyleguideContainerRef",()=>this.nodeRefs&&this.nodeRefs.styleguideContainer),D(this,"openScreen",e=>{const{barrel:t}=this.state,{id:n}=t;O.default.history.push(Object(v.urlResolve)("project-screen",{url:{pid:n,sid:e}}))}),D(this,"handleKeyDown",e=>{if(Object(S.isEditableElement)(e.target))return;const{barrelType:t}=this.state;if(e.altKey)switch(e.keyCode){case Zeplin.KEY_CODE.KeyA:case Zeplin.KEY_CODE.KeyD:t===r.default.PROJECT&&(e.preventDefault(),e.stopPropagation(),h.BarrelActions.goToDashboard());break;case Zeplin.KEY_CODE.KeyS:t===r.default.PROJECT&&(e.preventDefault(),e.stopPropagation(),h.BarrelActions.goToStyleguide());break;case Zeplin.KEY_CODE.KeyE:e.preventDefault(),e.stopPropagation(),p.ExtensionsActions.openSettings();break;case Zeplin.KEY_CODE.KeyJ:e.preventDefault(),e.stopPropagation(),h.BarrelActions.openJumpToPopup();break;case Zeplin.KEY_CODE.KeyR:e.shiftKey&&(e.preventDefault(),e.stopPropagation(),p.ExtensionsActions.reload())}})}static calculateState(){const e=h.BarrelStore.getState(),{loading:t,selectedView:n}=e,i=T(e,["loading","selectedView"]);if(t)return{loading:!0,selectedView:n};const{organizationId:r}=i,{name:o}=f.OrganizationHelpers.getOrganization()||{},s=h.BarrelHelpers.getBarrel(),{tagManagerScreenId:a}=g.ScreenStore.getState(),{dialogOpen:l}=p.ExtensionsStore.getState();return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({loading:!1,organizationName:o,organizationId:r,barrel:s,selectedView:n,tagManagerScreenId:a,extensionDialogOpen:l},i)}static getStores(){return[h.BarrelStore,f.OrganizationStore,g.ScreenStore,m.ProjectsDataStore,b.StyleguidesDataStore,p.ExtensionsStore]}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown),h.BarrelActions.reset()}getChildContext(){const{shortlinks:e}=this.state;return{shortlinks:e,screenContainerRef:this.getScreenContainerRef,styleguideContainerRef:this.getStyleguideContainerRef}}renderContent(){const{barrelType:e,selectedView:t}=this.state;return e===r.default.STYLEGUIDE||"styleguide"===t?i.h(l.default,{baseRef:Object(C.default)(this,"styleguideContainer")}):"screen"===t?i.h(a.default,{baseRef:Object(C.default)(this,"screenContainer")}):"dashboard"===t?i.h(s.default,null):null}renderJumpToScreen(){const{barrel:e,loading:t,jumpToPopupOpen:n}=this.state;if(t||!n)return null;const{integration:{jira:r={}}={}}=e;return i.h(o.default,{screenList:e.screens,sectionList:e.sections,jiraAttachmentList:r.attachments,onJumpToScreen:this.openScreen,onClose:h.BarrelActions.closeJumpToPopup})}renderExtensionDialog(){const{extensionDialogOpen:e}=this.state;return e?i.h(c.default,null):null}renderTagManager(){const{tagManagerScreenId:e}=this.state;return e?i.h(d.default,null):null}render(){return i.h("main",{key:"barrel",class:"barrelContainer"},this.renderContent(),this.renderJumpToScreen(),this.renderExtensionDialog(),this.renderTagManager(),i.h(u.default,null))}}t.default=Object(y.default)(k,{pure:!1})},function(e,t,n){"use strict";n.r(t);var i=n(1274);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(62),a=n(19),l=n(24),c=n(1275),d=n(643);n(1281);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f({screenList:e,sectionList:t,jiraAttachmentList:n}){if(!n)return e;const i=Object(d.createItemSectionMap)(t,"screens");return e.map(e=>{const t=n.filter(t=>"screen"===t.type&&t.itemId===e._id),r=n.filter(t=>"section"===t.type&&t.itemId===i[e._id]);return h(h({},e),{},{jiraAttachments:[...t,...r]})})}class g extends i.Component{constructor(...e){super(...e),p(this,"state",{filter:""}),p(this,"screenListWithJira",f(this.props)),p(this,"getSuggestionList",()=>{const e=this.state.filter.toLowerCase();if(""===e)return this.screenListWithJira.slice(0).sort(s.sortBy.name);let t=[],n=[],i=[],r=[],o=[];return this.screenListWithJira.forEach(s=>{let l=s.name.toLowerCase();const c=s.tags&&s.tags.find(t=>t.toLowerCase().includes(e)),d=s.jiraAttachments&&s.jiraAttachments.find(t=>t.issueKey&&t.issueKey.toLowerCase().includes(e));l.startsWith(e)?t.push(s):Object(a.anyWordStartsWith)(l,e)?n.push(s):c?i.push(Object.assign({tag:c},s)):d?r.push(Object.assign({attachedJira:d.issueKey},s)):l.includes(e)&&o.push(s)}),t.sort(s.sortBy.name).concat(n.sort(s.sortBy.name)).concat(i.sort(s.sortBy.name)).concat(r.sort(s.sortBy.name)).concat(o.sort(s.sortBy.name))}),p(this,"handleInputChange",e=>{this.setState({filter:e.target.value})}),p(this,"handleKeyDown",e=>{e.stopPropagation();const{onClose:t}=this.props;e.keyCode===Zeplin.KEY_CODE.ESC&&t()})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown),this.nodeRefs.input.focus()}componentWillReceiveProps(e){this.screenListWithJira=f(e)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{filter:e}=this.state,{onJumpToScreen:t,onClose:n}=this.props,r=this.getSuggestionList();return i.h("div",{class:"jumpToScreenContainer",onClick:n},i.h("div",{class:"jumpToScreen",onClick:s.stopPropagation},i.h("div",{class:"searchTextContainer"},i.h("input",{value:e,class:"screenSearchText",placeholder:"Jump to Screen",onInput:this.handleInputChange,ref:Object(l.default)(this,"input")}),r.length?null:i.h("span",{class:"shrug"},"¯\\_(ツ)_/¯")),i.h(c.default,{screenList:r,onJumpToScreen:t})))}}g.propTypes={screenList:o.a.array.isRequired,sectionList:o.a.array.isRequired,jiraAttachmentList:o.a.array.isRequired,onJumpToScreen:o.a.func.isRequired,onClose:o.a.func.isRequired},t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(1276);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1277),o=n(62),s=n(56),a=n(24);n(1280);class l extends i.Component{constructor(e){super(e),this.state={selectedScreenIndex:0},this.handleSuggestionMouseEnter=this.handleSuggestionMouseEnter.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this)}handleSuggestionMouseEnter(e){this.mouseActive&&this.setState({selectedScreenIndex:e})}handleMouseEnter(e){this.lastX=e.clientX,this.lastY=e.clientY}handleMouseMove(e){this.lastX===e.clientX&&this.lastY===e.clientY||(this.lastX=e.clientX,this.lastY=e.clientY,this.mouseActive=!0)}handleKeyDown(e){const{selectedScreenIndex:t}=this.state;if(e.keyCode===Zeplin.KEY_CODE.ArrowUp)e.preventDefault(),0!==t&&this.setState({selectedScreenIndex:t-1});else if(e.keyCode===Zeplin.KEY_CODE.ArrowDown)e.preventDefault(),t!==this.props.screenList.length-1&&this.setState({selectedScreenIndex:t+1});else if(e.keyCode===Zeplin.KEY_CODE.ENTER){e.preventDefault();const{onJumpToScreen:n,screenList:i}=this.props;i[t]&&n(i[t]._id)}}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){Object(o.arrayEqual)(e.screenList,this.props.screenList,(e,t)=>e.name===t.name&&e.tag===t.tag)||this.setState({selectedScreenIndex:0})}componentDidUpdate(){this.nodeRefs&&this.nodeRefs.selectedScreen&&(this.mouseActive=!1,Object(s.scrollIfNecessary)(this.nodeRefs.selectedScreen.base))}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{screenList:e,onJumpToScreen:t}=this.props,{selectedScreenIndex:n}=this.state;return i.h("div",{class:"suggestedScreenListContainer",onMouseMove:this.handleMouseMove,onMouseEnter:this.handleMouseEnter},e.map((e,o)=>{let s;return n===o&&(s=Object(a.default)(this,"selectedScreen")),i.h(r.default,{key:e._id,screenId:e._id,screenName:e.name,filterTag:e.tag,filterJiraAttachment:e.attachedJira,screenIndex:o,selected:n===o,ref:s,onClick:t,onMouseEnter:this.handleSuggestionMouseEnter})}))}}l.defaultProps={screenList:[]},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1278);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(340),o=n(11);n(1279);class s extends r.default{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this)}handleClick(){const{screenId:e,onClick:t}=this.props;t(e)}handleMouseEnter(){const{screenIndex:e,onMouseEnter:t}=this.props;t(e)}render(){const{screenName:e,filterTag:t,filterJiraAttachment:n,selected:r}=this.props;return i.h("button",{class:Object(o.default)("screenSuggestion",{selected:r}),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter},i.h("div",{class:"screenName ellipsis"},e),t?i.h("div",{class:"tagName ellipsis"},t):null,n?i.h("div",{class:"tagName ellipsis"},n):null)}}t.default=s},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1283);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(643),o=n(44),s=n(56),a=n(24),l=n(353),c=n(40),d=n(1284),u=n(1364),h=n(1141),p=n(680),f=n(342),g=n(646),m=n(345),b=n(635),y=n(1326),S=n(349),v=n(334),C=n(1183);n(1425);function O(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k extends i.Component{constructor(...e){super(...e),D(this,"handleFilter",e=>{const{barrel:{id:t}}=this.state;l.default.history.replace(Object(o.urlResolve)("project-dashboard",{url:{pid:t},query:{q:e}}))}),D(this,"handleJiraIssueSelectionChange",e=>{const{barrel:{id:t},jiraIssueFilter:n}=this.state,i=n.includes(e)?n.filter(t=>t!==e):[...n,e];mixpanel.master.track("Filtered by Jira issue"),l.default.history.replace(Object(o.urlResolve)("project-dashboard",{url:{pid:t},query:{ja:i}}))}),D(this,"handleResetJiraIssuesClick",()=>{const{barrel:{id:e}}=this.state;l.default.history.replace(Object(o.urlResolve)("project-dashboard",{url:{pid:e}}))}),D(this,"handleTagClick",(e,t)=>{const{barrel:{id:n},tagFilter:i,jiraIssueFilter:r}=this.state,s=i.tags.includes(e);let a,c;!e?(a=[],c=!i.untagged):(a=[e],c=!1,s&&(a=i.tags.filter(t=>t!==e),c=!1),t&&!s&&(a=i.tags.concat(e),c=!1));const d=T(T({},{ja:r}),c?{untagged:!0}:{tag:a});l.default.history.replace(Object(o.urlResolve)("project-dashboard",{url:{pid:n},query:d}))}),D(this,"handleResetTagsClick",()=>{const{barrel:{id:e}}=this.state;l.default.history.replace(Object(o.urlResolve)("project-dashboard",{url:{pid:e}}))}),D(this,"handleConvertTagToSection",e=>{g.DashboardActions.convertTagToSection({tag:e})}),D(this,"handleGenerateTagShortlink",e=>{const{barrel:{id:t}}=this.state,n=Object(o.urlResolve)("project-dashboard",{url:{pid:t},query:{tag:e}});p.AppActions.generateShortlink(n)}),D(this,"handleCopyTagWebURL",e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n},shortlinks:i}=this.state,r=Object(o.urlResolve)("project-dashboard",{url:{pid:n},query:{tag:e}});Object(s.copyContent)({content:i[r]||r,toastContainer:t})}),D(this,"handleCopyTagAppURI",e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=`${c.ZPL_PROTOCOL}//project?pid=${n}&tag=${e}`;Object(s.copyContent)({content:i,toastContainer:t})}),D(this,"handleDeleteTag",e=>{b.ScreenActions.removeTag({tag:e,syncWithApi:!0})}),D(this,"handleCopySectionWebURL",e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n},shortlinks:i}=this.state,r=Object(o.urlResolve)("project",{url:{bid:n},query:{seid:e}});Object(s.copyContent)({content:i[r]||r,toastContainer:t})}),D(this,"handleCopySectionAppURI",e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=`${c.ZPL_PROTOCOL}//project?pid=${n}&seid=${e}`;Object(s.copyContent)({content:i,toastContainer:t})}),D(this,"handleCopyScreenWebURL",e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n},shortlinks:i}=this.state,r=Object(o.urlResolve)("project-screen",{url:{pid:n,sid:e}});Object(s.copyContent)({content:i[r]||r,toastContainer:t})}),D(this,"handleCopyScreenAppURI",e=>{const{dashboardContainer:t}=this.nodeRefs,{barrel:{id:n}}=this.state,i=`${c.ZPL_PROTOCOL}//screen?pid=${n}&sid=${e}`;Object(s.copyContent)({content:i,toastContainer:t})}),D(this,"handleKeyDown",e=>{Object(s.isEditableElement)(e.target)||e.keyCode===Zeplin.KEY_CODE.KeyT&&e.altKey&&e.ctrlKey&&(e.preventDefault(),e.stopPropagation(),g.DashboardActions.toggleFixedThumbnailSize())}),D(this,"handleChangeSortType",e=>{const{sortType:t}=this.state;t!==e&&g.DashboardActions.changeSortType(e)})}static calculateState(){const{loading:e,loadingJoin:t}=f.BarrelStore.getState();if(e)return{loading:e};const n=f.BarrelHelpers.getBarrel(),i=f.BarrelHelpers.findUser(),{userId:r}=S.UserStore.getState(),o=n.users.some(({user:e})=>e._id===r);if(n.partial||!o)return{loading:e,loadingJoin:t,barrel:n,isUserJoined:o};const s=g.DashboardStore.getState(),{highlightedScreens:a}=s,l=O(s,["highlightedScreens"]),{open:c}=y.MoveResourcesStore.getState();let d=1/0,u=null;const h=b.ScreenHelpers.getVisibleScreens();a.forEach(e=>{const t=h.findIndex(t=>t._id===e);-1!==t&&t<d&&(d=t,u=e)});const{shortlinks:m}=p.AppStore.getState();return T({loading:e,loadingJoin:t,firstHighlightedScreen:u,highlightedScreens:a,moveResourcesPopupOpen:c,barrel:n,barrelUser:i,isUserJoined:o,shortlinks:m},l)}static getStores(){return[p.AppStore,f.BarrelStore,g.DashboardStore,y.MoveResourcesStore,m.ProjectsDataStore,S.UserStore]}get toastContainer(){return this.nodeRefs.dashboardContainer}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}getChildContext(){const{loading:e}=this.state;if(e)return{};const{barrel:{id:t,type:n}}=this.state;return{barrelId:t,projectId:t,projectType:n}}render(){const{loading:e,loadingJoin:t,isUserJoined:n,barrel:o,barrelUser:s,sortType:l,filterValue:c,fixedThumbnailSize:p,sidebarWidth:m,tagFilter:b,jiraIssueFilter:y,collapsedSections:S,firstHighlightedScreen:v,highlightedScreens:C,highlightedSection:O,moveResourcesPopupOpen:E}=this.state;if(e)return i.h("div",{class:"dashboardContainer"},i.h(d.default.Loading,null),i.h(u.default,null));if(o.partial||!n)return i.h(h.default,{projectData:o,loadingJoin:t,requiredMinimumPadding:96,defaultPadding:108,hideJoinButton:!1,headerSticky:!0,onJoin:f.BarrelActions.join});const{sortedSections:T,visibleTags:D}=Object(r.filterSortScreens)(o,l,{filterValue:c,tagFilter:b,jiraIssueFilter:y}),k=o&&o.integration?o.integration.jira:null,w=k&&k.attachments?Array.from(k.attachments.reduce((e,t)=>("project"!==t.type&&e.add(t.issueKey),e),new Set)):[];return i.h("div",{class:"dashboardContainer",ref:Object(a.default)(this,"dashboardContainer")},i.h(d.default,{componentRef:Object(a.default)(this,"projectOverview","componentRefs"),project:o,containerSelector:".projectOverview",userRole:s.role,fixedThumbnailSize:p,collapsedSections:S,sortedSections:T,visibleTags:D,filterValue:c,sortType:l,jiraIssueList:w,selectedJiraIssues:y,firstHighlightedScreen:v,highlightedScreens:C,highlightedSection:O,tagFilter:b,moveResourcesPopupOpen:E,onSort:this.handleChangeSortType,onFilter:this.handleFilter,onJiraIssueSelectionChange:this.handleJiraIssueSelectionChange,onResetJiraIssuesClick:this.handleResetJiraIssuesClick,onTagClick:this.handleTagClick,onOpenTagContextMenu:this.handleGenerateTagShortlink,onConvertTagToSection:this.handleConvertTagToSection,onCopyTagWebURL:this.handleCopyTagWebURL,onCopyTagAppURI:this.handleCopyTagAppURI,onCopySectionWebURL:this.handleCopySectionWebURL,onCopySectionAppURI:this.handleCopySectionAppURI,onCopyScreenWebURL:this.handleCopyScreenWebURL,onCopyScreenAppURI:this.handleCopyScreenAppURI,onDownloadScreensOfTag:g.DashboardActions.downloadScreensOfTag,onDeleteTag:this.handleDeleteTag,onResetTagsClick:this.handleResetTagsClick,onExpandSection:g.DashboardActions.expandSection,onCollapseSection:g.DashboardActions.collapseSection}),i.h(u.default,{width:m,onRelease:g.DashboardActions.changeSidebarWidth}))}}t.default=Object(C.default)(Object(v.default)(k,{pure:!1}))},function(e,t,n){"use strict";n.r(t);var i=n(1285);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1286),o=n(1287),s=n(62),a=n(24),l=n(1288),c=n(1082),d=n(1312),u=n(1165),h=n(1318),p=n(1321),f=n(1324),g=n(1337),m=n(1360);n(1363);const b=[{label:"Sort by Sections",dropdownLabel:"Sections",value:"default"},{label:"Sort by Last updated",dropdownLabel:"Last updated",value:"lastUpdated"},{label:"Sort from A-Z",dropdownLabel:"A-Z",value:"name"}];function y(e){const{canManageScreens:t}=e;return i.h("div",{class:"projectOverviewTagsEmpty"},i.h("span",null,"Tags:"),t?i.h("span",null,"Organize your screens using tags. Right click a screen to add one!"):i.h("span",null,"Organization ",Object(s.getUserRoleString)("rook"),"s or higher can organize screens using tags."))}function S(e,t){const n=e.screens.filter(e=>e.tags&&e.tags.includes(t));return 0!==n.length&&n.every(t=>{const n=e.findScreenSection(t._id);return e.isDefaultSection(n._id)})}class v extends i.Component{constructor(e){super(e),this.state={dragging:!1},this.handleStartDrag=this.handleStartDrag.bind(this),this.handleEndDrag=this.handleEndDrag.bind(this)}highlightSectionDescription(e){this.componentRefs.dashboardSections.highlightSectionDescription(e)}highlightSectionName(e){this.componentRefs.dashboardSections.highlightSectionName(e)}isFilterActive(){return!!this.props.filterValue}isSortActive(){return"default"!==this.props.sortType}isTagFilterActive(){const{tagFilter:e}=this.props;return e.tags.length>0||e.untagged}isJiraIssueFilterActive(){const{selectedJiraIssues:e}=this.props;return e.length>0}handleStartDrag(){this.setState({dragging:!0})}handleEndDrag(){this.setState({dragging:!1})}getChildContext(){return{projectOverviewDragging:this.state.dragging,filterActive:this.isFilterActive(),sortActive:this.isSortActive(),tagFilterActive:this.isTagFilterActive(),jiraIssueFilterActive:this.isJiraIssueFilterActive()}}componentDidUpdate(e){this.props.project.id!==e.project.id&&o.default.clear()}renderTags(){const{project:e,tagFilter:t,filterValue:n,visibleTags:r,onTagClick:o,onOpenTagContextMenu:s,onConvertTagToSection:a,onCopyTagWebURL:l,onCopyTagAppURI:c,onDownloadScreensOfTag:d,onDeleteTag:u}=this.props,{canManageScreens:h}=this.context,p=!!n;return e.tags.length?i.h("div",{class:"projectOverviewTags"},r.map(n=>i.h(m.default,{key:n,tag:n,disabled:p,contextMenuDisabled:!h,selected:t.tags.includes(n),canCreateSectionFromTag:S(e,n),onClick:o,onOpenContextMenu:s,onCopyWebURL:l,onCopyAppURI:c,onDownloadScreenImages:d,onConvertToSection:a,onDelete:u})),i.h(m.default,{untagged:!0,disabled:p,selected:t.untagged,onClick:o})):i.h(y,{canManageScreens:h})}render(){const{canManageScreens:e}=this.context,{project:t,sortedSections:n,userRole:r,containerSelector:o,fixedThumbnailSize:s,filterValue:p,sortType:m,jiraIssueList:y,selectedJiraIssues:S,tagFilter:v,collapsedSections:C,firstHighlightedScreen:O,highlightedScreens:E,highlightedSection:T,moveResourcesPopupOpen:D,onFilter:k,onSort:w,onJiraIssueSelectionChange:_,onExpandSection:j,onCollapseSection:P,onCopySectionWebURL:R,onCopySectionAppURI:I,onCopyScreenWebURL:A,onCopyScreenAppURI:x,onResetJiraIssuesClick:N,onResetTagsClick:L}=this.props,{dragging:U}=this.state;if(!t.screens||!t.screens.length)return i.h(g.default,null);const M=this.isFilterActive()||this.isSortActive()||this.isTagFilterActive()||this.isJiraIssueFilterActive(),B=!e||M;return i.h("div",{class:"projectOverview"},i.h(c.default,{noScroll:D,itemsClass:"projectOverviewDragDropItems",onStartDrag:this.handleStartDrag,onEndDrag:this.handleEndDrag,disabled:B},i.h(u.default,{inputPlaceholder:"Search for a screen",placeholderWidth:128,sortOptions:b,sortOptionsClass:"dashboardSortOptions",filterValue:p,selectedSortTypes:[m],onSort:w,onJiraIssueSelectionChange:_,jiraIssueList:y,selectedJiraIssues:S,onFilter:k,disabled:U}),this.renderTags(),n.length?[i.h(l.default,{key:"dasboardSections",ref:Object(a.default)(this,"dashboardSections","componentRefs"),collapsedSections:C,firstHighlightedScreen:O,highlightedScreens:E,highlightedSection:T,filterValue:p,fixedThumbnailSize:s,onExpandSection:j,onCollapseSection:P,onCopySectionWebURL:R,onCopySectionAppURI:I,onCopyScreenWebURL:A,onCopyScreenAppURI:x,sections:n,userRole:r,projectThumbnail:t.thumbnail,projectId:t.id,containerSelector:o}),D&&i.h(f.default,{key:"moveResourcesContainer"})]:i.h(d.default,{tags:v.tags,selectedJiraIssues:S,untagged:v.untagged,onResetJiraIssuesClick:N,onResetTagsClick:L})),i.h(h.default,null))}}const C=Object(r.default)(v);C.Loading=p.default,t.default=C},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(62);t.default=function(Component){return class extends i.Component{getChildContext(){const{userRole:e}=this.props;if(!e)return null;const t={role:e};return{canUpdateProject:r.permissions.canUpdateProject(t),canManageScreens:r.permissions.canManageScreens(t),canMoveScreens:r.permissions.canMoveScreens(t)}}render(){const e=Object.assign({},this.props);return delete e.componentRef,i.h(Component,Object.assign({},e,{ref:this.props.componentRef}))}}}},function(e,t,n){"use strict";n.r(t),t.default=new Map},function(e,t,n){"use strict";n.r(t);var i=n(1289);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1290),o=n(340),s=n(24);class a extends o.default{highlightSectionDescription(e){const t=this.componentRefs[e];t&&t.highlightDescription()}highlightSectionName(e){const t=this.componentRefs[e];t&&t.highlightName()}render(){const{sections:e,projectThumbnail:t,fixedThumbnailSize:n,projectId:o,containerSelector:a,filterValue:l,collapsedSections:c,firstHighlightedScreen:d,highlightedScreens:u,highlightedSection:h,onExpandSection:p,onCollapseSection:f,onCopySectionWebURL:g,onCopySectionAppURI:m,onCopyScreenWebURL:b,onCopyScreenAppURI:y}=this.props;return i.h("div",{class:"projectOverviewSections"},e.map((e,S)=>i.h(r.default,{index:S,ref:Object(s.default)(this,e._id,"componentRefs"),id:e._id,key:e.key||e._id,name:e.name,collapsed:!!e.screens.length&&c[e._id],fixedThumbnailSize:n,firstHighlightedScreen:d,highlightedScreens:u,highlightedSection:h,onExpand:p,onCollapse:f,onCopySectionWebURL:g,onCopySectionAppURI:m,onCopyScreenWebURL:b,onCopyScreenAppURI:y,filterValue:l,actionsDisabled:e.actionsDisabled,screens:e.screens,description:e.description,containerSelector:a,projectThumbnail:t,projectId:o,defaultSection:"default"===e.type})))}}t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(1291);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(62),o=n(44),s=n(24),a=n(19),l=n(1112),c=n(680),d=n(647),u=n(1292),h=n(1078),p=n(1294),f=n(1075);n(1311);class g extends i.Component{constructor(e){super(e),this.state={addingDescription:!1},this.generateShortlink=this.generateShortlink.bind(this),this.highlightDescription=this.highlightDescription.bind(this),this.highlightName=this.highlightName.bind(this),this.handleRenameSectionClick=this.handleRenameSectionClick.bind(this),this.handleAddDescriptionClick=this.handleAddDescriptionClick.bind(this),this.handleEditDescriptionClick=this.handleEditDescriptionClick.bind(this),this.handleCopyWebURL=this.handleCopyWebURL.bind(this),this.handleCopyAppURI=this.handleCopyAppURI.bind(this),this.handleDownloadScreenImagesClick=this.handleDownloadScreenImagesClick.bind(this),this.handleMoveScreenClick=this.handleMoveScreenClick.bind(this),this.handleMoveSectionClick=this.handleMoveSectionClick.bind(this),this.handleDeleteClick=this.handleDeleteClick.bind(this),this.handleNameBlur=this.handleNameBlur.bind(this),this.handleDescriptionBlur=this.handleDescriptionBlur.bind(this),this.renderOptionsMenu=this.renderOptionsMenu.bind(this),this.handleScreenThumbnailRef=this.handleScreenThumbnailRef.bind(this),this.getScreenThumbnailRef=this.getScreenThumbnailRef.bind(this)}highlightDescription(){this.componentRefs.section.highlightDescription()}highlightName(){this.componentRefs.section.highlightName()}generateShortlink(){const{projectId:e,id:t}=this.props,n=Object(o.urlResolve)("project",{url:{bid:e},query:{seid:t}});c.AppActions.generateShortlink(n)}getScreenThumbnailRef(e){return this.nodeRefs&&this.nodeRefs["screenThumbnail-"+e]}handleEditDescriptionClick(e){e.stopPropagation(),this.highlightDescription()}handleAddDescriptionClick(e){e.stopPropagation(),this.setState({addingDescription:!0})}handleRenameSectionClick(e){e.stopPropagation(),this.highlightName()}handleCopyWebURL(e){e.stopPropagation();const{id:t,onCopySectionWebURL:n}=this.props;n(t)}handleCopyAppURI(e){e.stopPropagation();const{id:t,onCopySectionAppURI:n}=this.props;n(t)}handleDownloadScreenImagesClick(e){e.stopPropagation(),d.default.downloadScreensOfSection(this.props.id)}handleDeleteClick(e){e.stopPropagation();const{id:t}=this.props;d.default.removeSection({seid:t,syncWithApi:!0})}handleMoveScreenClick(e,t){u.default.open({targetNode:t,resourceId:e,resourceType:"screen"})}handleMoveSectionClick(e){e.stopPropagation();const{id:t}=this.props;u.default.open({targetNode:this.nodeRefs.optionsButton,resourceId:t,resourceType:"section"})}handleNameBlur({discard:e,value:t}){const{id:n,name:i}=this.props;if(e)return void(n.startsWith("newSection")?d.default.removeSection({seid:n}):d.default.renameSection({seid:n,name:i}));const r=t.trim();if(n.startsWith("newSectionFromSplit"))d.default.createSection({seid:n,name:r});else if(i!==r){if(r===i)return;d.default.renameSection({seid:n,name:r,syncWithApi:!0,onError:this.highlightName})}}handleDescriptionBlur({discard:e,value:t}){this.state.addingDescription&&this.setState({addingDescription:!1});const{id:n,description:i}=this.props;if(e)return void d.default.updateSectionDescription({seid:n,description:i});const r=t.trim();r!==i&&d.default.updateSectionDescription({seid:n,description:r,syncWithApi:!0,onError:this.highlightDescription})}handleSectionHeaderDrop(e,t,n){t!==n&&d.default.updateSectionOrder({seid:e,index:n,syncWithApi:!0})}handleScreenThumbnailDrop(e,t){d.default.updateScreenOrder({screens:[e],targetSectionId:t,syncWithApi:!0})}handleScreenThumbnailRef(e,t){Object(s.default)(this,"screenThumbnail-"+e)(t)}componentDidMount(){const{id:e}=this.props;e.startsWith("newSectionFromSplit")&&this.highlightName()}componentDidUpdate(e,t){!t.addingDescription&&this.state.addingDescription&&this.highlightDescription()}renderOptionsMenu(){const{description:e,screens:t}=this.props,{canManageScreens:n,canMoveScreens:o}=this.context,s=e?i.h(f.default.Item,{onClick:this.handleEditDescriptionClick},"Edit description"):i.h(f.default.Item,{onClick:this.handleAddDescriptionClick},"Add description");return i.h(f.default,{onOpen:this.generateShortlink,onMouseDown:r.stopPropagation},n&&[s,i.h(f.default.Item,{key:"renameSection",onClick:this.handleRenameSectionClick},"Rename section"),i.h(f.default.ItemDivider,{key:"renameDivider"})],i.h(f.default.Item,{onClick:this.handleCopyWebURL},"Copy web link"),i.h(f.default.Item,{onClick:this.handleCopyAppURI},"Copy App URI"),!!t.length&&[i.h(f.default.ItemDivider,{key:"downloadDivider"}),i.h(f.default.Item,{key:"downloadScreens",onClick:this.handleDownloadScreenImagesClick},"Download all screen images")],(n||o)&&i.h(f.default.ItemDivider,null),o&&!!t.length&&i.h(f.default.Item,{onClick:this.handleMoveSectionClick},"Move section to project…"),n&&i.h(f.default.Item,{onClick:this.handleDeleteClick,warning:!0},"Delete section"))}render(){const{id:e,name:t,index:n,description:r,defaultSection:o,projectLastUpdated:c,projectThumbnail:u,fixedThumbnailSize:f,projectId:g,screens:m,containerSelector:b,actionsDisabled:y,filterValue:S,collapsed:v,firstHighlightedScreen:C,highlightedScreens:O,highlightedSection:E,forceExpand:T,onExpand:D,onCollapse:k,onCopyScreenWebURL:w,onCopyScreenAppURI:_}=this.props;if(o&&!m.length)return null;const{addingDescription:j}=this.state,{canManageScreens:P}=this.context,R=T||O.some(e=>m.find(({_id:t})=>t===e)),I=Object(a.pluralize)(m.length,"screen")+" collapsed",A=this.renderOptionsMenu(),x=j?l.DEFAULT_DESCRIPTION:r,N=e===E;return i.h(h.DragDropScreenThumbnailSection,{type:l.SCREEN_THUMBNAIL_SECTION,optionsButtonRef:Object(s.default)(this,"optionsButton"),componentRef:Object(s.default)(this,"section","componentRefs"),index:n,onExpand:D,onCollapse:k,collapsed:v,emptyText:"No screens",empty:!m.length,forceExpand:R,class:"dashboardSection",headerClass:"dashboardSectionHeader",id:e,name:t,description:x,defaultSection:o,countInfoText:I,highlight:N,onDescriptionBlur:this.handleDescriptionBlur,onNameBlur:this.handleNameBlur,onHighlightEnd:d.default.unhighlightSection,actionsDisabled:y,readOnly:!P,optionsMenu:A,onScreenThumbnailDrop:this.handleScreenThumbnailDrop,onSectionHeaderDrop:this.handleSectionHeaderDrop},i.h("div",{class:"dashboardScreenGrid"},m.map((t,n)=>{const{snapshot:r}=t.versions[0],s=t.updated||c,a=u===r.url,l=t.tags&&0!==t.tags.length,d=C===t._id,h=O.includes(t._id),y=m[n-1],v=m[n+1];return i.h(p.default,{id:t._id,projectId:g,leftScreenId:y&&y._id,rightScreenId:v&&v._id,key:f?"fixed-"+t._id:t._id,screenThumbnailRef:this.handleScreenThumbnailRef,index:n,sectionId:e,scroll:d,highlight:h,hideLeftSectionDivider:0===n&&!o,hideRightSectionDivider:n===m.length-1,filterValue:S,class:"dashboardScreen",hasTag:l,updated:s,isProjectThumbnail:a,fixedSize:f,containerSelector:b,name:t.name,snapshotWidth:r.width,snapshotHeight:r.height,screenImageUrl:r.url,onCopyWebURL:w,onCopyAppURI:_,onMoveClick:this.handleMoveScreenClick,getScreenThumbnailRef:this.getScreenThumbnailRef})})))}}g.defaultProps={highlightedScreens:[]},t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(120),r=n(1293);const o={open({targetNode:e,resourceId:t,resourceType:n}){r.default.dispatch({type:i.default.OPEN,targetNode:e,resourceId:t,resourceType:n})},close(){r.default.dispatch({type:i.default.CLOSE})},move({barrelId:e,resource:t,resourceType:n,target:o,densityScale:s,platform:a}){r.default.dispatch({type:i.default.MOVE,barrelId:e,resource:t,resourceType:n,target:o,densityScale:s,platform:a,syncWithApi:!0})},moveScreen(e){const{spid:t,tpid:n,screen:o}=e;r.default.dispatch({type:i.default.MOVE_SCREEN,spid:t,tpid:n,screen:o})}};t.default=o},function(e,t,n){"use strict";n.r(t);var i=n(84);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1295);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(340),o=n(1296),s=n(1057),a=n(1287),l=n(1060),c=n(24),d=n(62),u=n(44),h=n(680),p=n(342),f=n(646),g=n(635);class m extends r.default{constructor(e){super(e),this.state={loading:!0,source:"",sectionDividerPosition:"",sectionDividerTop:null,sectionDividerHeight:null,moveCubukPosition:"",moveCubukTop:null,moveCubukHeight:null},this.screenThumbnailObserver=Object(l.getThumbnailObserver)(e.containerSelector),this.generateShortlink=this.generateShortlink.bind(this),this.handleIntersection=this.handleIntersection.bind(this),this.handleScreenImageLoad=this.handleScreenImageLoad.bind(this),this.getContextMenuItems=this.getContextMenuItems.bind(this),this.openDeleteScreenDialog=this.openDeleteScreenDialog.bind(this),this.closeDeleteScreenDialog=this.closeDeleteScreenDialog.bind(this),this.handleNameBlur=this.handleNameBlur.bind(this),this.handleManageTagsClick=this.handleManageTagsClick.bind(this),this.handleSetAsThumbnailClick=this.handleSetAsThumbnailClick.bind(this),this.handleDownloadScreenImageClick=this.handleDownloadScreenImageClick.bind(this),this.handleCopyWebLinkClick=this.handleCopyWebLinkClick.bind(this),this.handleCopyAppURIClick=this.handleCopyAppURIClick.bind(this),this.handleMoveClick=this.handleMoveClick.bind(this),this.handleShowLeftSectionDivider=this.handleShowLeftSectionDivider.bind(this),this.handleShowRightSectionDivider=this.handleShowRightSectionDivider.bind(this),this.handleScreenLinkMouseOver=this.handleScreenLinkMouseOver.bind(this),this.handleHideSectionDivider=this.handleHideSectionDivider.bind(this),this.handleSectionDividerClick=this.handleSectionDividerClick.bind(this),this.handleDragHover=Object(d.debounce)(this.handleDragHover,!0).bind(this),this.handleDragHoverOut=this.handleDragHoverOut.bind(this),this.handleDrop=this.handleDrop.bind(this),this.handleDeleteDialogPositiveClick=this.handleDeleteDialogPositiveClick.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.showCannotDragToast=this.showCannotDragToast.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this)}get link(){const{projectId:e,id:t}=this.props;return Object(u.urlResolve)("project-screen",{url:{pid:e,sid:t}})}scroll(){this.nodeRefs.base.scrollIntoView()}calculateCubukPosition(e,t){const{getScreenThumbnailRef:n}=this.props;let i=e.height;if(t){const r=n(t).getBoundingClientRect();e.top===r.top&&(i=Math.min(e.height,r.height))}const r=Math.max(80,Math.min(240,Math.round(i-60)));return{height:r,top:Math.max(0,Math.round((i-26-r)/2))}}generateShortlink(){h.AppActions.generateShortlink(this.link)}getContextMenuItems(){const{hasTag:e,isProjectThumbnail:t}=this.props,{canUpdateProject:n,canManageScreens:r,canMoveScreens:o}=this.context,a=e?i.h(s.default.Item,{key:"manageTags",onClick:this.handleManageTagsClick},"Manage tags…"):i.h(s.default.Item,{key:"addTag",onClick:this.handleManageTagsClick},"Add tag…");return[r&&a,n&&!t&&i.h(s.default.Item,{key:"setThumbnail",onClick:this.handleSetAsThumbnailClick},"Set as thumbnail"),i.h(s.default.Item,{key:"downloadImage",onClick:this.handleDownloadScreenImageClick},"Download screen image"),i.h(s.default.ItemDivider,{key:"copyDivider"}),i.h(s.default.Item,{key:"copyWeb",onClick:this.handleCopyWebLinkClick},"Copy web link"),i.h(s.default.Item,{key:"copyApp",onClick:this.handleCopyAppURIClick},"Copy App URI"),(o||r)&&i.h(s.default.ItemDivider,{key:"warningDivider"}),o&&i.h(s.default.Item,{key:"move",onClick:this.handleMoveClick},"Move screen to project…"),r&&i.h(s.default.Item,{key:"delete",onClick:this.openDeleteScreenDialog,warning:!0},"Delete screen")].filter(Boolean)}openDeleteScreenDialog(){this.setState({deleteDialogVisible:!0})}closeDeleteScreenDialog(){this.setState({deleteDialogVisible:!1})}showCannotDragToast(){const{filterActive:e,jiraIssueFilterActive:t,tagFilterActive:n,sortActive:i,showToast:r}=this.context;i?r({text:"Unselect sort option to reorder",source:"showCannotDragToast"}):t?r({text:"Unselect jira issues to reorder",source:"showCannotDragToast"}):n?r({text:"Unselect tags to reorder",source:"showCannotDragToast"}):e&&r({text:"Reset search to reorder",source:"showCannotDragToast"})}handleBaseRef(e){const{id:t,screenThumbnailRef:n}=this.props;Object(c.default)(this,"base")(e),n(t,e)}handleScreenImageLoad(){a.default.set(this.props.screenImageUrl),this.setState({loading:!1})}handleMouseDown(e){const{dragDisabled:t,canManageScreens:n}=this.context;t&&n&&e.button===Zeplin.MOUSE_BUTTON.LEFT&&(clearTimeout(this.dragStartTimeout),this.dragStartTimeout=setTimeout(this.showCannotDragToast,300),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseUp(){clearTimeout(this.dragStartTimeout),document.removeEventListener("mouseup",this.handleMouseUp)}handleIntersection(e){0!==e.intersectionRatio?this.cropTimeout=requestIdleCallback(()=>{this.state.source!==this.props.screenImageUrl&&this.setState({source:this.props.screenImageUrl})},{timeout:300}):cancelIdleCallback(this.cropTimeout)}handleNameBlur(e){const{value:t}=e.target,{id:n,name:i}=this.props;t!==i&&g.ScreenActions.updateName({sid:n,name:t,syncWithApi:!0,onError:this.componentRefs.screenThumbnail.highlightName})}handleManageTagsClick(e){e.stopPropagation(),g.ScreenActions.openTagManager(this.props.id)}handleSetAsThumbnailClick(){p.BarrelActions.updateThumbnail({thumbnail:this.props.screenImageUrl,syncWithApi:!0})}handleDownloadScreenImageClick(){f.DashboardActions.downloadScreen(this.props.id)}handleCopyWebLinkClick(){const{id:e,onCopyWebURL:t}=this.props;t(e)}handleCopyAppURIClick(){const{id:e,onCopyAppURI:t}=this.props;t(e)}handleMoveClick(e){e.stopPropagation();const{id:t,onMoveClick:n}=this.props;n(t,this.nodeRefs.base)}handleDeleteDialogPositiveClick(){const{id:e}=this.props;g.ScreenActions.removeScreen({sid:e,syncWithApi:!0})}handleShowSectionDivider(e,t){const{projectOverviewDragging:n,sortActive:i,filterActive:r,tagFilterActive:o}=this.context;if(n||i||r||o)return;const s=this.nodeRefs.base.getBoundingClientRect(),a=this.calculateCubukPosition(s,e);this.setState(Object(d.getStateUpdateFunction)({sectionDividerPosition:t,sectionDividerHeight:a.height,sectionDividerTop:a.top}))}handleShowLeftSectionDivider(){this.handleShowSectionDivider(this.props.leftScreenId,"left")}handleShowRightSectionDivider(){this.handleShowSectionDivider(this.props.rightScreenId,"right")}handleHideSectionDivider(){this.setState({sectionDividerPosition:"",sectionDividerHeight:null,sectionDividerTop:null})}handleSectionDividerClick(){const{id:e,rightScreenId:t}=this.props,{sectionDividerPosition:n}=this.state;let i;"left"===n?i=e:t&&(i=t),i&&(f.DashboardActions.splitSection(i),this.handleHideSectionDivider())}handleScreenLinkMouseOver(){const{highlight:e,id:t}=this.props;e&&f.DashboardActions.unhighlightScreen(t)}handleDragHover({mirrorPosition:e}){const t=this.nodeRefs.base.getBoundingClientRect(),n=e.left>t.left+t.width/2;let i=this.props.leftScreenId;n&&(i=this.props.rightScreenId);const r=this.calculateCubukPosition(t,i);this.setState(Object(d.getStateUpdateFunction)({moveCubukPosition:n?"right":"left",moveCubukHeight:r.height,moveCubukTop:r.top}))}handleDragHoverOut(){this.setState(Object(d.getStateUpdateFunction)({moveCubukPosition:"",moveCubukHeight:null,moveCubukTop:null}))}handleDrop({mirrorPosition:e,sourceId:t,sourceIndex:n,sourceSectionId:i,targetIndex:r,targetSectionId:o}){const s=this.nodeRefs.base.getBoundingClientRect(),a=e.left>s.left+s.width/2?"right":"left";let l=r;i===o?(n>r&&"right"===a&&(l=r+1),n<r&&"left"===a&&(l=r-1)):"right"===a&&(l=r+1),i===o&&n===l||f.DashboardActions.updateScreenOrder({screens:[t],targetSectionId:o,targetIndex:l,syncWithApi:!0})}componentDidMount(){this.screenThumbnailObserver.observe(this.nodeRefs.base,this.handleIntersection);const{scroll:e}=this.props;e&&this.scroll()}componentDidUpdate(e){const{scroll:t}=this.props,{scroll:n}=e;!n&&t&&this.scroll()}componentWillUnmount(){cancelIdleCallback(this.cropTimeout),this.screenThumbnailObserver.unobserve(this.nodeRefs.base)}render(){const{id:e,updated:t,name:n,class:r,fixedSize:s,snapshotWidth:l,snapshotHeight:d,screenImageUrl:u,containerSelector:h,filterValue:p,index:f,sectionId:g,highlight:m,hideLeftSectionDivider:b,hideRightSectionDivider:y}=this.props,{loading:S,source:v,sectionDividerPosition:C,sectionDividerTop:O,sectionDividerHeight:E,moveCubukPosition:T,moveCubukTop:D,moveCubukHeight:k,deleteDialogVisible:w}=this.state,{canManageScreens:_}=this.context,j=a.default.has(u),P=this.getContextMenuItems(),R=v||(j?u:"");return i.h(o.default,{id:e,filterValue:p,index:f,sectionId:g,link:this.link,class:r,updated:t,name:n,highlight:m,baseRef:this.handleBaseRef,componentRef:Object(c.default)(this,"screenThumbnail","componentRefs"),readOnly:!_,fixedSize:s,hideLeftSectionDivider:!_||b,hideRightSectionDivider:!_||y,onScreenLinkMouseOver:this.handleScreenLinkMouseOver,onShowLeftSectionDivider:this.handleShowLeftSectionDivider,onShowRightSectionDivider:this.handleShowRightSectionDivider,onHideSectionDivider:this.handleHideSectionDivider,onSectionDividerClick:this.handleSectionDividerClick,sectionDividerPosition:C,sectionDividerTop:O,sectionDividerHeight:E,moveCubukPosition:T,moveCubukHeight:k,moveCubukTop:D,snapshotWidth:l,snapshotHeight:d,source:R,loading:S,contextMenuItems:P,onContextMenu:this.generateShortlink,containerSelector:h,deleteDialogVisible:w,onDeleteDialogPositiveClick:this.handleDeleteDialogPositiveClick,onDeleteDialogNegativeClick:this.closeDeleteScreenDialog,onDeleteDialogClose:this.closeDeleteScreenDialog,onHover:this.handleDragHover,onDrop:this.handleDrop,onMouseDown:this.handleMouseDown,onHoverOut:this.handleDragHoverOut,onNameBlur:this.handleNameBlur,onScreenImageLoad:this.handleScreenImageLoad,onIntersection:this.handleIntersection})}}t.default=m},function(e,t,n){"use strict";n.r(t);var i=n(1297);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(517),o=n(1298),s=n(1301),a=n(1057),l=n(1005),c=n(24),d=n(11),u=n(62),h=n(1307),p=n(1061),f=n(289),g=n(1082);n(1310);class m extends i.Component{constructor(e){super(e),this.state={contextMenu:null},this.highlightName=this.highlightName.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this),this.renderContextMenu=this.renderContextMenu.bind(this)}highlightName(){this.componentRefs.screenName.highlight()}handleContextMenu(e){e.preventDefault(),this.setState({contextMenu:{x:e.clientX,y:e.clientY}})}handleContextMenuClose(){this.setState({contextMenu:null})}handleBaseRef(e){Object(c.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}renderDialogs(){const{deleteDialogVisible:e,name:t,onDeleteDialogPositiveClick:n,onDeleteDialogNegativeClick:r,onDeleteDialogClose:o}=this.props;if(e)return i.h(f.BasicDialog,{title:`Delete "${t}"?`,message:"Deleted screens cannot be restored.",onPositiveButtonClick:n,onNegativeButtonClick:r,onClose:o,positiveButtonText:"DELETE",negativeButtonText:"CANCEL",hideNegativeButton:!1})}renderContextMenu(){const{contextMenuItems:e=[],onContextMenu:t}=this.props,{contextMenu:n}=this.state;return i.h(a.default.withAutoPosition,{class:"screenThumbnailContextMenu",onMouseDown:u.stopPropagation,autoPosition:{sidebar:".barrelSidebar",menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:n},onOpen:t,onClose:this.handleContextMenuClose},e)}render(){const{id:e,link:t,updated:n,name:a,readOnly:f,fixedSize:g,snapshotWidth:m,snapshotHeight:b,source:y,class:S,onNameBlur:v,onScreenImageLoad:C,loading:O,filterValue:E,dragging:T,highlight:D,hideLeftSectionDivider:k,hideRightSectionDivider:w,sectionDividerPosition:_,sectionDividerTop:j,sectionDividerHeight:P,onShowLeftSectionDivider:R,onShowRightSectionDivider:I,onHideSectionDivider:A,onSectionDividerClick:x,onScreenLinkMouseOver:N,onMouseDown:L,moveCubukPosition:U,moveCubukHeight:M,moveCubukTop:B}=this.props,{contextMenu:z}=this.state,F=g?200:Math.min(Math.round(240/m*b),520);return i.h("div",{class:"screenThumbnailSectionDividerWrapper"},i.h("div",{class:"screenThumbnailPaddingArea left",onMouseDown:u.stopPropagation,onMouseEnter:R,onMouseLeave:A,style:{height:F}},!k&&"left"===_&&i.h(h.default,{top:j,height:P,onClick:x}),"left"===U&&i.h(p.default,{top:B,height:M})),i.h("div",{class:Object(d.default)("screenThumbnail",{dragging:T},S),ref:this.handleBaseRef,onMouseDown:L,key:e},z&&this.renderContextMenu(),i.h(o.default,{loading:O,dragging:T,highlight:D,href:t,onContextMenu:this.handleContextMenu,onMouseOver:N},i.h(l.default,{source:y,width:240,height:F,onLoad:C,class:"screenImage"})),i.h("div",{class:"screenInfo"},i.h(s.default,{class:"screenName",ref:Object(c.default)(this,"screenName","componentRefs"),matchValue:E,discardOnESC:!0,blurOnEnter:!0,ellipsized:!0,value:a,onBlur:v,readOnly:f,minLength:"1",maxLength:"100",required:!0}),i.h(r.default,{type:"time-ago",format:"micro",class:"screenLastUpdated ellipsis",datetime:n}))),i.h("div",{class:"screenThumbnailPaddingArea right",onMouseDown:u.stopPropagation,onMouseEnter:I,onMouseLeave:A,style:{height:F}},!w&&"right"===_&&i.h(h.default,{top:j,height:P,onClick:x}),"right"===U&&i.h(p.default,{top:B,height:M})),this.renderDialogs())}}var Component;t.default=Object(u.pipe)(Object(g.DragSource)({itemType:"ScreenThumbnail",mirrorComponent:({source:e,imgHeight:t})=>i.h(l.default,{source:e,width:240,height:t,class:"screenThumbnailMirror"}),provideDragData:e=>{const{id:t,index:n,sectionId:i,source:r,snapshotWidth:o,snapshotHeight:s,fixedSize:a}=e;return{id:t,index:n,sectionId:i,source:r,imgHeight:a?200:Math.min(Math.round(240/o*s),520)}}}),Object(g.DropTarget)({acceptsItemType:"ScreenThumbnail",onDrop:(e,t)=>e.onDrop({mirrorPosition:t.mirrorPosition,sourceId:t.dragData.id,sourceIndex:t.dragData.index,sourceSectionId:t.dragData.sectionId,targetIndex:e.index,targetSectionId:e.sectionId}),onHover:(e,t)=>e.onHover({mirrorPosition:t.mirrorPosition}),onHoverOut:e=>e.onHoverOut()}))((Component=m,e=>{const t=Object.assign({},e,{ref:e.componentRef});return delete t.componentRef,i.h(Component,t)}))},function(e,t,n){"use strict";n.r(t);var i=n(1299);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11);n(1300);t.default=function({loading:e,dragging:t,highlight:n,href:o,onContextMenu:s,onMouseOver:a,children:l}){return i.h("a",{class:Object(r.default)("screenThumbnailLink",{loading:e,dragging:t,highlight:n}),onContextMenu:s,onMouseOver:a,href:o,"data-link-type":"inApp"},l)}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1302);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1303),o=n(56),s=n(11),a=n(24);n(1306);class l extends i.Component{constructor(e){super(e),this.state={value:e.value,focusWithin:!1,hasHover:!1},this.handleInput=this.handleInput.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this)}highlight(){Object(o.highlightInput)(this.nodeRefs.input)}handleMouseEnter(e){this.props.onMouseEnter&&this.props.onMouseEnter(e),this.setState({hasHover:!0})}handleMouseLeave(e){this.props.onMouseLeave&&this.props.onMouseLeave(e),this.setState({hasHover:!1})}handleInput(e){this.props.onInput&&this.props.onInput(e),this.setState({value:e.target.value})}handleFocus(e){this.props.onFocus&&this.props.onFocus(e),this.setState({focusWithin:!0})}handleBlur(e){this.props.onBlur&&this.props.onBlur(e),this.setState({focusWithin:!1})}componentWillReceiveProps(e){this.state.focusWithin||e.value===this.state.value||this.setState({value:e.value})}render(){const{value:e,focusWithin:t,hasHover:n}=this.state,{matchValue:l}=this.props,c=Object.assign({},this.props,{value:e,onInput:this.handleInput,onBlur:this.handleBlur,onFocus:this.handleFocus,inputRef:Object(a.default)(this,"input","nodeRefs")});delete c.matchValue,delete c.style,delete c.class;const d=l&&e&&!t&&!n;return i.h("div",{class:Object(s.default)("highlightTextInput",this.props.class),style:this.props.style,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},d?i.h("div",{class:"inputMirror ellipsis",dangerouslySetInnerHTML:{__html:Object(o.highlightMatchedParts)(e,l,{caseInsensitive:!0,excludeZeroScore:!0})}}):i.h(r.default,c))}}l.defaultProps={value:""},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1304);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(340),o=n(11),s=n(6),a=n.n(s);n(1305);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}class c extends r.default{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this)}handleKeyDown(e){this.props.discardOnESC&&e.keyCode===Zeplin.KEY_CODE.ESC&&(e.target.value=this.props.value,e.target.blur(),e.preventDefault()),this.props.blurOnEnter&&e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.target.blur(),e.preventDefault()),this.props.onKeyDown&&this.props.onKeyDown(e)}handleMouseDown(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&e.stopPropagation()}render(){const{prefix:e,suffix:t,blurOnEnter:n,discardOnESC:r,class:s,ellipsized:a,inputRef:c,type:d}=this.props,u=Object.assign({},this.props);return delete u.class,delete u.inputRef,delete u.ellipsized,delete u.blurOnEnter,delete u.discardOnESC,delete u.prefix,delete u.suffix,(n||r)&&(u.onKeyDown=this.handleKeyDown),a&&(u.class="ellipsis"),i.h("div",{class:Object(o.default)("textInput",s,{withPrefix:!!e,withSuffix:!!t}),onMouseDown:this.handleMouseDown,"data-suffix":t,"data-prefix":e},i.h("input",l({},u,{type:d,ref:c})))}}c.propTypes={suffix:a.a.string,prefix:a.a.string,inputRef:a.a.func,ellipsized:a.a.bool,blurOnEnter:a.a.bool,discardOnESC:a.a.bool},c.defaultProps={type:"text"},t.default=c},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1308);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(228);n(1309);t.default=function(e){const{onClick:t,height:n,top:o,left:s}=e;return i.h("button",{class:"sectionDivider",onClick:t,style:{height:n,top:o,left:s}},i.h("div",null),i.h(r.IconDivider,{class:"iconDivider noSelect"}),i.h("div",null))}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1313);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1314);n(1317);function o(e){const{mainContent:t,subContent:n,actionButtonText:r,onActionButtonClick:o}=e;return i.h("div",{class:"emptySectionsWithActionButton"},i.h("h1",null,t),n&&i.h("h2",null,n),i.h("button",{type:"button",onClick:o},r))}t.default=function(e){const{tags:t,untagged:n,selectedJiraIssues:s,onResetJiraIssuesClick:a,onResetTagsClick:l}=e;return s.length?i.h(o,{mainContent:"There are no screens with the selected Jira issues.",actionButtonText:"Reset Jira issues",onActionButtonClick:a}):t.length?i.h(o,{mainContent:"There are no screens with the selected tags.",actionButtonText:"Reset tags",onActionButtonClick:l}):n?i.h(o,{mainContent:"There are no untagged screens.",subContent:"Good job! Looks like you’re well organized. 😎",onResetTagsClick:l}):i.h(r.default,{text:"No screens with this name 🤷‍♀️"})}},function(e,t,n){"use strict";n.r(t);var i=n(1315);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1);n(1316);t.default=function({text:e}){return i.h("div",{class:"filterEmptySections"},e)}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1319);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(228),o=n(9),s=n(64),a=n(342);n(1320);t.default=function(){const e=Object(s.getOS)()===s.OS.MAC?"⌥J":"Alt+J";return i.h(o.default,{secondary:!0,class:"jumpToButton",onClick:a.BarrelActions.openJumpToPopup},i.h(r.IconMagnifier,null),i.h("span",{class:"label"},"Jump to"),i.h("span",{class:"shortcut"},e))}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1322);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(1);n(1323);function r(){return i.h("div",{class:"projectOverviewLoading"},i.h("div",{class:"menubarLoading"},i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"})),i.h("div",{class:"tagsLoading"},i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"}),i.h("div",{class:"loadingItem"})),i.h("div",{class:"screenGridLoading"},i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"}),i.h("div",{class:"screenLoading loadingItem"})))}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1325);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(62),o=n(42),s=n(334),a=n(342),l=n(345),c=n(473),d=n(1326),u=n(349),h=n(1331);function p(e,t,n){const{_id:i,type:o,densityScale:s}=t;return e.filter(e=>{const t=e._id!==i&&e.type===o&&(!e.densityScale||e.densityScale===s),a="active"===e.status;let l=!0;if(Object(r.isOrganizationProject)(e)){const t=e.users.find(({user:e})=>e._id===n);l=t&&r.permissions.canManageScreens(t)}return t&&a&&l}).sort(r.sortBy.name)}class f extends i.Component{constructor(e){super(e),this.handleMove=this.handleMove.bind(this),this.handleClose=this.handleClose.bind(this),this.state={spinnerIndex:-1,moveDialogOpen:!1}}static getStores(){return[c.OrganizationStore,l.ProjectsDataStore,a.BarrelStore,d.MoveResourcesStore,u.UserStore]}static calculateState(){const{open:e,targetNode:t,resourceId:n,resourceType:i}=d.MoveResourcesStore.getState();if(!e)return{open:!1};const{barrelId:o,loading:s,organizationId:h}=a.BarrelStore.getState();if(s)return{loading:!0};const{userId:f}=u.UserStore.getState(),{loading:g,loadingProfiles:m,organizations:b,organizationProfiles:y,organizationProjects:S}=c.OrganizationStore.getState();if(g||m)return{loading:!0};const{projects:v}=l.ProjectsDataStore.getState(),C=a.BarrelHelpers.getBarrel(),O="screen"===i?C.findScreen(n):C.findSection(n),E=[];if("user"===h){E.push({type:"header",content:"Personal Projects"},{type:"create",oid:"user"});const e=p(S.user.map(e=>v[e]),C,f);E.push(...e.map(({_id:e,name:t,densityScale:n})=>({type:"project",pid:e,name:t,densityScale:n})))}const T=("user"===h?Object.entries(S).filter(([e])=>"user"!==e).map(([e,t])=>({organization:b.find(({_id:t})=>t===e),profile:y[e],projects:t.map(e=>v[e])})):[{organization:b.find(({_id:e})=>e===h),profile:y[h],projects:S[h].map(e=>v[e])}]).filter(({organization:{status:e},profile:t})=>"active"===e&&r.permissions.canMoveScreens(t)).map(({organization:e,projects:t})=>({organization:e,projects:p(t,C,f)})).sort(({organization:e},{organization:t})=>r.sortBy.name(e,t));E.push(...T.flatMap(({organization:{name:e,_id:t},projects:n})=>[{type:"header",content:e+"’s Projects"},{type:"create",oid:t},...n.map(({_id:e,name:t,densityScale:n})=>({type:"project",pid:e,name:t,densityScale:n}))]));const{type:D,name:k,densityScale:w}=C;return{loading:!1,barrelId:o,barrelName:k,platform:D,densityScale:w,open:e,targetNode:t,resourceType:i,resource:O,listItems:E}}getInteractiveItemAtIndex(e){const{listItems:t}=this.state;return t.filter(({type:e})=>"header"!==e)[e]}handleClose(){const{moveDialogOpen:e}=this.state;e||d.MoveResourcesActions.close()}handleMove(e){const{resourceType:t}=this.state,{barrelId:n,barrelName:i,platform:r,densityScale:s,resource:a}=this.state,l=this.getInteractiveItemAtIndex(e),c="create"===l.type?"a new project":`"${l.name}"`;this.setState({moveDialogOpen:!0}),o.create({message:`Move selected ${t} from "${i}" to ${c}?`,done:{name:"MOVE",cb:()=>{this.setState({spinnerIndex:e,moveDialogOpen:!1}),d.MoveResourcesActions.move({barrelId:n,resource:a,resourceType:t,target:l,densityScale:s,platform:r})}},cancel:{name:"KEEP",cb:()=>{this.setState({moveDialogOpen:!1}),d.MoveResourcesActions.close()}}})}render(){const{loading:e,platform:t,densityScale:n,spinnerIndex:r,listItems:o,open:s,targetNode:a,resourceType:l}=this.state;return s?i.h(h.default,{resourceType:l,targetNode:a,loading:e,platform:t,densityScale:n,spinnerIndex:r,listItems:o,onMove:this.handleMove,onClose:this.handleClose}):null}}t.default=Object(s.default)(f)},function(e,t,n){"use strict";n.r(t);var i=n(1292);n.d(t,"MoveResourcesActions",(function(){return i.default}));var r=n(120);n.d(t,"MoveResourcesActionTypes",(function(){return r.default}));var o=n(1293);n.d(t,"MoveResourcesDispatcher",(function(){return o.default}));var s=n(1327);n.d(t,"MoveResourcesStore",(function(){return s.default}));n(1328)},function(e,t,n){"use strict";n.r(t);var i=n(73),r=n.n(i),o=n(120),s=n(1293);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends r.a{constructor(){super(s.default)}getInitialState(){return{open:!1,targetNode:null,resourceId:null,resourceType:null}}open(e,{targetNode:t,resourceId:n,resourceType:i}){return l(l({},e),{},{open:!0,targetNode:t,resourceId:n,resourceType:i})}close(e){return l(l({},e),{},{open:!1,targetNode:null,resourceId:null,resourceType:null})}reduce(e,t){switch(t.type){case o.default.OPEN:return this.open(e,t);case o.default.CLOSE:return this.close(e);default:return e}}}t.default=new d},function(e,t,n){"use strict";n.r(t);n(1329),n(1330)},function(e,t,n){"use strict";n.r(t);var i=n(120),r=n(1292),o=n(1293),s=n(42),a=n(44),l=n(165),c=n(45),d=n(137);function u(e,t,n){Object(c.handleError)(e,{clientErrorHandler:{402(){s.create({title:`Can’t move ${t} to “${n}”`,message:e.message})},default:c.handleError}})}function h(e){Object(c.handleError)(e,{clientErrorHandler:{402(){s.create({title:"Please upgrade your plan first",message:"Looks like you reached your project limit, upgrade now to create more!",cancel:{name:"CANCEL"},done:{name:"SEE PLANS",cb:l.showPlanChooserOverlay}})},default:c.handleError}})}function p({tpid:e,sourceDensityScale:t,targetDensityScale:n}){return n?Promise.resolve():d.updateProjectDensityScale(e,t)}function f(e){const{barrelId:t,resource:n,target:i,densityScale:r,platform:o}=e;switch(i.type){case"create":!async function({barrelId:e,oid:t,platform:n,densityScale:i,section:r}){const{_id:o,name:s,screens:l}=r;let c,f;try{({_id:c,densityScale:f}=await d.createProject({oid:t,platform:n,densityScale:i,name:s}))}catch(g){return void h(g)}try{await p({tpid:c,sourceDensityScale:i,targetDensityScale:f}),await d.moveScreen(e,c,l),await d.deleteSection(e,o),window.location.assign(Object(a.urlResolve)("project",{url:{bid:c}}))}catch(g){u(g,"section","a new project")}}({barrelId:t,oid:i.oid,platform:o,densityScale:r,section:n});break;case"project":!async function({barrelId:e,target:t,densityScale:n,section:i}){const r=t.pid,o=n,s=t.densityScale;try{await p({tpid:r,sourceDensityScale:o,targetDensityScale:s});const{_id:t}=await d.createSection(r,i);await d.moveScreen(e,r,i.screens),await d.updateSectionScreens(r,t,0,i.screens),await d.deleteSection(e,i._id);const n=Object(a.urlResolve)("project",{url:{bid:r},query:{seid:t}});window.location.assign(n)}catch(l){u(l,"section",t.name)}}({barrelId:t,target:i,densityScale:r,section:n})}}const g={move(e){const{resourceType:t}=e;switch(t){case"screen":!async function(e){const{barrelId:t,resource:n,target:i,target:{type:o,oid:s},densityScale:a,platform:l}=e;let c,f;const g="create"===o?"a new project":`"${i.name}"`;switch(o){case"create":try{({_id:c,densityScale:f}=await d.createProject({oid:s,platform:l,densityScale:a}))}catch(m){return h(m),void r.default.close()}break;case"project":({pid:c,densityScale:f}=i)}try{await p({tpid:c,sourceDensityScale:a,targetDensityScale:f}),await d.moveScreen(t,c,[n._id]),r.default.moveScreen({spid:t,tpid:c,screen:n})}catch(m){u(m,"screen",g)}finally{r.default.close()}}(e);break;case"section":f(e)}}};o.default.register(e=>{if(e.syncWithApi)switch(e.type){case i.default.MOVE:g.move(e)}})},function(e,t,n){"use strict";n.r(t);var i=n(120),r=n(1293),o=n(473),s=n(342),a=n(45),l=n(137),c=n(345);const d={getProjects(e){o.OrganizationHelpers.getOrganizationProjects(e)||l.getProjects("user"===e?null:e).then(t=>{c.ProjectsActions.getProjectsSuccess({projects:t,oid:e})}).catch(a.handleError)},getOrganizationsProjects(){const{organizationId:e}=s.BarrelStore.getState(),{organizations:t}=o.OrganizationStore.getState();t.length&&t.filter(({_id:t})=>t!==e).forEach(({_id:e})=>this.getProjects(e))}};r.default.register(e=>{switch(e.type){case i.default.OPEN:d.getOrganizationsProjects(e)}})},function(e,t,n){"use strict";n.r(t);var i=n(1332);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(1),r=n(1333),o=n(582),s=n(62);n(1336);class a extends i.Component{constructor(e){super(e),this.closePopup=this.closePopup.bind(this),this.handleMove=this.handleMove.bind(this),this.renderContent=this.renderContent.bind(this)}closePopup(){const{base:e}=this.nodeRefs;i.render(null,e.parentElement,e)}getInteractiveItemAtIndex(e){const{listItems:t}=this.props;return t.filter(({type:e})=>"header"!==e)[e]}getPosition(){const{resourceType:e}=this.props;return"section"===e?{top:0,left:0}:{top:78,left:172}}handleMove(e){const{spinnerIndex:t,onMove:n}=this.props;-1===t&&n(e)}renderProjectList(){const{loading:e,densityScale:t,platform:n,spinnerIndex:o,listItems:a}=this.props,l=Object(s.getPlatformString)(n);return e?i.h("div",{key:"projectListLoading",class:"projectListLoading"}):i.h(r.default,{key:"projectList",projectType:l,densityScale:t,items:a,spinnerIndex:o,onSelect:this.handleMove})}renderContent(){const{densityScale:e,platform:t}=this.props,n=Object(s.getPlatformString)(t),r=Object(s.getDensityScaleRepresentation)(t,e);return i.h("div",{class:"moveResourcesPopup"},i.h("p",null,"To keep asset sizes and measurements consistent, only ",i.h("strong",null,n)," projects with ",i.h("strong",null,r)," density are listed. Select one or create a new one to move the screen(s):"),this.renderProjectList())}render(){const{resourceType:e,targetNode:t,onClose:n}=this.props,r="section"===e,s="section"===e,a="section"===e,l="screen"===e,c="screen"===e,{top:d,left:u}=this.getPosition();return i.h(o.default,{targetNode:t,content:this.renderContent,showAnchor:s,anchorTop:-4,centerY:r,top:d,left:u,openToLeft:a,faceLeft:l,faceTop:c,stickToEdge:!0,open:!0,onClose:n})}}},function(e,t,n){"use strict";n.r(t);var i=n(1334);t.default=i.default},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var i=n(1),r=n(228),o=n(62),s=n(11),a=n(24),l=n(56);n(1335);class c extends i.Component{constructor(e){super(),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleClick=this.handleClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.itemCount=c.getInteractiveItemCount(e.items),this.state={selectedIndex:0}}static getInteractiveItemCount(e){return e.filter(({type:e})=>"header"!==e).length}handleClick(e){e.stopPropagation(),this.props.onSelect&&this.props.onSelect(this.state.selectedIndex)}handleKeyDown(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:this.props.onSelect&&this.props.onSelect(this.state.selectedIndex);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),this.setState({selectedIndex:Math.max(0,this.state.selectedIndex-1)});break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),this.setState({selectedIndex:Math.min(this.state.selectedIndex+1,this.itemCount-1)})}}handleMouseEnter(e){this.lastX=e.clientX,this.lastY=e.clientY}handleMouseMove(e){if(e.stopPropagation(),this.lastX===e.clientX&&this.lastY===e.clientY)return;const t=e.target.closest("[data-index]");if(!t)return;const n=parseInt(t.dataset.index,10);n!==this.state.selectedIndex&&this.setState({selectedIndex:n}),this.lastX=e.clientX,this.lastY=e.clientY}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){this.itemCount=c.getInteractiveItemCount(e.items)}componentDidUpdate(){Object(l.scrollIfNecessary)(this.nodeRefs.base.querySelector(`[data-index="${this.state.selectedIndex}"]`))}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderHeader(e){const{densityScale:t,projectType:n}=this.props,r=o.getDensityScaleRepresentation(n,t);return i.h("h3",{key:e},i.h("span",null,e)," ",i.h("span",null,"(",n,", ",r,")"))}renderProjectButton(e,t){const{spinnerIndex:n}=this.props,{selectedIndex:o}=this.state,a=t===o,l=Object(s.default)("newProjectButton",{selected:a});return i.h("div",{key:e,class:l,"data-index":t,"data-oid":e},i.h(r.IconPlus,{class:"iconPlus",circleColor:a?"#fff":"var(--cornflower-blue)",color:a?"var(--cornflower-blue)":"#fff"}),i.h("div",null,i.h("div",null,"New project"),i.h("div",null,"Create a new project and transfer screens")),t===n&&i.h(r.IconSpinner,{color:a?"#fff":"var(--gandalf)",class:"iconSpinner"}))}renderProjectItem(e,t,n,o){const{spinnerIndex:a}=this.props,{selectedIndex:l}=this.state,c=o===l,d=Object(s.default)("project",{odd:n,selected:c});return i.h("div",{key:e,class:d,title:t,"data-index":o},i.h("span",null,t),o===a&&i.h(r.IconSpinner,{color:c?"#fff":null,class:"iconSpinner"}))}renderItems(){const{items:e}=this.props;let t=0,n=!1;return e.map(e=>{switch(e.type){case"header":return this.renderHeader(e.content);case"create":return n=!1,this.renderProjectButton(e.oid,t++);case"project":return n=!n,this.renderProjectItem(e.pid,e.name,n,t++);default:return null}})}render(){return i.h("div",{ref:Object(a.default)(this,"base"),class:"projectList",onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onClick:this.handleClick},this.renderItems())}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1338);t.default=i.default},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var i=n(1),r=n(65),o=n(1339),s=n(1356);n(1359);function a(){const e=r.default.isWindowsApp?o.default:s.default;return i.h("div",{class:"noScreens"},i.h(e,null))}},function(e,t,n){"use strict";n.r(t);var i=n(1340);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(67),o=n(140),s=n(1341),a=n(1344),l=n(1347),c=n(1350);function d(e){e.preventDefault(),r.default.shell.openExternal(e.target.href)}class u extends i.Component{constructor(e){super(e),this.state={designTool:"photoshop"},this.handleDesignToolChange=this.handleDesignToolChange.bind(this)}handleDesignToolChange(e){const t=e.target.value;this.setState({designTool:t}),o.userPrefs.set("noScreensDesignToolSelection",t)}componentDidMount(){o.userPrefs.get("noScreensDesignToolSelection").then(e=>{this.setState({designTool:e})})}render(){const{designTool:e}=this.state;return i.h(s.default,{designTool:e,onDesignToolChange:this.handleDesignToolChange},i.h(s.default.Tab,{value:"figma",description:"Figma"},i.h(a.default,null)),i.h(s.default.Divider,null),i.h(s.default.Tab,{value:"xd",description:"Adobe XD"},i.h(l.default,null)),i.h(s.default.Divider,null),i.h(s.default.Tab,{value:"photoshop",description:"Photoshop"},i.h(c.default,{onExternalLinkClicked:d})))}}t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(1342);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11);n(1343);class o extends i.Component{get tabs(){return i.toChildArray(this.props.children)}renderTabs(){const{designTool:e,onDesignToolChange:t}=this.props;return this.tabs.map(n=>n?i.cloneElement(n,{onChange:t,designTool:e}):null)}renderActiveTabContent(){const{designTool:e}=this.props,t=this.tabs.find(t=>!!t&&t.props&&t.props.value===e);return t?t.props.children:null}render(){const{designTool:e}=this.props;return i.h("div",{class:Object(r.default)("noScreensElectron","designToolTabs",e)},i.h("h1",null,"Let’s start by exporting designs."),i.h("div",{class:"designToolSelection"},this.renderTabs()),this.renderActiveTabContent())}}o.Tab=function({onChange:e,designTool:t,value:n,description:r}){return i.h("label",null,i.h("input",{name:"noScreensElectronDesignTool",value:n,type:"radio",checked:t===n,onChange:e}),i.h("span",{class:"designToolName"},r))},o.Divider=()=>i.h("div",{class:"designToolDivider"}),t.default=o},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1345);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(313);n(1346);const o=i.h("ol",{class:"figmaSteps"},i.h("li",null,i.h("div",null,"To get started, install the Zeplin plugin in Figma."),i.h("a",{class:"installPluginButton noSelect",href:"https://www.figma.com/community/plugin/745330164019088593/Zeplin",target:"_blank"},"Install plugin")),i.h("li",null,i.h("div",null,"In your Figma file, right-click anywhere in the canvas and "),i.h("div",null,"select ",i.h("strong",null,"“Plugins > Zeplin”:")),i.h(r.default,{asset:"img/imgFigmaPluginMenuIntegration.png"})),i.h("li",null,i.h("div",null,"Select frames and hit the ",i.h("strong",null,"“Export”")," button:"),i.h(r.default,{asset:"img/imgFigmaPluginMenuExport.png"})));t.default=function(){return i.h("div",{class:"figmaContainer"},i.h(r.default,{class:"figmaToZeplinImage",asset:"img/imgFigmaToZeplin.png"}),o)}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1348);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(313),o=n(18);n(1349);const s=i.h("ol",{class:"xdSteps"},i.h("li",null,i.h("div",null,"Select and artboard/layer in your XD file.")),i.h("li",null,i.h("div",null,"Select ",i.h("strong",null,"“Zeplin”")," under ",i.h("strong",null,"“File > Export”"),":"),i.h(r.default,{class:"ssMenuExport",asset:"img/imgXDMenuExport.png"}),i.h("div",{class:"additionalInfo"},i.h("div",{class:"shortcutInfo"},i.h("img",{class:"emoji",src:o.imageUrl("img/emjPointUp@17w.png"),srcset:`${o.imageUrl("img/emjPointUp@34w.png")} 2x, ${o.imageUrl("img/emjPointUp@51w.png")} 3x`}),i.h("div",null,"You can use the shortcut ",i.h("strong",null,"Ctrl+Alt+E"),", on your next export.")),i.h(r.default,{class:"xdShortcut",asset:"img/icXDShortcut.png"}))));t.default=function(){return i.h("div",{class:"xdContainer"},i.h(r.default,{class:"xdToZeplinImage",asset:"img/imgXdToZeplin.png"}),s)}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1351);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1352),o=n(18);n(1355);const s=[i.h("img",{class:"psLogo",src:o.imageUrl("img/icLogoPS.png"),srcset:o.srcset(o.imageUrl("img/icLogoPS.png"))}),i.h("img",{class:"psToZeplinLogo",src:o.imageUrl("img/icDashboardPSToZeplin.svg")})];function a({onExternalLinkClicked:e,longInstallPanelInfo:t}){return i.h("ol",{class:"photoshopSteps"},i.h("li",null,i.h("div",null,i.h("div",null,"Open your Photoshop file"),i.h("img",{src:o.imageUrl("img/icPSLogoGrayscale.png"),srcset:o.srcset(o.imageUrl("img/icPSLogoGrayscale.png"))}))),i.h("li",null,i.h("div",null,"Select artboards (or layers in artboards) and click:"),i.h("img",{class:"ssDashboardEmpty",src:o.imageUrl("img/ss/ssDashboardEmpty.png"),srcset:o.srcset(o.imageUrl("img/ss/ssDashboardEmpty.png"))}),t?i.h("div",{class:"installPanelInfo"},"If you can’t see the panel under ",i.h("code",null,"“Window > Extensions > Zeplin”"),", check how it’s installed from ",i.h("a",{onClick:e,target:"_blank",href:"https://support.zeplin.io/photoshop-integration/installing-photoshop-plugin-on-windows"},"here"),"."):i.h("div",{class:"installPanelInfo"},"If you can’t see the panel, install it from ",i.h("a",{onClick:e,target:"_blank",href:"https://support.zeplin.io/photoshop-integration/installing-photoshop-plugin-on-windows"},"here"),".")))}t.default=function({onExternalLinkClicked:e,longInstallPanelInfo:t,withToolToZeplinMargin:n=!0}){return i.h("div",{class:"photoshopContainer"},i.h(r.default,{images:s,withMargin:n}),i.h(a,{onExternalLinkClicked:e,longInstallPanelInfo:t}))}},function(e,t,n){"use strict";n.r(t);var i=n(1353);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(18),o=n(11);n(1354);t.default=function({images:e,withMargin:t}){return i.h("div",{class:Object(o.default)("toolToZeplin",{withMargin:t})},e,i.h("img",{class:"zeplinLogo",src:Object(r.imageUrl)("img/icZeplin.svg")}))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1357);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(1);n(1358);function r(){return i.h("div",{class:"noScreensWebApp"},i.h("h1",null,"Here, you’ll see a list of screens after the designs are uploaded from Sketch, Adobe XD, Figma or Photoshop CC."),i.h("div",{class:"screenSilhouettes"},i.h("div",{class:"screenSilhouette"}),i.h("div",{class:"screenSilhouette"}),i.h("div",{class:"screenSilhouette"}),i.h("div",{class:"screenSilhouette"}),i.h("div",{class:"screenSilhouette"}),i.h("div",{class:"screenSilhouette"})),i.h("p",null,"Screens can be uploaded from macOS or Windows apps",i.h("span",{class:"downloadApp"},", if you are a designer you can ",i.h("a",{href:"https://zpl.io/download"},"download them from here"),"!"),i.h("br",null),i.h("br",null),"To learn more about how to export from ",i.h("a",{href:"https://zpl.io/demo",target:"_blank",rel:"noopener noreferrer external"},"Sketch"),", ",i.h("a",{href:"https://www.youtube.com/watch?v=PI-0v40gc_8",target:"_blank",rel:"noopener noreferrer external"},"Adobe XD"),", ",i.h("a",{href:"https://www.youtube.com/watch?v=ASCFEK_VBVY",target:"_blank",rel:"noopener noreferrer external"},"Figma")," or ",i.h("a",{href:"https://www.youtube.com/watch?v=0cVbzq-Q43M",target:"_blank",rel:"noopener noreferrer external"},"Photoshop CC"),", follow the links for a short demo."))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1361);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(62),o=n(64),s=n(24),a=n(1057),l=n(11);n(1362);class c extends i.Component{constructor(e){super(e),this.state={contextMenu:null},this.handleContextMenu=this.handleContextMenu.bind(this),this.handleClick=this.handleClick.bind(this),this.handleCloseContextMenu=this.handleCloseContextMenu.bind(this),this.handleCopyWebURL=this.handleCopyWebURL.bind(this),this.handleCopyAppURI=this.handleCopyAppURI.bind(this),this.handleDownloadScreenImages=this.handleDownloadScreenImages.bind(this),this.handleConvertToSection=this.handleConvertToSection.bind(this),this.handleDelete=this.handleDelete.bind(this)}handleContextMenu(e){this.props.untagged||this.props.contextMenuDisabled||(e.preventDefault(),this.setState({contextMenu:{x:e.clientX,y:e.clientY}}),this.props.onOpenContextMenu(this.props.tag))}handleClick(e){const{untagged:t,tag:n,disabled:i}=this.props;i||this.props.onClick(t?null:n,Object(o.cmdKey)(e))}handleCloseContextMenu(){this.setState({contextMenu:null})}handleCopyWebURL(e){e.stopPropagation(),this.props.onCopyWebURL(this.props.tag)}handleCopyAppURI(e){e.stopPropagation(),this.props.onCopyAppURI(this.props.tag)}handleDownloadScreenImages(e){e.stopPropagation(),this.props.onDownloadScreenImages(this.props.tag)}handleConvertToSection(e){e.stopPropagation(),this.props.onConvertToSection(this.props.tag)}handleDelete(e){e.stopPropagation(),this.props.onDelete(this.props.tag)}renderTagContextMenu(){const{canCreateSectionFromTag:e}=this.props,{contextMenu:t}=this.state;return i.h(a.default.withAutoPosition,{class:"tagContextMenu",onMouseDown:r.stopPropagation,autoPosition:{sidebar:".barrelSidebar",menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:t},onClose:this.handleCloseContextMenu},e&&i.h(a.default.Item,{onClick:this.handleConvertToSection},"Convert to section"),e&&i.h(a.default.ItemDivider,{key:"copyDivider"}),i.h(a.default.Item,{onClick:this.handleCopyWebURL},"Copy web link"),i.h(a.default.Item,{onClick:this.handleCopyAppURI},"Copy App URI"),i.h(a.default.ItemDivider,{key:"downloadDivider"}),i.h(a.default.Item,{onClick:this.handleDownloadScreenImages},"Download all screen images"),i.h(a.default.ItemDivider,{key:"warningDivider"}),i.h(a.default.Item,{onClick:this.handleDelete,warning:!0},"Delete tag"))}render(){const{tag:e,untagged:t,selected:n,disabled:r}=this.props,o=Object(l.default)("projectOverviewTag","noSelect",{selected:n,untagged:t,disabled:r});return i.h("button",{ref:Object(s.default)(this,"base"),onContextMenu:this.handleContextMenu,onClick:this.handleClick,class:o},i.h("div",{class:"tagName ellipsis"},t?"Untagged":e),this.state.contextMenu&&this.renderTagContextMenu())}}t.default=c},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1365);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(340),o=n(1366),s=n(680),a=n(342),l=n(346),c=n(658),d=n(473),u=n(345),h=n(349),p=n(334),f=n(44),g=n(96),m=n(40),b=n(62);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}class O extends r.default{constructor(e){super(e)}static getExtensionState(){const{loading:e,extensions:t,enabledExtensions:n}=c.ExtensionsStore.getState();if(e)return{loadingExtensions:!0};const i=t.filter(({id:e})=>n.includes(e)).map(({name:e})=>e);return{loadingExtensions:!1,extensionTitles:i.length?Object(b.formatList)(i):"No extensions yet."}}static calculateState(){const e=a.BarrelStore.getState(),{loading:t,barrelType:n,barrelId:i}=e,r=C(e,["loading","barrelType","barrelId"]);if(t)return{loading:t};const o=a.BarrelHelpers.findUser(),c=a.BarrelHelpers.getBarrel(),{loadingSelectParent:u}=l.StyleguidesDataStore.getState(),{organizationId:h}=r,p=d.OrganizationHelpers.getOrganizationStyleguides(h)||[],{shortlinks:b}=s.AppStore.getState(),y=Object(f.urlResolve)(n,{url:{bid:i}}),v=y in b?b[y]:null,E=n===g.default.PROJECT?"pid":"stid",T=`${m.ZPL_PROTOCOL}//${n}?${E}=${i}`;let D;if(c.public){const e=Object(f.urlResolve)(n,{origin:m.SCENE_URL,url:{bid:i}});D=b[e]||e}return S(S(S({loading:t,barrelType:n,barrelUser:o,webURL:v,sceneURL:D,appURI:T},r),O.getExtensionState()),{},{loadingSelectParent:u,currentOrganizationStyleguides:p,barrel:c})}static getStores(){return[s.AppStore,a.BarrelStore,u.ProjectsDataStore,l.StyleguidesDataStore,c.ExtensionsStore,d.OrganizationStore,h.UserStore]}render(){const{width:e,onRelease:t}=this.props,{loading:n,organizationId:r,barrel:s,barrelType:a,barrelUser:l,webURL:c,sceneURL:d,appURI:u,showSlackReconnectionAuntie:h,loadingExtensions:p,extensionTitles:f,shortlinks:g,loadingSelectParent:m,currentOrganizationStyleguides:b}=this.state;return n?i.h(o.default.Loading,null):i.h(o.default,{width:e,onRelease:t,organizationId:r,barrel:s,barrelType:a,barrelUser:l,webURL:c,sceneURL:d,appURI:u,showSlackReconnectionAuntie:h,loadingExtensions:p,extensionTitles:f,shortlinks:g,loadingSelectParent:m,currentOrganizationStyleguides:b})}}const E=Object(p.default)(O,{withProps:!0,pure:!1});t.default=E},function(e,t,n){"use strict";n.r(t);var i=n(1367);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(340),o=n(1037),s=n(730),a=n(62),l=n(11),c=n(1033),d=n(24),u=n(1368),h=n(96),p=n(165),f=n(342),g=n(346),m=n(690),b=n(658),y=n(1370),S=n(1373),v=n(630),C=n(1376),O=n(1385),E=n(1388),T=n(1391),D=n(9),k=n(1394),w=n(1397),_=n(1405),j=n(582),P=n(293),R=n(1411),I=n(1414),A=n(1421),x=n(133),N=n(122),L=n(289),U=n(228);n(1424);function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}class B extends r.default{constructor(e){super(e),this.openMembersDialog=this.openMembersDialog.bind(this),this.closeMembersDialog=this.closeMembersDialog.bind(this),this.openDensityDialog=this.openDensityDialog.bind(this),this.closeDensityDialog=this.closeDensityDialog.bind(this),this.toggleInvitePopup=this.toggleInvitePopup.bind(this),this.setInvitePopupPosition=Object(a.debounce)(this.setInvitePopupPosition).bind(this),this.setInvitePopupAnchorPosition=this.setInvitePopupAnchorPosition.bind(this),this.openSelectParentDialog=this.openSelectParentDialog.bind(this),this.closeSelectParentDialog=this.closeSelectParentDialog.bind(this),this.openRemoveParentDialog=this.openRemoveParentDialog.bind(this),this.closeRemoveParentDialog=this.closeRemoveParentDialog.bind(this),this.handleRename=this.handleRename.bind(this),this.handleDensityScaleChange=this.handleDensityScaleChange.bind(this),this.handleShareContentOpen=this.handleShareContentOpen.bind(this),this.handleShareContentClose=this.handleShareContentClose.bind(this),this.renderShareContent=this.renderShareContent.bind(this),this.handleDescriptionSubmit=this.handleDescriptionSubmit.bind(this),this.handleSelectParent=this.handleSelectParent.bind(this),this.handleRemoveParent=this.handleRemoveParent.bind(this),this.handleMemberClick=this.handleMemberClick.bind(this),this.state={shareContentOpen:!1,membersDialogOpen:!1,invitePopupOpen:!1,densityDialogOpen:!1,selectParentDialogOpen:!1,removeParentDialogOpen:!1,selectedParentStyleguide:null}}get isOrganizationProject(){const{barrel:e}=this.props;return Object(a.isOrganizationProject)(e)}get canUpdateBarrel(){const{barrelUser:e}=this.props;return a.permissions.canUpdateProject(e)}get canUserChangeBarrelAccesibility(){const{barrelUser:e}=this.props;return a.permissions.canChangeProjectAccesibility(e)}get jiraIntegration(){const{barrel:e}=this.props;return e&&e.integration?e.integration.jira:null}get slackChannels(){const{barrel:e}=this.props;let t;return e.integration&&e.integration.slacks&&e.integration.slacks.length&&(t=[...e.integration.slacks].reverse()),t}openMembersDialog(){this.setState({membersDialogOpen:!0})}closeMembersDialog(){this.setState({membersDialogOpen:!1})}openDensityDialog(){this.setState({densityDialogOpen:!0})}closeDensityDialog(){this.setState({densityDialogOpen:!1})}setInvitePopupAnchorPosition(){const{inviteButton:e}=this.nodeRefs,t=s.element.getBoundingClientRect(),n=e.getBoundingClientRect(),i=n.top+n.height/2-t.top-11;s.anchor.classList.toggle("hidden",t.bottom<n.bottom)||(s.anchor.style.top=i+"px")}setInvitePopupPosition(){s.element.style.transform="";const{inviteButton:e}=this.nodeRefs,t=s.element.getBoundingClientRect(),n=e.getBoundingClientRect(),i=(t.height-n.height)/2,r=n.top-i,o=n.bottom+n.height+i;let a;a=r>108&&o<window.innerHeight-12?i:n.top-108;const l=Math.max(n.top-a,12)-60;s.element.style.transform=`translate3d(0, ${l}px, 0)`,this.setInvitePopupAnchorPosition()}setInvitePopupState(e){this.setState({invitePopupOpen:e})}openInvitePopup(){const{barrel:e,barrelType:t,barrelUser:n,organizationId:i}=this.props,{id:r,users:o}=e,{sidebar:a}=this.nodeRefs;s.show({bt:t,popupContainer:a,bid:r,members:o,oid:"pawn"===n.role?"user":i,onDismiss:e=>{this.setInvitePopupState(!1)}}),this.setInvitePopupPosition(),a.addEventListener("listRefreshed",this.setInvitePopupAnchorPosition),a.addEventListener("usersInvited",this.handleAddMembers),window.addEventListener("resize",this.setInvitePopupPosition),mixpanel.webapp.track("Showed invite user pop up",{type:"project"}),this.setInvitePopupState(!0)}closeInvitePopup(){const{sidebar:e}=this.nodeRefs;e.removeEventListener("listRefreshed",this.setInvitePopupAnchorPosition),e.removeEventListener("usersInvited",this.handleAddMembers),window.removeEventListener("resize",this.setInvitePopupPosition),s.dismiss(),this.setInvitePopupState(!1)}openSelectParentDialog(e){const{currentOrganizationStyleguides:t}=this.props,n=t.find(t=>t._id===e);this.setState({selectParentDialogOpen:!0,selectedParentStyleguide:n})}closeSelectParentDialog(){this.setState({selectParentDialogOpen:!1,selectedParentStyleguide:null})}openRemoveParentDialog(){this.setState({removeParentDialogOpen:!0})}closeRemoveParentDialog(){this.setState({removeParentDialogOpen:!1})}toggleInvitePopup(e){e.stopPropagation(),s.isHidden()?this.openInvitePopup():this.closeInvitePopup()}handleRename(e){if(e===this.props.barrel.name)return;const{barrel:{id:t},barrelType:n}=this.props;f.BarrelActions.updateName({bid:t,barrelType:n,name:e,syncWithApi:!0})}handleDensityScaleChange(e){if(e===this.props.densityScale)return;const{barrel:{id:t},barrelType:n}=this.props;f.BarrelActions.updateDensityScale({bid:t,barrelType:n,densityScale:e,syncWithApi:!0})}handleRemoveIntegration(e,t){f.BarrelActions.removeIntegration({intype:e,inid:t,syncWithApi:!0})}handleShareContentOpen(){this.setState({shareContentOpen:!0})}handleShareContentClose(){this.setState({shareContentOpen:!1})}handleDescriptionSubmit(e){if(e===this.props.barrel.description)return;const{barrel:{id:t},barrelType:n}=this.props;f.BarrelActions.updateDescription({bid:t,barrelType:n,description:e,syncWithApi:!0})}handleMemberClick(e){this.highlightedMemberId=e,this.setState({membersDialogOpen:!0})}handleAddMembers(e){f.BarrelActions.addMembers({members:e.detail.users,syncWithApi:!0})}handleRemoveMember({user:{_id:e}}){f.BarrelActions.removeMember({mid:e,syncWithApi:!0})}handleAssignAdmin({user:{_id:e}}){f.BarrelActions.updateUserRole({uid:e,role:"admin",syncWithApi:!0})}handleUnassignAdmin({user:{_id:e}}){f.BarrelActions.updateUserRole({uid:e,role:"user",syncWithApi:!0})}handleTransferOwnership({user:{_id:e}}){f.BarrelActions.transferOwnership({uid:e,syncWithApi:!0})}handleSelectParent(){const{barrel:{id:e}}=this.props,{selectedParentStyleguide:t}=this.state;g.StyleguidesActions.selectParentRequest({stid:e,parent:t._id,syncWithApi:!0})}handleRemoveParent(){const{barrel:{id:e,parent:t}}=this.props;g.StyleguidesActions.removeParent({stid:e,oldParent:t,syncWithApi:!0})}renderSelectParentDialog(){const{barrel:e}=this.props,{selectedParentStyleguide:t}=this.state,{name:n,type:r,parent:o}=e,{name:s,type:a}=t,l=r===a||a===N.PLATFORM.BASE,c=o?"Change":"Select",d=o?"to":"as",u=`“${n}”`+(l?"":` (${N.PlatformString[r]})`),h=`“${s}”`+(l?"":` (${N.PlatformString[a]})`);return i.h(L.BasicDialog,{title:`${c} parent styleguide of ${u} ${d} ${h}?`,message:"Styleguide parent can be changed later.",positiveButtonText:`${o?"CHANGE":"SELECT"}${l?"":" ANYWAY"}`,onPositiveButtonClick:this.handleSelectParent,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:this.closeSelectParentDialog})}renderRemoveParentDialog(){const{barrel:e}=this.props;return i.h(L.BasicDialog,{message:`Remove parent styleguide of “${e.name}”?`,positiveButtonText:"REMOVE PARENT",onPositiveButtonClick:this.handleRemoveParent,negativeButtonText:"CANCEL",hideNegativeButton:!1,onClose:this.closeRemoveParentDialog})}renderDensityChangeAction(){if(!this.props.hover)return null;const{barrelUser:e}=this.props,t=this.canUpdateBarrel?"Update project density.":Object(c.default)(e.role,"update project density"),n=!this.canUpdateBarrel;return i.h(v.default,{content:t},i.h("button",{onClick:this.openDensityDialog,class:"changeDensityButton",disabled:n},i.h(U.IconEdit,{color:n?"#C1BEC1":"#554D56"})))}renderName(){const{barrel:e,barrelUser:t,barrelType:n}=this.props,{name:r}=e,o=i.h(S.default,{readonly:!this.canUpdateBarrel,onBlur:this.handleRename,value:r});return this.canUpdateBarrel?o:i.h(v.default,{content:Object(c.default)(t.role,`rename ${n}s`)},o)}renderDensityAndType(){const{barrel:e}=this.props,{type:t,densityScale:n}=e;return i.h("div",{class:"densityAndType"},i.h("div",{class:"info"},Object(a.getPlatformString)(t),", ",Object(a.getDensityScaleRepresentation)(t,n)),this.renderDensityChangeAction())}renderShareContent(){const{barrelType:e,webURL:t,sceneURL:n,appURI:r}=this.props;return i.h(_.default,{barrelType:e,webURL:t,sceneURL:n,appURI:r,canChangeProjectAccesibility:this.canUserChangeBarrelAccesibility,onEnableScene:f.BarrelActions.enableScene,onUnshare:f.BarrelActions.unshareScene})}renderShareButton(){const{shareContentOpen:e}=this.state;return i.h("div",{class:"shareButtonContainer"},i.h(j.default,{open:e,onOpen:this.handleShareContentOpen,onClose:this.handleShareContentClose,content:this.renderShareContent,left:12,centerY:!0,faceTop:!0,showAnchor:!0},i.h(D.default,{class:"shareButton",primary:!0},"Share")))}renderDescription(){const{barrel:e,barrelType:t}=this.props,{description:n}=e;return t===h.default.STYLEGUIDE?null:[i.h(E.default,{key:"descriptionSubtitle",class:"descriptionSubtitle",title:"Description"}),i.h("div",{key:"descriptionTextArea",class:"descriptionTextAreaContainer"},i.h(T.default,{class:"descriptionTextArea",value:n,placeholder:this.canUpdateBarrel?"Got any notes?":"No description yet",readOnly:!this.canUpdateBarrel,submitOnBlur:!0,onSubmit:this.handleDescriptionSubmit,autoEdit:!0,formatter:u.formatTextArea,showEmojiAutoComplete:!0,maxLength:1024})),i.h(O.default,{key:"descriptionSeparator"})]}renderMembers(){const{barrel:e,barrelUser:t,barrelType:n,organizationId:r}=this.props,{membersDialogOpen:o}=this.state,{id:s,name:a,users:l}=e;let c=null;if(o){const e=this.highlightedMemberId;this.highlightedMemberId=null,c=i.h(P.default,null,i.h(w.default,{key:"membersDialog",members:l,barrelUser:t,barrelType:n,barrelId:s,barrelName:a,isOrganizationProject:this.isOrganizationProject,organizationId:r,highlight:e,onLeave:this.handleRemoveMember,onAddMembers:this.handleAddMembers,onRemoveMember:this.handleRemoveMember,onAssignAdmin:this.handleAssignAdmin,onUnassignAdmin:this.handleUnassignAdmin,onTransferOwnership:this.handleTransferOwnership,onClose:this.closeMembersDialog,onUpgrade:p.showPlanChooserOverlay}))}return[i.h(E.default,{key:"membersSubtitle",title:"Members",onSettingsButtonClick:this.openMembersDialog,withSettingsButton:!0}),i.h("div",{key:"inviteButton",class:"inviteButtonContainer"},i.h(D.default,{secondary:!0,class:"inviteButton",baseRef:Object(d.default)(this,"inviteButton"),onClick:this.toggleInvitePopup},"Invite")),i.h(k.default,{key:"memberList",members:l,barrelUser:t,onMemberClick:this.handleMemberClick}),c]}renderDensityDialog(){const{barrel:e}=this.props,{densityDialogOpen:t}=this.state,{type:n,densityScale:r}=e;return t?"base"===n?i.h(I.default,{selectedValue:r,onChange:this.handleDensityScaleChange,onClose:this.closeDensityDialog}):i.h(R.default,{type:n,selectedValue:r,onChange:this.handleDensityScaleChange,onClose:this.closeDensityDialog}):null}renderParentStyleguides(){const{barrel:e,barrelType:t,barrelUser:n,loadingSelectParent:r,currentOrganizationStyleguides:o}=this.props,{id:s,users:a,ancestors:l,parent:c}=e;if(t===h.default.PROJECT)return null;const d=Object(x.getSelectableParentStyleguides)({isOrganizationStyleguide:this.isOrganizationProject,currentStyleguides:o,currentUser:n,id:s,parentId:c,users:a}),u=function(e,t){return e.map(e=>{const n=t.find(t=>t._id===e);return n?n.name:null}).filter(Boolean).reverse()}(l,o);return i.h(A.default,{barrelUser:n,selectableStyleguides:d,parentNames:u,isOrganization:this.isOrganizationProject,loading:r,onParentSelect:this.openSelectParentDialog,onParentRemove:this.openRemoveParentDialog})}render(){const{width:e,hover:t,onRelease:n,barrelType:r,barrel:o,barrelUser:s,loadingExtensions:a,extensionTitles:c,showSlackReconnectionAuntie:u}=this.props,{shareContentOpen:h,invitePopupOpen:p,selectParentDialogOpen:g,removeParentDialogOpen:S}=this.state,{id:v,name:T}=o;return i.h(y.default,{class:Object(l.default)("barrelSidebar",{shareContentOpen:h,invitePopupOpen:p}),minWidth:260,initialWidth:e,baseRef:Object(d.default)(this,"sidebar"),onContentScroll:this.handleContentScroll,onRelease:n},this.renderName(),this.renderDensityAndType(),i.h(C.default,{barrelId:v,barrelName:T,barrelType:r,barrelUser:s,slackChannels:this.slackChannels,jiraIntegration:this.jiraIntegration,onAddToSlack:f.BarrelActions.addToSlack,onOpenPreferences:m.SlackPreferencesActions.open,showConfigurationButtons:t,showSlackReconnectionAuntie:u,onRemoveIntegration:this.handleRemoveIntegration,canUpdateProject:this.canUpdateBarrel}),this.renderShareButton(),i.h(O.default,null),this.renderDescription(),this.renderParentStyleguides(),i.h(E.default,{title:"Extensions",onSettingsButtonClick:b.ExtensionsActions.openSettings,withSettingsButton:!0,settingsButtonDisabled:a}),i.h("div",{class:"extensionsContainer"},i.h("div",{class:"extensions ellipsis",title:c},c)),i.h(O.default,null),this.renderMembers(),this.renderDensityDialog(),g&&this.renderSelectParentDialog(),S&&this.renderRemoveParentDialog())}}B.defaultProps={loadingExtensions:!0,extensionTitles:"…"};const z=Object(o.default)(B),F=e=>i.h(z,M({},e,{ignoreOverlays:!1}));F.Loading=y.default.Loading,t.default=F},function(e,t,n){"use strict";n.r(t),n.d(t,"formatTextArea",(function(){return b})),n.d(t,"formatComment",(function(){return y}));var i=n(1369),r=n.n(i),o=n(605),s=n(62),a=n(11),l=n(44),c=n(40),d=n(342),u=n(349);function h(e){const t=function(e){const t=new URL(e),n=t.origin===location.origin,i=t.protocol===c.ZPL_PROTOCOL;if(!n&&!i)return;const r={query:{}};if(t.hash||i){const e=(i?t.search||t.href.substring(t.href.indexOf("?")):t.hash).replace(/&amp;/g,"&").substring(1),o=Object(l.parseUrlParams)(e);if(!("pid"in o))return;return r.url={pid:o.pid[0]},"sid"in o?(r.url.sid=o.sid[0],"vid"in o&&(r.url.vid=o.vid[0])):n&&"styleguide"in o||i&&(t.pathname.startsWith("//styleguide")||t.pathname.startsWith("//guideline"))?r.subpage="styleguide":r.subpage="dashboard",r}const o=Object(l.parseUrlPath)(t.pathname);if(!o)return;Object.assign(r,{url:o});const s=t.pathname.match(/\/(dashboard|styleguide)$/);if(s&&(r.subpage=s[1]),t.search){const e=Object(l.parseUrlParams)(t.search.replace(/&amp;/g,"&"));Object.assign(r,{query:e})}return r}(e),n=d.BarrelHelpers.getBarrel();if(!n||!t||!("pid"in t.url)||t.url.pid!==n.id)return;let i="project-dashboard",r="Dashboard",o=["link"];if("sid"in t.url){i="vid"in t.url?"project-screen-version":"project-screen";const e=n.screens.find((function(e){return e._id===t.url.sid})),s=e?e.name:"unknown";if("did"in t.query)if(t.query.did.length>1)r="Notes on "+s;else{const n=e.dots&&e.dots.find((function(e){return e._id===t.query.did[0]})),i="Note"+(n?" #"+n.name:"");r="cmid"in t.query?`Comment${t.query.cmid.length>1?"s":""} on ${i}, ${s}`:`${i}, ${s}`}else o.push("screenLink"),r=s}return"subpage"in t&&"styleguide"===t.subpage&&(i="project-styleguide",r="Styleguide",delete t.subpage),{anchorText:r,classList:o,url:Object(l.urlResolve)(i,t)}}function p(e){return function(t){switch(t.getType()){case"url":{if(t.protocolRelativeMatch)return!1;const n=h(t.getUrl());if(n){const{anchorText:t,classList:i,url:r}=n;return e.push(`<a href="${r}" class="${i.join(" ")}" data-link-type="inApp">${t}</a>`),`{{link:${e.length-1}}}`}const i=t.buildTag();return i.setAttr("rel","nofollow external noopener noreferrer"),e.push(i.toAnchorString()),`{{link:${e.length-1}}}`}case"email":return e.push(t.buildTag().toAnchorString()),"{{link:"+(e.length-1)+"}}";default:return!1}}}function f(e,t=[]){var n=[],i=new r.a({stripPrefix:!1,className:"link",phone:!1,twitter:!1,hashtag:!1,replaceFn:p(n)});return t.reduce((function(e,t){return t(e)}),i.link(Object(s.escapeHTML)(e))).replace(/{{link:(\d+)}}/g,(function(e,t){return n[parseInt(t,10)]}))}function g(e){const t=d.BarrelHelpers.getBarrel();return t?e.replace(/#([\w-]+)/g,(function(e,n){var i=t.findColorByName(n);return i?'<span class="color">'+e+'<span class="colorPreview" style="background-color:'+i.toCSS()+'"></span></span>':/#[\da-f]{6}/i.test(e)?(i=t.findColorByHexAndAlpha({hex:e}))?'<span class="color">#'+i.name+'<span class="colorPreview" style="background-color:'+e+'"></span></span>':'<span class="color">'+e+'<span class="colorPreview" style="background-color:'+e+'"></span></span>':e})):e}function m(e){const t=d.BarrelHelpers.getBarrel();if(!t)return e;const n=Object(s.userRegexFn)(t.users),{username:i}=u.UserStore.getState(),r=Object(s.mentionRegexFn)(i);return e.replace(n,e=>{const t=r.test(e);return`<span class="${Object(a.default)("user",{self:t})}">${e}</span>`})}function b(e){return f(e,[o.formatEmojiString,s.spanEmojis])}function y(e){return f(e,[g,m,o.formatEmojiString,s.spanEmojis])}},function(e,t,n){var i,r,o;
/*!
 * Autolinker.js
 * 1.6.2
 *
 * Copyright(c) 2018 Gregory Jacobs <greg@greg-jacobs.com>
 * MIT License
 *
 * https://github.com/gregjacobs/Autolinker.js
 */r=[],void 0===(o="function"==typeof(i=function(){var e,t,n,i,r,o,s,a,l,c,d,u=function(e){e=e||{},this.version=u.version,this.urls=this.normalizeUrlsCfg(e.urls),this.email="boolean"!=typeof e.email||e.email,this.phone="boolean"!=typeof e.phone||e.phone,this.hashtag=e.hashtag||!1,this.mention=e.mention||!1,this.newWindow="boolean"!=typeof e.newWindow||e.newWindow,this.stripPrefix=this.normalizeStripPrefixCfg(e.stripPrefix),this.stripTrailingSlash="boolean"!=typeof e.stripTrailingSlash||e.stripTrailingSlash,this.decodePercentEncoding="boolean"!=typeof e.decodePercentEncoding||e.decodePercentEncoding;var t=this.mention;if(!1!==t&&"twitter"!==t&&"instagram"!==t)throw new Error("invalid `mention` cfg - see docs");var n=this.hashtag;if(!1!==n&&"twitter"!==n&&"facebook"!==n&&"instagram"!==n)throw new Error("invalid `hashtag` cfg - see docs");this.truncate=this.normalizeTruncateCfg(e.truncate),this.className=e.className||"",this.replaceFn=e.replaceFn||null,this.context=e.context||this,this.htmlParser=null,this.matchers=null,this.tagBuilder=null};return u.link=function(e,t){return new u(t).link(e)},u.parse=function(e,t){return new u(t).parse(e)},u.version="1.6.2",u.prototype={constructor:u,normalizeUrlsCfg:function(e){return null==e&&(e=!0),"boolean"==typeof e?{schemeMatches:e,wwwMatches:e,tldMatches:e}:{schemeMatches:"boolean"!=typeof e.schemeMatches||e.schemeMatches,wwwMatches:"boolean"!=typeof e.wwwMatches||e.wwwMatches,tldMatches:"boolean"!=typeof e.tldMatches||e.tldMatches}},normalizeStripPrefixCfg:function(e){return null==e&&(e=!0),"boolean"==typeof e?{scheme:e,www:e}:{scheme:"boolean"!=typeof e.scheme||e.scheme,www:"boolean"!=typeof e.www||e.www}},normalizeTruncateCfg:function(e){return"number"==typeof e?{length:e,location:"end"}:u.Util.defaults(e||{},{length:Number.POSITIVE_INFINITY,location:"end"})},parse:function(e){for(var t=this.getHtmlParser().parse(e),n=0,i=[],r=0,o=t.length;r<o;r++){var s=t[r],a=s.getType();if("element"===a&&"a"===s.getTagName())s.isClosing()?n=Math.max(n-1,0):n++;else if("text"===a&&0===n){var l=this.parseText(s.getText(),s.getOffset());i.push.apply(i,l)}}return i=this.compactMatches(i),i=this.removeUnwantedMatches(i)},compactMatches:function(e){e.sort((function(e,t){return e.getOffset()-t.getOffset()}));for(var t=0;t<e.length-1;t++){var n=e[t],i=n.getOffset(),r=n.getMatchedText().length,o=i+r;if(t+1<e.length){if(e[t+1].getOffset()===i){var s=e[t+1].getMatchedText().length>r?t:t+1;e.splice(s,1);continue}e[t+1].getOffset()<=o&&e.splice(t+1,1)}}return e},removeUnwantedMatches:function(e){var t=u.Util.remove;return this.hashtag||t(e,(function(e){return"hashtag"===e.getType()})),this.email||t(e,(function(e){return"email"===e.getType()})),this.phone||t(e,(function(e){return"phone"===e.getType()})),this.mention||t(e,(function(e){return"mention"===e.getType()})),this.urls.schemeMatches||t(e,(function(e){return"url"===e.getType()&&"scheme"===e.getUrlMatchType()})),this.urls.wwwMatches||t(e,(function(e){return"url"===e.getType()&&"www"===e.getUrlMatchType()})),this.urls.tldMatches||t(e,(function(e){return"url"===e.getType()&&"tld"===e.getUrlMatchType()})),e},parseText:function(e,t){t=t||0;for(var n=this.getMatchers(),i=[],r=0,o=n.length;r<o;r++){for(var s=n[r].parseMatches(e),a=0,l=s.length;a<l;a++)s[a].setOffset(t+s[a].getOffset());i.push.apply(i,s)}return i},link:function(e){if(!e)return"";for(var t=this.parse(e),n=[],i=0,r=0,o=t.length;r<o;r++){var s=t[r];n.push(e.substring(i,s.getOffset())),n.push(this.createMatchReturnVal(s)),i=s.getOffset()+s.getMatchedText().length}return n.push(e.substring(i)),n.join("")},createMatchReturnVal:function(e){var t;return this.replaceFn&&(t=this.replaceFn.call(this.context,e)),"string"==typeof t?t:!1===t?e.getMatchedText():t instanceof u.HtmlTag?t.toAnchorString():e.buildTag().toAnchorString()},getHtmlParser:function(){var e=this.htmlParser;return e||(e=this.htmlParser=new u.htmlParser.HtmlParser),e},getMatchers:function(){if(this.matchers)return this.matchers;var e=u.matcher,t=this.getTagBuilder(),n=[new e.Hashtag({tagBuilder:t,serviceName:this.hashtag}),new e.Email({tagBuilder:t}),new e.Phone({tagBuilder:t}),new e.Mention({tagBuilder:t,serviceName:this.mention}),new e.Url({tagBuilder:t,stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding})];return this.matchers=n},getTagBuilder:function(){var e=this.tagBuilder;return e||(e=this.tagBuilder=new u.AnchorTagBuilder({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),e}},u.match={},u.matcher={},u.htmlParser={},u.truncate={},u.Util={abstractMethod:function(){throw"abstract"},trimRegex:/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,assign:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},defaults:function(e,t){for(var n in t)t.hasOwnProperty(n)&&void 0===e[n]&&(e[n]=t[n]);return e},extend:function(e,t){var n,i=e.prototype,r=function(){};r.prototype=i;var o=(n=t.hasOwnProperty("constructor")?t.constructor:function(){i.constructor.apply(this,arguments)}).prototype=new r;return o.constructor=n,o.superclass=i,delete t.constructor,u.Util.assign(o,t),n},ellipsis:function(e,t,n){var i;return e.length>t&&(null==n?(n="&hellip;",i=3):i=n.length,e=e.substring(0,t-i)+n),e},indexOf:function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},remove:function(e,t){for(var n=e.length-1;n>=0;n--)!0===t(e[n])&&e.splice(n,1)},splitAndCapture:function(e,t){if(!t.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var n,i=[],r=0;n=t.exec(e);)i.push(e.substring(r,n.index)),i.push(n[0]),r=n.index+n[0].length;return i.push(e.substring(r)),i},trim:function(e){return e.replace(this.trimRegex,"")}},u.HtmlTag=u.Util.extend(Object,{whitespaceRegex:/\s+/,constructor:function(e){u.Util.assign(this,e),this.innerHtml=this.innerHtml||this.innerHTML},setTagName:function(e){return this.tagName=e,this},getTagName:function(){return this.tagName||""},setAttr:function(e,t){return this.getAttrs()[e]=t,this},getAttr:function(e){return this.getAttrs()[e]},setAttrs:function(e){var t=this.getAttrs();return u.Util.assign(t,e),this},getAttrs:function(){return this.attrs||(this.attrs={})},setClass:function(e){return this.setAttr("class",e)},addClass:function(e){for(var t,n=this.getClass(),i=this.whitespaceRegex,r=u.Util.indexOf,o=n?n.split(i):[],s=e.split(i);t=s.shift();)-1===r(o,t)&&o.push(t);return this.getAttrs().class=o.join(" "),this},removeClass:function(e){for(var t,n=this.getClass(),i=this.whitespaceRegex,r=u.Util.indexOf,o=n?n.split(i):[],s=e.split(i);o.length&&(t=s.shift());){var a=r(o,t);-1!==a&&o.splice(a,1)}return this.getAttrs().class=o.join(" "),this},getClass:function(){return this.getAttrs().class||""},hasClass:function(e){return-1!==(" "+this.getClass()+" ").indexOf(" "+e+" ")},setInnerHtml:function(e){return this.innerHtml=e,this},getInnerHtml:function(){return this.innerHtml||""},toAnchorString:function(){var e=this.getTagName(),t=this.buildAttrsStr();return["<",e,t=t?" "+t:"",">",this.getInnerHtml(),"</",e,">"].join("")},buildAttrsStr:function(){if(!this.attrs)return"";var e=this.getAttrs(),t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+'="'+e[n]+'"');return t.join(" ")}}),u.RegexLib=(d=function(e){return"(?=([A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９](?:[A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９\\-]{0,61}[A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９])?))\\"+e},{alphaNumericCharsStr:(c="A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ")+"0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",alphaCharsStr:c,getDomainNameStr:function(e){return"(?:"+d(e)+"(?:\\."+d(e+1)+"){0,126}|(?:[0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９]{1,3}\\.){3}[0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９]{1,3})"}}),u.AnchorTagBuilder=u.Util.extend(Object,{constructor:function(e){e=e||{},this.newWindow=e.newWindow,this.truncate=e.truncate,this.className=e.className},build:function(e){return new u.HtmlTag({tagName:"a",attrs:this.createAttrs(e),innerHtml:this.processAnchorText(e.getAnchorText())})},createAttrs:function(e){var t={href:e.getAnchorHref()},n=this.createCssClass(e);return n&&(t.class=n),this.newWindow&&(t.target="_blank",t.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<e.getAnchorText().length&&(t.title=e.getAnchorHref()),t},createCssClass:function(e){var t=this.className;if(t){for(var n=[t],i=e.getCssClassSuffixes(),r=0,o=i.length;r<o;r++)n.push(t+"-"+i[r]);return n.join(" ")}return""},processAnchorText:function(e){return e=this.doTruncate(e)},doTruncate:function(e){var t=this.truncate;if(!t||!t.length)return e;var n=t.length,i=t.location;return"smart"===i?u.truncate.TruncateSmart(e,n):"middle"===i?u.truncate.TruncateMiddle(e,n):u.truncate.TruncateEnd(e,n)}}),u.htmlParser.HtmlParser=u.Util.extend(Object,{htmlRegex:(r=/[0-9a-zA-Z][0-9a-zA-Z:]*/,o=/[^\s"'>\/=\x00-\x1F\x7F]+/,s=/(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/,a="(?:\\s*?=\\s*?"+s.source+")?",l=function(e){return"(?=("+o.source+"))\\"+e+a},new RegExp(["(?:","<(!DOCTYPE)","(?:","\\s+","(?:",l(2),"|",s.source+")",")*",">",")","|","(?:","<(/)?","(?:",/!--([\s\S]+?)--/.source,"|","(?:","("+r.source+")","\\s*/?",")","|","(?:","("+r.source+")","\\s+","(?:","(?:\\s+|\\b)",l(7),")*","\\s*/?",")",")",">",")"].join(""),"gi")),htmlCharacterEntitiesRegex:/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,parse:function(e){for(var t,n,i=this.htmlRegex,r=0,o=[];null!==(t=i.exec(e));){var s=t[0],a=t[4],l=t[1]||t[5]||t[6],c=!!t[3],d=t.index,u=e.substring(r,d);u&&(n=this.parseTextAndEntityNodes(r,u),o.push.apply(o,n)),a?o.push(this.createCommentNode(d,s,a)):o.push(this.createElementNode(d,s,l,c)),r=d+s.length}if(r<e.length){var h=e.substring(r);h&&(n=this.parseTextAndEntityNodes(r,h)).forEach((function(e){o.push(e)}))}return o},parseTextAndEntityNodes:function(e,t){for(var n=[],i=u.Util.splitAndCapture(t,this.htmlCharacterEntitiesRegex),r=0,o=i.length;r<o;r+=2){var s=i[r],a=i[r+1];s&&(n.push(this.createTextNode(e,s)),e+=s.length),a&&(n.push(this.createEntityNode(e,a)),e+=a.length)}return n},createCommentNode:function(e,t,n){return new u.htmlParser.CommentNode({offset:e,text:t,comment:u.Util.trim(n)})},createElementNode:function(e,t,n,i){return new u.htmlParser.ElementNode({offset:e,text:t,tagName:n.toLowerCase(),closing:i})},createEntityNode:function(e,t){return new u.htmlParser.EntityNode({offset:e,text:t})},createTextNode:function(e,t){return new u.htmlParser.TextNode({offset:e,text:t})}}),u.htmlParser.HtmlNode=u.Util.extend(Object,{offset:void 0,text:void 0,constructor:function(e){if(u.Util.assign(this,e),null==this.offset)throw new Error("`offset` cfg required");if(null==this.text)throw new Error("`text` cfg required")},getType:u.Util.abstractMethod,getOffset:function(){return this.offset},getText:function(){return this.text}}),u.htmlParser.CommentNode=u.Util.extend(u.htmlParser.HtmlNode,{comment:"",getType:function(){return"comment"},getComment:function(){return this.comment}}),u.htmlParser.ElementNode=u.Util.extend(u.htmlParser.HtmlNode,{tagName:"",closing:!1,getType:function(){return"element"},getTagName:function(){return this.tagName},isClosing:function(){return this.closing}}),u.htmlParser.EntityNode=u.Util.extend(u.htmlParser.HtmlNode,{getType:function(){return"entity"}}),u.htmlParser.TextNode=u.Util.extend(u.htmlParser.HtmlNode,{getType:function(){return"text"}}),u.match.Match=u.Util.extend(Object,{constructor:function(e){if(null==e.tagBuilder)throw new Error("`tagBuilder` cfg required");if(null==e.matchedText)throw new Error("`matchedText` cfg required");if(null==e.offset)throw new Error("`offset` cfg required");this.tagBuilder=e.tagBuilder,this.matchedText=e.matchedText,this.offset=e.offset},getType:u.Util.abstractMethod,getMatchedText:function(){return this.matchedText},setOffset:function(e){this.offset=e},getOffset:function(){return this.offset},getAnchorHref:u.Util.abstractMethod,getAnchorText:u.Util.abstractMethod,getCssClassSuffixes:function(){return[this.getType()]},buildTag:function(){return this.tagBuilder.build(this)}}),u.match.Email=u.Util.extend(u.match.Match,{constructor:function(e){if(u.match.Match.prototype.constructor.call(this,e),!e.email)throw new Error("`email` cfg required");this.email=e.email},getType:function(){return"email"},getEmail:function(){return this.email},getAnchorHref:function(){return"mailto:"+this.email},getAnchorText:function(){return this.email}}),u.match.Hashtag=u.Util.extend(u.match.Match,{constructor:function(e){if(u.match.Match.prototype.constructor.call(this,e),!e.hashtag)throw new Error("`hashtag` cfg required");this.serviceName=e.serviceName,this.hashtag=e.hashtag},getType:function(){return"hashtag"},getServiceName:function(){return this.serviceName},getHashtag:function(){return this.hashtag},getAnchorHref:function(){var e=this.serviceName,t=this.hashtag;switch(e){case"twitter":return"https://twitter.com/hashtag/"+t;case"facebook":return"https://www.facebook.com/hashtag/"+t;case"instagram":return"https://instagram.com/explore/tags/"+t;default:throw new Error("Unknown service name to point hashtag to: ",e)}},getAnchorText:function(){return"#"+this.hashtag}}),u.match.Phone=u.Util.extend(u.match.Match,{constructor:function(e){if(u.match.Match.prototype.constructor.call(this,e),!e.number)throw new Error("`number` cfg required");if(null==e.plusSign)throw new Error("`plusSign` cfg required");this.number=e.number,this.plusSign=e.plusSign},getType:function(){return"phone"},getNumber:function(){return this.number},getAnchorHref:function(){return"tel:"+(this.plusSign?"+":"")+this.number},getAnchorText:function(){return this.matchedText}}),u.match.Mention=u.Util.extend(u.match.Match,{constructor:function(e){if(u.match.Match.prototype.constructor.call(this,e),!e.serviceName)throw new Error("`serviceName` cfg required");if(!e.mention)throw new Error("`mention` cfg required");this.mention=e.mention,this.serviceName=e.serviceName},getType:function(){return"mention"},getMention:function(){return this.mention},getServiceName:function(){return this.serviceName},getAnchorHref:function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;default:throw new Error("Unknown service name to point mention to: ",this.serviceName)}},getAnchorText:function(){return"@"+this.mention},getCssClassSuffixes:function(){var e=u.match.Match.prototype.getCssClassSuffixes.call(this),t=this.getServiceName();return t&&e.push(t),e}}),u.match.Url=u.Util.extend(u.match.Match,{constructor:function(e){if(u.match.Match.prototype.constructor.call(this,e),"scheme"!==e.urlMatchType&&"www"!==e.urlMatchType&&"tld"!==e.urlMatchType)throw new Error('`urlMatchType` cfg must be one of: "scheme", "www", or "tld"');if(!e.url)throw new Error("`url` cfg required");if(null==e.protocolUrlMatch)throw new Error("`protocolUrlMatch` cfg required");if(null==e.protocolRelativeMatch)throw new Error("`protocolRelativeMatch` cfg required");if(null==e.stripPrefix)throw new Error("`stripPrefix` cfg required");if(null==e.stripTrailingSlash)throw new Error("`stripTrailingSlash` cfg required");if(null==e.decodePercentEncoding)throw new Error("`decodePercentEncoding` cfg required");this.urlMatchType=e.urlMatchType,this.url=e.url,this.protocolUrlMatch=e.protocolUrlMatch,this.protocolRelativeMatch=e.protocolRelativeMatch,this.stripPrefix=e.stripPrefix,this.stripTrailingSlash=e.stripTrailingSlash,this.decodePercentEncoding=e.decodePercentEncoding},schemePrefixRegex:/^(https?:\/\/)?/i,wwwPrefixRegex:/^(https?:\/\/)?(www\.)?/i,protocolRelativeRegex:/^\/\//,protocolPrepended:!1,getType:function(){return"url"},getUrlMatchType:function(){return this.urlMatchType},getUrl:function(){var e=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(e=this.url="http://"+e,this.protocolPrepended=!0),e},getAnchorHref:function(){return this.getUrl().replace(/&amp;/g,"&")},getAnchorText:function(){var e=this.getMatchedText();return this.protocolRelativeMatch&&(e=this.stripProtocolRelativePrefix(e)),this.stripPrefix.scheme&&(e=this.stripSchemePrefix(e)),this.stripPrefix.www&&(e=this.stripWwwPrefix(e)),this.stripTrailingSlash&&(e=this.removeTrailingSlash(e)),this.decodePercentEncoding&&(e=this.removePercentEncoding(e)),e},stripSchemePrefix:function(e){return e.replace(this.schemePrefixRegex,"")},stripWwwPrefix:function(e){return e.replace(this.wwwPrefixRegex,"$1")},stripProtocolRelativePrefix:function(e){return e.replace(this.protocolRelativeRegex,"")},removeTrailingSlash:function(e){return"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e},removePercentEncoding:function(e){try{return decodeURIComponent(e.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;"))}catch(t){return e}}}),u.tldRegex=/(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|vermögensberatung|xn--3oq18vl8pn36a|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermögensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbc0a9azcg|xn--nqv7fs00ema|afamilycompany|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|international|lifeinsurance|orientexpress|spreadbetting|travelchannel|wolterskluwer|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|pamperedchef|scholarships|versicherung|xn--3e0b707e|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|rightathome|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--3bst00m|xn--3ds443g|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--pbt977c|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b|சிங்கப்பூர்|accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nationwide|newholland|nextdirect|onyourside|properties|protection|prudential|realestate|republican|restaurant|schaeffler|swiftcover|tatamotors|technology|telefonica|university|vistaprint|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|fujixerox|furniture|goldpoint|goodhands|hisamitsu|homedepot|homegoods|homesense|honeywell|institute|insurance|kuokgroup|ladbrokes|lancaster|landrover|lifestyle|marketing|marshalls|mcdonalds|melbourne|microsoft|montblanc|panasonic|passagens|pramerica|richardli|scjohnson|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--nqv7f|xn--p1acf|xn--tckwe|xn--vhquv|yodobashi|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|budapest|builders|business|capetown|catering|catholic|chrysler|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|esurance|everbank|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|mortgage|movistar|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|symantec|telecity|training|uconnect|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama|السعودية|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|cartier|channel|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|iselect|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lancome|lanxess|lasalle|latrobe|leclerc|liaison|limited|lincoln|markets|metlife|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|panerai|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|shriram|singles|spiegel|staples|starhub|statoil|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|католик|الجزائر|العليان|پاکستان|كاثوليك|موبايلي|இந்தியா|abarth|abbott|abbvie|active|africa|agency|airbus|airtel|alipay|alsace|alstom|anquan|aramco|author|bayern|beauty|berlin|bharti|blanco|bostik|boston|broker|camera|career|caseih|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|mobily|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|piaget|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|warman|webcam|xihuan|xperia|yachts|yandex|zappos|москва|онлайн|ابوظبي|ارامكو|الاردن|المغرب|امارات|فلسطين|مليسيا|இலங்கை|ファッション|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|boots|bosch|build|canon|cards|chase|cheap|chloe|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|dodge|drive|dubai|earth|edeka|email|epost|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glade|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|intel|irish|iveco|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|lixil|loans|locus|lotte|lotto|lupin|macys|mango|media|miami|money|mopar|movie|nadex|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vista|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|zippo|ایران|بازار|بھارت|سودان|سورية|همراه|संगठन|বাংলা|భారత్|嘉里大酒店|aarp|able|adac|aero|aigo|akdn|ally|amex|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|doha|duck|duns|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|mtpc|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|raid|read|reit|rent|rest|rich|rmit|room|rsvp|ruhr|safe|sale|sapo|sarl|save|saxo|scor|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|дети|сайт|بيتك|تونس|شبكة|عراق|عمان|موقع|भारत|ভারত|ਭਾਰਤ|ભારત|ලංකා|グーグル|クラウド|ポイント|大众汽车|组织机构|電訊盈科|香格里拉|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bnl|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceb|ceo|cfa|cfd|com|crs|csc|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|htc|ibm|ice|icu|ifm|ing|ink|int|ist|itv|iwc|jcb|jcp|jio|jlc|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|lol|lpl|ltd|man|mba|mcd|med|men|meo|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|off|one|ong|onl|ooo|org|ott|ovh|pay|pet|pid|pin|pnc|pro|pru|pub|pwc|qvc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|srl|srt|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|бел|ком|қаз|мкд|мон|орг|рус|срб|укр|հայ|קום|قطر|كوم|مصر|कॉम|नेट|คอม|ไทย|ストア|セール|みんな|中文网|天主教|我爱你|新加坡|淡马锡|诺基亚|飞利浦|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|ελ|бг|ею|рф|გე|닷넷|닷컴|삼성|한국|コム|世界|中信|中国|中國|企业|佛山|信息|健康|八卦|公司|公益|台湾|台灣|商城|商店|商标|嘉里|在线|大拿|娱乐|家電|工行|广东|微博|慈善|手机|手表|政务|政府|新闻|时尚|書籍|机构|游戏|澳門|点看|珠宝|移动|网址|网店|网站|网络|联通|谷歌|购物|通販|集团|食品|餐厅|香港)/,u.matcher.Matcher=u.Util.extend(Object,{constructor:function(e){if(!e.tagBuilder)throw new Error("`tagBuilder` cfg required");this.tagBuilder=e.tagBuilder},parseMatches:u.Util.abstractMethod}),u.matcher.Email=u.Util.extend(u.matcher.Matcher,{matcherRegex:(e=u.RegexLib.alphaNumericCharsStr+"!#$%&'*+\\-\\/=?^_`{|}~",t=new RegExp("(?:["+e+"](?:["+e+']|\\.(?!\\.|@))*|\\"['+e+'\\s"(),:;<>@\\[\\].]+\\")@'),n=u.RegexLib.getDomainNameStr,i=u.tldRegex,new RegExp([t.source,n(1),"\\.",i.source].join(""),"gi")),parseMatches:function(e){for(var t,n=this.matcherRegex,i=this.tagBuilder,r=[];null!==(t=n.exec(e));){var o=t[0];r.push(new u.match.Email({tagBuilder:i,matchedText:o,offset:t.index,email:o}))}return r}}),u.matcher.Hashtag=u.Util.extend(u.matcher.Matcher,{matcherRegex:new RegExp("#[_"+u.RegexLib.alphaNumericCharsStr+"]{1,139}","g"),nonWordCharRegex:new RegExp("[^"+u.RegexLib.alphaNumericCharsStr+"]"),constructor:function(e){u.matcher.Matcher.prototype.constructor.call(this,e),this.serviceName=e.serviceName},parseMatches:function(e){for(var t,n=this.matcherRegex,i=this.nonWordCharRegex,r=this.serviceName,o=this.tagBuilder,s=[];null!==(t=n.exec(e));){var a=t.index,l=e.charAt(a-1);if(0===a||i.test(l)){var c=t[0],d=t[0].slice(1);s.push(new u.match.Hashtag({tagBuilder:o,matchedText:c,offset:a,serviceName:r,hashtag:d}))}}return s}}),u.matcher.Phone=u.Util.extend(u.matcher.Matcher,{matcherRegex:/(?:(\+)?\d{1,3}[-\040.]?)?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]?\d{4}([,;]*[0-9]+#?)*/g,parseMatches:function(e){for(var t,n=this.matcherRegex,i=this.tagBuilder,r=[];null!==(t=n.exec(e));){var o=t[0],s=o.replace(/[^0-9,;#]/g,""),a=!!t[1];this.testMatch(t[2])&&this.testMatch(o)&&r.push(new u.match.Phone({tagBuilder:i,matchedText:o,offset:t.index,number:s,plusSign:a}))}return r},testMatch:function(e){return/\D/.test(e)}}),u.matcher.Mention=u.Util.extend(u.matcher.Matcher,{matcherRegexes:{twitter:new RegExp("@[_"+u.RegexLib.alphaNumericCharsStr+"]{1,20}","g"),instagram:new RegExp("@[_."+u.RegexLib.alphaNumericCharsStr+"]{1,50}","g")},nonWordCharRegex:new RegExp("[^"+u.RegexLib.alphaNumericCharsStr+"]"),constructor:function(e){u.matcher.Matcher.prototype.constructor.call(this,e),this.serviceName=e.serviceName},parseMatches:function(e){var t,n=this.matcherRegexes[this.serviceName],i=this.nonWordCharRegex,r=this.serviceName,o=this.tagBuilder,s=[];if(!n)return s;for(;null!==(t=n.exec(e));){var a=t.index,l=e.charAt(a-1);if(0===a||i.test(l)){var c=t[0].replace(/\.+$/g,""),d=c.slice(1);s.push(new u.match.Mention({tagBuilder:o,matchedText:c,offset:a,serviceName:r,mention:d}))}}return s}}),u.matcher.Url=u.Util.extend(u.matcher.Matcher,{matcherRegex:function(){var e=u.RegexLib.getDomainNameStr,t=u.tldRegex,n=u.RegexLib.alphaNumericCharsStr,i=new RegExp("[/?#](?:["+n+"\\-+&@#/%=~_()|'$*\\[\\]?!:,.;✓]*["+n+"\\-+&@#/%=~_()|'$*\\[\\]✓])?");return new RegExp(["(?:","(",/(?:[A-Za-z][-.+A-Za-z0-9]{0,63}:(?![A-Za-z][-.+A-Za-z0-9]{0,63}:\/\/)(?!\d+\/?)(?:\/\/)?)/.source,e(2),")","|","(","(//)?",/(?:www\.)/.source,e(6),")","|","(","(//)?",e(10)+"\\.",t.source,"(?![-"+n+"])",")",")","(?::[0-9]+)?","(?:"+i.source+")?"].join(""),"gi")}(),wordCharRegExp:new RegExp("["+u.RegexLib.alphaNumericCharsStr+"]"),openParensRe:/\(/g,closeParensRe:/\)/g,constructor:function(e){if(u.matcher.Matcher.prototype.constructor.call(this,e),null==e.stripPrefix)throw new Error("`stripPrefix` cfg required");if(null==e.stripTrailingSlash)throw new Error("`stripTrailingSlash` cfg required");this.stripPrefix=e.stripPrefix,this.stripTrailingSlash=e.stripTrailingSlash,this.decodePercentEncoding=e.decodePercentEncoding},parseMatches:function(e){for(var t,n=this.matcherRegex,i=this.stripPrefix,r=this.stripTrailingSlash,o=this.decodePercentEncoding,s=this.tagBuilder,a=[];null!==(t=n.exec(e));){var l=t[0],c=t[1],d=t[4],h=t[5],p=t[9],f=t.index,g=h||p,m=e.charAt(f-1);if(u.matcher.UrlMatchValidator.isValid(l,c)&&!(f>0&&"@"===m||f>0&&g&&this.wordCharRegExp.test(m))){if(/\?$/.test(l)&&(l=l.substr(0,l.length-1)),this.matchHasUnbalancedClosingParen(l))l=l.substr(0,l.length-1);else{var b=this.matchHasInvalidCharAfterTld(l,c);b>-1&&(l=l.substr(0,b))}var y=c?"scheme":d?"www":"tld",S=!!c;a.push(new u.match.Url({tagBuilder:s,matchedText:l,offset:f,urlMatchType:y,url:l,protocolUrlMatch:S,protocolRelativeMatch:!!g,stripPrefix:i,stripTrailingSlash:r,decodePercentEncoding:o}))}}return a},matchHasUnbalancedClosingParen:function(e){if(")"===e.charAt(e.length-1)){var t=e.match(this.openParensRe),n=e.match(this.closeParensRe);if((t&&t.length||0)<(n&&n.length||0))return!0}return!1},matchHasInvalidCharAfterTld:function(e,t){if(!e)return-1;var n=0;t&&(n=e.indexOf(":"),e=e.slice(n));var i=u.RegexLib.alphaNumericCharsStr,r=new RegExp("^((.?//)?[-."+i+"]*[-"+i+"]\\.[-"+i+"]+)").exec(e);return null===r?-1:(n+=r[1].length,e=e.slice(r[1].length),/^[^-.A-Za-z0-9:\/?#]/.test(e)?n:-1)}}),u.matcher.UrlMatchValidator={hasFullProtocolRegex:/^[A-Za-z][-.+A-Za-z0-9]*:\/\//,uriSchemeRegex:/^[A-Za-z][-.+A-Za-z0-9]*:/,hasWordCharAfterProtocolRegex:new RegExp(":[^\\s]*?["+u.RegexLib.alphaCharsStr+"]"),ipRegex:/[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?(:[0-9]*)?\/?$/,isValid:function(e,t){return!(t&&!this.isValidUriScheme(t)||this.urlMatchDoesNotHaveProtocolOrDot(e,t)||this.urlMatchDoesNotHaveAtLeastOneWordChar(e,t)&&!this.isValidIpAddress(e)||this.containsMultipleDots(e))},isValidIpAddress:function(e){var t=new RegExp(this.hasFullProtocolRegex.source+this.ipRegex.source);return null!==e.match(t)},containsMultipleDots:function(e){var t=e;return this.hasFullProtocolRegex.test(e)&&(t=e.split("://")[1]),t.split("/")[0].indexOf("..")>-1},isValidUriScheme:function(e){var t=e.match(this.uriSchemeRegex)[0].toLowerCase();return"javascript:"!==t&&"vbscript:"!==t},urlMatchDoesNotHaveProtocolOrDot:function(e,t){return!(!e||t&&this.hasFullProtocolRegex.test(t)||-1!==e.indexOf("."))},urlMatchDoesNotHaveAtLeastOneWordChar:function(e,t){return!(!e||!t||this.hasWordCharAfterProtocolRegex.test(e))}},u.truncate.TruncateEnd=function(e,t,n){return u.Util.ellipsis(e,t,n)},u.truncate.TruncateMiddle=function(e,t,n){if(e.length<=t)return e;var i,r;null==n?(n="&hellip;",i=8,r=3):(i=n.length,r=n.length);var o=t-r,s="";return o>0&&(s=e.substr(-1*Math.floor(o/2))),(e.substr(0,Math.ceil(o/2))+n+s).substr(0,o+i)},u.truncate.TruncateSmart=function(e,t,n){var i,r;null==n?(n="&hellip;",r=3,i=8):(r=n.length,i=n.length);var o=function(e){var t="";return e.scheme&&e.host&&(t+=e.scheme+"://"),e.host&&(t+=e.host),e.path&&(t+="/"+e.path),e.query&&(t+="?"+e.query),e.fragment&&(t+="#"+e.fragment),t},s=function(e,t){var i=t/2,r=Math.ceil(i),o=-1*Math.floor(i),s="";return o<0&&(s=e.substr(o)),e.substr(0,r)+n+s};if(e.length<=t)return e;var a=t-r,l=function(e){var t={},n=e,i=n.match(/^([a-z]+):\/\//i);return i&&(t.scheme=i[1],n=n.substr(i[0].length)),(i=n.match(/^(.*?)(?=(\?|#|\/|$))/i))&&(t.host=i[1],n=n.substr(i[0].length)),(i=n.match(/^\/(.*?)(?=(\?|#|$))/i))&&(t.path=i[1],n=n.substr(i[0].length)),(i=n.match(/^\?(.*?)(?=(#|$))/i))&&(t.query=i[1],n=n.substr(i[0].length)),(i=n.match(/^#(.*?)$/i))&&(t.fragment=i[1]),t}(e);if(l.query){var c=l.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);c&&(l.query=l.query.substr(0,c[1].length),e=o(l))}if(e.length<=t)return e;if(l.host&&(l.host=l.host.replace(/^www\./,""),e=o(l)),e.length<=t)return e;var d="";if(l.host&&(d+=l.host),d.length>=a)return l.host.length==t?(l.host.substr(0,t-r)+n).substr(0,a+i):s(d,a).substr(0,a+i);var u="";if(l.path&&(u+="/"+l.path),l.query&&(u+="?"+l.query),u){if((d+u).length>=a)return(d+u).length==t?(d+u).substr(0,t):(d+s(u,a-d.length)).substr(0,a+i);d+=u}if(l.fragment){var h="#"+l.fragment;if((d+h).length>=a)return(d+h).length==t?(d+h).substr(0,t):(d+s(h,a-d.length)).substr(0,a+i);d+=h}if(l.scheme&&l.host){var p=l.scheme+"://";if((d+p).length<a)return(p+d).substr(0,t)}if(d.length<=t)return d;var f="";return a>0&&(f=d.substr(-1*Math.floor(a/2))),(d.substr(0,Math.ceil(a/2))+n+f).substr(0,a+i)},u})?i.apply(t,r):i)||(e.exports=o)},function(e,t,n){"use strict";n.r(t);var i=n(1371);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(228),a=n(11),l=n(24),c=n(64);n(1372);const d={pointer:{down:"pointerdown",move:"pointermove",up:"pointerup"},touch:{down:"touchstart",move:"touchmove",up:"touchend"},mouse:{down:"mousedown",move:"mousemove",up:"mouseup"}};function u(e){const t="PointerEvent"in window?"pointer":"ontouchstart"in document?"touch":"mouse";return d[t][e]}class h extends i.Component{constructor(e){super(e),this.handleResizerMouseDown=this.handleResizerMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleResizingClick=this.handleResizingClick.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this),this.handleContentRef=this.handleContentRef.bind(this);const{initialWidth:t,minWidth:n,collapsed:i}=e;this.state={cursorType:"resize",width:Math.max(t,n),collapsed:i,resizing:!1}}collapse(){const{onCollapse:e}=this.props;e&&e(),this.setState({collapsed:!0})}expand(){const{onExpand:e}=this.props;e&&e(),this.setState({collapsed:!1})}updateCursorType(){const{collapsed:e,width:t,cursorType:n}=this.state,{minWidth:i,resizingSide:r}=this.props,{clientWidth:o}=this.nodeRefs.base;let s;s=e||t<i?"left"===r?"west":"east":Math.floor(t)>o?"right"===r?"west":"east":Math.floor(t)===o&&"resize"!==n?n:"resize",s!==n&&(document.body.dataset.resizeCursor=s,this.setState({cursorType:s}))}handleBaseRef(e){Object(l.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}handleContentRef(e){this.props.contentRef&&this.props.contentRef(e)}handleMouseMove(e){e.preventDefault(),requestAnimationFrame(()=>{const{base:t}=this.nodeRefs;if(!t)return;const{minWidth:n,resizingSide:i,onCollapse:r,onExpand:o}=this.props,{collapsed:s}=this.state,{left:a,right:l}=t.getBoundingClientRect(),c=e.clientX||e.changedTouches&&e.changedTouches[0].clientX;let d,u;if(c){if(d="right"===i?Math.max(0,c-a):Math.max(0,l-c),s){if(d<n/2)return;u=!1,d=Math.max(d,n)}else if(d<n){if(d>n/2)return;u=!0}this.setState({collapsed:u,width:d}),!s&&u&&r?r():s&&!u&&o&&o()}})}handleMouseUp(e){document.removeEventListener(u("move"),this.handleMouseMove),document.removeEventListener(u("up"),this.handleMouseUp),e.stopPropagation(),requestAnimationFrame(()=>{const{base:e}=this.nodeRefs;if(!e)return;const{onRelease:t}=this.props,{collapsed:n}=this.state,i=e.clientWidth;document.body.classList.remove("resizing"),delete document.body.dataset.resizeCursor,t&&t(i,{collapsed:n}),this.setState({width:i,resizing:!1})})}handleResizerMouseDown(){document.addEventListener(u("move"),this.handleMouseMove),document.addEventListener(u("up"),this.handleMouseUp),document.addEventListener("click",this.handleResizingClick,!0),document.body.classList.add("resizing"),document.body.dataset.resizeCursor=this.state.cursorType,this.setState({resizing:!0})}handleResizingClick(e){e.stopImmediatePropagation(),e.stopPropagation(),document.removeEventListener("click",this.handleResizingClick,!0)}componentDidMount(){this.nodeRefs.resizer.addEventListener(u("down"),this.handleResizerMouseDown)}componentDidUpdate(e,t){this.updateCursorType(),this.props.onResize&&this.state.resizing&&t.width!==this.state.width&&this.props.onResize(this.nodeRefs.base.clientWidth)}componentWillUnmount(){document.removeEventListener(u("move"),this.handleMouseMove),document.removeEventListener(u("up"),this.handleMouseUp),this.nodeRefs.resizer.removeEventListener(u("down"),this.handleResizerMouseDown)}render(){const{collapsed:e,resizing:t,width:n,cursorType:r}=this.state,{children:o,class:c,resizingSide:d="left",compact:u,minWidth:h,paddingBottom:p,noScroll:f,onClick:g}=this.props,m={},b=Object(a.default)("sidebar",c,d,{resizing:t,collapsed:e,compact:u});return e||Object.assign(m,{minWidth:h?h+"px":"",width:n?n+"px":"",paddingBottom:p?p+"px":""}),i.h("div",{class:b,style:m,onClick:g,ref:this.handleBaseRef},i.h("div",{class:Object(a.default)("content",{noScroll:f}),ref:this.handleContentRef},i.toChildArray(o)),i.h("div",{class:Object(a.default)("resizer","cursor"+r),ref:Object(l.default)(this,"resizer")},i.h(s.IconMoveHandle,{color:"var(--gandalf)"})))}}h.Loading=()=>i.h("div",{class:"sidebar loading"}),h.propTypes={children:o.a.node,class:o.a.string,compact:o.a.bool,collapsed:o.a.bool,initialWidth:o.a.number,minWidth:o.a.number,resizingSide:o.a.oneOf(["left","right"]),noScroll:o.a.bool,onRelease:o.a.func,onResize:o.a.func,onCollapse:o.a.func,onExpand:o.a.func},h.defaultProps={collapsed:Object(c.isMobileViewport)(),initialWidth:0,minWidth:0,resizingSide:"left"},t.default=h},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1374);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(24),o=n(11);n(1375);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends i.Component{constructor(...e){super(...e),s(this,"state",{value:this.props.value,editing:!1,originalValue:this.props.value}),s(this,"handleKeyDown",e=>{e.keyCode===Zeplin.KEY_CODE.ESC?(this.setState(e=>({value:e.originalValue})),e.target.blur(),e.preventDefault()):e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.target.blur(),e.preventDefault())}),s(this,"handleMouseDown",()=>{this.setState({editing:!0})}),s(this,"handleInput",e=>{this.setState({editing:!0,value:e.target.value})}),s(this,"handleBlur",()=>{const{onBlur:e}=this.props,{value:t,originalValue:n}=this.state,i=t.trim();this.setState({value:i||n,editing:!1}),i&&e(i)})}ellipsizeMirrorIfNecessary(){if(CSS.supports("-webkit-line-clamp",2))return;const e=this.nodeRefs.mirror;if(e.scrollHeight<=e.clientHeight)return;let{value:t}=this.state;for(;e.scrollHeight>e.clientHeight&&t.length>0;)t=t.substring(0,t.length-1),e.textContent=t+"…"}componentDidMount(){this.ellipsizeMirrorIfNecessary(),this.nodeRefs.textarea.scrollTop=0}componentWillReceiveProps(e){const{editing:t}=this.state;if(t)return;const{value:n}=e;this.setState({value:n,originalValue:n})}componentDidUpdate(){this.ellipsizeMirrorIfNecessary();const{editing:e}=this.state;e?this.nodeRefs.textarea.focus():(this.nodeRefs.textarea.scrollTop=0,this.nodeRefs.textarea.setSelectionRange(0,0))}render(){const{readonly:e}=this.props,{value:t,editing:n}=this.state;return i.h("div",{class:Object(o.default)("barrelNameTextArea",{editing:n,readonly:e})},i.h("div",{class:"mirror",ref:Object(r.default)(this,"mirror"),title:t},t),i.h("textarea",{onBlur:this.handleBlur,value:t,minlength:"1",maxlength:"100",onInput:this.handleInput,onKeyDown:this.handleKeyDown,onMouseDown:e?null:this.handleMouseDown,ref:Object(r.default)(this,"textarea"),readonly:e}),n&&i.h("div",{class:"underline"}),!n&&!e&&i.h("div",{class:"dashedLine"}))}}t.default=a},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1377);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1033),o=n(137),s=n(56),a=n(340),l=n(630),c=n(1041),d=n(1378),u=n(1092),h=n(9),p=n(228),f=n(342),g=n(1088);n(1384);class m extends a.default{constructor(e){super(e),this.handleReconnectSlackIntegration=this.handleReconnectSlackIntegration.bind(this),this.handleAddToJiraClick=this.handleAddToJiraClick.bind(this)}handleAddToJiraClick(){Object(s.openLink)("https://zpl.io/jira")}handleReconnectSlackIntegration(){const{barrelId:e,barrelType:t,slackChannels:[n]}=this.props;f.BarrelActions.hideSlackReconnectionAuntie(),o[t].deleteIntegration(e,"slacks",n).then(this.addToSlack)}renderSlackReconnectionAuntie(){const{slackChannels:e}=this.props,t=e.filter(e=>!e.scope.includes("emoji"));return 0===t.length?null:t.length>1?i.h(c.default,{content:"You can now use your custom Slack emojis in Zeplin! Remove an existing integration and re-add it to get started.",hideCallback:f.BarrelActions.hideSlackReconnectionAuntie}):i.h(c.default,{content:"You can now use your custom Slack emojis in Zeplin! Reconnect Slack to get started.",actionButton:{text:"Reconnect",callback:this.handleReconnectSlackIntegration},hideCallback:f.BarrelActions.hideSlackReconnectionAuntie})}renderAddToSlackButton(){const{barrelUser:e,onAddToSlack:t,canUpdateProject:n}=this.props;return n?i.h(h.default,{class:"addToButton",onClick:t,secondary:!0},i.h(p.IconSlack,{class:"logo"}),i.h("span",null,"Add to Slack")):i.h(l.default,{content:Object(r.default)(e.role,"add projects to Slack")},i.h(h.default,{class:"addToButton",disabled:!0,secondary:!0},i.h(p.IconSlack,{class:"logo",disabled:!0}),i.h("span",null,"Add to Slack")))}renderAddToJiraButton(){const{barrelUser:e,canUpdateProject:t}=this.props;return t?i.h(h.default,{class:"addToButton",onClick:this.handleAddToJiraClick,secondary:!0},i.h(u.default,{class:"logo"}),i.h("span",null,"Connect to Jira")):i.h(l.default,{content:Object(r.default)(e.role,"connect projects to Jira")},i.h(h.default,{class:"addToButton",disabled:!0,secondary:!0},i.h(u.default,{class:"logo",disabled:!0}),i.h("span",null,"Connect to Jira")))}render(){const{barrelId:e,barrelUser:t,slackChannels:n,jiraIntegration:r,showSlackReconnectionAuntie:o,showConfigurationButtons:s,onRemoveIntegration:a,onAddToSlack:l,onOpenPreferences:c,canUpdateProject:u}=this.props;return i.h("div",{class:"integrationsContainer"},i.h("div",{class:"existingIntegrations"},n&&n.length&&i.h("div",{class:"slackChannels"},n.map(e=>i.h(d.default,{key:e._id,channel:e,barrelUser:t,showConfigurationButton:s,onAddAnother:l,onOpenPreferences:c,onRemove:a,canUpdateProject:u})),o&&this.renderSlackReconnectionAuntie()),i.h("div",{class:"jiraIntegration"},i.h(g.default,{items:[{itemType:"project",itemId:e,label:"Attached to "}]}))),i.h("div",{className:"newIntegrations"},!n&&i.h("div",{class:"addToButtonContainer"},this.renderAddToSlackButton()),!r&&i.h("div",{className:"addToButtonContainer"},this.renderAddToJiraButton())))}}t.default=m},function(e,t,n){"use strict";n.r(t);var i=n(1379);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1033),o=n(56),s=n(340),a=n(1380),l=n(1057),c=n(11),d=n(630),u=n(228),h=n(1089);n(1383);class p extends s.default{constructor(e){super(e),this.state={menuOpen:!1},this.handleMenuOpen=this.handleMenuOpen.bind(this),this.handleMenuClose=this.handleMenuClose.bind(this),this.handleAddAnotherClick=this.handleAddAnotherClick.bind(this),this.handleViewInSlackClick=this.handleViewInSlackClick.bind(this),this.handlePreferencesClick=this.handlePreferencesClick.bind(this),this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleMenuOpen(){this.setState({menuOpen:!0})}handleMenuClose(){this.setState({menuOpen:!1})}handleAddAnotherClick(){const{onAddAnother:e}=this.props;e()}handleViewInSlackClick(){const{channel:{incomingWebHook:{configurationURL:e}}}=this.props;Object(o.openLink)(e)}handlePreferencesClick(){const{onOpenPreferences:e,channel:t}=this.props;e(t._id,t.incomingWebHook.channel)}handleRemoveClick(){const{onRemove:e,channel:{_id:t}}=this.props;e("slacks",t)}handleKeyDown(e){const{menuOpen:t}=this.state;e.keyCode===Zeplin.KEY_CODE.ESC&&t&&this.handleMenuClose()}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){const{showConfigurationButton:t}=e;!t&&this.setState({menuOpen:!1})}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderMenu(){return i.h(l.default,{class:"slackChannelContextMenu",onClose:this.handleMenuClose},i.h(l.default.Item,{key:"addAnother",onClick:this.handleAddAnotherClick},"Add another…"),i.h(l.default.Item,{key:"view",onClick:this.handleViewInSlackClick},"View In Slack"),i.h(l.default.Item,{key:"preferences",onClick:this.handlePreferencesClick},"Preferences…"),i.h(l.default.Item,{key:"remove",onClick:this.handleRemoveClick,warning:!0},"Remove"))}renderSlackChannelConfigurationButton(){const{barrelUser:e,canUpdateProject:t}=this.props;if(t){const{menuOpen:e}=this.state;return i.h(a.default,{class:Object(c.default)({active:e}),onClick:this.handleMenuOpen},e&&this.renderMenu())}return i.h(d.default,{content:Object(r.default)(e.role,"update Slack integration.")},i.h(a.default,{disabled:!0}))}render(){const{canUpdateProject:e,showConfigurationButton:t,channel:{incomingWebHook:{channel:n}}}=this.props;return i.h("div",{class:"slackChannelContainer"},i.h(h.default,{class:"slackChannel",logo:i.h(u.IconSlack,null),disabled:!e,description:"Connected to ",text:n}),t&&this.renderSlackChannelConfigurationButton())}}t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(1381);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(228),o=n(11);n(1382);t.default=function(e){const{class:t,disabled:n,onClick:s,baseRef:a,children:l}=e;return i.h("button",{type:"button",class:Object(o.default)("sidebarSettingsButton",t),disabled:n,onClick:s,ref:a},i.h(r.IconSettings,{color:n?"#C1BEC1":"#554D56"}),l)}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1386);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11);n(1387);t.default=function(e){const{class:t}=e;return i.h("div",{class:Object(r.default)("barrelSidebarSeparator",t)},i.h("div",null))}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1389);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1380),o=n(11);n(1390);t.default=function(e){const{class:t,title:n,buttonRef:s,withSettingsButton:a,settingsButtonDisabled:l,onSettingsButtonClick:c}=e;return i.h("div",{class:Object(o.default)("barrelSidebarSubtitle",t)},i.h("div",{class:"title noSelect"},n),a&&i.h(r.default,{baseRef:s,onClick:c,disabled:l}))}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1392);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(340),a=n(11),l=n(24),c=n(62),d=n(64),u=n(1100),h=n(606);n(1393);const p=/:(\S+?):/g;class f extends s.default{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.handleClick=this.handleClick.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleInput=this.handleInput.bind(this),this.handleButtonClick=this.handleButtonClick.bind(this),this.handleKeyDownWhenListOpen=this.handleKeyDownWhenListOpen.bind(this),this.handleKeyDownListActions=Object(c.debounce)(this.handleKeyDownListActions).bind(this),this.handleSelectEmoji=this.handleSelectEmoji.bind(this),this.handleListItemMouseOver=this.handleListItemMouseOver.bind(this),this.handleListItemClick=this.handleListItemClick.bind(this),this.handleTextAreaClick=this.handleTextAreaClick.bind(this),this.changeSuggestedEmojis=this.changeSuggestedEmojis.bind(this);const{value:t=""}=e;this.state={selectedEmojiIndex:0,suggestedEmojis:[],emojiListTop:0,autoCompletedEmoji:!1,value:t,editing:e.editing,originalValue:t}}cancelEdit(){const{originalValue:e}=this.state,{onCancelEdit:t}=this.props;t&&t(),this.setState({editing:!1,value:e},()=>{this.nodeRefs.textArea.blur()})}changeSuggestedEmojis(){const{value:e,suggestedEmojis:t,selectedEmojiIndex:n}=this.state,{textArea:i}=this.nodeRefs,r=function(e,t){const n=e.substring(0,t),i=n.lastIndexOf(":"),r=e.substring(i,t).match(/^:(.+)/);if(r){const e=r[0].substring(1),t=n.substring(0,i).lastIndexOf(":"),o=n.substring(t,i+1).match(p);return o&&h.default.searchEmoji(o[0].substring(1,o[0].length-1))?[]:h.default.getSuggestedEmojis(e)}return[]}(e,i.selectionStart);if(r!==t){const e=Math.max(0,Math.min(n,r.length-1)),t=i.getBoundingClientRect().top+i.offsetHeight-60;this.setState({suggestedEmojis:r,selectedEmojiIndex:e,emojiListTop:t})}}get maxLength(){const{maxLength:e}=this.props,{value:t}=this.state;return void 0===e?-1:-1!==e&&Object(d.getBrowser)()===d.BROWSER.SAFARI?e+(t.match(/\n/g)||[]).length:e}submit(){const{submitOnBlur:e,onSubmit:t}=this.props,{value:n,originalValue:i}=this.state;!e&&t&&(n===i?this.cancelEdit():(this.setState({editing:!1,originalValue:n}),t(n))),this.nodeRefs.textArea.blur()}handleBlur(){const{submitOnBlur:e,onSubmit:t}=this.props,{originalValue:n,value:i}=this.state;e&&t&&(i===n?this.cancelEdit():(this.setState({editing:!1,originalValue:i}),t(i)))}handleButtonClick(){const{readOnly:e}=this.props;e||this.submit()}handleClick(e){const{readOnly:t}=this.props,{editing:n}=this.state;t||n||e.target.closest("a")||this.setState(e=>({editing:!0,originalValue:e.value}))}handleInput(e){const{readOnly:t}=this.props;t||this.setState({value:e.target.value,autoCompletedEmoji:!1})}handleKeyDown(e){const{readOnly:t}=this.props;if(t)return;this.props.showEmojiAutoComplete&&this.state.editing&&0!==this.state.suggestedEmojis.length?this.handleKeyDownWhenListOpen(e):(e.keyCode===Zeplin.KEY_CODE.ESC&&this.cancelEdit(),e.keyCode===Zeplin.KEY_CODE.ENTER&&Object(d.cmdKey)(e)&&this.submit())}handleKeyDownListActions(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:this.setState({suggestedEmojis:[]});break;case Zeplin.KEY_CODE.ENTER:this.handleSelectEmoji();break;case Zeplin.KEY_CODE.ArrowDown:this.setState(e=>e.selectedEmojiIndex>=e.suggestedEmojis.length-1?{selectedEmojiIndex:e.suggestedEmojis.length-1}:{selectedEmojiIndex:e.selectedEmojiIndex+1});break;case Zeplin.KEY_CODE.ArrowUp:this.setState(e=>e.selectedEmojiIndex<=0?{selectedEmojiIndex:0}:{selectedEmojiIndex:e.selectedEmojiIndex-1})}}handleKeyDownWhenListOpen(e){(e.keyCode===Zeplin.KEY_CODE.ENTER||e.keyCode===Zeplin.KEY_CODE.ArrowDown||e.keyCode===Zeplin.KEY_CODE.ArrowUp)&&e.preventDefault(),this.handleKeyDownListActions(e)}handleKeyUp(e){this.props.showEmojiAutoComplete&&(e.keyCode!==Zeplin.KEY_CODE.ArrowLeft&&e.keyCode!==Zeplin.KEY_CODE.ArrowRight&&e.keyCode!==Zeplin.KEY_CODE.ArrowUp&&e.keyCode!==Zeplin.KEY_CODE.ArrowDown||this.setState({autoCompletedEmoji:!1},this.changeSuggestedEmojis))}handleListItemClick(e,t){this.setState({selectedEmojiIndex:e},this.handleSelectEmoji)}handleListItemMouseOver(e,t){this.setState({selectedEmojiIndex:e})}handleSelectEmoji(){const{suggestedEmojis:e,selectedEmojiIndex:t,value:n}=this.state,i=e[t],r=this.nodeRefs.textArea.selectionStart,o=n.substring(0,r).lastIndexOf(":"),s=i.formattedAlias,a=n.substring(0,o)+":"+s+": "+n.substring(r),l=o+s.length+3;this.setState({value:a,autoCompletedEmoji:!0,suggestedEmojis:[]},()=>{this.nodeRefs.textArea.focus(),this.nodeRefs.textArea.setSelectionRange(l,l)})}handleTextAreaClick(){this.state.editing&&this.changeSuggestedEmojis()}componentWillReceiveProps(e){const{value:t="",editing:n}=e,i={};void 0!==n&&Object.assign(i,{editing:n}),this.state.originalValue!==t&&Object.assign(i,{value:t,originalValue:t}),0!==Object.keys(i).length&&this.setState(i)}componentDidUpdate(e,t){const{editing:n,value:i,autoCompletedEmoji:r}=this.state,{showEmojiAutoComplete:o}=this.props;n&&t.editing!==n&&this.nodeRefs.textArea.focus(),o&&!r&&i!==t.value&&this.changeSuggestedEmojis()}render(){const{autoEdit:e,class:t,color:n,formatter:r,placeholder:o="",showEmojiAutoComplete:s}=this.props,{editing:c,value:h,emojiListTop:p,suggestedEmojis:f,selectedEmojiIndex:g}=this.state,m=r?r(h):h,b=this.maxLength,y=Object(d.getOS)()===d.OS.MAC?"⌘⏎":"Ctrl+⏎",S=Object(a.default)("shortcut",{[Object(d.getOS)()]:!0});return i.h("div",{ref:Object(l.default)(this,"base"),class:"textAreaContainer"},i.h("div",{class:Object(a.default)("textArea",t,{editing:c},n)},i.h("div",{class:Object(a.default)("formattedContent",{placeholder:o&&!h}),onClick:e?this.handleClick:null,dangerouslySetInnerHTML:{__html:m||o}}),i.h("div",{class:"editor"},i.h("div",{class:"mirror"},h," "),i.h("textarea",{ref:Object(l.default)(this,"textArea"),value:h,spellcheck:"false",placeholder:o,maxLength:this.maxLength,onClick:this.handleTextAreaClick,onInput:this.handleInput,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onBlur:this.handleBlur})),i.h("div",{class:"controls",tabIndex:"-1"},i.h("div",{class:"counter"},b>-1&&b-h.length),i.h("button",{type:"button",class:"submit",ref:Object(l.default)(this,"submitButton"),onClick:this.handleButtonClick},i.h("span",{class:"label"},"Done"),i.h("span",{class:S},y)))),s&&c&&0!==f.length&&i.h("div",{class:"emojiAutoCompleteListContainer",tabIndex:"-1",style:{top:p+"px"}},i.h(u.default,{onItemClick:this.handleListItemClick,onItemMouseOver:this.handleListItemMouseOver,suggestedEmojis:f,selectedIndex:g})))}}f.propTypes={autoEdit:o.a.bool,value:o.a.string,class:o.a.string,color:o.a.oneOf(["yellow","orange","peach","green","turquoise","lightOrange"]),editing:o.a.bool,maxLength:o.a.number,placeholder:o.a.string,readOnly:o.a.bool,submitOnBlur:o.a.bool,onSubmit:o.a.func,onCancelEdit:o.a.func,formatter:o.a.func,showEmojiAutoComplete:o.a.bool},f.defaultProps={autoEdit:!1,value:"",color:"lightOrange",placeholder:"",readOnly:!1,submitOnBlur:!1,onSubmit:null,onCancelEdit:null,showEmojiAutoComplete:!1},t.default=f},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1395);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(513),o=n(56),s=n(24);n(1396);function a(e,t){return"invited"!==e.user.status?e.user.username+("user"!==t?" ("+e.user.email+")":""):"Pending… ("+e.user.email+")"}class l extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{member:e,onClick:t}=this.props;t(e.user._id)}render(){const{member:e,title:t}=this.props,{src:n,srcset:s}=Object(o.getUserAvatar)(e.user,{ignoreRandomEmotar:!1,size:30});return i.h("div",{class:"memberAvatar",onClick:this.handleClick},i.h(r.default,{title:t,width:30,height:30,src:n,srcset:s}))}}class c extends i.Component{constructor(e){super(e),this.state={nrOfAvatarsDisplayed:0}}calculateNrOfAvatarsDisplayed(){const{members:e}=this.props,{nrOfAvatarsDisplayed:t}=this.state,n=this.nodeRefs.base.getBoundingClientRect().width,i=2*Math.floor((n-24)/38);if(0===i)return;let r;r=e.length>i?i-1:e.length,r!==t&&this.setState({nrOfAvatarsDisplayed:r})}componentDidMount(){this.calculateNrOfAvatarsDisplayed()}componentDidUpdate(){this.calculateNrOfAvatarsDisplayed()}renderRemainingMembers(e){const{nrOfAvatarsDisplayed:t}=this.state,{members:n,onMemberClick:r}=this.props;if(0===t)return null;const o=n.length-t;if(o){const s=n.slice(t).map(t=>a(t,e)).join("\n");return i.h("button",{type:"button",class:"remaining",onClick:r,title:s},"+",o)}}render(){const{nrOfAvatarsDisplayed:e}=this.state,{members:t,barrelUser:n,onMemberClick:r}=this.props,o=t.find(e=>e.user._id===n.user._id).role;return i.h("div",{class:"membersPreview",ref:Object(s.default)(this,"base")},t.slice(0,e).map(e=>i.h(l,{key:e.user._id,onClick:r,member:e,title:a(e,o)})),this.renderRemainingMembers(o))}}t.default=c},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1398);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(730),o=n(62),s=n(44),a=n(24),l=n(9),c=n(1388),d=n(1399),u=n(1402),h=n(289);n(1404);function p(e){const t=Object(o.getUserRoleString)(e);return"king"===e||"owner"===e?t:t+"s"}const f={removeMemberConfirmationDialog:null,transferOwnershipConfirmationDialog:null,leaveConfirmationDialog:null};class g extends i.Component{constructor(e){super(e),this.state=Object.assign({memberOptionsMenuOpenFor:null,memberOptionsMenuClickOrigin:null},f),this.close=this.close.bind(this),this.closeDialogs=this.closeDialogs.bind(this),this.toggleInvitePopup=this.toggleInvitePopup.bind(this),this.setInvitePopupPosition=Object(o.debounce)(this.setInvitePopupPosition).bind(this),this.setInvitePopupAnchorPosition=this.setInvitePopupAnchorPosition.bind(this),this.handleUpgrade=this.handleUpgrade.bind(this),this.handleMembersDialogClick=this.handleMembersDialogClick.bind(this),this.handleBackdropClick=this.handleBackdropClick.bind(this),this.handleOpenMemberOptions=this.handleOpenMemberOptions.bind(this),this.handleCloseMemberOptions=this.handleCloseMemberOptions.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.openRemoveMemberConfirmationDialog=this.openRemoveMemberConfirmationDialog.bind(this),this.handleAddMembers=this.handleAddMembers.bind(this),this.handleRemoveMember=this.handleRemoveMember.bind(this),this.openTransferOwnershipConfirmationDialog=this.openTransferOwnershipConfirmationDialog.bind(this),this.handleTransferOwnership=this.handleTransferOwnership.bind(this),this.openLeaveConfirmationDialog=this.openLeaveConfirmationDialog.bind(this),this.handleLeave=this.handleLeave.bind(this)}close(){const{onClose:e}=this.props;e()}closeDialogs(){this.setState(f)}openRemoveMemberConfirmationDialog(e){this.setState(Object.assign({},f,{removeMemberConfirmationDialog:{member:e}}))}openTransferOwnershipConfirmationDialog(e){this.setState(Object.assign({},f,{transferOwnershipConfirmationDialog:{member:e}}))}openLeaveConfirmationDialog(e){this.setState(Object.assign({},f,{leaveConfirmationDialog:{member:e}}))}setInvitePopupAnchorPosition(){const{membersDialog:e}=this.nodeRefs;if(!e)return;const t=r.element.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.bottom<n.top+39,o=t.top>=n.top,s=i||o;if(!r.anchor.classList.toggle("hidden",s)){const e=n.top-t.top;r.anchor.style.top=e+25+-10+"px"}}setInvitePopupPosition(){const{membersDialog:e}=this.nodeRefs;if(!e)return;r.element.style.transform="";const t=r.element.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.bottom+12-window.innerHeight;let o;if(i>0?o=Math.max(t.top-i,60):t.top<60&&(o=60),o){const e=o-n.top- -52;r.element.style.transform=`translate3d(0, ${e}px, 0)`}const s=n.right+t.width+24>window.innerWidth;r.element.classList.toggle("left",s),this.setInvitePopupAnchorPosition()}openInvitePopup(){const{barrelType:e,barrelId:t,members:n,barrelUser:i,organizationId:o}=this.props,{membersDialog:s}=this.nodeRefs;r.show({bt:e,popupContainer:s,bid:t,members:n,oid:"pawn"===i.role?"user":o}),this.setInvitePopupPosition(),s.addEventListener("listRefreshed",this.setInvitePopupAnchorPosition),s.addEventListener("usersInvited",this.handleAddMembers),window.addEventListener("resize",this.setInvitePopupPosition),mixpanel.webapp.track("Showed invite user pop up",{type:"project"})}closeInvitePopup(){const{membersDialog:e}=this.nodeRefs;e.removeEventListener("listRefreshed",this.setInvitePopupAnchorPosition),e.removeEventListener("usersInvited",this.handleAddMembers),window.removeEventListener("resize",this.setInvitePopupPosition),r.dismiss()}toggleInvitePopup(e){e.stopPropagation(),r.isHidden()?this.openInvitePopup():this.closeInvitePopup()}handleOpenMemberOptions(e,t){this.setState({memberOptionsMenuOpenFor:e,memberOptionsMenuClickOrigin:t})}handleCloseMemberOptions(){this.setState({memberOptionsMenuOpenFor:null,memberOptionsMenuClickOrigin:null})}handleUpgrade(){this.props.onUpgrade(),this.close()}handleDocumentKeyDown(e){const{memberOptionsMenuOpenFor:t,removeMemberConfirmationDialog:n,transferOwnershipConfirmationDialog:i,leaveConfirmationDialog:r}=this.state;e.keyCode===Zeplin.KEY_CODE.ESC&&(e.stopPropagation(),t?this.handleCloseMemberOptions():n||i||r?this.setState(f):this.close())}handleBackdropClick(e){if(e.stopPropagation(),!r.isHidden())return void this.closeInvitePopup();const{onClose:t}=this.props;t()}handleMembersDialogClick(e){e.stopPropagation(),r.isHidden()||this.closeInvitePopup()}handleAddMembers(e){const{onAddMembers:t}=this.props;t(e)}handleRemoveMember(){const{removeMemberConfirmationDialog:{member:e}}=this.state,{onRemoveMember:t}=this.props;this.closeDialogs(),t(e)}handleTransferOwnership(){const{transferOwnershipConfirmationDialog:{member:e}}=this.state,{onTransferOwnership:t}=this.props;this.closeDialogs(),t(e)}handleLeave(){const{leaveConfirmationDialog:{member:e}}=this.state,{onLeave:t}=this.props;this.closeDialogs(),t(e)}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown)}renderHeader(){return i.h("div",{class:"membersDialogHeader"},i.h("div",{class:"title"},"Members"),i.h(l.default,{class:"inviteButton",onClick:this.toggleInvitePopup,primary:!0},"Invite"))}renderExtraInfo(){const{barrelUser:e,members:t,isOrganizationProject:n,organizationId:r}=this.props;if(n&&"pawn"!==e.role)return i.h("div",{class:"information visitOrganizationDashboard"},"To setup roles of members, ",i.h("a",{href:Object(s.urlResolve)("organization-dashboard",{url:{oid:r}})},"visit the organization dashboard"),".");const o=t.find(e=>"owner"===e.role);return o&&"free"===o.user.paymentPlan?o.user._id===e.user._id?i.h("div",{class:"upgradeNow"},i.h("div",{class:"information text"},"On the Free plan, only the project owner can upload designs. Upgrade now to access more projects and allow members to upload designs!"),i.h(l.default,{class:"updgradeNowButton",secondary:!0,onClick:this.handleUpgrade},"Upgrade")):i.h("div",{class:"information ownerIsOnFreePlan"},"On the Free plan, only the project owner can upload designs. Contact ",o.user.username," to upgrade their plan and allow members to upload designs!"):void 0}renderMembers(){const{barrelUser:e,members:t,highlight:n}=this.props,{memberOptionsMenuOpenFor:r}=this.state,s=t.reduce((t,s)=>{const a=i.h(d.default,{key:s.user._id,member:s,showOptionsButton:"owner"!==s.role&&o.permissions.isSuperior(e,s,!0),memberOptionsOpen:!!r&&r.user._id===s.user._id,onOpenMemberOptions:this.handleOpenMemberOptions,highlight:n&&n===s.user._id});return t.has(s.role)?t.get(s.role).push(a):t.set(s.role,[a]),t},new Map),a=[];for(let[o,l]of s)a.push(i.h("div",{key:o+"Rows",class:"roleGroup"},i.h(c.default,{class:"roleTitle",key:o,title:p(o)}),l));return i.h("div",{class:"members"},a)}renderFooter(){return i.h("div",{class:"membersDialogFooter"},i.h("button",{type:"button",onClick:this.close},"DONE"))}renderMemberOptionsMenu(){const{barrelUser:e,barrelType:t,isOrganizationProject:n,onAssignAdmin:r,onUnassignAdmin:s}=this.props,{memberOptionsMenuOpenFor:a,memberOptionsMenuClickOrigin:l}=this.state,{membersDialog:c}=this.nodeRefs;return i.h("div",{class:"memberOptionsContainer",key:"memberOptions"},i.h(u.default,{class:"memberOptions",barrelType:t,clickOrigin:l,menuContainer:c,member:a,canAssignAdmin:!n&&"user"!==e.role&&"user"===a.role,canUnassignAdmin:!n&&"user"!==e.role&&"admin"===a.role,canTransferOwnership:!n&&o.permissions.canTransferOwnership(e),canRemoveFromProject:a.user._id!==e.user._id&&o.permissions.isSuperior(e,a,!0),canLeaveProject:a.user._id===e.user._id,onAssignAdmin:r,onUnassignAdmin:s,onTransferOwnership:this.openTransferOwnershipConfirmationDialog,onRemoveMember:this.openRemoveMemberConfirmationDialog,onLeave:this.openLeaveConfirmationDialog,onClose:this.handleCloseMemberOptions}))}renderRemoveMemberConfirmation(){const{removeMemberConfirmationDialog:{member:e}}=this.state;return i.h(h.BasicDialog,{key:"removeMemberConfirmationDialog",message:`Remove "${e.user.username||e.user.email}" ?`,onNegativeButtonClick:this.closeDialogs,hideNegativeButton:!1,positiveButtonText:"REMOVE",onPositiveButtonClick:this.handleRemoveMember,onClose:this.closeDialogs})}renderTransferOwnershipConfirmationDialog(){const{transferOwnershipConfirmationDialog:{member:e}}=this.state,{barrelName:t}=this.props;return i.h(h.BasicDialog,{key:"transferOwnershipConfirmationDialog",message:`Transfer ownership of "${t}" to "${e.user.username||e.user.email}" ?`,onNegativeButtonClick:this.closeDialogs,hideNegativeButton:!1,positiveButtonText:"TRANSFER",onPositiveButtonClick:this.handleTransferOwnership,onClose:this.closeDialogs})}renderLeaveConfirmationDialog(){const{barrelName:e}=this.props;return i.h(h.BasicDialog,{key:"leaveConfirmationDialog",message:`Leave "${e}"?`,onNegativeButtonClick:this.closeDialogs,hideNegativeButton:!1,positiveButtonText:"LEAVE",onPositiveButtonClick:this.handleLeave,onClose:this.closeDialogs})}renderDialog(){const{memberOptionsMenuOpenFor:e,removeMemberConfirmationDialog:t,transferOwnershipConfirmationDialog:n,leaveConfirmationDialog:r}=this.state;return i.h("div",{class:"membersDialog",ref:Object(a.default)(this,"membersDialog"),onClick:this.handleMembersDialogClick},this.renderHeader(),this.renderExtraInfo(),this.renderMembers(),this.renderFooter(),e&&this.renderMemberOptionsMenu(),t&&this.renderRemoveMemberConfirmation(),n&&this.renderTransferOwnershipConfirmationDialog(),r&&this.renderLeaveConfirmationDialog())}render(){return i.h("div",{class:"membersDialogBackdrop",onClick:this.handleBackdropClick},this.renderDialog())}}t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(1400);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(56),o=n(513),s=n(228),a=n(11),l=n(24);n(1401);class c extends i.Component{constructor(e){super(e),this.handleOpenMemberOptions=this.handleOpenMemberOptions.bind(this)}scrollAndHighlightIfNecessary(){this.props.highlight&&(Object(r.scrollIfNecessary)(this.nodeRefs.memberRow),setTimeout(()=>{const{backgroundColor:e}=getComputedStyle(this.nodeRefs.memberRow),t={backgroundColor:e};this.nodeRefs.memberRow.animate([t,{backgroundColor:"var(--cornflower-blue-30pc)"},t],{duration:1200,easing:"ease-in-out"})},10))}handleOpenMemberOptions(e){const{member:t,onOpenMemberOptions:n}=this.props;n(t,{x:e.clientX,y:e.clientY})}componentDidMount(){this.scrollAndHighlightIfNecessary()}render(){const{member:{user:e},memberOptionsOpen:t,showOptionsButton:n}=this.props,{src:c,srcset:d}=Object(r.getUserAvatar)(e,{ignoreRandomEmotar:!1,size:30}),{username:u,fullName:h}=e,p=h?`${h} (${u})`:u;return i.h("div",{class:"memberRow",ref:Object(l.default)(this,"memberRow")},i.h(o.default,{class:"memberRowAvatar",src:c,srcset:d,width:30,height:30}),"invited"===e.status?i.h("div",{class:"info"},i.h("div",{class:"ellipsis",title:e.email},e.email),i.h("div",null,"pending invitation")):i.h("div",{class:"info"},i.h("div",{class:"ellipsis",title:p},p),i.h("div",{class:"ellipsis",title:e.email},e.email)),n&&i.h("button",{class:Object(a.default)("memberOptionsButton",{memberOptionsOpen:t}),onClick:this.handleOpenMemberOptions},i.h(s.IconMenu,null)))}}t.default=c},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1403);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1057);class o extends i.Component{constructor(e){super(e),this.handleLeave=this.handleLeave.bind(this),this.handleRemove=this.handleRemove.bind(this),this.handleAssignAdmin=this.handleAssignAdmin.bind(this),this.handleUnassignAdmin=this.handleUnassignAdmin.bind(this),this.handleTransferOwnership=this.handleTransferOwnership.bind(this)}handleLeave(){const{member:e,onLeave:t}=this.props;t(e)}handleRemove(){const{member:e,onRemoveMember:t}=this.props;t(e)}handleAssignAdmin(){const{member:e,onAssignAdmin:t}=this.props;t(e)}handleUnassignAdmin(){const{member:e,onUnassignAdmin:t}=this.props;t(e)}handleTransferOwnership(){const{member:e,onTransferOwnership:t}=this.props;t(e)}render(){const{barrelType:e,menuContainer:t,clickOrigin:n,canAssignAdmin:o,canUnassignAdmin:s,canTransferOwnership:a,canRemoveFromProject:l,canLeaveProject:c,onClose:d,class:u}=this.props;return i.h(r.default.withAutoPosition,{class:u,onClose:d,autoPosition:{menuContainer:t,clickOrigin:n}},o&&i.h(r.default.Item,{onClick:this.handleAssignAdmin},"Assign Admin"),s&&i.h(r.default.Item,{onClick:this.handleUnassignAdmin},"Unassign Admin"),a&&i.h(r.default.Item,{onClick:this.handleTransferOwnership},"Transfer ownership"),l&&i.h(r.default.Item,{onClick:this.handleRemove,warning:!0},"Remove from ",e),c&&i.h(r.default.Item,{onClick:this.handleLeave,warning:!0},"Leave ",e))}}t.default=o},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1406);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11),o=n(24),s=n(56),a=n(96),l=n(9),c=n(1385),d=n(1407);n(1410);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=Object.freeze({WEB:"Web",APP:"App"});function p(e){const{type:t,link:n,onCopy:r}=e;let o;if(n)if(t===h.WEB){const e=new URL(n);o=e.host+e.pathname}else o=n;else o="Fetching…";return i.h("div",{class:"shareBarrelLink"},i.h("div",{class:"type"},t,":"),i.h("div",{class:"link ellipsis",title:n},o),t===h.APP&&i.h("a",{href:n,class:"button secondary openButton"},"Open"),i.h(l.default,{class:"copyButton",onClick:r,primary:!0,disabled:!n},"Copy"))}function f(e){const{title:t,explanation:n}=e;return i.h("div",{class:"shareBarrelSubtitle"},i.h("div",{class:"title"},t),i.h("div",{class:"explanation"},n))}class g extends i.Component{constructor(...e){super(...e),u(this,"state",{sceneOptionsOpen:!1}),u(this,"openSceneOptions",()=>{this.setState({sceneOptionsOpen:!0})}),u(this,"closeSceneOptions",()=>{this.setState({sceneOptionsOpen:!1})}),u(this,"handleCopyWebURL",()=>{const{webURL:e}=this.props,{content:t}=this.nodeRefs;Object(s.copyContent)({content:e,toastContainer:t})}),u(this,"handleCopyAppURI",()=>{const{appURI:e}=this.props,{content:t}=this.nodeRefs;Object(s.copyContent)({content:e,toastContainer:t})}),u(this,"handleCopySceneURL",e=>{e.stopPropagation();const{sceneURL:t}=this.props,{content:n}=this.nodeRefs;this.closeSceneOptions(),Object(s.copyContent)({content:t,toastContainer:n})}),u(this,"handleUnshare",e=>{e.stopPropagation();const{onUnshare:t}=this.props;this.closeSceneOptions(),t()})}renderSceneSection(){const{barrelType:e,sceneURL:t,canChangeProjectAccesibility:n,onEnableScene:r}=this.props;if(e===a.default.STYLEGUIDE)return null;const{sceneOptionsOpen:o}=this.state;return i.h(i.Fragment,null,i.h(c.default,{class:"shareBarrelSeparator"}),i.h(f,{title:"Scene",explanation:"Everyone with the link"}),i.h(d.default,{optionsOpen:o,canChangeProjectAccesibility:n,sceneURL:t,onEnable:r,onUnshare:this.handleUnshare,onCopySceneURL:this.handleCopySceneURL,onOptionsOpen:this.openSceneOptions,onOptionsClose:this.closeSceneOptions}))}render(){const{webURL:e,appURI:t}=this.props,{sceneOptionsOpen:n}=this.state;return i.h("div",{class:"shareBarrel"},i.h("div",{class:Object(r.default)("content",{sceneOptionsOpen:n}),ref:Object(o.default)(this,"content")},i.h(f,{key:"shareTitle",title:"Share link",explanation:"Invited members only"}),i.h(p,{key:"barrelWebLink",type:h.WEB,link:e,onCopy:this.handleCopyWebURL}),i.h(p,{key:"barrelAppURI",type:h.APP,link:t,onCopy:this.handleCopyAppURI}),this.renderSceneSection()))}}t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(1408);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(9),o=n(1057),s=n(228);n(1409);t.default=function(e){const{onEnable:t,sceneURL:n,canChangeProjectAccesibility:a,optionsOpen:l,onOptionsOpen:c,onOptionsClose:d,onCopySceneURL:u,onUnshare:h}=e;return i.h("div",{class:"scene"},i.h("div",{class:"explanation"},"Showcase designs and Styleguide"),n?i.h(i.Fragment,null,i.h("a",{class:"openSceneButton button secondary",key:"openSceneButton",href:n,target:"_blank"},"Open"),i.h("button",{key:"sceneOptionsButton",class:"sceneOptionsButton",onClick:c},i.h(s.IconMenu,null)),l?i.h(o.default,{class:"sceneOptions",onClose:d},i.h(o.default.Item,{onClick:u},"Copy link"),a&&i.h(o.default.Item,{onClick:h},"Unshare")):null):i.h(r.default,{class:"enableScene",onClick:t,disabled:!a,secondary:!0},"Enable"))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1412);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(289),a=n(201),l=n(18),c=n(24),d=n(62),u=n(122);n(1413);class h extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.handlePositiveButtonClick=this.handlePositiveButtonClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this.state={selected:e.selectedValue||u.DENSITY.BASE,helpTooltipVisible:!1}}showTooltip(){document.addEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!0})}hideTooltip(){document.removeEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!1})}handleChange(e){this.setState({selected:Number(e.target.value)})}handlePositiveButtonClick(){const{selected:e}=this.state,{onChange:t}=this.props;t(e)}handleDocumentClick(e){const t=this.nodeRefs.tooltip.contains(e.target);e.button!==Zeplin.MOUSE_BUTTON.LEFT||t||this.hideTooltip()}handleKeyPress(e){switch(e.keyCode){case Zeplin.KEY_CODE.SPACE:{e.preventDefault();const t=this.nodeRefs.base.querySelector(".densityRadioButton:focus");t&&t.click();break}case Zeplin.KEY_CODE.ENTER:e.preventDefault(),this.handlePositiveButtonClick(),this.props.onClose()}}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0)}renderTooltip(){const{type:e}=this.props;return i.h("div",{ref:Object(c.default)(this,"tooltip"),onClick:d.stopPropagation,class:"densityTooltip"},i.h("div",{class:"tooltipContainer"},i.h("div",{class:"tooltipGeneralExplanation"},"This should ideally be selected once, representing the ",i.h("strong",null,i.h("em",null,'"resolution of the designs"')),".",i.h("br",null),i.h("br",null)),"android"===e&&i.h("div",null,"e.g. for a ",i.h("strong",null,"720×1280px")," screen, you should select ",i.h("strong",null,'"xhdpi"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10dp to help developers out (since they use 1x values while coding)."),("ios"===e||"osx"===e)&&i.h("div",null,"e.g. for a ",i.h("strong",null,"640×1136px")," screen, you should select ",i.h("strong",null,'"2x"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10pt to help developers out (since they use 1x values while coding)."),"web"===e&&i.h("div",null,"e.g. for a ",i.h("strong",null,"2048×1536px")," screen, you should select ",i.h("strong",null,'"2x"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10px to help developers out (since they use 1x values while coding).")))}renderAndroid(){const{selected:e}=this.state;return i.h("div",{class:"androidDensitySelection"},i.h("table",null,i.h("thead",null,i.h("tr",null,i.h("th",{colspan:"2"},"Phone"))),i.h("tbody",null,i.h("tr",null,i.h("td",null,i.h("label",null,i.h(a.default,{tabIndex:"1",class:"densityRadioButton",name:"androidDensity",checked:!e||e===u.DENSITY.MDPI,onClick:this.handleChange,value:u.DENSITY.MDPI}),i.h("span",{class:"densityValue"},"mdpi"),i.h("span",{class:"densityResolution"},"360x640px"))),i.h("td",null,i.h("label",null,i.h(a.default,{tabIndex:"2",class:"densityRadioButton",name:"androidDensity",checked:e===u.DENSITY.XHDPI,onClick:this.handleChange,value:u.DENSITY.XHDPI}),i.h("span",{class:"densityValue"},"xhdpi"),i.h("span",{class:"densityResolution"},"720x1280px")))),i.h("tr",null,i.h("td",null,i.h("label",null,i.h(a.default,{tabIndex:"3",class:"densityRadioButton",name:"androidDensity",checked:e===u.DENSITY.HDPI,onClick:this.handleChange,value:u.DENSITY.HDPI}),i.h("span",{class:"densityValue"},"hdpi"),i.h("span",{class:"densityResolution"},"480x800px"))),i.h("td",null,i.h("label",null,i.h(a.default,{tabIndex:"4",class:"densityRadioButton",name:"androidDensity",checked:e===u.DENSITY.XXHDPI,onClick:this.handleChange,value:u.DENSITY.XXHDPI}),i.h("span",{class:"densityValue"},"xxhdpi"),i.h("span",{class:"densityResolution"},"1080x1920px")))),i.h("tr",null,i.h("td",null),i.h("td",null,i.h("label",null,i.h(a.default,{tabIndex:"5",class:"densityRadioButton",name:"androidDensity",checked:e===u.DENSITY.XXXHDPI,onClick:this.handleChange,value:u.DENSITY.XXXHDPI}),i.h("span",{class:"densityValue"},"xxxhdpi"),i.h("span",{class:"densityResolution"},"1440x2560px")))))),i.h("table",null,i.h("thead",null,i.h("tr",null,i.h("th",{colspan:"2"},"Tablet"))),i.h("tbody",null,i.h("tr",null,i.h("td",null,i.h("label",null,i.h(a.default,{tabIndex:"6",class:"densityRadioButton",name:"androidTabletDensity",checked:e===u.DENSITY.MDPI,onClick:this.handleChange,value:u.DENSITY.MDPI}),i.h("span",{class:"densityValue"},"mdpi"))),i.h("td",null,i.h("label",null,i.h(a.default,{tabIndex:"7",class:"densityRadioButton",name:"androidTabletDensity",checked:e===u.DENSITY.XHDPI,onClick:this.handleChange,value:u.DENSITY.XHDPI}),i.h("span",{class:"densityValue"},"xhdpi")))),i.h("tr",null,i.h("td",null,i.h("label",null,i.h(a.default,{tabIndex:"8",class:"densityRadioButton",name:"androidTabletDensity",checked:e===u.DENSITY.HDPI,onClick:this.handleChange,value:u.DENSITY.HDPI}),i.h("span",{class:"densityValue"},"hdpi"))),i.h("td",null)))))}renderWeb(){const{selected:e}=this.state;return i.h("div",{class:"webDensitySelection"},i.h("label",null,i.h(a.default,{tabIndex:"1",class:"densityRadioButton",name:"webDensity",checked:!e||e===u.DENSITY._1x,onClick:this.handleChange,value:u.DENSITY._1x}),i.h("span",{class:"densityValue"},"1x"),i.h("span",{class:"densityResolution"},"320px, 768px, 1024px, 1440px width")),i.h("hr",null),i.h("label",null,i.h(a.default,{tabIndex:"2",class:"densityRadioButton",name:"webDensity",checked:e===u.DENSITY._2x,onClick:this.handleChange,value:u.DENSITY._2x}),i.h("span",{class:"densityValue"},"2x"),i.h("span",{class:"densityResolution"},"2560px, 2880px width")))}renderIOSX(){const{selected:e}=this.state;return i.h("div",{class:"iosxDensitySelection"},i.h("label",{class:"noSelect"},i.h("div",{class:"densityRadio"},i.h(a.default,{tabIndex:"1",class:"densityRadioButton",name:"iosxDensity",checked:!e||e===u.DENSITY._1x,onClick:this.handleChange,value:u.DENSITY._1x}),i.h("span",{class:"densityValue"},"1x")),i.h("div",{class:"phoneFrames"},i.h("div",{class:"phoneFrame _320x480"},"320x480"),i.h("div",{class:"phoneFrame _320x568"},"320x568"),i.h("div",{class:"phoneFrame _375x667"},"375x667"),i.h("div",{class:"phoneFrame _414x736"},"414x736"),i.h("div",{class:"phoneFrame _768x1024"},"768x1024"))),i.h("label",{class:"noSelect"},i.h("div",{class:"densityRadio"},i.h(a.default,{tabIndex:"2",class:"densityRadioButton",name:"iosxDensity",checked:e===u.DENSITY._2x,onClick:this.handleChange,value:u.DENSITY._2x}),i.h("span",{class:"densityValue"},"2x")),i.h("div",{class:"phoneFrames"},i.h("div",{class:"phoneFrame _640x960"},"640x960"),i.h("div",{class:"phoneFrame _640x1136"},"640x1136"),i.h("div",{class:"phoneFrame _750x1334"},"750x1334"),i.h("div",{class:"phoneFrame _1536x2048"},"1536x2048"))),i.h("label",{class:"noSelect"},i.h("div",{class:"densityRadio"},i.h(a.default,{tabIndex:"3",class:"densityRadioButton",name:"iosxDensity",checked:e===u.DENSITY._3x,onClick:this.handleChange,value:u.DENSITY._3x}),i.h("span",{class:"densityValue"},"3x")),i.h("div",{class:"phoneFrames"},i.h("div",{class:"phoneFrame _1242x2208"},"1242x2208"),i.h("div",{class:"phoneFrame _1125x2436"},"1125x2436"))))}renderForm(){const{type:e}=this.props;return"android"===e?this.renderAndroid():"web"===e?this.renderWeb():"ios"===e||"osx"===e?this.renderIOSX():void 0}render(){const{helpTooltipVisible:e}=this.state,{onClose:t}=this.props;return i.h(s.default,{class:"densityDialog",positiveButtonText:"CHANGE",negativeButtonText:"CANCEL",onPositiveButtonClick:this.handlePositiveButtonClick,hideNegativeButton:!1,onClose:t,width:720,footer:i.h("div",{class:"footer"},i.h("div",{onClick:this.showTooltip,class:"densityHelp"},i.h("img",{src:Object(l.imageUrl)("img/icInfo.svg")}),"What I need to choose?"))},i.h("div",{ref:Object(c.default)(this,"base"),class:"densityDialogBody",onKeyPress:this.handleKeyPress},i.h("h1",null,"Choose your screens’ densities"),i.h("div",{class:"densityChangeWarning"},i.h("img",{src:Object(l.imageUrl)("img/icWarning.svg"),alt:"⚠"}),i.h("p",null,"Changing the density might affect your assets since Zeplin generates them based on this setting.",i.h("br",null),i.h("strong",null,"Please re-export your designs after changing the density."))),this.renderForm()),e&&this.renderTooltip())}}h.propTypes={type:o.a.oneOf(["android","web","ios"]),selectedValue:o.a.number.isRequired,onChange:o.a.func.isRequired,onClose:o.a.func.isRequired},t.default=h},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1415);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(289),a=n(18),l=n(24),c=n(62),d=n(1416),u=n(122);n(1420);class h extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this),this.handlePositiveButtonClick=this.handlePositiveButtonClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this.state={selected:e.selectedValue||u.DENSITY._1x,helpTooltipVisible:!1}}showTooltip(){document.addEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!0})}hideTooltip(){document.removeEventListener("click",this.handleDocumentClick,!0),this.setState({helpTooltipVisible:!1})}handleChange(e){this.setState({selected:Number(e.target.value)})}handlePositiveButtonClick(){const{selected:e}=this.state,{onChange:t}=this.props;t(e)}handleDocumentClick(e){const t=this.nodeRefs.tooltip.contains(e.target);e.button!==Zeplin.MOUSE_BUTTON.LEFT||t||this.hideTooltip()}handleKeyPress(e){switch(e.keyCode){case Zeplin.KEY_CODE.SPACE:{e.preventDefault();const t=this.nodeRefs.base.querySelector(".densityRadioButton:focus");t&&t.click();break}case Zeplin.KEY_CODE.ENTER:e.preventDefault(),this.handlePositiveButtonClick(),this.props.onClose()}}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick,!0)}renderTooltip(){return i.h("div",{ref:Object(l.default)(this,"tooltip"),onClick:c.stopPropagation,class:"densityTooltip"},i.h("div",{class:"tooltipContainer"},i.h("div",{class:"tooltipGeneralExplanation"},"This should ideally be selected once, representing the ",i.h("strong",null,i.h("em",null,'"resolution of the designs"')),".",i.h("br",null),i.h("br",null)),i.h("div",null,"e.g. for a ",i.h("strong",null,"2048×1536px")," screen, you should select ",i.h("strong",null,'"2x"'),". With this setting, if a measurement is 20px in Sketch, Zeplin will show it as 10px to help developers out (since they use 1x values while coding).")))}renderBody(){const{selected:e}=this.state;return[i.h("h2",null,"Styleguide density helps Zeplin generate matching assets and convert units.",i.h("br",null),"Pick the density based on your artboard size."),i.h("div",{class:"densityDialogForm"},i.h(d.default,{text:Object(c.getDensityScaleRepresentation)("base",u.DENSITY._1x),value:u.DENSITY._1x,checked:e===u.DENSITY._1x,divisor:u.DENSITY._1x,onChange:this.handleChange}),i.h(d.default,{text:Object(c.getDensityScaleRepresentation)("base",u.DENSITY._2x),value:u.DENSITY._2x,checked:e===u.DENSITY._2x,divisor:u.DENSITY._2x,onChange:this.handleChange}))]}render(){const{helpTooltipVisible:e}=this.state,{onClose:t}=this.props;return i.h(s.default,{class:"densityDialogForBase",positiveButtonText:"CHANGE",negativeButtonText:"CANCEL",onPositiveButtonClick:this.handlePositiveButtonClick,hideNegativeButton:!1,onClose:t,width:600,footer:i.h("div",{class:"footer"},i.h("div",{onClick:this.showTooltip,class:"densityHelp"},i.h("img",{src:Object(a.imageUrl)("img/icInfo.svg")}),"Learn more"))},i.h("div",{ref:Object(l.default)(this,"base"),class:"densityDialogBody",onKeyPress:this.handleKeyPress},this.renderBody()),e&&this.renderTooltip())}}h.propTypes={selectedValue:o.a.string.isRequired,onChange:o.a.func.isRequired,onClose:o.a.func.isRequired},t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(1417);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(201),o=n(1418);n(1419);t.default=function(e){const{text:t,description:n,value:s,divisor:a,unit:l,checked:c,onChange:d}=e;return i.h("div",{class:"densityDialogOption"},i.h("label",{class:"densityRadio"},i.h(r.default,{tabIndex:"1",class:"densityRadioButton",checked:c,onClick:d,value:s}),i.h("span",{class:"densityValue"},t),n&&i.h("span",{class:"densityAdditionalDescription"},n)),c&&i.h("div",{class:"densityOptionBody"},i.h(o.default,{divisor:a,targetUnit:l})))}},function(e,t,n){"use strict";n.r(t);var i=n(1);t.default=function({divisor:e,targetUnit:t="px"}){return i.h("svg",{width:"252",height:"58",viewBox:"0 0 252 58"},i.h("g",{fill:"none","fill-rule":"evenodd"},i.h("g",{stroke:"#554D56","stroke-linecap":"round","stroke-linejoin":"round"},i.h("path",{d:"M128.813 9.022c4.443 2.402 14.296 5.137-1.088 7.906-.803.145.494-2.05.744-3.08.179-.74.178-1.533.102-2.261M110 15.076c6.862-3.406 14.195-3.911 22-1.516"})),i.h("rect",{width:"60",height:"30",x:"11",y:"18",fill:"#419BF9",rx:"2"}),i.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M11 11v43M71 11v43"}),i.h("text",{fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"24.506",y:"11"},"120")," ",i.h("tspan",{x:"44.721",y:"11",style:"font-weight: bold"},"px")),i.h("text",{fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"75",y:"37"},"60")," ",i.h("tspan",{x:"88.471",y:"37",style:"font-weight: bold"},"px")),i.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M3 18h76M3 48h76"}),i.h("text",{fill:"#FFF","font-family":"AppleColorEmoji, Apple Color Emoji","font-size":"24",transform:"translate(0 32)"},i.h("tspan",{x:"0",y:"24"},"🎨")),i.h("rect",{width:"60",height:"30",x:"160",y:"18",fill:"#419BF9",rx:"2"}),i.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M160 11v43M220 11v43"}),i.h("svg",{width:"60",x:"160",y:"-18.67"},i.h("text",{x:"50%",y:"50%","alignment-baseline":"middle","text-anchor":"middle",fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",null,120/e)," ",i.h("tspan",{dx:"-3",style:"font-weight: bold"},t))),i.h("text",{fill:"#EE6723","font-family":"Roboto-Regular, Roboto","font-size":"12"},i.h("tspan",{x:"224",y:"37"},60/e)," ",i.h("tspan",{x:"237.471",y:"37",style:"font-weight: bold"},t)),i.h("path",{stroke:"#EE6723","stroke-dasharray":"2,4","stroke-linecap":"round","stroke-linejoin":"round",d:"M152 18h76M152 48h76"}),i.h("path",{fill:"#FDBD39",d:"M153.312 50.43l-1.463.535-.079 4.354 5.065-1.85c-1.737-.584-3.006-1.611-3.523-3.038"}),i.h("path",{fill:"#F69833",d:"M154.078 45.826L149 47.681l2.848 3.284 1.463-.534c-.516-1.423-.198-3.031.766-4.605"}),i.h("path",{fill:"#FFCB03",d:"M162.621 39.545c-6.465 2.362-10.633 7.236-9.309 10.886l23.411-8.554c-1.323-3.65-7.637-4.694-14.102-2.332"}),i.h("path",{fill:"#EE6723",d:"M167.414 52.764c6.465-2.362 10.64-7.215 9.31-10.887l-23.412 8.554c1.331 3.672 7.637 4.695 14.102 2.333"}),i.h("path",{fill:"#F69833",d:"M176.723 41.877l-23.411 8.554c.458 1.264 2.207 1.887 4.66 1.887 2.39 0 5.452-.592 8.643-1.758 6.465-2.361 11.013-6.186 10.108-8.683"}),i.h("path",{fill:"#FDBD39",d:"M172.064 39.99c-2.392 0-5.453.592-8.644 1.758-6.465 2.362-11.013 6.186-10.108 8.683l23.411-8.554c-.458-1.264-2.206-1.887-4.66-1.887"}),i.h("path",{fill:"#EE6723",d:"M170.77 55.55c-.688 0-1.704-.623-3.02-1.85-1.556-1.452-3.338-3.579-5.02-5.988-1.68-2.41-3.06-4.818-3.888-6.783-.9-2.14-1.03-3.457-.382-3.912.142-.1.314-.15.51-.15.526 0 1.552.392 3.45 2.26l.042.042-.006.058c-.013.134-.025.27-.035.402l-.021.264-.187-.187c-2.045-2.06-2.945-2.283-3.237-2.283a.34.34 0 0 0-.197.05c-.281.197-.3 1.164.574 3.24.812 1.93 2.173 4.302 3.832 6.68 1.66 2.378 3.414 4.473 4.943 5.9 1.648 1.537 2.39 1.703 2.633 1.703a.347.347 0 0 0 .203-.054c.296-.208.297-1.244-.678-3.478l-.044-.102.098-.054c.098-.053.192-.106.281-.157l.117-.066.054.124c.691 1.582 1.337 3.594.49 4.19a.87.87 0 0 1-.511.15zm0-.245v.122-.122z"}),i.h("path",{fill:"#EE6723",d:"M167.571 52.697l-.01.122c-.163 2.022-.594 4.454-1.716 4.552a.785.785 0 0 1-.069.003c-.762 0-1.483-1.092-2.143-3.246-.625-2.038-1.11-4.775-1.365-7.705-.255-2.93-.251-5.71.011-7.826.286-2.306.83-3.51 1.618-3.58a.785.785 0 0 1 .071-.003c.553 0 1.387.626 2.24 3.543l-.557.108c-.285-.975-.595-1.768-.904-2.313-.285-.503-.562-.78-.78-.78h-.022c-.341.03-.838.858-1.116 3.094-.257 2.078-.26 4.816-.008 7.708.252 2.893.729 5.589 1.342 7.59.274.897.576 1.635.87 2.137.273.462.537.717.743.717l.021-.001c.327-.029.942-.891 1.201-3.924l.573-.196"})))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1422);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1057),o=n(1385),s=n(1388),a=n(582),l=n(24),c=n(1204),d=n(62);n(1423);class u extends i.Component{constructor(e){super(e),this.openParentStyleguidesMenu=this.openParentStyleguidesMenu.bind(this),this.closeParentStyleguidesMenu=this.closeParentStyleguidesMenu.bind(this),this.openSelectParentPopup=this.openSelectParentPopup.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleSelectParent=this.handleSelectParent.bind(this),this.state={menuOpen:!1,selectParentPopupOpen:!1}}openParentStyleguidesMenu(){this.setState({menuOpen:!0})}closeParentStyleguidesMenu(){this.setState({menuOpen:!1})}openSelectParentPopup(e){e.stopPropagation(),this.setState({selectParentPopupOpen:!0})}ellipsizeIfNecessary(){if(CSS.supports("-webkit-line-clamp",3))return;const e=this.nodeRefs.textContainer;if(e.scrollHeight<=e.clientHeight)return;let t=e.textContent;for(;e.scrollHeight>e.clientHeight&&t.length>0;)t=t.substring(0,t.length-1),e.textContent=t+"…"}handleDocumentClick(){this.setState({selectParentPopupOpen:!1})}handleSelectParent(e){const{onParentSelect:t}=this.props;t(e._id)}componentDidMount(){this.ellipsizeIfNecessary()}componentWillReceiveProps(e){const{loading:t}=e,{loading:n}=this.props;n&&!t&&this.setState({selectParentPopupOpen:!1})}componentDidUpdate(e,t){this.ellipsizeIfNecessary(),!t.selectParentPopupOpen&&this.state.selectParentPopupOpen?document.addEventListener("click",this.handleDocumentClick):t.selectParentPopupOpen&&!this.state.selectParentPopupOpen&&document.removeEventListener("click",this.handleDocumentClick)}renderSelectParentPopup(){const{selectableStyleguides:e,loading:t}=this.props;return i.h(a.default,{targetNode:this.nodeRefs.settingsButton,content:i.h(c.default,{styleguides:e,onSelect:this.handleSelectParent,loading:t}),faceTop:!0,open:!0})}renderContextMenu(e,t){const{onParentRemove:n}=this.props,o=e?[t&&i.h(r.default.Item,{onClick:this.openSelectParentPopup,key:"changeParent"},"Change Parent Styleguide"),i.h(r.default.Item,{onClick:n,key:"removeParent"},"Remove Parent Styleguide")]:i.h(r.default.Item,{onClick:this.openSelectParentPopup},"Select Parent Styleguide");return i.h(r.default,{class:"parentStyleguidesMenu",onClose:this.closeParentStyleguidesMenu},o)}render(){const{barrelUser:e,selectableStyleguides:t,parentNames:n}=this.props,{selectParentPopupOpen:r,menuOpen:a}=this.state,c=d.permissions.canUpdateStyleguide(e),u=!!t.length,h=!!n.length;return i.h("div",null,i.h(s.default,{title:"Parent Styleguide",buttonRef:Object(l.default)(this,"settingsButton"),onSettingsButtonClick:this.openParentStyleguidesMenu,settingsButtonDisabled:!c,withSettingsButton:u}),i.h("div",{class:"parentStyleguidesContainer"},a&&this.renderContextMenu(h,u),i.h("p",{ref:Object(l.default)(this,"textContainer")},h?n.join(" ▸ "):"No parent styleguides.")),i.h(o.default,null),r&&this.renderSelectParentPopup(t))}}t.default=u},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1427);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1428),o=n(1467),s=n(1528),a=n(635),l=n(342),c=n(349),d=n(334),u=n(64),h=n(24),p=n(61);n(1680);class f extends i.Component{constructor(e){super(e),this.handleBaseRef=this.handleBaseRef.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}static getStores(){return[l.BarrelStore,a.ScreenStore,c.UserStore]}static calculateState(){const{versionsVisible:e}=a.ScreenStore.getState(),{connectedComponentsDevModeEnabled:t}=l.BarrelStore.getState();return{userRestricted:l.BarrelHelpers.isUserRestricted(),versionsVisible:e,connectedComponentsDevModeEnabled:t}}handleBaseRef(e){Object(h.default)(this,"base")(e),this.props.baseRef(e)}handleKeyDown(e){const{connectedComponentsDevModeEnabled:t}=this.state;Object(u.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.KeyL&&(e.preventDefault(),Object(p.default)({text:t?"Local configuration disabled!":"Local configuration enabled!",container:this.nodeRefs.base}),t?l.BarrelActions.disableDevMode():l.BarrelActions.enableDevMode())}componentDidMount(){const{userRestricted:e}=this.state;e||document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{versionsVisible:e}=this.state;return i.h("div",{class:"screenContainer",ref:this.handleBaseRef},e&&i.h(r.default,null),i.h(o.default,null),i.h(s.default,null))}}t.default=Object(d.default)(f,{withProps:!0})},function(e,t,n){"use strict";n.r(t);var i=n(1429);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(62),o=n(44),s=n(24),a=n(56),l=n(42),c=n(353),d=n(40),u=n(1370),h=n(1430),p=n(1460),f=n(1463),g=n(680),m=n(342),b=n(635),y=n(345),S=n(349),v=n(334);n(1466);class C extends i.Component{constructor(e){var t,n,i;super(e),i=e=>{const{barrelId:t,screenId:n}=this.state,i=Object(o.urlResolve)("project-screen-version",{url:{pid:t,sid:n,vid:e}});g.AppActions.generateShortlink(i)},(n="handleOpenMenu")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.handleCollapse=this.handleCollapse.bind(this),this.handleCollapserClick=this.handleCollapserClick.bind(this),this.handleCopyWebUrl=this.handleCopyWebUrl.bind(this),this.handleCopyAppUri=this.handleCopyAppUri.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleRelease=this.handleRelease.bind(this),this.handleSelectedVersionChange=this.handleSelectedVersionChange.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}static getStores(){return[g.AppStore,m.BarrelStore,b.ScreenStore,y.ProjectsDataStore,S.UserStore]}static calculateState(){const{loading:e,barrelId:t}=m.BarrelStore.getState();if(e)return{loading:e};const n=m.BarrelHelpers.findUser(),{screenId:i,loadingVersions:r,versionId:o,latestVersionSelected:s,versionsCompactMode:a,versionsSidebarWidth:l}=b.ScreenStore.getState(),{versions:c,totalVersionCount:d,allowedVersionCount:u,name:h}=b.ScreenHelpers.getScreen()||{},p=d-u,{shortlinks:f}=g.AppStore.getState();return{barrelId:t,barrelUser:n,screenId:i,screenName:h,versions:c,loading:r,totalVersionCount:d,remainingVersionCount:p,selectedVersionId:o,latestVersionSelected:s,compactMode:a,collapsed:a,sidebarWidth:l,shortlinks:f}}handleCollapse(){const{compactMode:e,latestVersionSelected:t}=this.state;!e&&t||b.ScreenActions.enableVersionsCompactMode()}handleCollapserClick(){const{compactMode:e,latestVersionSelected:t}=this.state;e?this.componentRefs.sidebar.expand():t?b.ScreenActions.hideVersions():this.componentRefs.sidebar.collapse()}handleRelease(e,{collapsed:t}){const{latestVersionSelected:n}=this.state;b.ScreenActions.changeVersionsSidebarWidth(e),t&&n&&b.ScreenActions.hideVersions()}handleCopyWebUrl(e,t){const{barrelId:n,screenId:i,shortlinks:r}=this.state,s=Object(o.urlResolve)("project-screen-version",{url:{pid:n,sid:i,vid:e}});Object(a.copyContent)({content:r[s]||s,toastContainer:t})}handleCopyAppUri(e,t){const{barrelId:n,screenId:i}=this.state,r=`${d.ZPL_PROTOCOL}//screen?pid=${n}&sid=${i}&vid=${e}`;Object(a.copyContent)({content:r,toastContainer:t})}handleDelete(e){const{screenId:t,screenName:n,totalVersionCount:i}=this.state;1!==i?l.create({title:"Delete version?",message:"Deleted versions cannot be restored.",done:{name:"DELETE",cb(){b.ScreenActions.removeVersion({vid:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}}):l.create({title:`Delete ${n}?`,message:"Deleted screens cannot be restored.",done:{name:"DELETE",cb(){b.ScreenActions.removeScreen({sid:t,syncWithApi:!0})}},cancel:{name:"CANCEL"}})}handleSelectedVersionChange(e){const{barrelId:t,screenId:n,versions:i}=this.state,r=i.findIndex(t=>t._id===e)>0?"project-screen-version":"project-screen";c.default.history.replace(Object(o.urlResolve)(r,{url:{pid:t,sid:n,vid:e}}))}handleKeyDown(e){const{barrelId:t,screenId:n,versions:i,selectedVersionId:r}=this.state,s=i.findIndex(e=>e._id===r);switch(e.keyCode){case Zeplin.KEY_CODE.ArrowUp:{e.preventDefault();const r=s-1;if(r>=0){const e=0===r?"project-screen":"project-screen-version",s=i[r]._id;c.default.history.replace(Object(o.urlResolve)(e,{url:{pid:t,sid:n,vid:s}}))}break}case Zeplin.KEY_CODE.ArrowDown:{e.preventDefault();const r=s+1;if(r<i.length){const e=i[r]._id;c.default.history.replace(Object(o.urlResolve)("project-screen-version",{url:{pid:t,sid:n,vid:e}}))}break}}}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){const{loading:e,barrelUser:t,versions:n,selectedVersionId:o,latestVersionSelected:a,remainingVersionCount:l,compactMode:c,collapsed:d,sidebarWidth:g}=this.state,m=r.permissions.canManageScreens(t);return i.h(u.default,{ref:Object(s.default)(this,"sidebar","componentRefs"),class:"versionsSidebar",resizingSide:"right",minWidth:245,initialWidth:g,compact:c||!a,collapsed:d,onCollapse:this.handleCollapse,onExpand:b.ScreenActions.disableVersionsCompactMode,onRelease:this.handleRelease},!c&&i.h("h2",{class:"versionsSidebarHeader"},"Versions"),e?i.h(p.default,null):i.h(h.default,{versions:n,remainingVersionCount:l,selectedVersionId:o,barrelUser:t,compact:c,onCommitColorChange:b.ScreenActions.updateCommitColor,onCommitMessageChange:b.ScreenActions.updateCommitMessage,onSelectedVersionChange:this.handleSelectedVersionChange,onOpenMenu:this.handleOpenMenu,onCopyWebUrl:this.handleCopyWebUrl,onCopyAppUri:this.handleCopyAppUri,onDelete:m?this.handleDelete:null}),i.h(f.default,{latestVersionSelected:a,compact:c,onClick:this.handleCollapserClick}))}}t.default=Object(v.default)(C)},function(e,t,n){"use strict";n.r(t);var i=n(1431);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(62),a=n(167),l=n(11),c=n(24),d=n(1432),u=n(1444),h=n(1455),p=n(1457);n(1459);class f extends i.Component{constructor(e){super(e),this.state={contextMenuOpen:!1},this.handleOpenMenu=this.handleOpenMenu.bind(this),this.handleCloseMenu=this.handleCloseMenu.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleCopyWebUrl=this.handleCopyWebUrl.bind(this),this.handleCopyAppUri=this.handleCopyAppUri.bind(this),this.handleSelect=this.handleSelect.bind(this),this.renderVersion=this.renderVersion.bind(this)}getCommitMessagePlaceholder(e){const{versions:t,barrelUser:n}=this.props;return e.creator&&e.creator._id===n.user._id?1===t.length?"Got any notes?":"What has changed in this version?":"No commit message yet."}handleOpenMenu(e){const{onOpenMenu:t}=this.props;this.setState({contextMenuOpen:!0}),t(e)}handleCloseMenu(){this.setState({contextMenuOpen:!1})}handleDelete(e){this.props.onDelete(e)}handleCopyWebUrl(e){this.props.onCopyWebUrl(e,this.nodeRefs.base)}handleCopyAppUri(e){this.props.onCopyAppUri(e,this.nodeRefs.base)}handleSelect(e){this.props.onSelectedVersionChange(e)}renderVersion(e,t){const{selectedVersionId:n,barrelUser:r,onCommitColorChange:o,onCommitMessageChange:l,compact:c}=this.props,{_id:h,creator:p,created:f,commit:{color:g,message:m}={}}=t,b=e.version,y=e.renderedVersions,S=!b||p._id!==b.creator._id,v=new Date(f),C=b&&new Date(b.created),O=Object(a.inSameDay)(C,v),E=[!O&&i.h(d.default,{date:v,hideNode:!b}),i.h(u.default,{key:h,id:h,selected:h===n,commitColor:g,hideTopConnector:!b,creator:p,created:f,messagePlaceholder:this.getCommitMessagePlaceholder(t),message:m,showDelete:s.permissions.canRemoveVersions(r),versionOwner:p._id===r.user._id,shouldDisplayAvatar:S||!O,compact:c,onColorChange:o,onCommitMessageChange:l,onSelect:this.handleSelect,onOpenMenu:this.handleOpenMenu,onCloseMenu:this.handleCloseMenu,onCopyWebUrl:this.handleCopyWebUrl,onCopyAppUri:this.handleCopyAppUri,onDelete:this.handleDelete})];return y.push(E),{version:t,renderedVersions:y}}render(){const{versions:e,remainingVersionCount:t}=this.props,{contextMenuOpen:n}=this.state;return i.h("div",{ref:Object(c.default)(this,"base"),class:Object(l.default)("versions",{contextMenuOpen:n})},e.reduce(this.renderVersion,{version:null,renderedVersions:[]}).renderedVersions,t>0?i.h(p.default,{remainingVersionCount:t}):i.h(h.default,null))}}f.propTypes={versions:o.a.array.isRequired,remainingVersionCount:o.a.number.isRequired,selectedVersionId:o.a.string.isRequired,barrelUser:o.a.object.isRequired,onCommitColorChange:o.a.func.isRequired,onCommitMessageChange:o.a.func.isRequired,onSelectedVersionChange:o.a.func.isRequired,onCopyWebUrl:o.a.func.isRequired,onCopyAppUri:o.a.func.isRequired,onDelete:o.a.func,compact:o.a.bool},t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(1433);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(167),a=n(1434);n(1443);function l(e){const{date:t,hideNode:n}=e;return i.h("h3",{class:"versionHeader"},i.h(a.default.forHeader,{hideConnector:n}),i.h("span",{class:"versionHeaderText"},Object(s.getDateString)(t)))}l.propTypes={date:o.a.instanceOf(Date)},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1435);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(11),a=n(1436);n(1442);function l(e){const{selected:t,color:n,hideTopConnector:r,compact:o,onColorChange:l}=e;return i.h("div",{class:"versionNode noSelect"},i.h("div",{class:Object(s.default)("versionConnector top",{transparent:r}),key:"commitTopConnector"}),i.h(a.default,{selected:t,color:n,compact:o,onColorChange:l}),i.h("div",{class:"versionConnector bottom",key:"commitBottomConnector"}))}function c(e){return i.h("div",{class:"versionNode noSelect"},e.children)}l.propTypes={selected:o.a.bool.isRequired,color:o.a.oneOf(["yellow","orange","peach","green","turquoise"]),onColorChange:o.a.func.isRequired},c.forHeader=function(e){const{hideConnector:t}=e;return i.h("div",{class:"versionNode headerNode noSelect"},i.h("div",{class:Object(s.default)("versionConnector",{transparent:t})}))},c.forInitialCommit=function(){return i.h("div",{class:"versionNode noSelect"},i.h("div",{class:"versionConnector top",key:"initialCommitTopConnector"}),i.h("img",{src:"/img/icHeart.svg",alt:!0,key:"icHeart"}))},c.forCommit=l,t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1437);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(11),a=n(1438);n(1441);class l extends i.Component{constructor(e){super(e),this.openColorChooser=this.openColorChooser.bind(this),this.closeColorChooser=this.closeColorChooser.bind(this),this.state={colorChooserOpen:!1}}openColorChooser(){this.setState({colorChooserOpen:!0})}closeColorChooser(){this.setState({colorChooserOpen:!1})}render(){const{selected:e,color:t,compact:n,onColorChange:r}=this.props;return i.h("div",{class:Object(s.default)("versionNodeDot",t,{selected:e}),onMouseEnter:this.openColorChooser},!n&&this.state.colorChooserOpen&&i.h(a.default,{selected:e,color:t,onChange:r,onClose:this.closeColorChooser}))}}l.propTypes={selected:o.a.bool.isRequired,color:o.a.oneOf(["yellow","orange","peach","green","turquoise"]),compact:o.a.bool,onColorChange:o.a.func.isRequired},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1439);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(11),a=n(24),l=n(62);n(1440);const c=["yellow","orange","peach","green","turquoise"];class d extends i.Component{constructor(e){super(e),this.handleMouseLeave=this.handleMouseLeave.bind(this)}handleMouseLeave(){this.nodeRefs.chooser.addEventListener("transitionend",()=>this.props.onClose(),{once:!0})}render(){const{selected:e,color:t,onChange:n}=this.props;return i.h("div",{ref:Object(a.default)(this,"chooser"),class:Object(s.default)("nodeColorChooser",t),onClick:l.stopPropagation,onMouseLeave:this.handleMouseLeave},i.h("div",{class:Object(s.default)("nodeColor",{selected:e})},i.h("div",null)),c.map(e=>{const r=e===t;return i.h("div",{key:e,class:Object(s.default)("nodeColorOption",e,{selectedColor:r}),onClick:()=>{r||n(e)}})}))}}d.propTypes={selected:o.a.bool.isRequired,color:o.a.oneOf(["yellow","orange","peach","green","turquoise"]),onChange:o.a.func.isRequired,onClose:o.a.func},t.default=d},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1445);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(1434),a=n(1446),l=n(1452),c=n(293),d=n(1037),u=n(56),h=n(24),p=n(114);n(1454);class Version extends i.Component{constructor(e){super(e),this.handleColorChange=this.handleColorChange.bind(this),this.handleCommitMessageChange=this.handleCommitMessageChange.bind(this),this.handleSelect=this.handleSelect.bind(this),this.handleOpenMenu=this.handleOpenMenu.bind(this),this.handleCloseMenu=this.handleCloseMenu.bind(this),this.handleCopyWebUrl=this.handleCopyWebUrl.bind(this),this.handleCopyAppUri=this.handleCopyAppUri.bind(this),this.handleDelete=this.handleDelete.bind(this),this.state={contextMenuOpen:!1,contextMenuOrigin:{x:0,y:0}}}scrollIntoView(){const{selected:e}=this.props;e&&Object(u.scrollIfNecessary)(this.nodeRefs.base)}handleColorChange(e){const{id:t,onColorChange:n}=this.props;n({vid:t,color:Object(p.getColorValueByName)(e),syncWithApi:!0})}handleCommitMessageChange(e){const{id:t,onCommitMessageChange:n}=this.props;n({vid:t,message:e,syncWithApi:!0})}handleSelect(){const{id:e,onSelect:t}=this.props;t(e)}handleOpenMenu(e){e.stopPropagation();const{id:t,onOpenMenu:n}=this.props;this.setState({contextMenuOpen:!0,contextMenuOrigin:{x:e.clientX,y:e.clientY-28}}),n(t)}handleCloseMenu(){this.setState({contextMenuOpen:!1}),this.props.onCloseMenu()}handleCopyWebUrl(){const{id:e,onCopyWebUrl:t}=this.props;t(e)}handleCopyAppUri(){const{id:e,onCopyAppUri:t}=this.props;t(e)}handleDelete(){const{id:e,onDelete:t}=this.props;t(e)}componentDidMount(){this.props.selected&&Object(u.scrollIfNecessary)(this.nodeRefs.base)}componentWillReceiveProps(e){!this.props.selected&&e.selected&&Object(u.scrollIfNecessary)(this.nodeRefs.base)}renderContextMenu(){const{versionOwner:e,showDelete:t}=this.props,{contextMenuOpen:n,contextMenuOrigin:r}=this.state;return n?i.h(c.default,null,i.h(l.default,{autoPosition:{zIndex:1e3,menuContainer:"body",clickOrigin:r},onCopyWebUrl:this.handleCopyWebUrl,onCopyAppUri:this.handleCopyAppUri,onDelete:(e||t)&&this.handleDelete,onClose:this.handleCloseMenu})):null}render(){const{selected:e,commitColor:t,hideTopConnector:n,creator:r,created:o,messagePlaceholder:l,message:c,versionOwner:d,shouldDisplayAvatar:u,hover:f,compact:g}=this.props,{contextMenuOpen:m}=this.state,b=Object(p.getColorName)(t);return i.h("div",{ref:Object(h.default)(this,"base"),class:"version",onClick:this.handleSelect},i.h(s.default.forCommit,{selected:e,color:b,hideTopConnector:n,onColorChange:this.handleColorChange,compact:g}),i.h(a.default,{creator:r,createdAt:o,messagePlaceholder:l,message:c,color:b,selected:e,versionOwner:d,shouldDisplayAvatar:u,shouldDisplayButtons:m||f,onOpenMenu:this.handleOpenMenu,onCommitMessageChange:this.handleCommitMessageChange}),this.renderContextMenu())}}Version.defaultProps={message:"",commitColor:Object(p.getColorValueByName)("yellow")},Version.propTypes={id:o.a.string.isRequired,selected:o.a.bool.isRequired,commitColor:o.a.oneOfType([o.a.string,o.a.object]),hideTopConnector:o.a.bool,onColorChange:o.a.func.isRequired,creator:o.a.object.isRequired,created:o.a.oneOfType([o.a.instanceOf(Date),o.a.string]),messagePlaceholder:o.a.string.isRequired,message:o.a.string.isRequired,versionOwner:o.a.bool.isRequired,shouldDisplayAvatar:o.a.bool.isRequired,onCommitMessageChange:o.a.func.isRequired,onSelect:o.a.func.isRequired,onOpenMenu:o.a.func.isRequired,onCloseMenu:o.a.func.isRequired,onCopyWebUrl:o.a.func.isRequired,onCopyAppUri:o.a.func.isRequired,onDelete:o.a.func.isRequired,compact:o.a.bool},t.default=Object(d.default)(Version)},function(e,t,n){"use strict";n.r(t);var i=n(1447);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(11),a=n(24),l=n(1368),c=n(1448),d=n(1391);n(1451);class u extends i.Component{constructor(e){super(e),this.state={editing:!1},this.handleMessageSubmit=this.handleMessageSubmit.bind(this),this.handleEdit=this.handleEdit.bind(this),this.handleCancelEdit=this.handleCancelEdit.bind(this)}handleMessageSubmit(e){const{onCommitMessageChange:t}=this.props;this.setState({editing:!1}),e!==this.props.message&&t(e)}handleEdit(){this.setState({editing:!0})}handleCancelEdit(){this.setState({editing:!1})}componentDidUpdate(e){e.selected&&!this.props.selected&&this.state.editing&&this.componentRefs.textArea.cancelEdit()}render(){const{creator:e,createdAt:t,versionOwner:n,shouldDisplayButtons:r,shouldDisplayAvatar:o,onOpenMenu:u,message:h,messagePlaceholder:p,selected:f,color:g}=this.props,{editing:m}=this.state;return i.h("div",{class:Object(s.default)("versionCommit",g,{selected:f,editing:m,empty:!h})},i.h(c.default,{creator:e,createdAt:t,shouldDisplayButtons:r&&!m,shouldDisplayAvatar:o,shouldDisplayTime:!m||!r,shouldDisplayEditButton:r&&n&&!!h,onEdit:this.handleEdit,onOpenMenu:u}),i.h(d.default,{ref:Object(a.default)(this,"textArea","componentRefs"),class:"message",value:h||"",maxLength:1024,editing:m,color:g,placeholder:p,onCancelEdit:this.handleCancelEdit,onSubmit:this.handleMessageSubmit,formatter:l.formatComment,showEmojiAutoComplete:!0}),n&&!m&&!h&&i.h("button",{type:"button",class:"enterMessageButton",onClick:this.handleEdit},"ENTER COMMIT MESSAGE"))}}u.propTypes={creator:o.a.object,createdAt:o.a.oneOfType([o.a.string,o.a.instanceOf(Date)]),messagePlaceholder:o.a.string,message:o.a.string,color:o.a.string,selected:o.a.bool,versionOwner:o.a.bool,shouldDisplayAvatar:o.a.bool,shouldDisplayButtons:o.a.bool,onOpenMenu:o.a.func,onCommitMessageChange:o.a.func},t.default=u},function(e,t,n){"use strict";n.r(t);var i=n(1449);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(513),a=n(228),l=n(62),c=n(56);n(1450);function d(e){const{creator:t,createdAt:n,shouldDisplayButtons:r,shouldDisplayAvatar:o,shouldDisplayTime:d,shouldDisplayEditButton:u,onEdit:h,onOpenMenu:p}=e,{src:f,srcset:g}=Object(c.getUserAvatar)(t,{ignoreRandomEmotar:!1,size:"24"}),m=Object(l.formatTime)(n,{hour:"numeric",minute:"numeric"});return i.h("div",{class:"versionMetadata"},o?i.h("div",{class:"versionAuthor"},i.h(s.default,{width:"24",height:"24",src:f,srcset:g,class:"versionAuthorImageFrame"}),i.h("div",{class:"versionAuthorName ellipsis"},t?t.fullName||t.username:"Anonymous")):i.h("time",null,m),r?i.h("div",{class:"commitButtons"},u&&i.h("button",{type:"button",onClick:h},i.h(a.IconEdit,null)),i.h("button",{type:"button",onClick:p},i.h(a.IconMenu,null))):o&&d&&i.h("time",null,m))}d.propTypes={creator:o.a.object.isRequired,createdAt:o.a.oneOfType([o.a.instanceOf(Date),o.a.string]),shouldDisplayButtons:o.a.bool,shouldDisplayAvatar:o.a.bool,shouldDisplayTime:o.a.bool,shouldDisplayEditButton:o.a.bool,onEdit:o.a.func,onOpenMenu:o.a.func},t.default=d},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1453);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1057);t.default=function(e){const{autoPosition:t,onClose:n,onDelete:o,onCopyWebUrl:s,onCopyAppUri:a}=e;return i.h(r.default.withAutoPosition,{autoPosition:t,onClose:n},i.h(r.default.Item,{onClick:s},"Copy version web link"),i.h(r.default.Item,{onClick:a},"Copy version App URI"),o&&[i.h(r.default.ItemDivider,{key:"divider"}),i.h(r.default.Item,{key:"delete",onClick:o,warning:!0},"Delete version")])}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1434);n(1456);t.default=function(){return i.h("div",{class:"initialCommit"},i.h(r.default.forInitialCommit,null),i.h("div",{class:"commit"},i.h("h4",null,"The story begins here!"),i.h("p",null,"“Versions” panel lists the changes on this screen over time.")))}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(19);n(1458);function a(e){const{remainingVersionCount:t}=e;return i.h("div",{class:"versionLimitExceeded noSelect"},Object(s.pluralize)(t,"more version")," available, ",i.h("a",{href:"https://support.zeplin.io/pricing-and-plans/version-limits",target:"_blank"}," learn more")," about version limits in different plans")}a.propTypes={remainingVersionCount:o.a.number.isRequired},t.default=a},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1461);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1);n(1462);t.default=function(e){return i.h("div",{class:"versionsLoading"})}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1464);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(228);n(1465);function a(e){const{latestVersionSelected:t,compact:n,onClick:r}=e;return i.h("button",{class:"versionsCollapser",onClick:r},n||!t?i.h(s.IconCollapseLeft,null):i.h(s.IconClose,null))}a.propTypes={compact:o.a.bool,onClick:o.a.func.isRequired},t.default=a},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1468);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1469),o=n(1041),s=n(517),a=n(1510),l=n(345),c=n(342),d=n(635),u=n(346),h=n(349),p=n(334),f=n(62),g=n(11),m=n(697),b=n(654),y=n(167),S=n(24),v=n(18),C=n(56),O=n(19),E=n(64),T=n(40),D=n(122);n(1527);function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w extends i.Component{constructor(...e){super(...e),k(this,"state",{holdingSpace:!1,holdingMouse:!1,edgesToMeasure:null,parentIndex:0}),k(this,"setZoomOrigin",e=>{if(this.zoomOrigin)return;const{top:t,left:n,width:i,height:r}=this.nodeRefs.snapshotDetail.getBoundingClientRect(),{clientX:o,clientY:s}=e;this.zoomOrigin={x:o,y:s,xRatio:(o-n)/i,yRatio:(s-t)/r}}),k(this,"setZoomOriginAsCenter",()=>{const{screenView:e,snapshotDetail:t}=this.nodeRefs,{top:n,width:i,height:r}=e.getBoundingClientRect(),{top:o,left:s,width:a,height:l}=t.getBoundingClientRect(),c=i/2,d=r/2+n;this.zoomOrigin={x:c,y:d,xRatio:(c-s)/a,yRatio:(d-o)/l}}),k(this,"scrollToZoomOrigin",()=>{const{x:e,y:t,xRatio:n,yRatio:i}=this.zoomOrigin,{screenView:r,dotgrid:o,snapshotDetail:s}=this.nodeRefs,a=r.getBoundingClientRect(),l=o.getBoundingClientRect(),c=s.getBoundingClientRect(),d=c.left-l.left-e+n*c.width,u=c.top-l.top+a.top-t+i*c.height;r.scrollTo(d,u)}),k(this,"animateScroll",()=>{this.scrollToZoomOrigin(),this.scrollHandle=requestAnimationFrame(this.animateScroll)}),k(this,"deselectLayer",()=>{d.ScreenActions.deselectLayer()}),k(this,"handleMouseLeave",()=>{const{selectedLayer:e}=this.state;e&&this.setState({edgesToMeasure:null})}),k(this,"handleMouseMove",e=>{const{loading:t,selectedLayer:n,holdingSpace:i,holdingMouse:r}=this.state;t||(i&&r&&this.scrollScreenView(e),this.mousePosition={x:e.clientX,y:e.clientY},n&&this.handleEdgeDistanceMode(e))}),k(this,"handleMouseDown",e=>{document.addEventListener("mouseup",this.handleMouseUp),this.setState({holdingMouse:!0}),this.mousePosition={x:e.clientX,y:e.clientY}}),k(this,"handleMouseUp",()=>{document.removeEventListener("mouseup",this.handleMouseUp),this.setState({holdingMouse:!1}),this.scrolledScreenView&&(d.ScreenActions.disableNoteMode(),this.scrolledScreenView=!1)}),k(this,"handleGestureStart",e=>{e.preventDefault(),d.ScreenActions.startGesture()}),k(this,"handleGestureChange",e=>{e.preventDefault(),this.setZoomOrigin(e),d.ScreenActions.zoomWithGesture(e.scale)}),k(this,"handleWheel",e=>{e.ctrlKey&&(e.preventDefault(),this.setZoomOrigin(e),d.ScreenActions.zoomWithWheel(e.deltaY))}),k(this,"handleKeyPress",e=>{Object(C.isEditableElement)(e.target)||e.keyCode===Zeplin.KEY_CODE.SPACE&&e.preventDefault()}),k(this,"handleKeyDown",e=>{if(Object(C.isEditableElement)(e.target))return;const{screenId:t,percentageMode:n,selectedLayer:i,destinationLayer:r,parentLayers:{length:o},parentIndex:s,holdingSpace:a,edgesToMeasure:l}=this.state;if(e.keyCode!==Zeplin.KEY_CODE.SPACE||a){if(e.keyCode===Zeplin.KEY_CODE.ArrowUp&&n&&o)e.preventDefault(),this.setState({parentIndex:(s+1)%o});else if(e.keyCode===Zeplin.KEY_CODE.ArrowDown&&n&&o)e.preventDefault(),this.setState({parentIndex:(s-1+o)%o});else if(e.keyCode===Zeplin.KEY_CODE.ArrowLeft){e.preventDefault();const n=d.ScreenHelpers.getPreviousScreen(t);n&&d.ScreenHelpers.navigateToScreen(n._id)}else if(e.keyCode===Zeplin.KEY_CODE.ArrowRight){e.preventDefault();const n=d.ScreenHelpers.getNextScreen(t);n&&d.ScreenHelpers.navigateToScreen(n._id)}else if(e.altKey){switch(e.code){case D.Keyboard.Code.Minus:e.preventDefault(),e.stopPropagation(),d.ScreenActions.zoomOut();break;case D.Keyboard.Code.Equal:e.preventDefault(),e.stopPropagation(),d.ScreenActions.zoomIn()}switch(e.keyCode){case Zeplin.KEY_CODE.Digit0:e.preventDefault(),e.stopPropagation(),d.ScreenActions.resetZoom();break;case Zeplin.KEY_CODE.KeyG:e.preventDefault(),e.stopPropagation(),d.ScreenActions.toggleLayoutGrid();break;case Zeplin.KEY_CODE.KeyT:e.preventDefault(),e.stopPropagation(),d.ScreenActions.openTagManager(t);break;case Zeplin.KEY_CODE.KeyV:e.preventDefault(),e.stopPropagation(),d.ScreenActions.toggleVersions()}}}else e.preventDefault(),this.setState({holdingSpace:!0});!Object(E.cmdKey)(e)||!Object(E.isCmdPressed)(e)||Object(E.ctrlOrWinKey)(e)||e.altKey||e.shiftKey?d.ScreenActions.disableNoteMode():d.ScreenActions.enableNoteMode({flash:!1}),!e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||!i||!r&&!l?d.ScreenActions.disablePercentageMode():d.ScreenActions.enablePercentageMode(),!e.shiftKey||e.altKey||e.ctrlKey||e.metaKey?d.ScreenActions.hideFlowLinks():d.ScreenActions.showFlowLinks()}),k(this,"handleKeyUp",e=>{if(Object(C.isEditableElement)(e.target))return;const{holdingSpace:t,selectedLayer:n,destinationLayer:i,edgesToMeasure:r}=this.state;e.keyCode===Zeplin.KEY_CODE.SPACE&&t&&(e.preventDefault(),this.setState({holdingSpace:!1})),!Object(E.cmdKey)(e)||Object(E.ctrlOrWinKey)(e)||e.altKey||e.shiftKey?d.ScreenActions.disableNoteMode():d.ScreenActions.enableNoteMode({flash:!1}),!e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||!n||!i&&!r?d.ScreenActions.disablePercentageMode():d.ScreenActions.enablePercentageMode(),!e.shiftKey||e.altKey||e.ctrlKey||e.metaKey?d.ScreenActions.hideFlowLinks():d.ScreenActions.showFlowLinks()}),k(this,"handleCopy",e=>{const{selectedLayer:t}=this.state;if(!t||"text"!==t.type)return;"Range"!==window.getSelection().type&&(e.preventDefault(),e.clipboardData.setData("text/plain",t.content))}),k(this,"handleCopyDotWebUrl",e=>{const{screenView:t}=this.nodeRefs;Object(C.copyContent)({content:e,toastContainer:t})}),k(this,"handleCopyDotAppUri",e=>{const{screenView:t}=this.nodeRefs,{barrelId:n,screenId:i}=this.state,r=`${T.ZPL_PROTOCOL}//screen?pid=${n}&sid=${i}&did=${e}`;Object(C.copyContent)({content:r,toastContainer:t})}),k(this,"handleLayerSelect",(e,t)=>{const{noteMode:n,holdingSpace:i}=this.state;n||i||(e.stopPropagation(),this.setState({edgesToMeasure:null}),d.ScreenActions.selectLayer(t))}),k(this,"handleComponentLayerTagClick",()=>{mixpanel.master.track("Navigated to component from screen",{Source:"Header"})}),k(this,"handleZoomIn",()=>{this.setZoomOriginAsCenter(),d.ScreenActions.zoomIn()}),k(this,"handleZoomOut",()=>{this.setZoomOriginAsCenter(),d.ScreenActions.zoomOut()}),k(this,"handleZoomChange",e=>{this.setZoomOriginAsCenter(),d.ScreenActions.changeZoomLevel(e,!0)})}static getStores(){return[c.BarrelStore,d.ScreenStore,l.ProjectsDataStore,u.StyleguidesDataStore,h.UserStore]}static calculateState(e={}){const t=c.BarrelHelpers.getStyleguidesData({barrelStore:c.BarrelStore,styleguidesDataStore:u.StyleguidesDataStore,projectsDataStore:l.ProjectsDataStore}),{loading:n,barrelId:i}=c.BarrelStore.getState();if(n)return{loading:!0};const r=c.BarrelHelpers.findUser(),{screenId:o,loadingVersions:s,versionId:a,animateZooming:h,zoomLevel:p,percentageMode:g,selectedLayer:y,destinationLayer:S,flowLinksVisible:v,latestVersionSelected:C,layoutGridEnabled:O,notesVisible:E,noteMode:T,hasNewVersions:D,showVersionsAuntie:k,showVersionsTutorial:w,versionsLastSeen:_,versionsVisible:j}=d.ScreenStore.getState();if(s&&!C)return{loading:!0};const P=sessionStorage.getItem("newVersionsAuntieStatus"),R=sessionStorage.getItem("versionsCommitAuntieStatus"),I=c.BarrelHelpers.getBarrel(),A=d.ScreenHelpers.getScreen(),x=d.ScreenHelpers.getVersion({sid:o,vid:a}),{snapshot:N}=x,L=Object(m.findComponentLayer)(N,y,t),U=t.flatMap(({spacingSections:e})=>e.flatMap(e=>e.spacingTokens)),M=g&&y&&S&&N?Object(b.findParents)(y,S,N):[],{parentLayers:B=[]}=e;let{parentIndex:z=0}=e;const F=f.arrayEqual(B,M,(e,t)=>e._id===t._id);return g&&y&&S&&F||(z=0),{loading:!1,barrelId:i,barrel:I,remPreferences:t[0].remPreferences,barrelUser:r,screenId:o,screen:A,version:x,componentLayer:L,spacingTokens:U,animateZooming:h,zoomLevel:p,percentageMode:g,selectedLayer:y,destinationLayer:S,parentLayers:M,parentIndex:z,flowLinksVisible:v,layoutGridEnabled:O,notesVisible:E,noteMode:T,latestVersionSelected:C,hasNewVersions:D,showVersionsAuntie:k,showVersionsTutorial:w,versionsLastSeen:_,newVersionsAuntieStatus:P,versionsCommitAuntieStatus:R,versionsVisible:j}}dismissVersionsCommitAuntie(){sessionStorage.setItem("versionsCommitAuntieStatus","dismissed")}dismissNewVersionsAuntie(){sessionStorage.setItem("newVersionsAuntieStatus","dismissed")}scrollScreenView(e){this.scrolledScreenView=!0;const{screenView:t}=this.nodeRefs,n=t.scrollTop+this.mousePosition.y-e.clientY,i=t.scrollLeft+this.mousePosition.x-e.clientX;t.scrollTop=n,t.scrollLeft=i}setEdgesToMeasureIfItsChanged(e){const{edgesToMeasure:t}=this.state;(!e&&t||e&&(!t||!f.arrayEqual(t,e,(e,t)=>e===t)))&&this.setState({edgesToMeasure:e})}resetModeFlags(){d.ScreenActions.hideFlowLinks(),d.ScreenActions.disablePercentageMode(),d.ScreenActions.disableNoteMode()}handleEdgeDistanceMode(e){const t=this.nodeRefs.snapshotDetail.getBoundingClientRect();let n=[];e.clientX<t.left?n.push("left"):e.clientX>t.right&&n.push("right"),e.clientY<t.top?n.push("top"):e.clientY>t.bottom&&n.push("bottom"),0===n.length&&(n=null),this.setEdgesToMeasureIfItsChanged(n)}handleNotesVisibilityChange(e){e?d.ScreenActions.showNotes():d.ScreenActions.hideNotes()}handleVersionsTutorialClick(e){e.stopPropagation(),d.ScreenActions.showVersionsAuntie()}componentDidMount(){const{selectedLayer:e}=this.state;if(e&&document.addEventListener("click",this.deselectLayer),document.addEventListener("keypress",this.handleKeyPress),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp),document.addEventListener("copy",this.handleCopy),window.addEventListener("blur",this.resetModeFlags),"GestureEvent"in window){const{dotgrid:e}=this.nodeRefs;e.addEventListener("gesturestart",this.handleGestureStart),e.addEventListener("gesturechange",this.handleGestureChange)}}componentDidUpdate(e,t){const{zoomLevel:n,animateZooming:i,selectedLayer:r}=this.state;t.zoomLevel!==n&&this.zoomOrigin&&(clearTimeout(this.originResetTimeout),this.originResetTimeout=setTimeout(()=>{cancelAnimationFrame(this.scrollHandle),this.zoomOrigin=null},300),cancelAnimationFrame(this.scrollHandle),this.scrollHandle=i?requestAnimationFrame(this.animateScroll):requestAnimationFrame(this.scrollToZoomOrigin)),r?document.addEventListener("click",this.deselectLayer):document.removeEventListener("click",this.deselectLayer)}componentWillUnmount(){if(document.removeEventListener("click",this.deselectLayer),document.removeEventListener("keypress",this.handleKeyPress),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),document.removeEventListener("copy",this.handleCopy),document.removeEventListener("mouseup",this.handleMouseUp),window.removeEventListener("blur",this.resetModeFlags),this.resetModeFlags(),"GestureEvent"in window){const{dotgrid:e}=this.nodeRefs;e.removeEventListener("gesturestart",this.handleGestureStart),e.removeEventListener("gesturechange",this.handleGestureChange)}}renderScreen(){const{loading:e,screen:t,version:n,componentLayer:o,spacingTokens:s,barrel:a,barrelUser:l,remPreferences:c,zoomLevel:u,percentageMode:h,selectedLayer:p,destinationLayer:f,parentLayers:g,parentIndex:m,edgesToMeasure:b,flowLinksVisible:y,layoutGridEnabled:v,latestVersionSelected:C,notesVisible:O}=this.state;if(e||!t||!n)return i.h(r.default.Loading,null);const{snapshot:E}=n,T=g[m];return i.h(r.default,{snapshotDetailRef:Object(S.default)(this,"snapshotDetail"),project:a,screen:t,snapshot:E,barrelUser:l,remPreferences:c,notesVisible:O&&C,layoutGridEnabled:v,zoomLevel:u,selectedLayer:p,destinationLayer:f,parentLayer:T,componentLayer:o,spacingTokens:s,percentageMode:h,flowLinksVisible:y,edgesToMeasure:b,onCopyDotWebUrl:this.handleCopyDotWebUrl,onCopyDotAppUri:this.handleCopyDotAppUri,onLayerSelect:this.handleLayerSelect,onLayerEnter:d.ScreenActions.enterLayer,onLayerLeave:d.ScreenActions.leaveLayer,onComponentLayerTagClick:this.handleComponentLayerTagClick})}renderDotGrid(){const{version:e,zoomLevel:t,animateZooming:n,holdingSpace:r,holdingMouse:o,noteMode:s}=this.state;let a,l;e?({snapshot:{width:a,height:l}}=e):(a=320,l=480);const c=20*t,u=`linear-gradient(to bottom, transparent, transparent ${2*t}px, #FFF ${2*t}px, #FFF ${c}px), linear-gradient(to right, #C8C3C7, #C8C3C7 ${2*t}px, #FFF ${2*t}px, #FFF ${c}px`,h=window.innerWidth/2-151-t*a/2+"px "+(-3*c+58)+"px",p=c+"px "+c+"px";return i.h("div",{class:Object(g.default)("dotgrid","noSelect",{noteMode:s,zooming:n,grab:r&&!o,grabbing:r&&o}),style:{width:a*t+240,height:l*t+120,backgroundImage:u,backgroundPosition:h,backgroundSize:p},onClick:this.handleClick,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onWheel:this.handleWheel,onTransitionEnd:d.ScreenActions.zoomApplied,ref:Object(S.default)(this,"dotgrid")},this.renderScreen())}renderWidgets(){const{zoomLevel:e,hasNewVersions:t,notesVisible:n,latestVersionSelected:r,versionsVisible:o}=this.state;return i.h(a.default,{latestVersionSelected:r,versionsVisible:o,hasNewVersions:t,onVersionsToggleClick:d.ScreenActions.showVersions,zoomLevel:e,onZoomIn:this.handleZoomIn,onZoomOut:this.handleZoomOut,onZoomChange:this.handleZoomChange,onPopoutWidgetClick:d.ScreenActions.openPopout,onAddNoteWidgetClick:d.ScreenActions.enableNoteMode,notesVisible:n,onNotesVisibilityChange:this.handleNotesVisibilityChange})}renderEarlierVersionWarning(){const{version:e,latestVersionSelected:t}=this.state;return!e||t?null:i.h("div",{class:"oldVersionWarning"},"Earlier version from ",i.h("time",{datetime:e.created},Object(y.getDateString)(e.created)))}renderVersionsAuntie(){const{loading:e,barrelUser:t,screen:n,hasNewVersions:r,showVersionsTutorial:a,showVersionsAuntie:l,versionsLastSeen:c,versionsCommitAuntieStatus:u,newVersionsAuntieStatus:h}=this.state;if(e)return null;const{versions:p}=n||{};if(a)return l?i.h(o.default,{content:"Ping ping! Versions of screens are listed here.",popover:!0,noControls:!0,hideCallback:d.ScreenActions.hideVersionsAuntie}):i.h("img",{class:"versionsTutorialCircle",src:Object(v.imageUrl)("img/icTutorial.svg"),onClick:this.handleVersionsTutorialClick});if(!r)return null;const f=p.filter(({created:e})=>new Date(e)>c),g=f.filter(({creator:e})=>e&&e._id===t.user._id),m=g.find(({commit:e})=>!e||!e.message),b=f.length-g.length;if(m&&"dismissed"!==u){const e=new Date-new Date(m.created)>36e5?i.h("span",null,"Looks like you uploaded a version ",i.h(s.default,{type:"time-ago",datetime:m.created}),". Add a commit message and share what has changed!"):"New version! Add a commit message and share what has changed.";return i.h(o.default,{content:e,popover:!0,buttonText:"Got it!",hideCallback:this.dismissVersionsCommitAuntie})}if(b&&"dismissed"!==h){const e=`There ${b>1?"are":"is"} ${Object(O.pluralize)(b,"new version",{one:"a"})} since you last visited!`;return i.h(o.default,{content:e,popover:!0,buttonText:"Got it!",hideCallback:this.dismissNewVersionsAuntie})}return null}render(){return i.h("div",{class:"screenViewContainer"},i.h("section",{class:"screenView",ref:Object(S.default)(this,"screenView"),onScroll:d.ScreenActions.zoomApplied},this.renderDotGrid()),this.renderWidgets(),this.renderEarlierVersionWarning(),this.renderVersionsAuntie())}}t.default=Object(p.default)(w)},function(e,t,n){"use strict";n.r(t);var i=n(1470);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11),o=n(24),s=n(654),a=n(1471),l=n(1481),c=n(1487),d=n(1490);n(1509);class Screen extends i.Component{constructor(e){super(e),this.handleLayerSelect=this.handleLayerSelect.bind(this),this.handleSnapshotDetailRef=this.handleSnapshotDetailRef.bind(this),this.layerClickHandler=Object(s.getLayerClickHandler)()}handleLayerSelect(e,t){const{onLayerSelect:n}=this.props;if(!n)return;const{selectedLayer:i,snapshot:r}=this.props,o=this.nodeRefs.snapshotDetail.getBoundingClientRect();n(e,this.layerClickHandler.getLayerToSelectFromClick({ev:e,layerData:t,snapshot:r,selectedLayer:i,snapshotDetailRect:o}))}handleSnapshotDetailRef(e){Object(o.default)(this,"snapshotDetail")(e);const{snapshotDetailRef:t}=this.props;t&&t(e)}getChildContext(){const{project:{densityScale:e,dimensionSuffix:t}}=this.props;return{densityScale:e,dimensionSuffix:t}}componentWillReceiveProps(e){const{selectedLayer:t}=e,{selectedLayer:n}=this.props;!t&&n&&this.layerClickHandler.reset()}renderScreenImage(){const{zoomLevel:e,snapshot:{_id:t,width:n,height:o}}=this.props;return i.h(d.default.Image,{key:"snapshotImage-"+t,class:Object(r.default)("snapshotImage",{pixelated:e>=2}),style:{width:n*e,height:o*e}})}renderComponentLayer(){const{project:e,screen:{name:t},snapshot:{width:n,height:r},componentLayer:o,zoomLevel:s,onComponentLayerTagClick:a}=this.props;return i.h(d.default.ComponentLayer,{barrelId:e.id,barrelType:"project",containerName:t,componentLayer:o,containerWidth:n,containerHeight:r,zoomLevel:s,onTagClick:a})}renderLayers(){const{snapshot:e,selectedLayer:t,destinationLayer:n,parentLayer:r,onLayerEnter:o,onLayerLeave:s,edgesToMeasure:a}=this.props;return e.layers?i.h(d.default.Layers,{key:"layers",layers:e.layers,selectedLayerId:t?t._id:null,hoveredId:n?n._id:null,edgeDistanceMode:!!a,parentLayer:r,componentLayer:this.renderComponentLayer(),onLayerSelect:this.handleLayerSelect,onLayerEnter:o,onLayerLeave:s}):null}renderFlowLinks(){const{project:e,snapshot:t,flowLinksVisible:n}=this.props;return n&&t.links&&t.links.length?i.h(l.default,{key:"flowLinks",project:e,snapshot:t}):null}renderDotsContainer(){const{notesVisible:e,onCopyDotWebUrl:t,onCopyDotAppUri:n}=this.props;return e?i.h(a.default,{key:"dotsContainer",onCopyWebUrl:t,onCopyAppUri:n}):null}renderRulers(){const{selectedLayer:e}=this.props;return e?i.h(d.default.Rulers,{key:"rulers",x:e.absoluteRect.x,y:e.absoluteRect.y,width:e.absoluteRect.width,height:e.absoluteRect.height}):null}renderDistances(){const{selectedLayer:e,destinationLayer:t,parentLayer:n,percentageMode:r,edgesToMeasure:o}=this.props;return e&&(t||o&&o.length)?t?i.h(d.default.Distances.BetweenLayers,{key:"distances",sourceRect:e.absoluteRect,destRect:t.absoluteRect,percentageMode:r,parentRect:n?n.rect:null}):i.h(d.default.Distances.BetweenEdges,{key:"distances",sourceRect:e.absoluteRect,edgesToMeasure:o,percentageMode:r}):null}renderLayoutGrid(){const{layoutGridEnabled:e,zoomLevel:t,snapshot:n}=this.props;return e&&n.grid?i.h(c.default,{key:"layoutGrid",zoomLevel:t,width:n.width,height:n.height,grid:n.grid}):null}renderLayersAndDots(){const{flowLinksVisible:e}=this.props;return e?null:[this.renderDotsContainer(),this.renderLayers(),this.renderRulers(),this.renderDistances(),this.renderLayoutGrid()]}render(){const{snapshot:e,snapshot:{width:t,height:n},project:{type:r},remPreferences:o,zoomLevel:s,spacingTokens:a}=this.props;return i.h(d.default,{baseRef:this.handleSnapshotDetailRef,snapshot:e,platform:r,spacingTokens:a,remPreferences:o,style:{width:t*s,height:n*s},class:"screenSnapshotDetail"},this.renderScreenImage(),this.renderFlowLinks(),this.renderLayersAndDots())}}Screen.Loading=()=>i.h("div",{class:"screen loading"}),t.default=Screen},function(e,t,n){"use strict";n.r(t);var i=n(1472);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(114),o=n(44),s=n(42),a=n(1473),l=n(680),c=n(345),d=n(342),u=n(635),h=n(349),p=n(334);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends i.Component{constructor(e){super(e),b(this,"handleMenuOpen",e=>{const{barrelId:t,screenId:n}=this.state,i=Object(o.urlResolve)("project-screen",{url:{pid:t,sid:n},query:{did:e}});l.AppActions.generateShortlink(i),u.ScreenActions.openDotMenu()}),b(this,"handleCopyWebUrl",e=>{const{onCopyWebUrl:t}=this.props,{barrelId:n,screenId:i,shortlinks:r}=this.state,s=Object(o.urlResolve)("project-screen",{url:{pid:n,sid:i},query:{did:e}});t(r[s]||s)}),this.handleDelete=this.handleDelete.bind(this)}static calculateState(){const{loading:e,barrelId:t}=d.BarrelStore.getState();if(e)return{loading:e};const n=d.BarrelHelpers.findUser(),{statusFilter:i,colorFilter:o,flash:s,dotId:a,highlightedDots:c}=u.DotsStore.getState(),{noteMode:h,screenId:p}=u.ScreenStore.getState(),{dots:f=[]}=u.ScreenHelpers.getScreen()||{},b=f.filter(e=>Object(r.checkFilter)(e,i,o,n.user)).map(e=>{const{_id:t,status:n="open",color:i,comments:o}=e,s=m(e,["_id","status","color","comments"]),a=Object(r.getColorName)(i);return g(g({},s),{},{id:t,colorName:a,status:n,highlight:c.includes(t)})}),{shortlinks:y}=l.AppStore.getState();return{loading:e,barrelUser:n,dots:b,dotId:a,noteMode:h,flash:s,screenId:p,barrelId:t,shortlinks:y}}static getStores(){return[l.AppStore,d.BarrelStore,u.ScreenStore,u.DotsStore,c.ProjectsDataStore,h.UserStore]}handleCreate(e,t){u.ScreenActions.createNote({x:e,y:t})}handlePositionChange(e,t,n){u.ScreenActions.updateDotPosition({did:e,x:t,y:n,syncWithApi:!0})}handleStatusChange(e,t){u.ScreenActions.updateDotStatus({did:e,status:t,syncWithApi:!0})}handleDelete(e){const{barrelUser:t}=this.state,{creator:n}=u.ScreenHelpers.getDot({did:e})||{};let i;i=n?n._id===t.user._id?"Delete your note?":`Delete ${n.username}’s note?`:"Delete note?",s.create({title:i,message:"Deleted notes cannot be restored.",done:{name:"DELETE",cb(){u.ScreenActions.removeDot({did:e,syncWithApi:!0})}},cancel:{name:"CANCEL"}})}render(){const{onCopyAppUri:e}=this.props,{barrelUser:t,loading:n,dotId:r,dots:o,noteMode:s,flash:l}=this.state;return n?null:i.h(a.default,{dots:o,selectedDotId:r,noteMode:s,flash:l,barrelUser:t,onCopyWebUrl:this.handleCopyWebUrl,onCopyAppUri:e,onPositionChange:this.handlePositionChange,onStatusChange:this.handleStatusChange,onMenuOpen:this.handleMenuOpen,onClick:u.ScreenActions.selectDot,onCreate:this.handleCreate,onMoveThresholdExceed:u.ScreenActions.closeDotPopup,onAnimationEnd:u.ScreenActions.dotsFlashed,onDelete:this.handleDelete})}}t.default=Object(p.default)(y)},function(e,t,n){"use strict";n.r(t);var i=n(1474);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var i=n(1),r=n(1475),o=n(1478),s=n(62),a=n(11),l=n(24);n(1480);class c extends i.Component{constructor(e){super(e),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMoveBeforeThreshold=this.handleMouseMoveBeforeThreshold.bind(this),this.handleMouseMoveAfterThreshold=this.handleMouseMoveAfterThreshold.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleTransitionEnd=this.handleTransitionEnd.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleMenuClose=this.handleMenuClose.bind(this),this.handleDotClick=this.handleDotClick.bind(this),this.handleClick=this.handleClick.bind(this),this.state={movingDot:{},movedDot:!1,dotMenu:{},dotZIndex:11},this.clickedDotOriginX=null,this.clickedDotOriginY=null}isDragging(e){const{movingDot:{id:t}}=this.state;return e.id===t}isDraft(e){return e.includes("newDot")}isMoving(e){const{movingDot:{thresholdExceeded:t}}=this.state;return this.isDragging(e)&&t}isOverlapping(){if(document.elementsFromPoint){const e=this.nodeRefs.dragging.getBoundingClientRect(),t=document.elementsFromPoint(e.left+13,e.top+13);for(let n=0;n<t.length;n++)if(t[n].classList.contains("dot")&&t[n]!==this.nodeRefs.dragging)return!0;return!1}return this.comparePositions()}comparePositions(){const e=this.nodeRefs.dragging.getBoundingClientRect(),t=e.left+13,n=e.top+13,i=this.nodeRefs.base.children;for(let r=0;r<i.length&&i[r].classList.contains("dot");r++){const e=i[r].getBoundingClientRect();if(i[r]!==this.nodeRefs.dragging&&t>e.left&&t<e.right&&n>e.top&&n<e.bottom)return!0}return!1}handleContextMenu(e,t){const{onMenuOpen:n}=this.props;n(),this.setState({dotMenu:{id:t,origin:{x:e.clientX,y:e.clientY}}})}handleMenuClose(){this.setState({dotMenu:{}})}handleMouseDown(e,t){this.isDraft(t)||(this.clickedDotOriginX=e.clientX,this.clickedDotOriginY=e.clientY,this.setState({dotMenu:{},movingDot:{id:t,thresholdExceeded:!1}}),document.addEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseMoveBeforeThreshold(e){const{dots:t,onMoveThresholdExceed:n}=this.props,{movingDot:{id:i},movingDot:r}=this.state,o=Math.abs(e.clientX-this.clickedDotOriginX),s=Math.abs(e.clientY-this.clickedDotOriginY);if(Math.hypot(o,s)>4){n();const{x:e,y:o}=t.find(e=>e.id===i);this.setState({movingDot:Object.assign({},r,{x:e,y:o,thresholdExceeded:!0})}),document.removeEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.addEventListener("mousemove",this.handleMouseMoveAfterThreshold)}}handleMouseMoveAfterThreshold(e){e.preventDefault();const t=this.nodeRefs.base.getBoundingClientRect(),{movingDot:n}=this.state,i=Math.max(0,Math.min((e.clientX-t.left)/t.width,1)),r=Math.max(0,Math.min((e.clientY-t.top)/t.height,1)),o=this.isOverlapping();this.setState({movingDot:Object.assign({},n,{x:i,y:r,overlap:o})})}handleMouseUp(){document.removeEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.removeEventListener("mousemove",this.handleMouseMoveAfterThreshold),document.removeEventListener("mouseup",this.handleMouseUp),this.clickedDotOriginX=null,this.clickedDotOriginY=null;const{onPositionChange:e}=this.props,{movingDot:{id:t,thresholdExceeded:n,overlap:i,x:r,y:o},movingDot:s,dotZIndex:a}=this.state;n?i?this.setState({movingDot:Object.assign({},s,{revert:!0}),movedDot:!0}):(this.setState({movingDot:{},movedDot:!0,dotZIndex:a+1}),e(t,r,o)):this.setState({movingDot:{}})}handleTransitionEnd(){this.setState({movingDot:{}})}handleClick(e){const{noteMode:t,onCreate:n}=this.props;if(t){e.stopPropagation();const t=this.nodeRefs.base.getBoundingClientRect();n(Math.max(0,Math.min((e.clientX-t.left)/t.width,1)),Math.max(0,Math.min((e.clientY-t.top)/t.height,1)))}}handleDotClick(e){if(this.isDraft(e))return;const{onClick:t}=this.props,{movedDot:n}=this.state;n?this.setState({movedDot:!1}):t(e)}componentWillReceiveProps(e){const{dotMenu:{id:t}}=this.state,{dots:n}=this.props,{dots:i}=e;if(t){const e=n.find(e=>e.id===t),r=i.find(e=>e.id===t);r&&r.x===e.x&&r.y===e.y||this.setState({dotMenu:{}})}}componentDidUpdate(){const{dots:e}=this.props,{movingDot:{id:t,revert:n,x:i,y:r},movingDot:o}=this.state;if(n){const n=e.find(e=>t===e.id&&i!==e.x&&r!==e.y);n&&this.setState({movingDot:Object.assign({},o,{x:n.x,y:n.y})})}}componentWillUnmount(){document.removeEventListener("mousemove",this.handleMouseMoveBeforeThreshold),document.removeEventListener("mousemove",this.handleMouseMoveAfterThreshold),document.removeEventListener("mouseup",this.handleMouseUp)}renderDots(){const{dots:e,selectedDotId:t}=this.props,{movingDot:n,dotZIndex:o,dotMenu:s}=this.state;return e.map(e=>{const a=Object.assign({},e,{key:e.id,selected:t===e.id,zIndex:o,menuOpen:s.id===e.id,onClick:this.handleDotClick});return this.isMoving(e)?i.h(r.default,Object.assign({},a,{x:n.x,y:n.y,moving:!0,overlap:n.overlap,revert:n.revert,onTransitionEnd:n.revert?this.handleTransitionEnd:null,zIndex:o+5,draggingRef:Object(l.default)(this,"dragging")})):this.isDragging(e)?i.h(r.default,Object.assign({},a,{draggingRef:Object(l.default)(this,"dragging")})):i.h(r.default,Object.assign({},a,{onContextMenu:this.handleContextMenu,onMouseDown:this.handleMouseDown}))})}renderMenu(){const{dots:e,barrelUser:t,onStatusChange:n,onCopyWebUrl:r,onCopyAppUri:a,onDelete:l,onMenuOpen:c}=this.props,{dotMenu:{id:d,origin:u},dotZIndex:h}=this.state;if(!d)return null;const p=e.find(e=>e.id===d);if(!p)return null;const f=p.creator&&p.creator._id===t.user._id||s.permissions.canRemoveNotes(t);return i.h(o.default,{key:"dotmenu",id:d,status:p.status,canDelete:f,autoPosition:{sidebar:".sidebar.screenSidebar",menuContainer:".dots",clickOrigin:u,zIndex:h},onClose:this.handleMenuClose,onOpen:c,onStatusChange:n,onCopyWebUrl:r,onCopyAppUri:a,onDelete:l})}render(){const{noteMode:e,flash:t,onAnimationEnd:n}=this.props,r=Object(a.default)("dots",{noteMode:e});return i.h("div",{class:r,ref:Object(l.default)(this,"base"),onClick:this.handleClick},this.renderDots(),this.renderMenu(),t&&i.h("div",{key:"flash",class:"flash",onAnimationEnd:n}))}}},function(e,t,n){"use strict";n.r(t);var i=n(1476);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(11),a=n(340);n(1477);class l extends a.default{constructor(e){super(e),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleClick=this.handleClick.bind(this),this.handleTransitionEnd=this.handleTransitionEnd.bind(this)}handleClick(e){e.stopPropagation();const{id:t,onClick:n}=this.props;n(t)}handleMouseDown(e){if(e.button!==Zeplin.MOUSE_BUTTON.LEFT)return;const{id:t,onMouseDown:n}=this.props;n(e,t)}handleContextMenu(e){e.preventDefault();const{id:t,onContextMenu:n}=this.props;n&&n(e,t)}handleTransitionEnd(e){e.stopPropagation();const{onTransitionEnd:t}=this.props;t&&t()}render(){const{id:e,name:t,colorName:n,x:r,y:o,status:a="open",highlight:l,moving:c,overlap:d,revert:u,selected:h,menuOpen:p,zIndex:f,draggingRef:g}=this.props,m=`calc(${100*r}% - 13px)`,b=`calc(${100*o}% - 13px)`,y=Object(s.default)("dot",n,a,{highlight:l,moving:c,menuOpen:p,overlap:d,revert:u,selected:h});return i.h("div",{class:y,ref:g,"data-id":e,"data-color":n,"data-position":r<=.5?"left":"right",style:{left:m,top:b,zIndex:f},onMouseDown:this.handleMouseDown,onTransitionEnd:this.handleTransitionEnd,onContextMenu:this.handleContextMenu,onClick:this.handleClick},t||"?")}}l.propTypes={id:o.a.string,name:o.a.string,colorName:o.a.string,x:o.a.number,y:o.a.number,status:o.a.oneOf(["open","resolved"]),moving:o.a.bool,menuOpen:o.a.bool,zIndex:o.a.number},l.defaultProps={moving:!1,overlap:!1,revert:!1,selected:!1},t.default=l},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1479);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1057);class o extends i.Component{constructor(e){var t,n,i;super(e),i=()=>{const{onOpen:e,id:t}=this.props;e(t)},(n="handleMenuOpen")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.handleStatusChange=this.handleStatusChange.bind(this),this.handleCopyWebUrl=this.handleCopyWebUrl.bind(this),this.handleCopyAppUri=this.handleCopyAppUri.bind(this),this.handleDelete=this.handleDelete.bind(this)}handleStatusChange(e){e.stopPropagation();const{id:t,status:n,onStatusChange:i}=this.props;i(t,"open"===n?"resolved":"open")}handleCopyWebUrl(e){e.stopPropagation();const{id:t,onCopyWebUrl:n}=this.props;n(t)}handleCopyAppUri(e){e.stopPropagation();const{id:t,onCopyAppUri:n}=this.props;n(t)}handleDelete(e){e.stopPropagation();const{id:t,onDelete:n}=this.props;n(t)}render(){const{status:e,canDelete:t,autoPosition:n,onClose:o}=this.props;return i.h(r.default.withAutoPosition,{onClose:o,onOpen:this.handleMenuOpen,autoPosition:n},i.h(r.default.Item,{onClick:this.handleStatusChange},"open"===e?"Resolve":"Reopen"),i.h(r.default.ItemDivider,null),i.h(r.default.Item,{onClick:this.handleCopyWebUrl},"Copy web link"),i.h(r.default.Item,{onClick:this.handleCopyAppUri},"Copy App URI"),t&&i.h(r.default.ItemDivider,null),t&&i.h(r.default.Item,{warning:!0,onClick:this.handleDelete},"Delete note"))}}t.default=o},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1482);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(44),o=n(106),s=n(1483);n(1486);t.default=function(e){const{project:t,snapshot:{_id:n,links:a,width:l,height:c}}=e,d=a.map((e,a)=>{const{rect:{x:d,y:u,width:h,height:p},destination:{type:f,name:g}}=e;let m;if("screen"===f){const e=t.screens.find(e=>e.name===g);if(!e)return null;m=Object(r.urlResolve)("project-screen",{url:{pid:t.id,sid:e._id}})}const b=Object(o.toPercentage)(h,l),y=Object(o.toPercentage)(p,c),S=Object(o.toPercentage)(d,l),v=Object(o.toPercentage)(u,c);return i.h(s.default,{key:`${t.id}-${n}-link-${a}`,style:{width:b,height:y,top:v,left:S},type:f,to:m})}).filter(Boolean);return i.h("div",{class:"flowLinks"},d)}},function(e,t,n){"use strict";n.r(t);var i=n(1484);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(1);n(1485);function r({style:e,type:t,to:n}){const r="previous"===t?"pop":"replace",o="previous"===t?"#":n;return i.h("a",{href:o,class:"flowLink",style:e,"data-link-type":"inApp","data-nav-op":r,"data-flow-nav":!0})}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1488);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(340),a=n(24);n(1489);class l extends s.default{toDeviceDimen(e){const{zoomLevel:t}=this.props;return e*t}drawGrid(){const{width:e,height:t,grid:n}=this.props,i=this.nodeRefs.canvas,r=i.getContext("2d");r.clearRect(0,0,i.width,i.height),i.width=this.toDeviceDimen(e),i.height=this.toDeviceDimen(t);let o="rgba(238, 103, 35, 0.3)";if(n.vertical){let e,t=n.vertical,s=this.toDeviceDimen(t.columnWidth+t.gutterWidth),a=t.numberOfCols,l=this.toDeviceDimen(n.horizontalOffset+(t.guttersOnOutside?t.gutterWidth/2:0));n.horizontal&&!n.horizontal.gutterHeight||!n.vertical.gutterWidth?(o="rgba(0, 255, 255, 0.7)",e=1):e=this.toDeviceDimen(t.columnWidth),a=1===e?a+1:a,r.fillStyle=o;let c=l;for(let n=0;n<a;n++)r.fillRect(c,0,e,i.height),c+=s}if(n.horizontal){let e,t=n.horizontal,s=this.toDeviceDimen(t.rowHeight+t.gutterHeight),a=Math.round(i.height/s),l=0|this.toDeviceDimen(n.horizontalOffset);n.vertical&&!n.vertical.gutterWidth||!n.horizontal.gutterHeight?(o="rgba(0, 255, 255, 0.7)",e=1):e=this.toDeviceDimen(t.rowHeight),a=i.height-a*s>s-e?a+1:a,r.fillStyle=o;let c=1===e?s:0;for(let n=0;n<a;n++)r.fillRect(l,c,i.width-2*l,e),c+=s}}componentDidMount(){this.drawGrid()}componentDidUpdate(){this.drawGrid()}render(){return i.h("div",{class:"layoutGridContainer"},i.h("canvas",{ref:Object(a.default)(this,"canvas"),width:"100%",height:"100%"}))}}l.propTypes={height:o.a.number.isRequired,width:o.a.number.isRequired,grid:o.a.shape({horizontalOffset:o.a.number,vertical:o.a.shape({gutterWidth:o.a.number,columnWidth:o.a.number,numberOfCols:o.a.number,guttersOnOutside:o.a.bool}),horizontal:o.a.shape({gutterHeight:o.a.number,rowHeight:o.a.number})})},t.default=l},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1491);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11),o=n(1492),s=n(1495),a=n(1498),l=n(1504),c=n(1506);class d extends i.Component{getChildContext(){const{snapshot:e,platform:t,spacingTokens:n,remPreferences:i}=this.props;return{snapshot:e,platform:t,spacingTokens:n,remPreferences:i}}render(){const{baseRef:e,class:t,style:n,children:o,onClick:s}=this.props;return i.h("div",{ref:e,class:Object(r.default)("snapshotDetail",t),style:n,onClick:s},o)}}d.Layers=a.default,d.Rulers=s.default,d.Distances=o,d.Image=l.default,d.ComponentLayer=c.default,t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1493);n.d(t,"BetweenEdges",(function(){return i.BetweenEdges})),n.d(t,"BetweenLayers",(function(){return i.BetweenLayers}))},function(e,t,n){"use strict";n.r(t),n.d(t,"BetweenEdges",(function(){return m})),n.d(t,"BetweenLayers",(function(){return g}));var i=n(1),r=n(106),o=n(19),s=n(118),a=n(11),l=n(20);n(1494);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){const{style:t,side:n}=e,r=["left","right"].includes(n)?"top":"left";return i.h("div",{class:"spacingHighlight",style:d(d({},t),{},{[r]:0})})}function p(e){const{style:t,side:n,value:r,matchedSpacingTokens:o,showVerticalLabelOnLeft:s,showHorizontalLabelOnBottom:l}=e,c=["left","right"].includes(n)?"horizontal":"vertical",d=Object(a.default)("distance",c,{onLeft:"vertical"===c&&s,onBottom:"horizontal"===c&&l});return i.h("div",{class:d,style:t},i.h("div",{class:"value"},Boolean(o.length)&&[i.h("div",{key:"spacingTokenNames"},o.map(({_id:e,token:t})=>i.h("span",{key:e,class:"spacingTokenName ellipsis"},t))),i.h("div",{key:"valueDivider",class:"valueDivider"})],i.h("span",null,r)))}function f(e){const{measurements:t}=e,{platform:n,spacingTokens:a,remPreferences:c,densityScale:u,dimensionSuffix:f}=this.context,g="web"===n&&"enabled"===c.status&&c.useForMeasurements,{topDistanceAmount:m,rightDistanceAmount:b,bottomDistanceAmount:y,leftDistanceAmount:S}=t,v=null===b&&null!==m&&null!==y&&null!==S,C=null===m&&null!==b&&null!==y&&null!==S,O=["top","right","bottom","left"].map(e=>{if(null===t[e+"DistanceAmount"])return null;const{[e+"DistanceTop"]:n,[e+"DistanceLeft"]:m,[e+"DistanceAmount"]:b,[e+"DistanceValue"]:y,[e+"DistanceValuePercentage"]:S}=t,O=Object(r.round)(y/u,1),E={top:n,left:m,[["left","right"].includes(e)?"width":"height"]:b};let T=[],D=S;if(!S){const e=1===a.length&&O<=144&&O%a[0].value==0&&O!==a[0].value;T=Object(s.removeDuplicatesFromArrayOfObjects)(a.filter(e=>e.value===O),"token"),e&&T.push(d(d({},a[0]),{},{_id:Object(o.getRandomString)(24),value:O,token:`${O/a[0].value} ${a[0].token}`})),D=g?Object(r.toRemSize)(y/u,c.remRootFontSize):O+f}return[Boolean(T.length)&&i.h(h,{style:d(d({},E),{},{backgroundColor:new l.default(T[0].color).toRGBAString()}),side:e}),i.h(p,{key:e+"-distance",style:E,side:e,value:D,matchedSpacingTokens:T,showVerticalLabelOnLeft:v,showHorizontalLabelOnBottom:C})]},this);return O.filter(Boolean).length?i.h("div",{class:"distances"},O):null}class g extends i.Component{_measureHorizontal(e,t,n,i){const{snapshot:{width:o}}=this.context,s=e.x,a=s+e.width,l=t.x,c=l+t.width;let d=!1,u=null,h=null,p=null,f=null,g=null,m=null,b=null,y=null,S=null,v=null,C=null,O=null;return c<s?(C=s-c,b=Object(r.toPercentage)(c,o)):l<s&&c>a?(C=s-l,b=Object(r.toPercentage)(l,o),O=c-a,h=Object(r.toPercentage)(a,o),u=Object(r.toPercentage)((s+a)/2,o),m=Object(r.toPercentage)((s+a)/2,o),d=!0):l>s&&c<a?(C=l-s,b=Object(r.toPercentage)(s,o),O=a-c,h=Object(r.toPercentage)(c,o)):c>s&&c<a?(C=s-l,b=Object(r.toPercentage)(l,o),c-s>7&&(u=Object(r.toPercentage)((c+s)/2,o),m=Object(r.toPercentage)((c+s)/2,o),d=!0)):l>s&&l<a?(C=l-s,b=Object(r.toPercentage)(s,o),a-l>7&&(u=Object(r.toPercentage)((l+a)/2,o),m=Object(r.toPercentage)((l+a)/2,o),d=!0)):l>a&&(O=l-a,h=Object(r.toPercentage)(a,o)),C&&(y=Object(r.toPercentage)(C,o),S=C,n&&(v=Object(r.percentageLength)(C,i.width))),O&&(p=Object(r.toPercentage)(O,o),f=O,n&&(g=Object(r.percentageLength)(O,i.width))),d||(u=Object(r.toPercentage)((l+c)/2,o),m=Object(r.toPercentage)((l+c)/2,o)),{topDistanceLeft:u,rightDistanceLeft:h,rightDistanceAmount:p,rightDistanceValue:f,rightDistanceValuePercentage:g,bottomDistanceLeft:m,leftDistanceLeft:b,leftDistanceAmount:y,leftDistanceValue:S,leftDistanceValuePercentage:v}}_measureVertical(e,t,n,i){const{snapshot:{height:o}}=this.context,s=e.y,a=s+e.height,l=t.y,c=l+t.height;let d=!1,u=null,h=null,p=null,f=null,g=null,m=null,b=null,y=null,S=null,v=null,C=null,O=null;return c<s?(C=s-c,u=Object(r.toPercentage)(c,o)):l<s&&c>a?(C=s-l,u=Object(r.toPercentage)(l,o),O=c-a,S=Object(r.toPercentage)(a,o),v=Object(r.toPercentage)((s+a)/2,o),g=Object(r.toPercentage)((s+a)/2,o),d=!0):l>s&&c<a?(C=l-s,u=Object(r.toPercentage)(s,o),O=a-c,S=Object(r.toPercentage)(c,o)):c>s&&c<a?(C=s-l,u=Object(r.toPercentage)(l,o),c-s>7&&(v=Object(r.toPercentage)((c+s)/2,o),g=Object(r.toPercentage)((c+s)/2,o),d=!0)):l>s&&l<a?(C=l-s,u=Object(r.toPercentage)(s,o),a-l>7&&(v=Object(r.toPercentage)((l+a)/2,o),g=Object(r.toPercentage)((l+a)/2,o),d=!0)):l>a&&(O=l-a,S=Object(r.toPercentage)(a,o)),C&&(h=Object(r.toPercentage)(C,o),p=C,n&&(f=Object(r.percentageLength)(C,i.height))),O&&(m=Object(r.toPercentage)(O,o),b=O,n&&(y=Object(r.percentageLength)(O,i.height))),d||(v=Object(r.toPercentage)((l+c)/2,o),g=Object(r.toPercentage)((l+c)/2,o)),{topDistanceTop:u,topDistanceAmount:h,topDistanceValue:p,topDistanceValuePercentage:f,rightDistanceTop:g,bottomDistanceAmount:m,bottomDistanceValue:b,bottomDistanceValuePercentage:y,bottomDistanceTop:S,leftDistanceTop:v}}measure(){const{sourceRect:e,destRect:t,percentageMode:n,parentRect:i}=this.props;return Object.assign(this._measureHorizontal(e,t,n,i),this._measureVertical(e,t,n,i))}render(){return i.h(f,{measurements:this.measure()})}}class m extends i.Component{_measureEdges(e,t){const{snapshot:{width:n,height:i}}=this.context,{edgesToMeasure:o}=this.props,s=e.x,a=s+e.width,l=e.y,c=l+e.height;let d=null,u=null,h=null,p=null,f=null,g=null,m=null,b=null,y=null,S=null,v=null,C=null,O=null,E=null,T=null,D=null,k=null,w=null,_=null,j=null;return o.includes("left")&&(d=0,h=Object(r.toPercentage)(s,n),u=Object(r.toPercentage)((l+c)/2,i),p=s,t&&(f=Object(r.percentageLength)(s,n))),o.includes("top")&&(m=0,b=Object(r.toPercentage)(l,i),g=Object(r.toPercentage)((s+a)/2,n),y=l,t&&(S=Object(r.percentageLength)(l,i))),o.includes("right")&&(v=Object(r.toPercentage)(a,n),O=Object(r.toPercentage)(n-a,n),C=Object(r.toPercentage)((l+c)/2,i),E=n-a,t&&(T=Object(r.percentageLength)(E,n))),o.includes("bottom")&&(_=Object(r.toPercentage)(c,i),D=Object(r.toPercentage)(i-c,i),j=Object(r.toPercentage)((s+a)/2,n),k=i-c,t&&(w=Object(r.percentageLength)(k,i))),{leftDistanceLeft:d,leftDistanceTop:u,leftDistanceAmount:h,leftDistanceValue:p,leftDistanceValuePercentage:f,topDistanceLeft:g,topDistanceTop:m,topDistanceAmount:b,topDistanceValue:y,topDistanceValuePercentage:S,rightDistanceLeft:v,rightDistanceTop:C,rightDistanceAmount:O,rightDistanceValue:E,rightDistanceValuePercentage:T,bottomDistanceLeft:j,bottomDistanceTop:_,bottomDistanceAmount:D,bottomDistanceValue:k,bottomDistanceValuePercentage:w}}measure(){const{sourceRect:e,percentageMode:t}=this.props;return this._measureEdges(e,t)}render(){return i.h(f,{measurements:this.measure()})}}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1496);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(106);n(1497);t.default=function(e){const{x:t,y:n,width:o,height:s}=e,{snapshot:{width:a,height:l}}=this.context,c=Object(r.toPercentage)(n,l),d=Object(r.toPercentage)(t+o,a),u=Object(r.toPercentage)(n+s,l),h=Object(r.toPercentage)(t,a);return i.h("div",{class:"rulers"},i.h("div",{style:{top:c},class:"ruler horizontal"}),i.h("div",{style:{left:`calc(${d} - 1px)`},class:"ruler vertical"}),i.h("div",{style:{top:`calc(${u} - 1px)`},class:"ruler horizontal"}),i.h("div",{style:{left:h},class:"ruler vertical"}))}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1499);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1500),o=n(24),s=n(62);n(1503);const a=()=>{};class l extends i.Component{constructor(e){super(e),this.processLayers=this.processLayers.bind(this),this.positionLayerWidth=this.positionLayerWidth.bind(this),this.state={layerWidthOnBottom:!1}}processLayers(e){const{onLayerSelect:t,onLayerEnter:n,onLayerLeave:s,edgeDistanceMode:l,selectedLayerId:c,hoveredId:d,parentLayer:u}=this.props,{snapshot:h,densityScale:p,dimensionSuffix:f}=this.context,{layerWidthOnBottom:g}=this.state,m=!!c&&c===e._id,b=m&&!l&&(!d||d===e._id),y=i.h(r.default,{key:e._id,selectedLayerRef:b?Object(o.default)(this,"selectedLayer"):a,layerWidthRef:b?Object(o.default)(this,"layerWidth"):a,showWidthLabelOnBottom:g,selected:m,shouldRenderDimensions:b,parentLayer:u,container:h,data:e,densityScale:p,dimensionSuffix:f,onSelect:t,onEnter:n,onLeave:s});if("group"===e.type){let t=[];return"bottom"===e.interactionLevel&&t.push(y),t=t.concat(...e.layers.map(this.processLayers)),"top"===e.interactionLevel&&t.push(y),t}return[y]}positionLayerWidth(){const{selectedLayerId:e,componentLayer:t}=this.props,{layerWidthOnBottom:n}=this.state;if(e&&t&&this.nodeRefs){const{componentLayerTag:e,layerWidth:t,selectedLayer:i}=this.nodeRefs;if(!e||!t||!i)return;const r=t.getBoundingClientRect(),o=i.getBoundingClientRect(),a=e.getBoundingClientRect();if(n){const e=new DOMRect(r.x,o.y-24,r.width,r.height);Object(s.rectanglesIntersect)(e,a)||this.setState({layerWidthOnBottom:!1})}else{const e=Object(s.rectanglesIntersect)(r,a);e&&this.setState({layerWidthOnBottom:e})}}}componentDidUpdate(){this.positionLayerWidth()}render(){const{layers:e,componentLayer:t}=this.props;return i.h("div",{class:"layers"},[].concat(...e.map(this.processLayers)),i.cloneElement(t,{componentLayerTagRef:Object(o.default)(this,"componentLayerTag")}))}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1501);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(106),o=n(11),s=n(340);n(1502);class Layer extends s.default{constructor(e){super(e),this.clickHandler=this.clickHandler.bind(this),this.mouseEnterHandler=this.mouseEnterHandler.bind(this)}shouldRenderHitRegion(){const{selected:e,data:{rect:{width:t,height:n}}}=this.props;return!e&&(t<3||n<3)}clickHandler(e){const{data:t,onSelect:n}=this.props;n(e,t)}mouseEnterHandler(){const{data:e,onEnter:t}=this.props;t&&t(e)}renderCornerCircles(){return[i.h("div",{key:"tl",class:"cornerCircle topLeftCircle"}),i.h("div",{key:"tr",class:"cornerCircle topRightCircle"}),i.h("div",{key:"br",class:"cornerCircle bottomRightCircle"}),i.h("div",{key:"bl",class:"cornerCircle bottomLeftCircle"})]}renderEdgeCircles(){const{data:{rect:{width:e,height:t}}}=this.props,n=[];return e>120&&n.push(i.h("div",{key:"tc",class:"edgeCircle horizontalEdgeCircle topCircle"}),i.h("div",{key:"bc",class:"edgeCircle horizontalEdgeCircle bottomCircle"})),t>120&&n.push(i.h("div",{key:"rc",class:"edgeCircle verticalEdgeCircle rightCircle"}),i.h("div",{key:"lc",class:"edgeCircle verticalEdgeCircle leftCircle"})),n}renderHitRegion(){const{data:{rect:{width:e,height:t}}}=this.props,n=e<3,r=t<3,o=n?"calc(100% + 12px)":"100%",s=r?"calc(100% + 12px)":"100%",a=n?"-6px":"0",l=r?"-6px":"0";return i.h("div",{key:"hitRegion",class:"hitRegion",style:{width:o,height:s,top:a,left:l}})}renderLayerDimensions(){const{parentLayer:e,data:{rect:{width:t,height:n}},densityScale:s,dimensionSuffix:a,showWidthLabelOnBottom:l,layerWidthRef:c}=this.props,{platform:d,remPreferences:u}=this.context,h=Object(o.default)("layerWidth",{showOnBottom:l}),p="web"===d&&"enabled"===u.status&&u.useForMeasurements;return e?[i.h("div",{key:"layerWidth",ref:c,class:h},Object(r.percentageLength)(t,e.rect.width)),i.h("div",{key:"layerHeight",class:"layerHeight"},Object(r.percentageLength)(n,e.rect.height))]:[i.h("div",{key:"layerWidth",ref:c,class:h},p?Object(r.toRemSize)(t/s,u.remRootFontSize):Object(r.round)(t/s,1)+a),i.h("div",{key:"layerHeight",class:"layerHeight"},p?Object(r.toRemSize)(n/s,u.remRootFontSize):Object(r.round)(n/s,1)+a)]}render(){const{selected:e,parentLayer:t,data:{_id:n,rect:{width:s,height:a},absoluteRect:{x:l,y:c}},container:d,onLeave:u,shouldRenderDimensions:h,selectedLayerRef:p}=this.props,f={width:Object(r.toPercentage)(s,d.width),height:Object(r.toPercentage)(a,d.height),left:Object(r.toPercentage)(l,d.width),top:Object(r.toPercentage)(c,d.height)};return i.h("div",{class:Object(o.default)("zplLayer",{selected:e}),style:f,ref:p,onClick:this.clickHandler,onMouseEnter:this.mouseEnterHandler,onMouseLeave:u},h&&this.renderLayerDimensions(),e&&this.renderCornerCircles(),e&&this.renderEdgeCircles(),this.shouldRenderHitRegion()&&this.renderHitRegion(),t&&t._id===n&&i.h("div",{class:"parent"}))}}t.default=Layer},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1505);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1);class r extends i.Component{constructor(e){super(e),this.state={src:null}}componentDidMount(){const{snapshot:{url:e}}=this.context;this.setState({src:e})}componentWillReceiveProps(e,t){const{src:n}=this.state;n!==t.snapshot.url&&this.setState({src:t.snapshot.url})}render(){const{class:e,style:t,onError:n}=this.props,{src:r}=this.state,{snapshot:{width:o,height:s}}=this.context;return i.h("img",{class:e,style:t,width:o,height:s,src:r,crossOrigin:"anonymous",onError:n})}}t.default=r},function(e,t,n){"use strict";n.r(t);var i=n(1507);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(228),o=n(96),s=n(44),a=n(106);n(1508);class l extends i.Component{constructor(e){super(e),this.handleTagClick=this.handleTagClick.bind(this)}handleTagClick(){const{onTagClick:e}=this.props;e&&e()}render(){const{barrelId:e,barrelType:t,containerName:n,componentLayer:l,containerWidth:c,containerHeight:d,zoomLevel:u,componentLayerTagRef:h}=this.props;if(!l)return null;const{_id:p,name:f,rect:{width:g,height:m,x:b,y:y}}=l,S=t===o.default.PROJECT?"project-styleguide-components":"styleguide-components",v=Object(s.urlResolve)(S,{url:{bid:e},query:{coid:p}}),C={width:Object(a.toPercentage)(g,c),height:Object(a.toPercentage)(m,d),left:Object(a.toPercentage)(b,c),top:Object(a.toPercentage)(y,d)},O=Math.min(g*u,240);return i.h("div",{class:"componentLayer",style:C},i.h("a",{ref:h,href:v,style:{maxWidth:O},title:f,onClick:this.handleTagClick,"data-link-type":"inApp","data-back":n},O>62&&i.h("span",{class:"componentLayerName ellipsis"},f),i.h(r.IconGoTo,{width:"12",height:"12",color:"#fff"})))}}l.defaultProps={zoomLevel:1},t.default=l},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1511);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(1512),a=n(1515),l=n(1518),c=n(1521),d=n(1524),u=n(65);n(1526);const h=u.default.featureValue("popout");function p(e){return i.h("div",{class:"widgets"},i.h("div",{class:"widgetGroup"},function(e){const{versionsVisible:t,hasNewVersions:n,onVersionsToggleClick:r}=e;return t?null:i.h(s.default,{onClick:r,hasNewVersions:n})}(e),function(e){const{zoomLevel:t,onZoomIn:n,onZoomOut:r,onZoomChange:o}=e;return i.h(a.default,{value:t,onZoomIn:n,onZoomOut:r,onChange:o})}(e),function(e){const{onPopoutWidgetClick:t}=e;return u.default.isWindowsApp?i.h(l.default,{disabled:!h,onClick:t}):null}(e)),i.h("div",{class:"widgetGroup"},function(e){const{latestVersionSelected:t,notesVisible:n,onAddNoteWidgetClick:r,onNotesVisibilityChange:o}=e;return t?i.h(i.Fragment,null,i.h(c.default,{onClick:r}),i.h(d.default,{notesVisible:n,onChange:o})):null}(e)))}p.propTypes={latestVersionSelected:o.a.bool.isRequired,versionsVisible:o.a.bool.isRequired,hasNewVersions:o.a.bool.isRequired,onVersionsToggleClick:o.a.func.isRequired,zoomLevel:o.a.number.isRequired,onZoomIn:o.a.func.isRequired,onZoomOut:o.a.func.isRequired,onZoomChange:o.a.func.isRequired,onPopoutWidgetClick:o.a.func.isRequired,onAddNoteWidgetClick:o.a.func.isRequired,notesVisible:o.a.bool.isRequired,onNotesVisibilityChange:o.a.func.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(1513);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(11),a=n(18);n(1514);function l(e){const{hasNewVersions:t,onClick:n}=e;return i.h("button",{class:Object(s.default)("versionsToggleWidget","widget",{hasNewVersions:t}),onClick:n},i.h("img",{src:Object(a.imageUrl)("img/icHourglass.svg"),alt:"⌛"}))}l.propTypes={hasNewVersions:o.a.bool.isRequired,onClick:o.a.func.isRequired},t.default=l},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1516);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(9),a=n(641);n(1517);class l extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){e.stopPropagation();const{onChange:t}=this.props;t(parseFloat(e.target.value))}render(){const{value:e,onZoomIn:t,onZoomOut:n}=this.props;return i.h("div",{class:"zoomWidget widget"},i.h(s.default,{disabled:e<=a.ZOOM_LEVEL_MIN,onClick:n},i.h("div",{class:"minus"})),i.h("select",{id:"zoomDropdown",onChange:this.handleChange},a.default.map(t=>i.h("option",{key:t,value:t,selected:e===t},100*t,"%"))),i.h("label",{for:"zoomDropdown"},(100*e).toFixed()),i.h(s.default,{disabled:e>=a.ZOOM_LEVEL_MAX,onClick:t},i.h("div",{class:"plus"})))}}l.propTypes={value:o.a.number.isRequired,onZoomIn:o.a.func.isRequired,onZoomOut:o.a.func.isRequired,onChange:o.a.func.isRequired},t.default=l},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1519);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(228),a=n(630),l=n(11);n(1520);function c(e){const{disabled:t,onClick:n}=e;return i.h(a.default,{targetClass:"widget",content:t?"Pop out only works on Aero themes, please update your theme.":"Pop screen out"},i.h("button",{class:Object(l.default)("popoutWidget",{disabled:t}),onClick:t?null:n},i.h(s.IconPopout,null)))}c.propTypes={disabled:o.a.bool.isRequired,onClick:o.a.func.isRequired},t.default=c},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1522);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(228);n(1523);class a extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){e.stopPropagation(),this.props.onClick()}render(){return i.h("button",{class:"widget addNoteWidget",onClick:this.handleClick},i.h(s.IconAdd,null))}}a.propTypes={onClick:o.a.func.isRequired},t.default=a},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(313),a=n(340);n(1525);class l extends a.default{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){const{onChange:t}=this.props;t(e.target.checked)}render(){const{notesVisible:e}=this.props;return i.h("label",{for:"maymusCheckbox",class:"toggleNotesWidget widget"},i.h("span",null,"Notes"),i.h("input",{type:"checkbox",name:"maymusCheckbox",id:"maymusCheckbox",checked:e,onChange:this.handleChange}),i.h(s.default,{asset:e?"img/icMaymusOpen.png":"img/icMaymusClosed.png"}))}}l.propTypes={notesVisible:o.a.bool.isRequired,onChange:o.a.func.isRequired},t.default=l},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1529);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(334),o=n(342),s=n(635),a=n(345),l=n(346),c=n(473),d=n(349),u=n(1530),h=n(1644),p=n(1370),f=n(42),g=n(62),m=n(11),b=n(24),y=n(56),S=n(61),v=n(654),C=n(1250);n(1679);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends i.Component{constructor(...e){super(...e),E(this,"state",{scrollDisabled:!1}),E(this,"enableScroll",()=>{this.setState({scrollDisabled:!1})}),E(this,"disableScroll",()=>{this.setState({scrollDisabled:!0})}),E(this,"handleAddColorClick",e=>{o.BarrelActions.addColor({color:e,syncWithApi:!0}),Object(S.default)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"screenSidebarAddColor"})}),E(this,"handleColorNameChange",(e,t)=>{const{styleguidesData:[{colors:n}]}=this.state;if(n.find(e=>e.name===t))return f.create({title:t+" already exists",message:"Please enter another name for this color.",done:{name:"GOT IT"}}),void this.forceUpdate();o.BarrelActions.updateColor({cid:e,colorData:{name:t},syncWithApi:!0})}),E(this,"handleRemoveColorClick",e=>{o.BarrelActions.removeColor({cid:e,syncWithApi:!0})}),E(this,"handleAddTextStyleClick",e=>{o.BarrelActions.addTextStyle({textStyle:e,syncWithApi:!0}),Object(S.default)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"screenSidebarAddTextStyle"})}),E(this,"handleTextStyleNameChange",(e,t)=>{const{styleguidesData:[{textStyles:n}]}=this.state;if(n.some(e=>e.name===t))return f.create({title:t+" already exists",message:"Please enter another name for this text style.",done:{name:"GOT IT"}}),void this.forceUpdate();o.BarrelActions.updateTextStyle({tsid:e,textStyleData:{name:t},syncWithApi:!0})}),E(this,"handleRemoveTextStyleClick",e=>{o.BarrelActions.removeTextStyle({tsid:e,syncWithApi:!0})}),E(this,"handleRequestOrgInviteClick",()=>{const{organizationId:e}=this.state;c.OrganizationActions.requestInvite(e,this.nodeRefs.sidebar)}),E(this,"handleCopyCode",(e,t,n)=>{const{platform:i}=this.state;s.ScreenActions.copyCode({code:e,toastContainer:this.nodeRefs.sidebar,platform:i,extensionFunction:t,extensionId:n})}),E(this,"handleCopy",e=>{Object(y.copyContent)({content:e,toastContainer:this.nodeRefs.sidebar})})}getHandlers(){return{onCopy:this.handleCopy,onCopyCode:this.handleCopyCode,onAddColorClick:this.handleAddColorClick,onColorNameChange:this.handleColorNameChange,onRemoveColorClick:this.handleRemoveColorClick,onAddTextStyleClick:this.handleAddTextStyleClick,onTextStyleNameChange:this.handleTextStyleNameChange,onRemoveTextStyleClick:this.handleRemoveTextStyleClick}}static getStores(){return[o.BarrelStore,s.ScreenStore,a.ProjectsDataStore,l.StyleguidesDataStore,d.UserStore]}static calculateState(){const{loading:e,barrelType:t,barrelId:n,organizationId:i}=o.BarrelStore.getState();if(e)return{loading:!0};const r=o.BarrelHelpers.getBarrel(),c=o.BarrelHelpers.findUser(),{screenId:d,loadingVersions:u,versionId:h,latestVersionSelected:p,selectedLayer:f,screenSidebarWidth:g}=s.ScreenStore.getState();if(u&&!p)return{loading:!0};const m=s.ScreenHelpers.getScreen(),b=s.ScreenHelpers.getVersion({sid:d,vid:h}),y=Object(v.findCoveringLink)(r,b,f),S=new C.default(r),O=o.BarrelHelpers.getStyleguidesData({barrelStore:o.BarrelStore,styleguidesDataStore:l.StyleguidesDataStore,projectsDataStore:a.ProjectsDataStore});return{loading:!1,barrelType:t,barrelId:n,barrelUser:c,organizationId:i,platform:r.type,flowLink:y,formatter:S,screenId:d,screen:m,version:b,selectedLayer:f,sidebarWidth:g,styleguidesData:O}}getChildContext(){const{barrelType:e,barrelId:t,barrelUser:n={},platform:i}=this.state;return{barrelType:e,barrelId:t,projectId:t,platform:i,projectType:i,barrelUser:n,userRole:n.role,permissions:{canManageColors:g.permissions.canManageColors(n),canManageScreens:g.permissions.canManageColors(n),canManageTextStyles:g.permissions.canManageTextStyles(n)},enableScroll:this.enableScroll,disableScroll:this.disableScroll}}renderLayerDetail(){const{screen:e,version:t,selectedLayer:n,flowLink:r,formatter:o}=this.state;return i.h(u.default,O({layer:n,layerContainer:e,version:t,flowLink:r,formatter:o},this.getHandlers(),{onCloseClick:s.ScreenActions.deselectLayer}))}renderResourceView(){const{formatter:e}=this.state;return i.h(h.default,O({formatter:e,onRequestOrgInviteClick:this.handleRequestOrgInviteClick},this.getHandlers()))}render(){const{loading:e,selectedLayer:t,sidebarWidth:n,scrollDisabled:r}=this.state;return e?i.h(p.default.Loading,null):i.h(p.default,{baseRef:Object(b.default)(this,"sidebar"),class:"screenSidebar",resizingSide:"left",initialWidth:n,minWidth:260,onRelease:s.ScreenActions.changeScreenSidebarWidth,noScroll:r},i.h("div",{class:"sidebarViews",onClick:g.stopPropagation},i.h("div",{class:Object(m.default)("sidebarView",{scrollable:!t})},t?this.renderLayerDetail():this.renderResourceView())))}}t.default=Object(r.default)(T)},function(e,t,n){"use strict";n.r(t);var i=n(1531);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(340),o=n(62),s=n(465),a=n(697),l=n(1532),c=n(667),d=n(1533),u=n(1625),h=n(342),p=n(346),f=n(345),g=n(658),m=n(334);n(1643);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends r.default{constructor(...e){super(...e),S(this,"handleDownloadAssetClick",(e,t)=>{const{layerContainer:{name:n},version:i}=this.props,{selectedView:r}=this.state,{screenContainerRef:o,styleguideContainerRef:s}=this.context,a="screen"===r?o():s();h.BarrelActions.downloadAsset({containerName:n,version:i,assetId:e,format:t,toastContainer:a})}),S(this,"handleAssetNameChange",(e,t)=>{const{layerContainer:{_id:n},version:{snapshot:i}}=this.props;h.BarrelActions.changeAssetName({containerId:n,snapshot:i,assetId:e,name:t})})}static getStores(){return[h.BarrelStore,p.StyleguidesDataStore,f.ProjectsDataStore]}static calculateState(e,t){const{version:{snapshot:{density:n,densityScale:i=Object(o.getDensityScale)(n)}}}=t,{loading:r,selectedView:s,assetDensityScalePrefs:a,assetExportTarget:l,assetNamingConvention:c,densityMismatchWarningHidden:d,flowLinkInfoDismissed:u,noVectorAssetInfoHidden:g,showOptimizedSVG:m,connectedComponentsDevModeEnabled:b,connectedComponentsLocalWorkspace:y,connectedComponentsEditorInfo:S}=h.BarrelStore.getState();if(r)return{loading:!0};const{type:v,densityScale:C}=h.BarrelHelpers.getBarrel();return{loading:!1,selectedView:s,platform:v,assetDensityScalePrefs:a,assetExportTarget:l,assetNamingConvention:c,showDensityMismatchWarning:i!==C&&!d,flowLinkInfoDismissed:u,noVectorAssetInfoHidden:g,showOptimizedSVG:m,connectedComponentsDevModeEnabled:b,connectedComponentsLocalWorkspace:y,connectedComponentsEditorInfo:S,styleguidesData:h.BarrelHelpers.getStyleguidesData({barrelStore:h.BarrelStore,styleguidesDataStore:p.StyleguidesDataStore,projectsDataStore:f.ProjectsDataStore})}}render(){const{layerContainer:{name:e},formatter:t,layer:n,flowLink:r,version:o,onCopy:p,onCopyCode:f,onAddColorClick:m,onColorNameChange:b,onRemoveColorClick:S,onAddTextStyleClick:v,onTextStyleNameChange:C,onRemoveTextStyleClick:O,onCloseClick:E}=this.props,{loading:T,platform:D,assetDensityScalePrefs:k,assetExportTarget:w,assetNamingConvention:_,showDensityMismatchWarning:j,flowLinkInfoDismissed:P,noVectorAssetInfoHidden:R,showOptimizedSVG:I,connectedComponentsDevModeEnabled:A,connectedComponentsLocalWorkspace:x,connectedComponentsEditorInfo:N,styleguidesData:L}=this.state;if(T)return null;const U=Object(a.findComponentLayer)(o.snapshot,n,L);let M=null;U&&(M=Object(a.findConnectedComponentByName)(U.name,L,A));const B=Object(s.findAsset)(o.snapshot,n),z=new c.default(y(y({},n),{},{component:U,asset:B})),F=Object(l.transformLayer)(z,t,D,L);return i.h("div",{class:"layerDetail"},i.h(d.default,{layer:F,connectedComponent:M,connectedComponentsDevModeEnabled:A,connectedComponentsLocalWorkspace:x,connectedComponentsEditorInfo:N,containerName:e,projectType:D,showDensityMismatchWarning:j,noVectorAssetInfoHidden:R,assetDensityScalePrefs:k,namingConvention:_,showOptimizedSVG:I,flowLink:r,flowLinkInfoDismissed:P,assetExportTarget:w,onOpenExportTargetClick:h.BarrelActions.openExportTarget,onChangeExportTargetClick:h.BarrelActions.changeExportTarget,onCloseClick:E,onAddTextStyleClick:v,onTextStyleNameChange:C,onRemoveTextStyleClick:O,onAddColorClick:m,onColorNameChange:b,onRemoveColorClick:S,onContentCopyClick:p,onDownloadAssetClick:this.handleDownloadAssetClick,onAssetNameChange:this.handleAssetNameChange,onHideDensityMismatchWarningClick:h.BarrelActions.hideDensityMismatchWarning,onHideNoVectorAssetInfoClick:h.BarrelActions.hideNoVectorAssetInfo,onAssetDensityOptionChange:h.BarrelActions.changeAssetDensityScalePref,onNamingConventionChange:h.BarrelActions.changeAssetNamingConvention,onShowOptimizedSVGChange:h.BarrelActions.toggleSVGOptimization,onHideFlowInfoClick:h.BarrelActions.dismissFlowLinkInfo}),i.h(u.default,{class:"codeSection",version:o,layer:z,onCopyClick:f,onSettingsClick:g.ExtensionsActions.openSettings}))}}t.default=Object(m.default)(v,{withProps:!0})},function(e,t,n){"use strict";n.r(t),n.d(t,"transformAsset",(function(){return c})),n.d(t,"transformAuthors",(function(){return d})),n.d(t,"transformColor",(function(){return u})),n.d(t,"transformLayer",(function(){return m}));var i=n(62),r=n(106),o=n(465),s=n(56);function a(e,t){return`linear-gradient(to bottom, ${e.colorStops.map(e=>function(e,t){const n=e.position>0&&e.position<1?"":` ${Math.round(100*e.position)}%`;return`${e.color.toCSS(t)}${n}`}(e,t)).join(", ")})`}function l(e){const t=e.getDefaultTextStyle(),n=[];let i=0;return e.textStyles.forEach(({font:r,range:o})=>{const s=n.find(e=>e.font.equals(r));let a,l;var c;t.equals(r)?l="default":s?l=s.group:(c=i,l=["turquoise","cornflower-blue","green","yellow","peach"][parseInt(c,10)]||"group-"+c,a=e.content.substring(o.start,o.end),i+=1),a=e.content.substring(o.start,o.end),n.push({font:r,range:o,group:l,content:a})}),n}function c(e,t,n){const{localName:r,displayName:s,layerName:a,contents:l,percent:c,size:d,lightness:u,_id:h}=e,p={},f={},g={previewImages:p,displayName:s,layerName:a,localName:r,formats:f,percent:c,size:d,light:"light"===u,id:h},m=l.filter(e=>Object(o.isSupportedAssetContent)(n,e));for(const o of m){const{density:e,densityScale:t=Object(i.getDensityScale)(e),format:n,optimized:r,url:s}=o,a={densityScale:t,optimized:r,url:s};n in f?f[n].variants.push(a):f[n]={variants:[a]},"diff"in f[n]||(c&&c.type===n?f[n].diff={type:"jpg"===c.type?"png":"jpg",percent:c.diff}:r&&r.percent&&(f[n].diff={type:"svg",percent:r.percent}))}return g.size&&(g.size={width:t.withUnit(g.size.width),height:t.withUnit(g.size.height)}),"svg"in f?(p.svg=f.svg.variants[0].url,g):"png"in f?(f.png.variants.forEach(e=>{p[e.densityScale]=e.url}),g):null}function d(e){const t=e.reduce((e,t)=>{const n=t.creator?t.creator._id:"anonymous";return e[n]=(e[n]||[]).concat(t),e},{});return Object.keys(t).map(e=>{const n=t[e];n.sort((e,t)=>e.created<t.created);const i=n[0],r=i.creator||{username:"Anonymous"},{fullName:o,username:a}=r;return{fullName:o,username:a,avatar:Object(s.getUserAvatar)(r),versions:n.length,lastUpdated:i.created}})}function u(e,t,n){const i={r:e.r,g:e.g,b:e.b,a:e.a},r=e.toCSS(),o=t.colorString(e);for(const{id:s,name:a,colors:l,isMember:c,isOrganizationBarrel:d}of n){const{id:t,name:n}=l.find(t=>t.equals(e))||{};if(t)return{styleguideId:s,styleguideName:a,isMember:c,isOrganizationBarrel:d,added:!0,id:t,value:i,colorStyle:r,colorString:o,name:n}}for(const{id:s,name:a,colors:l,isMember:c,isOrganizationBarrel:d}of n){const n=l.find(t=>t.hexBase()===e.hexBase());if(n&&1===n.a){const{id:l,name:u}=n;return{styleguideId:s,styleguideName:a,isMember:c,isOrganizationBarrel:d,added:!1,id:l,value:i,colorStyle:r,colorString:o,name:u,opacity:t.alpha(e.a)}}}return{added:!1,value:i,colorStyle:r,colorString:o}}function h(e,t,n){return{gradientStyle:a(e),colorStops:e.colorStops.map(({color:e,position:i})=>({position:Object(r.round)(i,2),color:u(e,t,n)}))}}function p(e,t,n,o){const s=Object(i.getMostConformingTextStyle)(o,e),{color:a,fontFace:l,fontSize:c,letterSpacing:d,lineHeight:h,textAlign:p,fontVariationSettings:f}=e,{densityScale:g,remPreferences:m}=o[0],b="web"===n&&"enabled"===m.status&&m.useForFontSizes,y=a&&u(a,t,o),{id:S,styleguideId:v,styleguideName:C,isMember:O,isOrganizationBarrel:E}=s||{};return{styleguideId:v,styleguideName:C,isMember:O,isOrganizationBarrel:E,id:S,added:!!s,color:y,name:s&&s.name,fontFace:l,fontSize:b?Object(r.toRemSize)(c/g,m.remRootFontSize):t.textLength(c),letterSpacing:d&&t.letterSpacing(d),lineHeight:h&&(b?Object(r.toRemSize)(h/g,m.remRootFontSize):t.textLength(h)),textAlign:p,fontVariationSettings:f,value:{color:y&&y.value,fontFace:l,fontSize:c,letterSpacing:d,lineHeight:h,textAlign:p,fontVariationSettings:f}}}function f(e,t,n,i){return"text"!==e.type?[]:l(e).map(({font:e,group:r,content:o,range:s})=>({textStyle:p(e,t,n,i),group:r,content:o,range:s}))}function g(e,t,n,i){const{densityScale:o,remPreferences:s}=i,{status:a,useForMeasurements:l,remRootFontSize:c}=s;return"web"===n&&"enabled"===a&&l?{x:Object(r.toRemSize)(e.x/o,c),y:Object(r.toRemSize)(e.y/o,c),width:Object(r.toRemSize)(e.width/o,c),height:Object(r.toRemSize)(e.height/o,c)}:{x:t.length(e.x),y:t.length(e.y),width:t.length(e.width),height:t.length(e.height)}}function m(e,t,n,i){const{_id:r,id:o=r,absoluteRect:s,assetData:a,blendMode:l,blur:d,borders:p,borderRadius:m,component:b,content:y,fills:S,name:v,opacity:C,rotation:O,shadows:E,type:T}=e,D={id:o,borders:p.map(e=>function(e,t,n){const{fill:{color:i,gradient:r},position:o,thickness:s}=e;return{color:i&&u(i,t,n),gradient:r&&h(r,t,n),position:o,thickness:t.length(s)}}(e,t,i)),component:b,content:y,fills:S.map(e=>function(e,t,n){const i={type:e.type};return"color"===e.type?i.color=u(e.color,t,n):"gradient"===e.type&&(i.gradient=h(e.gradient,t,n)),i}(e,t,i)),name:v,rect:g(s,t,n,i[0]),shadows:E.map(e=>function(e,t,n){const{blurRadius:i,color:r,offsetX:o,offsetY:s,spread:a,type:l}=e;return{blurRadius:t.length(i),color:u(r,t,n),offsetX:t.length(o),offsetY:t.length(s),spread:t.length(a),type:l}}(e,t,i)),type:T,typefaces:f(e,t,n,i)};return a&&(D.asset=c(a,t,n)),d&&(D.blur=function(e,t){const{type:n,radius:i}=e;return{type:n,radius:t.length(i)}}(d,t)),C<1&&(D.opacity=t.percentage(C)),m>0&&(D.borderRadius=t.length(m)),0!==O&&(D.rotation=O),"normal"!==l&&(D.blendMode=l),D}},function(e,t,n){"use strict";n.r(t);var i=n(1534);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1535),o=n(1538),s=n(1553),a=n(1575),l=n(1578),c=n(24),d=n(1599),u=n(1602),h=n(1605),p=n(1609),f=n(1612),g=n(1615),m=n(1618),b=n(1621);n(1624);class y extends i.Component{constructor(e){super(e),this.handleTypefaceHover=this.handleTypefaceHover.bind(this)}handleTypefaceHover(e){this.setState({hoveredTypeface:e})}renderAssets(e){const{layer:{asset:t},projectType:n,assetDensityScalePrefs:r,assetExportTarget:o,namingConvention:a,showDensityMismatchWarning:l,showOptimizedSVG:c,noVectorAssetInfoHidden:d,onChangeExportTargetClick:u,onOpenExportTargetClick:h,onDownloadAssetClick:p,onAssetNameChange:f,onHideDensityMismatchWarningClick:g,onHideNoVectorAssetInfoClick:m,onAssetDensityOptionChange:b,onNamingConventionChange:y,onShowOptimizedSVGChange:S}=this.props;return t?{assets:i.h(s.default,{showSeparator:!!e,asset:t,projectType:n,showDensityMismatchWarning:l,noVectorAssetInfoHidden:d,assetDensityScalePrefs:r,namingConvention:a,showOptimizedSVG:c,assetExportTarget:o,onChangeExportTargetClick:u,onOpenExportTargetClick:h,onDownloadClick:p,onNameChange:f,onHideDensityMismatchWarningClick:g,onHideNoVectorAssetInfoClick:m,onAssetDensityOptionChange:b,onNamingConventionChange:y,onShowOptimizedSVGChange:S}),showSeparator:!0}:{assets:null,showSeparator:e}}renderBlur(e){const{layer:{blur:t}}=this.props;return t?{blur:i.h(r.default,{title:"Blur",showSeparator:!!e},i.h(m.default,{blur:t})),showSeparator:!0}:{blur:null,showSeparator:e}}renderBorders(e){const{layer:{borders:t},onAddColorClick:n,onRemoveColorClick:o,onColorNameChange:s}=this.props;return t.length?{borders:i.h(r.default,{title:"Borders",showSeparator:!!e},t.map((e,t)=>i.h(f.default,{key:t,border:e,onColorNameChange:s,onColorAddClick:n,onColorRemoveClick:o}))),showSeparator:!0}:{borders:null,showSeparator:e}}renderComponentSection(){const{containerName:e,layer:{component:t},connectedComponent:n,connectedComponentsDevModeEnabled:o,connectedComponentsLocalWorkspace:s,connectedComponentsEditorInfo:a}=this.props;if(!t)return{componentSection:i.h("div",{class:"withPadding"},i.h(r.default,{title:"Component",showSeparator:!0},i.h(b.default,null))),showSeparator:!0};const{_id:c,name:d}=t;return{componentSection:i.h(l.default,{containerName:e,connectedComponentsDevModeEnabled:o,connectedComponentsLocalWorkspace:s,connectedComponentsEditorInfo:a,componentId:c,componentName:d,connectedComponent:n,showLayerComponent:!0,userRestricted:!1}),showSeparator:!1}}renderContent(e){const{layer:{content:t,type:n,typefaces:r},onContentCopyClick:o}=this.props,{hoveredTypeface:s}=this.state;return"text"!==n?{content:null,showSeparator:e}:{content:i.h(d.default,{showSeparator:!!e,textStyles:r.filter(e=>"default"!==e.group),onCopyClick:o,content:t,hovered:s}),showSeparator:!0}}renderFills(e){const{layer:{fills:t},onAddColorClick:n,onRemoveColorClick:s,onColorNameChange:a}=this.props;return t.length?{fills:i.h(r.default,{title:"Colors",showSeparator:!!e},t.map(e=>"color"===e.type?i.h(o.default,{color:e.color,onNameChange:a,onAddClick:n,onRemoveClick:s}):"gradient"===e.type?i.h(p.default,{gradient:e.gradient,onColorNameChange:a,onColorAddClick:n,onColorRemoveClick:s}):null)),showSeparator:!0}:{fills:null,showSeparator:e}}renderShadows(e){const{layer:{shadows:t},onAddColorClick:n,onRemoveColorClick:o,onColorNameChange:s}=this.props;return t.length?{shadows:i.h(r.default,{title:"Shadows",showSeparator:!!e},t.map((e,t)=>i.h(g.default,{key:t,shadow:e,onColorNameChange:s,onColorAddClick:n,onColorRemoveClick:o}))),showSeparator:!0}:{shadows:null,showSeparator:e}}renderTypefaces(e){const{layer:{type:t,typefaces:n},onAddTextStyleClick:o,onRemoveTextStyleClick:s,onTextStyleNameChange:a,onAddColorClick:l,onRemoveColorClick:c,onColorNameChange:d}=this.props;return"text"!==t?{typefaces:null,showSeparator:e}:{typefaces:i.h(r.default,{showSeparator:!!e},i.h(h.default,{typefaces:n,onHoverChange:this.handleTypefaceHover,onAddTextStyleClick:o,onRemoveTextStyleClick:s,onTextStyleNameChange:a,onColorAddClick:l,onColorRemoveClick:c,onColorNameChange:d})),showSeparator:!0}}render(){const{flowLink:e,layer:t,flowLinkInfoDismissed:n,onCloseClick:r,onHideFlowInfoClick:o}=this.props,{componentSection:s,showSeparator:l}=this.renderComponentSection(),{typefaces:d,showSeparator:h}=this.renderTypefaces(l),{assets:p,showSeparator:f}=this.renderAssets(h),{fills:g,showSeparator:m}=this.renderFills(f),{borders:b,showSeparator:y}=this.renderBorders(m),{shadows:S,showSeparator:v}=this.renderShadows(y),{blur:C,showSeparator:O}=this.renderBlur(v),{content:E}=this.renderContent(O);return i.h("div",{class:"detailSections",ref:Object(c.default)(this,"base")},i.h("div",{class:"withPadding"},i.h(a.default,{onCloseClick:r},t.name)),i.h("div",{class:"withPadding"},i.h(u.default,{flowLink:e,layer:t,flowLinkInfoDismissed:n,onHideFlowInfoClick:o})),s,i.h("div",{class:"withPadding"},d,p,g,b,S,C,E))}}t.default=y},function(e,t,n){"use strict";n.r(t);var i=n(1536);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11);n(1537);t.default=function(e){const{class:t,children:n,title:o,showSeparator:s}=e;return i.h("div",{class:Object(r.default)("sidebarSection",t)},s&&i.h("div",{class:"sidebarSectionSeparator"}),o&&i.h("h2",{class:"title"},o),n)}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1539);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1540),o=n(1037);n(1552);class s extends i.Component{constructor(e){super(e),this.handleAddClick=this.handleAddClick.bind(this),this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleColorNameChange=this.handleColorNameChange.bind(this)}handleAddClick(){const{color:{value:e},onAddClick:t}=this.props;t(e)}handleColorNameChange(e){const{color:{id:t},onNameChange:n}=this.props;n(t,e)}handleRemoveClick(){const{color:{id:e},onRemoveClick:t}=this.props;t(e)}render(){const{color:{id:e,name:t,added:n,colorStyle:o,colorString:s,opacity:a,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u},hover:h}=this.props,{permissions:{canManageColors:p}}=this.context;return i.h("div",{class:"layerColor"},i.h("div",{class:"colorPreview",style:{backgroundColor:o}}),i.h(r.default,{class:"layerColorInfo",added:n,hover:h,id:e,name:t,colorString:s,opacity:a,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u,canManageColors:p,onAddClick:this.handleAddClick,onRemoveClick:this.handleRemoveClick,onNameChange:this.handleColorNameChange}))}}const a=Object(o.default)(s);t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(1541);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1542),o=n(96),s=n(228),a=n(1544),l=n(11),c=n(62),d=n(44);n(1551);t.default=function(e,t){const{added:n,isMember:u,isOrganizationBarrel:h,styleguideId:p,styleguideName:f,id:g,name:m,canManageColors:b,class:y,colorString:S,hover:v,opacity:C,onAddClick:O,onRemoveClick:E,onNameChange:T}=e,{projectType:D,barrelType:k,barrelId:w}=t;let _;!!m&&(_=n&&b&&p===w?i.h(r.default,{initialValue:m,filterRegex:c.colorNameRegex[D],prefix:"#",maxLength:36,blurOnEnter:!0,onBlur:T}):i.h("div",null,i.h("span",{class:"name"},"#",m,C&&i.h("span",{class:"opacity"},", ",C))));const j=!b||n&&p!==w,P=k===o.default.STYLEGUIDE?"styleguide":"project-styleguide",R=Object(d.urlResolve)(P+"-colors",{url:{bid:w},query:{cid:g}});return i.h("div",{class:Object(l.default)("colorInfo",y,{hover:v})},i.h("div",{class:"infoContent"},_,i.h("div",{class:"value"},S)),i.h(a.default,{onAddClick:O,onRemoveClick:E,resourceAdded:n,isMember:u,isOrganizationBarrel:h,styleguideId:p,styleguideName:f,canManageResource:b,class:"resourceButton",type:a.default.TYPE.COLOR,disabled:j}),g&&i.h("a",{href:R,class:"goToResource","data-link-type":"inApp"},i.h(s.IconGoTo,{width:"18",height:"18"})))}},function(e,t,n){"use strict";n.r(t);var i=n(1543);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1303),o=n(24);class s extends i.Component{constructor(e){super(e),this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleInput=this.handleInput.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.state={focusWithin:!1,oldValue:e.initialValue,value:e.initialValue}}handleBlur(e){const{initialValue:t,validator:n,onBlur:i}=this.props,{oldValue:r,value:o}=this.state,s=e.target.value;r===o||!s||n&&!n(s)?this.setState({value:r,focusWithin:!1,selectionStart:null,selectionEnd:null}):(this.setState({value:s,oldValue:o,focusWithin:!1,selectionStart:null,selectionEnd:null}),t!==s&&i(s))}handleFocus(){this.setState(e=>({oldValue:e.value,focusWithin:!0}))}handleInput(e){const{filterRegex:t,onAttemptToChange:n}=this.props;if(n)return void n();let{value:i,selectionStart:r,selectionEnd:o}=e.target;const s=i;t&&(i=i.replace(t,""));const a=s.length-i.length;a>0&&(r-=a,o-=a),e.target.value=i,this.setState({selectionStart:r,selectionEnd:o,value:i})}handleKeyDown(e){if(e.keyCode===Zeplin.KEY_CODE.ESC){e.stopPropagation();const{oldValue:t}=this.state;this.setState({value:t}),this.nodeRefs.input.blur()}}handleMouseUp(e){const{selectionStart:t,selectionEnd:n}=e.target;this.setState({selectionStart:t,selectionEnd:n})}componentWillReceiveProps(e){const{initialValue:t}=e,{value:n}=this.state;this.state.focusWithin||t===n&&t===this.props.initialValue||this.setState({value:t,oldValue:t})}componentDidUpdate(){const{focusWithin:e,selectionStart:t,selectionEnd:n}=this.state;e&&this.nodeRefs.input.setSelectionRange(t,n)}render(){const{value:e}=this.state,t=Object.assign({},this.props);return delete t.onClick,delete t.onKeyDown,delete t.onBlur,delete t.onFocus,delete t.onInput,delete t.filterRegex,delete t.initialValue,i.h(r.default,Object.assign({},t,{inputRef:Object(o.default)(this,"input"),value:e,onKeyDown:this.handleKeyDown,onMouseUp:this.handleMouseUp,onBlur:this.handleBlur,onFocus:this.handleFocus,onInput:this.handleInput}))}}t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(1545);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1546),o=n(1548);n(1550);class s extends i.Component{constructor(e){super(e),this.state={hasClickHover:!1},this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleAddClick=this.handleAddClick.bind(this),this.handleRemoveButtonMouseLeave=this.handleRemoveButtonMouseLeave.bind(this)}handleAddClick(e){this.setState({hasClickHover:!0}),this.props.onAddClick(e)}handleRemoveButtonMouseLeave(){this.state.hasClickHover&&this.setState({hasClickHover:!1})}handleRemoveClick(e){this.setState({hasClickHover:!0}),this.props.onRemoveClick(e)}render({class:e,isMember:t,isOrganizationBarrel:n,styleguideId:a,styleguideName:l,canManageResource:c,type:d=s.TYPE.DEFAULT,resourceAdded:u,disabled:h},{hasClickHover:p}){return u?i.h(o.default,{type:d,class:e,isMember:t,isOrganizationBarrel:n,canManageResource:c,styleguideId:a,styleguideName:l,disabled:h,hideHoverState:p,onMouseLeave:this.handleRemoveButtonMouseLeave,onClick:this.handleRemoveClick}):i.h(r.default,{type:d,class:e,disabled:h,onClick:this.handleAddClick})}}s.TYPE=Object.freeze({DEFAULT:"color",COLOR:"color",TEXT_STYLE:"textStyle"}),t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(1547);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(9),o=n(630),s=n(1033),a=n(228);const l={color:i.h(a.IconColor,{type:"add"}),textStyle:i.h(a.IconTextStyle,{type:"add"})};t.default=function(e,t){const{class:n,disabled:a,type:c,onClick:d}=e,{userRole:u}=t,h=c.replace(/[A-Z]/g,e=>" "+e.toLowerCase()),p=a?Object(s.default)(u,`add ${h}s`):`Add ${h} to Styleguide`;return i.h(o.default,{targetClass:n,content:p},i.h(r.default,{class:"addResourceButton resourceButtonButton",disabled:a,onClick:d},l[c]))}},function(e,t,n){"use strict";n.r(t);var i=n(1549);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(44),o=n(9),s=n(630),a=n(228),l=n(1033),c=n(11);const d={color:i.h(a.IconColor,{color:"#fff",key:"tick",type:"tick",opacity:".5"}),textStyle:i.h(a.IconTextStyle,{color:"#fff",key:"tick",type:"tick",opacity:".5"})},u={color:[i.h(a.IconColor,{color:"#fff",key:"tick",type:"tick"}),i.h(a.IconColor,{color:"#fff",class:"remove",key:"remove",type:"remove"})],textStyle:[i.h(a.IconTextStyle,{color:"#fff",key:"tick",type:"tick"}),i.h(a.IconTextStyle,{color:"#fff",class:"remove",key:"remove",type:"remove"})]};function h({isMember:e,isOrganizationBarrel:t,canManageResource:n,styleguideId:o,styleguideName:s,resourceName:a,userRole:c}){return t?function({resourceName:e,isMember:t,canManageResource:n,userRole:o,styleguideId:s,styleguideName:a}){if(!n)return Object(l.default)(o,`delete ${e}s`);const c=Object(r.urlResolve)("styleguide",{url:{bid:s}});return t?[i.h("p",{key:"tooltipExplanation"},"This ",e," belongs to a shared Styleguide that is linked to other projects as well."),i.h("p",{key:"tooltipLink"},i.h("a",{href:c,"data-link-type":"inApp"},"Go to ",a)," to update the ",e,"s.")]:[i.h("p",{key:"tooltipExplanation"},"You’re not a member of the ",i.h("strong",null,a)," Styleguide, only members can remove ",e,"s."),i.h("p",{key:"tooltipLink"},i.h("a",{href:c,"data-link-type":"inApp"},"Join to edit ",a),".")]}({resourceName:a,isMember:e,canManageResource:n,userRole:c,styleguideId:o,styleguideName:s}):function({resourceName:e,isMember:t,styleguideId:n,styleguideName:o}){return t?[i.h("p",{key:"tooltipExplanation"},"This ",e," belongs to a shared Styleguide that is linked to other projects as well."),i.h("p",{key:"tooltipLink"},i.h("a",{href:Object(r.urlResolve)("styleguide",{url:{bid:n}}),"data-link-type":"inApp"},"Go to ",o)," update the ",e,"s.")]:i.h("p",null,"You are not a member of ",o,". Contact the owner to request access.")}({resourceName:a,isMember:e,styleguideId:o,styleguideName:s})}t.default=function(e,t){const{class:n,disabled:r,type:a,onClick:l,hideHoverState:p,onMouseLeave:f,isMember:g,isOrganizationBarrel:m,canManageResource:b,styleguideId:y,styleguideName:S}=e,{userRole:v}=t,C=a.replace(/[A-Z]/g,e=>" "+e.toLowerCase()),O=r?h({isMember:g,isOrganizationBarrel:m,canManageResource:b,styleguideId:y,styleguideName:S,resourceName:C,userRole:v}):`Delete ${C} from Styleguide`,E=i.h(o.default,{class:Object(c.default)("removeResourceButton","resourceButtonButton",{hideHoverState:p}),disabled:r,onClick:l,onMouseLeave:f},r?d[a]:u[a]);return p?E:function(e,{targetClass:t,content:n}){return i.h(s.default,{targetClass:t,content:n},e)}(E,{targetClass:n,content:O})}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1554);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11),o=n(465),s=n(56),a=n(62),l=n(122),c=n(1555),d=n(1558),u=n(1560),h=n(1562),p=n(1565),f=n(1568),g=n(9),m=n(1303),b=n(1535),y=n(819),S=n(1571),v=n(228);n(1574);const C=Object(s.canDownload)();class O extends i.Component{constructor(e){super(e),this.oldNameInputValue=e.asset.localName||this.getAssetName(),this.createDownloadClickHandler=this.createDownloadClickHandler.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.handleNameInput=this.handleNameInput.bind(this),this.showSettingsMenu=this.showSettingsMenu.bind(this),this.hideSettingsMenu=this.hideSettingsMenu.bind(this)}getAssetName(){const{asset:e,namingConvention:t}=this.props;return Object(o.formatName)(e,t)}hideSettingsMenu(){this.context.enableScroll(),this.setState({settingsOpen:!1})}showSettingsMenu(){this.context.disableScroll(),this.setState({settingsOpen:!0})}handleNameInput(e){e.target.validity.valid?this.oldNameInputValue=e.target.value:e.target.value=this.oldNameInputValue}handleNameChange(e){const{asset:{id:t,localName:n},onNameChange:i}=this.props,{value:r}=e.target,o=n||this.getAssetName();r?o!==r&&i(t,r):e.target.value=o}createDownloadClickHandler(e){const{asset:{id:t},onDownloadClick:n}=this.props;return()=>{n(t,e)}}renderExports(){const{asset:{formats:e},assetDensityScalePrefs:t,showOptimizedSVG:n,projectType:r}=this.props;return r===l.PLATFORM.BASE?i.h(y.default,null,"To download assets, navigate to a linked project or a platform‑specific child styleguide."):i.h("div",{class:"assetExports"},Object.keys(e).sort(o.sortFormats).map(r=>{const{variants:o,diff:s}=e[r];return i.h(h.default,{key:r,format:r,variants:o,diff:s,assetDensityScalePrefs:t,hideOptimization:!("svg"!==r||n&&s),onDownloadClick:this.createDownloadClickHandler(r)})}))}renderBitmapInfo(){const{onHideNoVectorAssetInfoClick:e}=this.props;return i.h(y.default,{class:"bitmapInfo",onHideClick:e},"This asset contains a ‘bitmap’ image inside. So no vector assets is generated.")}render(){const{class:e,showSeparator:t,asset:{localName:n,size:o,formats:s,light:h,previewImages:y},noVectorAssetInfoHidden:O,showDensityMismatchWarning:E,assetDensityScalePrefs:T,namingConvention:D,showOptimizedSVG:k,projectType:w,assetExportTarget:_,onChangeExportTargetClick:j,onOpenExportTargetClick:P,onHideDensityMismatchWarningClick:R,onAssetDensityOptionChange:I,onNamingConventionChange:A,onShowOptimizedSVGChange:x}=this.props,{settingsOpen:N}=this.state,L=i.h("div",{class:"assetsTitle"},"Assets",i.h(f.default,{open:N,onClose:this.hideSettingsMenu,onAssetDensityOptionChange:I,onNamingConventionChange:A,onShowOptimizedSVGChange:x,projectType:w,settings:{assetDensityScalePrefs:T,namingConvention:D,showOptimizedSVG:k},target:i.h(g.default,{class:Object(r.default)("assetSettingsButton",{active:N}),onClick:this.showSettingsMenu},i.h(v.IconSettings,null))})),U=Object.keys(s).some(e=>"jpg"===e)&&Object.keys(s).every(e=>"svg"!==e&&"pdf"!==e),M=this.getAssetName(),{pattern:B,text:z}=function(e){switch(e){case l.PLATFORM.BASE:case l.PLATFORM.WEB:default:return{pattern:"[\\w-]+",text:"letters, numbers, underscores, and hyphens"};case l.PLATFORM.IOS:case l.PLATFORM.MACOS:return{pattern:"[a-zA-Z\\d]+",text:"letters, and numbers"};case l.PLATFORM.ANDROID:return{pattern:"[a-z\\d_]+",text:"lower cased letters, numbers, and underscores"}}}(w),F=`${Object(a.getPlatformString)(w)} platform assets can only contain ${z}`;return i.h(b.default,{class:Object(r.default)("assetSection",e),title:L,showSeparator:t},E&&i.h(d.default,{class:"warningBox",onHideClick:R}),!C&&i.h(u.default,{class:"warningBox"}),i.h(p.default,{class:"preview",light:h,images:y}),i.h(S.default,{name:"Name",capitalize:!1},i.h(m.default,{class:"assetName",blurOnEnter:!0,title:F,value:n||this.getAssetName(),pattern:B,onBlur:this.handleNameChange,onInput:this.handleNameInput})),n&&i.h("div",{class:"renameInfo"},"Renamed locally from “",M,"”"),i.h(S.default,{name:"Size"},o&&`${o.width} × ${o.height}`),this.renderExports(),_&&i.h(c.default,{name:_.name,type:_.type,path:_.path,pathParts:_.pathParts,onChangeClick:j,onOpenClick:P}),U&&!O&&this.renderBitmapInfo())}}t.default=O},function(e,t,n){"use strict";n.r(t);var i=n(1556);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(9),o=n(228),s=n(11),a=n(18);n(1557);t.default=function(e){const{name:t,type:n,path:l,pathParts:c,onChangeClick:d,onOpenClick:u}=e;return i.h("div",{class:"exportPathSelection"},i.h("div",{class:"pathLocation"},i.h("div",{class:"name ellipsis",title:t,onClick:d},"Exporting to “",t,"”"),i.h("div",{class:"path",title:l,onClick:u},c.join(" ▸ "))),i.h(r.default,{class:Object(s.default)(n,"openExportPath"),onClick:u},"android"===n?[i.h("img",{key:"regular",src:Object(a.imageUrl)("img/icAndroidStudio.png"),srcset:Object(a.srcset)(Object(a.imageUrl)("img/icAndroidStudio.png"))}),i.h("img",{key:"pressed",src:Object(a.imageUrl)("img/icAndroidStudioPressed.png"),srcset:Object(a.srcset)(Object(a.imageUrl)("img/icAndroidStudioPressed.png"))})]:i.h(o.IconFolder,null)))}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1559);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(819);function o(){window.open("https://support.zeplin.io/faq/all-the-measurements-are-wrong-halftwice-the-size","_blank,noopener")}t.default=function(e){const{class:t,onHideClick:n}=e;return i.h(r.default,{class:t,type:"warning",onHideClick:n,actionContent:"Learn more",onActionClick:o},"Project density changed after this screen was exported. Asset sizes might be incorrect, please re-export to make sure.")}},function(e,t,n){"use strict";n.r(t);var i=n(1561);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(819);t.default=function(e){const{class:t}=e;return i.h(r.default,{class:t,type:"warning"},"Exporting assets is not working on your browser yet 😔, try it on Firefox or Chrome.")}},function(e,t,n){"use strict";n.r(t);var i=n(1563);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(62),o=n(9),s=n(228),a=(n(1564),n(465));function l(e){return"svg"===e||"pdf"===e}t.default=function(e,t){const{format:n,variants:c,assetDensityScalePrefs:d,diff:u,hideOptimization:h,onDownloadClick:p}=e,{projectType:f}=t,g=c.filter(e=>Object(a.isAssetDensityScaleSelected)(d,n,e.densityScale)).length;let m,b;if(l(n)||u)!l(n)&&u?(m=`~${u.percent}% smaller than ${u.type.toUpperCase()}`,b=m):"svg"!==n||h||(m=u?`~${u.percent}% smaller, optimized with SVGO`:"Optimized with SVGO",b=m);else{const e=[...new Set(c.map(e=>e.densityScale))].sort((e,t)=>e-t);m=e.reduce((e,t,o,s)=>{const l=Object(r.getDensityScaleRepresentation)(f,t);return e.push(Object(a.isAssetDensityScaleSelected)(d,n,t)?l:i.h("s",null,l)),o!==s.length-1&&e.push(", "),e},[]),b=e.filter(e=>Object(a.isAssetDensityScaleSelected)(d,n,e)).map(e=>Object(r.getDensityScaleRepresentation)(f,e)).join(", ")}return i.h("div",{class:"assetExport"},i.h("div",{class:"exportType"},n),i.h("div",{class:"exportInfo"},i.h("div",null,g," ",function(e){switch(e){case"pdf":case"svg":return"vector";case"jpg":case"png":default:return"bitmap"}}(n)," image",g>1?"s":""),i.h("div",{class:"extraInfo ellipsis",title:b},m)),i.h(o.default,{class:"downloadButton",onClick:p},i.h(s.IconDownload,null)))}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1566);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11),o=n(24),s=n(18);n(1567);class a extends i.Component{constructor(e){super(e),this.setImageSource=this.setImageSource.bind(this),this.state={source:null,svg:!1}}setImageSource(){const{images:e}=this.props;if(e.svg)return void this.setState({source:e.svg,svg:!0});const[t]=getComputedStyle(this.nodeRefs.image).maxHeight.match(/\d+/),n=t*window.devicePixelRatio,i=Object.keys(e).map(Number).sort((e,t)=>e-t),r=e[i[0]];Object(s.getImageProperties)(r).then(t=>{const r=t.size.height,o=i.find(e=>r*e>=n)||i[i.length-1];this.setState({source:e[o],svg:!1})})}componentDidMount(){this.setImageSource()}componentDidUpdate(e){e.images[1]===this.props.images[1]&&e.images.svg===this.props.images.svg||this.setImageSource()}render(){const{source:e,svg:t}=this.state,{class:n,light:s}=this.props;return i.h("div",{class:Object(r.default)("assetPreview","noSelect",n,{light:s,svg:t})},i.h("img",{ref:Object(o.default)(this,"image"),src:e,crossorigin:"anonymous"}))}}t.default=a},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1569);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(293),o=n(1119),s=n(24),a=(n(1570),n(62)),l=n(465);const c=[{name:"Default",value:"default"},{name:"camelCase",value:"camelCase"},{name:"snake_case",value:"snakeCase"},{name:"kebab-case",value:"kebabCase"},{name:"Original",value:"original"}];class d extends i.Component{constructor(e){super(e),this.handlePortalDidRender=this.handlePortalDidRender.bind(this),this.handleSettingsChange=this.handleSettingsChange.bind(this)}static densityScaleOptionVisible(e){return"base"!==e}static namingOptionVisible(e){return"android"!==e}static svgOptionVisible(e){return"android"===e||"web"===e}handlePortalDidRender(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.top,r=t.left-n.width;let o,s;s=i<12?12:i+n.height+12>window.innerHeight?window.innerHeight-n.height-12:i,o=r+n.width+12>window.innerWidth?window.innerWidth-n.width-12:r,e.style.transform=`translate3d(${o}px, ${s}px, 0)`}handleSettingsChange(e,t){"naming"===e?this.props.onNamingConventionChange(t):"optimizedSVG"===e?this.props.onShowOptimizedSVGChange(t):"pngScales"===e&&this.props.onAssetDensityOptionChange("png",t)}render(){const{settings:{assetDensityScalePrefs:e,namingConvention:t,showOptimizedSVG:n},projectType:u,open:h,target:p,onClose:f}=this.props,g=[];return d.densityScaleOptionVisible(u)&&g.push(i.h(o.default.SwitchMenu,{name:"pngScales",content:"PNG Scales",selectedOptionNames:e.png,minNumberOfSelectedOptions:1,options:Object(l.getSupportedDensityScales)(u).map(e=>({name:e,content:Object(a.getDensityScaleRepresentation)(u,e)}))})),d.namingOptionVisible(u)&&g.push(i.h(o.default.Picker,{name:"naming",content:"Naming",submenu:!0,value:t,options:c})),d.svgOptionVisible(u)&&g.push(i.h(o.default.Switch,{name:"optimizedSVG",content:"Display optimized SVG",value:n})),i.h("div",{class:"assetSettings"},i.h("div",{class:"target",ref:Object(s.default)(this,"target")},p),h&&i.h(r.default,{didRender:this.handlePortalDidRender},i.h(o.default,{class:"assetSettingsMenu",onChange:this.handleSettingsChange,onClose:f},g)))}}t.default=d},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1572);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11);n(1573);function o(e){const{capitalize:t=!0,name:n,abbr:o,children:s,class:a}=e,l=n?""+n:null,c=o?i.h("abbr",null,o):null,d=l&&c?", ":"";return i.h("div",{class:Object(r.default)("layerProperty",a,{capitalize:t})},i.h("span",{class:"propertyName noSelect"},l,d,c,": "),i.h("span",{class:"propertyValue ellipsis"},s))}o.Group=function({children:e,class:t}){return i.h("div",{class:Object(r.default)("layerPropertyGroup",t)},e)},t.default=o},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1576);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(9),a=n(228);n(1577);function l(e){const{children:t,onCloseClick:n}=e;return i.h("div",{class:"sidebarHeader"},i.h("h2",{class:"ellipsis"},t),i.h(s.default,{class:"closeButton",onClick:n},i.h(a.IconClose,{color:"#979197"})))}l.propTypes={onCloseClick:o.a.func,children:o.a.oneOfType([o.a.node,o.a.element])},t.default=l},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1579);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(9),a=n(610),l=n(1580),c=n(228),d=n(65),u=n(342),h=n(44),p=n(56),f=n(19),g=n(1583),m=n(1590),b=n(1592),y=n(1595);n(1598);class S extends i.Component{constructor(e){var t,n,i;super(e),i=()=>{mixpanel.master.track("Navigated to component from screen",{Source:"Layer detail"})},(n="handleLayerComponentClick")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.handleConnectToCodeClick=this.handleConnectToCodeClick.bind(this),this.handleOpenDocumentationClick=this.handleOpenDocumentationClick.bind(this),this.handleAddWorkspacePath=this.handleAddWorkspacePath.bind(this)}handleConnectToCodeClick(){const e=this.props.showLayerComponent;mixpanel.master.track("Clicked connect to code button",{On:e?"Screen":"Component"}),Object(p.openLink)("https://zpl.io/connected-components")}handleOpenDocumentationClick(){const e=this.props.showLayerComponent;mixpanel.master.track("Clicked local configuration documentation button",{On:e?"Screen":"Component"}),Object(p.openLink)("https://zpl.io/connected-components-local-configuration")}handleAddWorkspacePath(e){const{barrelId:t}=this.context;u.BarrelActions.setConnectedComponentsLocalWorkspace({bid:t,workspace:e})}renderLayerComponent(){if(!this.props.showLayerComponent)return null;const{containerName:e,componentId:t,componentName:n}=this.props,{projectId:r}=this.context,o=Object(h.urlResolve)("project-styleguide-components",{url:{bid:r},query:{coid:t}});return[i.h("h2",{key:"componentTitle",class:"componentTitle"},"Component"),i.h("div",{key:"styleguideComponent",class:"styleguideComponent"},i.h("span",{class:"name ellipsis",title:n},n),i.h("a",{href:o,onClick:this.handleLayerComponentClick,"data-link-type":"inApp","data-back":e},i.h(c.IconGoTo,{width:"18",height:"18",color:"#C1BEC1"})))]}renderDevModeHintBox(){const{connectedComponentsDevModeEnabled:e}=this.props;return e?i.h(b.default,{onReload:u.BarrelActions.reloadLocalConnectedComponents}):null}renderCodeComponent(){const{connectedComponent:e,connectedComponentsDevModeEnabled:t,componentName:n}=this.props;if(!e)return t?[i.h("span",{key:"notFoundDescription",class:"notFoundDescription"},n+" not found in local configuration file. Reload to try again."),i.h(s.default,{key:"openDocumentation",class:"openDocumentation",onClick:this.handleOpenDocumentationClick},"Open Documentation")]:[i.h("span",{key:"notConnectedDescription",class:"notConnectedDescription"},"Connect this component to your component in code to see a quick overview with links to documentation, e.g. Storybook."),i.h(s.default,{key:"connectToCode",class:"connectToCode",onClick:this.handleConnectToCodeClick},"Connect to Code")];let{name:r,path:o,data:c}=e;r||(r=Object(f.getFilenameWithoutExtensionFromPath)(o));const{description:d,snippet:u,lang:h}=(p=c).find(e=>!!e.snippet)||p.find(e=>!!e.description)||{};var p;return[i.h("div",{key:"componentInfo",class:"componentInfo"},i.h("span",{class:"componentName ellipsis"},r),i.h("span",{class:"componentPath ellipsis"},o)),d||u?[d&&i.h("div",{key:"componentDescription",class:"componentDescription"},i.h(a.default,null,d)),u&&i.h("div",{key:"componentCodeSnippet",class:"snippet"},i.h(l.default,{lineIndicator:!0,lang:h,content:u,asyncHighlight:!1}))]:i.h("div",{key:"noData",class:"componentDescription"},i.h(a.default,null,"No description or code snippet."))]}renderOpenInEditor(e){const{connectedComponentsLocalWorkspace:t,connectedComponentsEditorInfo:n,userRestricted:r}=this.props;if(d.default.isWindowsApp){const{editorList:t,defaultEditorPreferences:o,workspacePath:s}=n,a=Object(f.getFileExtensionFromPath)(e),l=o&&o[a];return i.h(m.default,{filePath:e,fileExtension:a,editorList:t,selectedEditor:l,workspacePath:s,disabled:r,onOpenFileInEditor:u.BarrelActions.openComponentFileInEditor,onEditorChange:u.BarrelActions.setConnectedComponentsEditorPreference,onSelectWorkspace:u.BarrelActions.selectConnectedComponentsWorkspaceFolder})}return i.h(g.OpenInVSCode,{filePath:e,showOptionsButton:!0,onAddWorkspacePath:this.handleAddWorkspacePath,workspace:t,disabled:r})}renderOpenInButtons(){const{connectedComponent:e,userRestricted:t}=this.props;if(!e)return;const{urlPaths:n,path:r}=e,o=[],s=[];return n&&n.forEach(e=>{const{name:n,type:r,url:a}=e;"github"===r?s.push(i.h(g.OpenInGitHub,{key:"github",name:n,uri:a,disabled:t})):"gitlab"===r?s.push(i.h(g.OpenInGitLab,{key:"gitlab",name:n,uri:a,disabled:t})):"bitbucket"===r?s.push(i.h(g.OpenInBitbucket,{key:"bitbucket",name:n,uri:a,disabled:t})):"styleguidist"===r?s.push(i.h(g.OpenInStyleguidist,{key:"styleguidist",name:n,uri:a,disabled:t})):"storybook"===r?o.push(a):"custom"===r&&s.push(i.h(g.OpenInCustomLink,{key:"custom-"+n,name:n,uri:a,disabled:t}))}),i.h("div",{class:"openInButtons"},s.length>0&&s,o.length>0&&i.h(g.OpenInStorybook,{uriList:o,disabled:t}),this.renderOpenInEditor(r))}render(){const{connectedComponent:e,userRestricted:t,onRequestInvite:n}=this.props;return i.h("div",{class:"componentDetailSection"},i.h("div",{class:"componentDetailsWrapper"},i.h("div",{class:"componentDetails"},this.renderLayerComponent(),this.renderDevModeHintBox(),this.renderCodeComponent()),e&&t&&i.h("div",{class:"connectedComponentsAlienOverlay"},i.h(y.default,{onRequestInvite:n}))),this.renderOpenInButtons())}}S.propTypes={containerName:o.a.string,componentId:o.a.string,componentName:o.a.string,showLayerComponent:o.a.bool,connectedComponent:o.a.object},t.default=S},function(e,t,n){"use strict";n.r(t);var i=n(1581);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(624),o=n.n(r),s=n(11);n(1582);function a(e){let t=[];const n=[t];for(const i of e)if("string"==typeof i&&i.includes("\n")){const e=i.split("\n");t.push(e[0]);for(let t=1;t<e.length-1;t++)n.push([e[t]]);t=[e[e.length-1]],n.push(t)}else t.push(i);return n}class l extends i.Component{highlight(e){const{content:t,lang:n,asyncHighlight:i=!0}=e;var r;(r=n)&&o.a.languages[r]?function(e,t,n){return n?new Promise((n,i)=>{try{o.a.tokenizeFlat(e,o.a.languages[t],!0,e=>{n(e)})}catch(r){i(r)}}):Promise.resolve(o.a.tokenizeFlat(e,o.a.languages[t]))}(t,n,i).then(e=>{this.setState({lines:a(e)})}).catch(()=>{this.setState({lines:e.content.split("\n")})}):this.setState({lines:e.content.split("\n")})}componentDidMount(){this.highlight(this.props)}componentWillReceiveProps(e){this.highlight(e)}render(e,t){const{class:n,lang:r,lineIndicator:o,style:a}=e,{lines:l=[]}=t,c=Object(s.default)("code",n,{lineIndicator:o});return i.h("pre",{class:c},i.h("code",{class:"language-"+r,style:a},l.map((e,t)=>i.h("span",{key:t,class:"lineWrapper"},i.h("span",{class:"lineno"}),i.h("pre",{class:"line"},Array.isArray(e)?e.map(e=>"string"==typeof e?e:i.h("span",{class:"token "+e.type},e.content)):e)))))}}t.default=l},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1584);n.d(t,"default",(function(){return i.default})),n.d(t,"OpenInVSCode",(function(){return i.OpenInVSCode})),n.d(t,"OpenInStyleguidist",(function(){return i.OpenInStyleguidist})),n.d(t,"OpenInGitHub",(function(){return i.OpenInGitHub})),n.d(t,"OpenInGitLab",(function(){return i.OpenInGitLab})),n.d(t,"OpenInBitbucket",(function(){return i.OpenInBitbucket})),n.d(t,"OpenInStorybook",(function(){return i.OpenInStorybook})),n.d(t,"OpenInCustomLink",(function(){return i.OpenInCustomLink}))},function(e,t,n){"use strict";n.r(t),n.d(t,"OpenInVSCode",(function(){return v})),n.d(t,"OpenInGitHub",(function(){return O})),n.d(t,"OpenInGitLab",(function(){return E})),n.d(t,"OpenInBitbucket",(function(){return T})),n.d(t,"OpenInStorybook",(function(){return D})),n.d(t,"OpenInStyleguidist",(function(){return C})),n.d(t,"OpenInCustomLink",(function(){return k}));var i=n(1),r=n(1585),o=n(24),s=n(11),a=n(44),l=n(64),c=n(62),d=n(293),u=n(1119),h=n(1586);n(1589);function p(e){const{name:t,icon:n,uri:o,target:a,showOptionsButton:l,onOptionsClick:d,onClickOpenInButton:u,disabled:h}=e;return i.h("div",{class:Object(s.default)("openInButtonWrapper",{disabled:h})},i.h("a",{class:"openInButton noSelect",href:h?"":o,target:a,onClick:h?c.preventDefault:u},n,i.h("span",{class:"openInButtonText ellipsis"},"Open in ",t)),l&&i.h("button",{onClick:d},r.optionsIcon))}function f(){S("Styleguidist")}function g(){S("GitHub")}function m(){S("GitLab")}function b(){S("Bitbucket")}function y(){S("Storybook")}function S(e){mixpanel.master.track("Clicked open in button",{Type:e})}class v extends i.Component{constructor(e){super(e),this.handleOpen=this.handleOpen.bind(this),this.handleOptionsClick=this.handleOptionsClick.bind(this),this.handleHideDialog=this.handleHideDialog.bind(this),this.handleAddWorkspacePath=this.handleAddWorkspacePath.bind(this),this.state={showDialog:!1,optionsDialog:!1}}handleOpen(){const{filePath:e,workspace:t}=this.props;if(t){mixpanel.master.track("Clicked open in button for connected component",{Type:"Editor",Source:"Visual Studio Code"});const n=`vscode://file/${Object(l.toURI)(t)}/${Object(l.toURI)(e)}`;window.open(n,"_self")}else this.setState({showDialog:!0,optionsDialog:!1})}handleOptionsClick(){this.setState({showDialog:!0,optionsDialog:!0})}handleHideDialog(){this.setState({showDialog:!1})}handleAddWorkspacePath(e){const{optionsDialog:t}=this.state,{filePath:n,onAddWorkspacePath:i}=this.props;if(i(e),this.handleHideDialog(),!t){const t=`vscode://file/${Object(l.toURI)(e)}/${Object(l.toURI)(n)}`;window.open(t,"_self")}}render(){const{name:e,showOptionsButton:t,workspace:n,disabled:a}=this.props,{showDialog:l}=this.state;return i.h("div",{class:Object(s.default)("openInButtonWrapper",{disabled:a}),ref:Object(o.default)(this,"base")},l&&i.h(h.default,{workspace:n,onAdd:this.handleAddWorkspacePath,onHide:this.handleHideDialog}),i.h("button",{class:"openInButton noSelect",onClick:a?c.preventDefault:this.handleOpen},r.vsCodeIcon,i.h("span",{class:"openInButtonText ellipsis"},"Open in ",e||"VS Code")),t&&i.h("button",{onClick:a?c.preventDefault:this.handleOptionsClick},r.optionsIcon))}}function C(e){const{name:t,uri:n,showOptionsButton:o,onOptionsClick:s,disabled:a}=e;return i.h(p,{name:t||"Styleguidist",icon:r.styleguidistIcon,uri:n,target:"_blank",disabled:a,showOptionsButton:o,onOptionsClick:s,onClickOpenInButton:f})}function O(e){const{name:t,uri:n,showOptionsButton:o,onOptionsClick:s,disabled:a}=e;return i.h(p,{name:t||"GitHub",icon:r.gitHubIcon,uri:n,target:"_blank",disabled:a,showOptionsButton:o,onOptionsClick:s,onClickOpenInButton:g})}function E(e){const{name:t,uri:n,showOptionsButton:o,onOptionsClick:s,disabled:a}=e;return i.h(p,{name:t||"GitLab",icon:r.gitLabIcon,uri:n,target:"_blank",disabled:a,showOptionsButton:o,onOptionsClick:s,onClickOpenInButton:m})}function T(e){const{name:t,uri:n,showOptionsButton:o,onOptionsClick:s,disabled:a}=e;return i.h(p,{name:t||"Bitbucket",icon:r.bitbucketIcon,uri:n,target:"_blank",disabled:a,showOptionsButton:o,onOptionsClick:s,onClickOpenInButton:b})}class D extends i.Component{constructor(e){super(e),this.hideOptions=this.hideOptions.bind(this),this.handleOptionsClick=this.handleOptionsClick.bind(this),this.handlePortalDidRender=this.handlePortalDidRender.bind(this),this.setState({showOptions:!1})}getStoryName(e){const t=new URL(e),{selectedStory:n}=Object(a.parseUrlParams)(t.search);return n?n[0]:null}hideOptions(){this.context.enableScroll(),this.setState({showOptions:!1})}handleOptionsClick(){this.context.disableScroll(),this.setState({showOptions:!0})}handlePortalDidRender(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.top,r=t.left-n.width;let o,s;s=i<12?12:i+n.height+12>window.innerHeight?window.innerHeight-n.height-12:i,o=r+n.width+12>window.innerWidth?window.innerWidth-n.width-12:r,e.style.transform=`translate3d(${o}px, ${s}px, 0)`}render(){const{uriList:e,disabled:t}=this.props,{showOptions:n}=this.state,a=[];return e.forEach(e=>{const t=this.getStoryName(e);t&&a.push({name:t,uri:e})}),i.h("div",null,i.h("div",{class:Object(s.default)("openInButtonWrapper",{disabled:t})},i.h("a",{class:"openInButton noSelect",href:t?"":e[0],target:"_blank",onClick:t?c.preventDefault:y},r.storybookIcon,i.h("span",{class:"openInButtonText ellipsis"},"Open in Storybook")),a.length>1&&i.h("button",{class:Object(s.default)("storybookSettings",{active:n}),onClick:t?c.preventDefault:this.handleOptionsClick,ref:Object(o.default)(this,"target")},r.optionsIcon)),n&&i.h(d.default,{didRender:this.handlePortalDidRender},i.h(u.default,{class:"storybooksMenu",onClose:this.hideOptions},i.h(u.default.Submenu,{name:"Stories"},a.map(e=>i.h(u.default.Button,{key:e.name,onClick:()=>window.open(e.uri)},e.name))))))}}function k(e){const{name:t,uri:n,showOptionsButton:o,onOptionsClick:s,disabled:a}=e;return i.h(p,{name:t||"Custom Link",icon:r.customLinkIcon,uri:n,target:"_blank",disabled:a,showOptionsButton:o,onOptionsClick:s})}t.default=p},function(e,t,n){"use strict";n.r(t),n.d(t,"optionsIcon",(function(){return r})),n.d(t,"vsCodeIcon",(function(){return o})),n.d(t,"vsCodeInsidersIcon",(function(){return s})),n.d(t,"androidStudioIcon",(function(){return a})),n.d(t,"sublimeIcon",(function(){return l})),n.d(t,"atomIcon",(function(){return c})),n.d(t,"ideaIcon",(function(){return d})),n.d(t,"webStormIcon",(function(){return u})),n.d(t,"defaultEditorIcon",(function(){return h})),n.d(t,"styleguidistIcon",(function(){return p})),n.d(t,"gitHubIcon",(function(){return f})),n.d(t,"storybookIcon",(function(){return g})),n.d(t,"gitLabIcon",(function(){return m})),n.d(t,"bitbucketIcon",(function(){return b})),n.d(t,"customLinkIcon",(function(){return y}));var i=n(1);const r=i.h("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},i.h("path",{fill:"#C1BEC1","fill-rule":"evenodd",d:"M11.437 7.5a2 2 0 0 1-3.874 0H4.5a.5.5 0 0 1 0-1H7.563a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-8.063zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1zm3.196 4a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1h-2.063a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h9.063zm1.07 0a.995.995 0 0 0 0 1 1 1 0 1 0 0-1zm-5.196 6a2 2 0 0 1-3.874 0H4.5a.5.5 0 1 1 0-1h1.063a2 2 0 0 1 3.874 0H19.5a.5.5 0 1 1 0 1H9.437zm-1.07 0a.995.995 0 0 0 0-1 1 1 0 1 0 0 1z"})),o=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"nonzero",d:"M15.175.123l4.117 1.98c.433.208.708.646.708 1.126v13.427c0 .48-.275.917-.708 1.125l-4.117 1.98c-.12.058-.245.095-.371.112l-.127.01a1.245 1.245 0 0 1-.923-.363L5.87 12.332l-3.433 2.605a.833.833 0 0 1-.97.027l-.093-.074L.273 13.89a.833.833 0 0 1-.001-1.232l2.977-2.715L.272 7.227a.833.833 0 0 1 0-1.231l1.102-1.001a.833.833 0 0 1 1.063-.048L5.87 7.552 13.754.365c.124-.125.27-.219.428-.28l.12-.04c.285-.078.594-.056.873.078zm-.172 5.281L9.021 9.942l5.982 4.538V5.404z"})),s=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"nonzero",d:"M15.174.123l4.118 1.98c.433.208.708.646.708 1.126v13.427c0 .48-.275.917-.708 1.126l-4.118 1.98c-.437.21-.952.146-1.323-.154l-.088-.08.07.062a.732.732 0 0 0 1.17-.588V.882a.732.732 0 0 0-1.17-.587l-.07.06.088-.078c.371-.3.886-.364 1.323-.154zm-2.05.742a.625.625 0 0 1 1.046.461v4.51l-5.238 4.15 5.238 4.063v4.504a.625.625 0 0 1-1.047.46L.272 7.228a.833.833 0 0 1 0-1.232l1.102-1.001a.833.833 0 0 1 1.063-.048l3.395 2.634zM2.868 10.42l2.559 2.333-2.989 2.184a.833.833 0 0 1-1.063-.047L.273 13.889a.833.833 0 0 1-.001-1.232l2.595-2.237z"})),a=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"evenodd",d:"M9.988 0a8.988 8.988 0 0 1 5.785 15.867l1.253 2.173a.598.598 0 0 1 .059.149l.013.078.13 1.498a.16.16 0 0 1-.073.138.154.154 0 0 1-.103.014l-.05-.022-1.248-.85a.47.47 0 0 1-.116-.103l-.046-.068-1.19-2.056a8.947 8.947 0 0 1-4.414 1.158A8.947 8.947 0 0 1 5.54 16.8l-1.203 2.083a.585.585 0 0 1-.1.118l-.062.052-1.247.842c-.048.032-.105.04-.153.008a.158.158 0 0 1-.072-.097l-.001-.04.113-1.507a.554.554 0 0 1 .038-.153l.035-.074L4.16 15.83A8.988 8.988 0 0 1 9.988 0zm3.102 14.55a6.375 6.375 0 0 1-5.995.136l-.256-.135-.69 1.197a7.738 7.738 0 0 0 3.839 1.013 7.738 7.738 0 0 0 3.807-.994l-.705-1.216zM9.988 1.216A7.773 7.773 0 0 0 4.78 14.759l3.169-5.48-.324-.324c-.084-.084-.132-.158-.144-.225l-.002-.05h-.008V6.567c0-.474.363-.87.823-.925l.108-.006h.526V3.968h2.065v1.668h.518c.474 0 .87.363.925.823l.007.108V8.68a.425.425 0 0 1-.099.213l-.055.062-.324.324 1.603 2.77a4.776 4.776 0 0 0 1.151-2.858l.007-.252h1.66a6.415 6.415 0 0 1-1.756 4.409l-.196.199.72 1.249A7.773 7.773 0 0 0 9.987 1.215zm.746 9.287l-.316.316a.62.62 0 0 1-.36.186l-.101.008-.008-.008a.603.603 0 0 1-.38-.116l-.082-.07-.316-.316-1.506 2.607a4.727 4.727 0 0 0 2.292.591c.741 0 1.444-.166 2.057-.464l.226-.119-1.506-2.615zm-.77-4.049c-.696 0-1.246.551-1.246 1.247 0 .646.49 1.177 1.113 1.24l.126.007A1.253 1.253 0 0 0 11.204 7.7c0-.688-.559-1.238-1.24-1.247z"})),l=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"nonzero",d:"M19.228.003c.426 0 .775.349.775.774v18.451a.777.777 0 0 1-.775.77H.778a.778.778 0 0 1-.775-.774V.777c0-.425.349-.774.774-.774h18.451zM15.643 3.05c.179-.72-.564-.331-.564-.331L4.613 6.041c-.052.016-.403.146-.29.802L4.3 9.927c-.001.05.014.4.703.546l4.175 1.344-4.408 1.346c-.06.006-.529.077-.47 1.016.063.998-.004 3.008-.004 3.008s.044.372.555.157l10.465-3.34c.06-.016.309-.093.1-.18.092.022.299.034.267-.303l.005-3.438c.01-.046.055-.369-.546-.586l-4.24-1.33 4.253-1.329c.645-.116.515-.586.515-.586z"})),c=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"evenodd",d:"M6.118 1.158c.79-.058 1.758.367 2.801 1.232a.382.382 0 1 1-.487.587c-.875-.726-1.677-1.102-2.257-1.058a.98.98 0 0 0-.38.103c-.672.342-.938 1.528-.729 3.252.051.417.13.855.23 1.306.829-.128 1.734-.21 2.698-.238 2.201-2.847 4.61-4.695 6.316-4.76.427-.017.807.08 1.124.285.887.576 1.16 1.882.787 3.777a.382.382 0 0 1-.75-.147c.3-1.52.134-2.609-.453-2.99-.182-.118-.41-.172-.68-.162-1.356.051-3.424 1.632-5.353 3.985.385.003.79.015 1.209.037 2.609.137 5.047.638 6.865 1.412 1.937.824 2.972 1.888 2.914 2.997-.052.977-.918 1.82-2.505 2.435a.382.382 0 0 1-.276-.712c1.25-.484 1.985-1.127 2.018-1.763.04-.754-.853-1.575-2.45-2.255-1.738-.74-4.084-1.22-6.606-1.351a27.133 27.133 0 0 0-1.444-.038c-.11 0-.219.002-.327.004a25.337 25.337 0 0 0-1.935 2.975c.227.532.477 1.069.75 1.604 1.146 2.25 2.54 4.2 3.924 5.487 1.27 1.182 2.385 1.664 3.058 1.322.641-.327.915-1.439.75-3.05-.179-1.753-.85-3.908-1.89-6.068a.382.382 0 0 1 .688-.33c1.077 2.237 1.774 4.482 1.962 6.32.201 1.97-.212 3.323-1.164 3.808a1.776 1.776 0 0 1-.816.189c-.881 0-1.953-.557-3.108-1.632-1.448-1.347-2.898-3.371-4.084-5.7-.186-.363-.36-.728-.525-1.092-.666 1.321-1.154 2.608-1.42 3.761-.389 1.691-.249 2.897.384 3.308.595.387 1.675.082 2.963-.835a.382.382 0 1 1 .443.621c-1.067.76-2.01 1.146-2.786 1.146-.389 0-.736-.097-1.036-.292-1.736-1.128-.876-4.951 1.065-8.605a21.89 21.89 0 0 1-.879-2.577C2.244 7.949.812 8.872.765 9.769c-.034.643.611 1.339 1.816 1.96a.382.382 0 0 1-.35.678C.723 11.63-.048 10.704.003 9.73c.072-1.375 1.812-2.468 4.543-3.016a13.94 13.94 0 0 1-.236-1.347c-.254-2.091.15-3.52 1.14-4.024.203-.104.429-.166.67-.184zm3.932 8.086a1.145 1.145 0 1 1 0 2.29 1.145 1.145 0 0 1 0-2.29zM7.408 7.13c-.69.038-1.332.105-1.926.195.164.598.365 1.217.604 1.847A25.166 25.166 0 0 1 7.408 7.13z"})),d=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"#FFF","fill-rule":"nonzero"},i.h("path",{d:"M2.906 0l6.25.75 2.183 2.492 2.442-2.93L20 5.345l-.375 11.562L11.937 20 7.74 17.278 1.625 19.5 2.906 15l.266-.894-2.953-2.325 1.733-3.22L0 7.906 2.906 0zM16.25 3.75H3.75v12.5h12.5V3.75z"}),i.h("path",{d:"M4.938 13.906h4.687v.781H4.937v-.78zM8.28 6.312v-.937H5.72v.938h.718v3.28H5.72v.97H8.28v-.97h-.719v-3.28h.72zm2.5 4.313a2.097 2.097 0 0 1-1.031-.219 2.46 2.46 0 0 1-.688-.562l.72-.813c.129.143.276.269.437.375a.916.916 0 0 0 .5.125.581.581 0 0 0 .5-.219.916.916 0 0 0 .187-.656V5.312h1.156v3.375c.012.277-.03.553-.124.813a1.562 1.562 0 0 1-.438.688 2.234 2.234 0 0 1-1.219.437z"}))),u=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"#FFF","fill-rule":"nonzero"},i.h("path",{d:"M12.75 0l4.656.406.986 2.423.014-.017L20 6.783l-2.188 2.28L20 13.157l-3.75 2.223V3.75H3.75v12.5h11.031l-.332.197L13.75 20 2.687 18.062 0 2.095 5 .03l3.156 1.875L11.094.344l.924.357L12.75 0z"}),i.h("path",{d:"M4.938 13.906h4.687v.781H4.937v-.78zm6.125-4.094L11.719 9c.469.375.937.625 1.531.625.469 0 .75-.188.75-.5 0-.281-.188-.438-1.031-.656-1.031-.281-1.688-.563-1.688-1.594v-.031c0-.938.75-1.563 1.781-1.563a3.06 3.06 0 0 1 1.907.657l-.594.875a2.381 2.381 0 0 0-1.313-.5c-.406 0-.656.187-.656.468 0 .344.219.469 1.094.688 1.031.281 1.625.656 1.625 1.562 0 1.031-.781 1.625-1.875 1.625a3.603 3.603 0 0 1-2.188-.844m-1-4.437l-.78 3-.876-3h-.875l-.875 3-.781-3H4.656l1.5 5.188h.969l.844-3 .843 3h.97l1.5-5.188h-1.22z"}))),h=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"#FFF","fill-rule":"evenodd",transform:"translate(1.25 5)"},i.h("path",{d:"M3.125 3.75a1.875 1.875 0 0 0-.147 3.744l.147.006h6.25a1.875 1.875 0 0 0 0-3.75H8.75V2.5h.625a3.125 3.125 0 0 1 0 6.25h-6.25a3.125 3.125 0 0 1 0-6.25h3.857H4.375v1.25h-1.25z"}),i.h("path",{d:"M13.071 6.25l-1.928.001-.001-.001h1.929zM15 0a3.125 3.125 0 0 1 0 6.25h-1.25V5h-2.606H15a1.875 1.875 0 0 0 0-3.75H8.75a1.875 1.875 0 0 0-.147 3.744L8.75 5h.625v1.25H8.75a3.125 3.125 0 0 1 0-6.25H15z"}),i.h("circle",{cx:"8.75",cy:"3.125",r:"1"}),i.h("circle",{cx:"4.375",cy:"3.125",r:"1"}),i.h("circle",{cx:"9.375",cy:"5.625",r:"1"}),i.h("circle",{cx:"13.75",cy:"5.625",r:"1"}))),p=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"evenodd",d:"M9.985 3.125a3.243 3.243 0 0 1 3.236 3.052l.005.184v2.416a1.658 1.658 0 0 1-.715 1.388 1.141 1.141 0 0 1-.325 1.67l-.116.06v.892a.595.595 0 0 1-.123.364c.066.527.206.913.428 1.171.067.013.142.02.228.02.318 0 .551-.306.648-.846l.023-.153.355-2.61c.139-.9.476-1.6.984-2.107.38-.38.844-.643 1.365-.796l.227-.059 1.722-.454a.41.41 0 0 1 .419.408c0 .36-.043.535-.252.792a.88.88 0 0 1-.292.206c-.14.07-.32.142-.534.216a11.174 11.174 0 0 1-.768.233c-.592.16-1.06.69-1.199 1.276.396-.427.887-.704 1.527-.866l.248-.055 1.603-.412c.256 0 .452.317.452.543 0 .258-.113.531-.286.745-.134.165-.396.313-.663.392l-.134.034-.672.143a2.516 2.516 0 0 0-.975.6c.306-.166.672-.259 1.116-.282l.229-.006h1.818c.23 0 .411.19.411.419a1.075 1.075 0 0 1-.958 1.071l-.122.007-1.154-.005c-.24 0-.47.176-.709.534-.198.299-.365.653-.63 1.296-.239.577-.565 1.066-1.001 1.434-.534.45-1.206.696-2.025.696a3.905 3.905 0 0 1-2.455-.884 3.2 3.2 0 0 1-.933-1.253 3.2 3.2 0 0 1-.933 1.253 3.905 3.905 0 0 1-2.456.884c-.819 0-1.49-.245-2.025-.696-.436-.368-.762-.857-1-1.434-.266-.643-.433-.997-.631-1.296-.208-.314-.412-.487-.62-.526l-.09-.008-1.152.005A1.078 1.078 0 0 1 0 11.703c0-.2.139-.37.328-.41l.083-.009H2.23c.55 0 .988.094 1.346.289a2.478 2.478 0 0 0-.793-.531l-.182-.07-.673-.143c-.31-.065-.64-.233-.797-.426a1.23 1.23 0 0 1-.285-.745c0-.201.154-.474.369-.532l.082-.011 1.604.412c.763.15 1.329.441 1.774.92-.14-.586-.607-1.115-1.2-1.275a12.39 12.39 0 0 1-.767-.233 4.554 4.554 0 0 1-.534-.216.88.88 0 0 1-.292-.206c-.209-.257-.252-.433-.252-.792 0-.19.135-.36.331-.4l.088-.008 1.722.454c.613.14 1.158.42 1.593.855.456.456.775 1.068.936 1.842l.047.264.356 2.611c.077.635.323.998.67.998.086 0 .161-.006.228-.019.222-.258.362-.644.428-1.171a.594.594 0 0 1-.115-.263l-.008-.1v-.857a1.144 1.144 0 0 1-.763-1.077c0-.277.1-.532.266-.73a1.642 1.642 0 0 1-.651-1.183l-.008-.164V6.361a3.24 3.24 0 0 1 3.236-3.236zm-2.183 7.224a.696.696 0 0 0-.218.505.701.701 0 1 0 1.343-.282 14.892 14.892 0 0 1-.306-.056 2.223 2.223 0 0 1-.82-.167zm4.307.025a2.244 2.244 0 0 1-.756.142c-.133.026-.267.05-.4.072a.701.701 0 1 0 1.35.267.696.696 0 0 0-.194-.48zm-.509.193a.289.289 0 1 1 0 .577.289.289 0 0 1 0-.577zm-3.336-.001a.289.289 0 1 1 0 .577.289.289 0 0 1 0-.577z"})),f=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"nonzero",d:"M18.659 4.98a9.957 9.957 0 0 0-3.64-3.639C13.487.447 11.814 0 10 0 8.187 0 6.513.447 4.98 1.341a9.956 9.956 0 0 0-3.639 3.64C.447 6.513 0 8.186 0 10c0 2.179.636 4.138 1.908 5.879 1.271 1.74 2.914 2.945 4.928 3.613.234.044.408.013.52-.091a.51.51 0 0 0 .17-.39l-.007-.704c-.004-.442-.006-.829-.006-1.158l-.3.051a3.82 3.82 0 0 1-.723.046 5.506 5.506 0 0 1-.904-.091 2.022 2.022 0 0 1-.873-.39 1.652 1.652 0 0 1-.573-.801l-.13-.3a3.254 3.254 0 0 0-.41-.664c-.187-.243-.375-.408-.566-.495l-.091-.065a.956.956 0 0 1-.17-.156.714.714 0 0 1-.117-.183c-.026-.06-.004-.11.065-.15.07-.039.196-.058.378-.058l.26.04c.174.034.389.138.645.312.256.173.466.399.631.676.2.357.44.628.723.814.282.187.566.28.853.28.286 0 .533-.021.742-.065a2.59 2.59 0 0 0 .586-.195c.078-.582.29-1.029.638-1.341a8.915 8.915 0 0 1-1.335-.235 5.314 5.314 0 0 1-1.224-.508A3.505 3.505 0 0 1 4.57 12.8c-.278-.347-.506-.803-.684-1.367-.177-.565-.266-1.216-.266-1.954 0-1.05.343-1.944 1.028-2.682-.32-.79-.29-1.676.091-2.657.252-.078.625-.019 1.12.176.495.196.857.363 1.087.502.23.138.415.256.554.351a9.245 9.245 0 0 1 2.5-.338c.86 0 1.693.113 2.5.338l.495-.312c.338-.209.738-.4 1.197-.573.46-.174.812-.222 1.056-.143.39.98.425 1.866.103 2.656.686.738 1.03 1.632 1.03 2.682 0 .738-.09 1.391-.268 1.96-.178.569-.407 1.024-.69 1.367a3.64 3.64 0 0 1-1.054.866c-.421.235-.83.404-1.224.508-.395.104-.84.183-1.335.235.451.39.677 1.007.677 1.849v2.747c0 .156.054.286.163.39.108.105.28.135.514.092 2.014-.669 3.657-1.873 4.929-3.614C19.364 14.14 20 12.18 20 10c0-1.814-.448-3.487-1.341-5.02z"})),g=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF","fill-rule":"evenodd",d:"M17.717.943l.002.031v18.02A1.006 1.006 0 0 1 16.67 20l-13.422-.603a1.006 1.006 0 0 1-.96-.967l-.62-16.508A1.006 1.006 0 0 1 2.61.88L13.614.19l-.094 2.267a.15.15 0 0 0 .013.067l.018.03a.15.15 0 0 0 .167.052l.043-.023.88-.668.744.586a.15.15 0 0 0 .237-.075l.006-.048L15.546.07 16.65.002a1.006 1.006 0 0 1 1.066.94zm-7.721 2.46c-2.618 0-4.084 1.422-4.084 3.554 0 3.715 5.012 3.786 5.012 5.812 0 .568-.278.906-.89.906-.8 0-1.115-.408-1.078-1.794 0-.3-3.044-.394-3.137 0-.236 3.36 1.856 4.328 4.251 4.328 2.32 0 4.14-1.237 4.14-3.476 0-3.98-5.087-3.874-5.087-5.847 0-.8.595-.906.947-.906.372 0 1.04.065.984 1.558 0 .391 2.635.204 2.99-.07 0-2.665-1.43-4.065-4.048-4.065z"})),m=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF",d:"M19.91 11.374L18.866 8.16a.454.454 0 00-.026-.086l-2.098-6.46a.834.834 0 00-.796-.568.82.82 0 00-.787.573l-2 6.155H6.845L4.842 1.62a.82.82 0 00-.783-.573h-.005c-.36 0-.68.231-.794.574l-2.1 6.466c0 .006-.005.011-.006.017L.089 11.374c-.16.492.014 1.032.433 1.336l9.2 6.684a.47.47 0 00.555-.003l9.2-6.681c.42-.304.595-.844.434-1.336zM6.16 8.719l2.565 7.892-6.156-7.892h3.592zm5.118 7.893l2.46-7.566.105-.327h3.594l-5.569 7.134-.59.76zm4.675-14.387l1.802 5.55h-3.607l1.805-5.55zm-3.1 6.49l-1.787 5.498L10 17.487 7.152 8.715h5.7zM4.05 2.225l1.805 5.55H2.251l1.799-5.55zM1.076 11.95a.254.254 0 01-.092-.284l.79-2.43 5.799 7.434-6.497-4.72zm17.849 0l-6.498 4.718.022-.028 5.776-7.404.79 2.429a.254.254 0 01-.09.284z"})),b=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("path",{fill:"#FFF",d:"M.649 1a.64.64 0 00-.64.745l2.72 16.51a.872.872 0 00.853.73H16.63a.642.642 0 00.641-.537l2.72-16.699a.64.64 0 00-.528-.733c-.036-.004-.072-.008-.112-.008L.649 1zm11.454 11.931H7.937L6.81 7.041h6.302l-1.01 5.89z"})),y=i.h("svg",{width:"20",height:"20",viewBox:"0 0 20 20"},i.h("g",{fill:"#FFF","fill-rule":"evenodd",transform:"translate(1.25 5)"},i.h("path",{d:"M3.125 3.75a1.875 1.875 0 0 0-.147 3.744l.147.006h6.25a1.875 1.875 0 0 0 0-3.75H8.75V2.5h.625a3.125 3.125 0 0 1 0 6.25h-6.25a3.125 3.125 0 0 1 0-6.25h3.857H4.375v1.25h-1.25z"}),i.h("path",{d:"M13.071 6.25l-1.928.001-.001-.001h1.929zM15 0a3.125 3.125 0 0 1 0 6.25h-1.25V5h-2.606H15a1.875 1.875 0 0 0 0-3.75H8.75a1.875 1.875 0 0 0-.147 3.744L8.75 5h.625v1.25H8.75a3.125 3.125 0 0 1 0-6.25H15z"}),i.h("circle",{cx:"8.75",cy:"3.125",r:"1"}),i.h("circle",{cx:"4.375",cy:"3.125",r:"1"}),i.h("circle",{cx:"9.375",cy:"5.625",r:"1"}),i.h("circle",{cx:"13.75",cy:"5.625",r:"1"})))},function(e,t,n){"use strict";n.r(t);var i=n(1587);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(24),o=n(181),s=n(9),a=n(1303),l=n(293);n(1588);class c extends i.Component{constructor(e){super(e),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleAddWorkspacePath=this.handleAddWorkspacePath.bind(this),this.handleInputChange=this.handleInputChange.bind(this)}focusTextInput(){const{textInput:e}=this.nodeRefs;e.focus()}handleDocumentKeyDown(e){e.stopPropagation(),e.keyCode===Zeplin.KEY_CODE.ESC&&this.props.onHide()}handleAddWorkspacePath(e){const t=this.nodeRefs.textInput.value;t?this.props.onAdd(t):e.preventDefault()}handleInputChange(e){const t=e.target.value.split(/\u25B8/g).map(e=>e.replace(/[^\x20-\x7E]/g,"").trim()).join("/");this.nodeRefs.textInput.value=t}componentDidMount(){const{workspace:e}=this.props;this.nodeRefs.textInput.value=e||"",document.addEventListener("keydown",this.handleDocumentKeyDown,!0),this.focusTextInput()}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown,!0)}render(){const{onHide:e,workspace:t}=this.props,n=t?"CHANGE":"SAVE";return i.h(l.default,null,i.h(o.default,{onClose:e},i.h("div",{class:"localWorkspaceDialog"},i.h("div",{class:"dialogContent"},i.h("p",null,(t?"Change":"Enter")+" local path for repository"),i.h(a.default,{inputRef:Object(r.default)(this,"textInput"),class:"localWorkspacePath",placeholder:"e.g. /Users/zo/Developer/project/",onInput:this.handleInputChange})),i.h("div",{class:"footer"},i.h(s.default,{class:"negative",onClick:e},"CANCEL"),i.h(s.default,{class:"positive",onClick:this.handleAddWorkspacePath},n)))))}}t.default=c},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1591);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1585),o=n(62),s=n(24),a=n(11),l=n(293),c=n(1119);n(1589);const d={"Visual Studio Code":r.vsCodeIcon,"Visual Studio Code - Insiders":r.vsCodeInsidersIcon,Atom:r.atomIcon,"Sublime Text":r.sublimeIcon,"Android Studio":r.androidStudioIcon,"IntelliJ IDEA":r.ideaIcon,WebStorm:r.webStormIcon},u={name:"Default Editor",value:"defaultEditor"};class h extends i.Component{constructor(e){super(e),this.handlePortalDidRender=this.handlePortalDidRender.bind(this),this.handleOptionsClick=this.handleOptionsClick.bind(this),this.handleCloseMenu=this.handleCloseMenu.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleMenuItemClick=this.handleMenuItemClick.bind(this),this.state={showMenu:!1}}selectedEditorAvailable(){const{selectedEditor:e,editorList:t}=this.props;return t.findIndex(t=>t.exePath===e.exePath)>-1}handlePortalDidRender(e){const t=this.nodeRefs.target.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.top,r=t.left-n.width;let o,s;s=i<12?12:i+n.height+12>window.innerHeight?window.innerHeight-n.height-12:i,o=r+n.width+12>window.innerWidth?window.innerWidth-n.width-12:r,e.style.transform=`translate3d(${o}px, ${s}px, 0)`}handleOptionsClick(){this.context.disableScroll(),this.setState({showMenu:!0})}handleCloseMenu(){this.context.enableScroll(),this.setState({showMenu:!1})}handleMenuItemClick(e,t){if("editors"===e){const{editorList:e,selectedEditor:n,onEditorChange:i,fileExtension:r}=this.props,o=e.find(e=>e.exePath===t);return void(n&&!o?i(r,null):(!n&&o||n&&o.name!==n.name)&&i(r,o))}const{onSelectWorkspace:n}=this.props;n()}handleOpen(){const{selectedEditor:e,filePath:t,onOpenFileInEditor:n}=this.props;n(t,e)}render(){const{editorList:e,selectedEditor:t,workspacePath:n,disabled:h}=this.props,{showMenu:p}=this.state,f=[u];e&&e.forEach(e=>{f.push({name:e.name,value:e.exePath})});const g=[i.h(c.default.Button,{key:"openInEditorSelectButton"},n?"Change":"Select"," Folder in File Explorer")];return e&&e.length>0&&g.push(i.h(c.default.Picker,{key:"openInEditorPicker",name:"editors",content:"Editors",submenu:!0,value:t&&this.selectedEditorAvailable()&&t.exePath||u.value,options:f})),i.h("div",null,i.h("div",{class:Object(a.default)("openInButtonWrapper",{disabled:h})},i.h("button",{class:"openInButton noSelect",onClick:h?o.preventDefault:this.handleOpen},t?d[t.name]:r.defaultEditorIcon,i.h("span",{class:"openInButtonText ellipsis"},"Open in "+(t?t.name:"default editor"))),i.h("button",{onClick:h?o.preventDefault:this.handleOptionsClick,ref:Object(s.default)(this,"target")},r.optionsIcon)),p&&i.h(l.default,{didRender:this.handlePortalDidRender},i.h(c.default,{class:"openInEditorMenu",onChange:this.handleMenuItemClick,onClose:this.handleCloseMenu},g)))}}t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(1593);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(9),o=n(64);n(1594);t.default=function(e){const{onReload:t}=e;return i.h("div",{class:"devModeHintBox"},i.h("span",{class:"hintAunt"},"👷‍♀️"),i.h("div",{class:"devModeHintContent"},i.h("p",{class:"devModeHint"},`Local configuration enabled -- this is only visible to you, use shortcut ${Object(o.getDevModeShortcut)()} to disable it.`),i.h(r.default,{class:"devModeReload",onClick:t},"Reload")))}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1596);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(9);n(1597);t.default=function(e){const{onRequestInvite:t}=e;return i.h("div",{class:"notAMemberHintBox"},i.h("span",{class:"hintTippingWoman"},"💁‍♀"),i.h("div",{class:"notAMemberHintContent"},i.h("p",{class:"notAMemberHint"},"This styleguide belongs to an organization but looks like you’re not a member. If you’re a developer or designer and want to access these resources, please request an invite from admins."),i.h(r.default,{class:"notAMemberRequestInvite",onClick:t},"Request invite")))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1600);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(9),o=n(1535),s=n(228),a=n(11),l=n(56),c=n(62);n(1601);const d=/\u2028/g,u=Object(l.canCopy)();function h(e){return e.replace(d,"\n")}class p extends i.Component{constructor(e){super(e),this.handleCopyClick=this.handleCopyClick.bind(this),this.handleContentCopy=this.handleContentCopy.bind(this),this.handleContentFocus=this.handleContentFocus.bind(this)}handleContentCopy(e){e.preventDefault();const{content:t}=this.props;e.clipboardData.setData("text/plain",h(t))}handleContentFocus(e){const{onCopyClick:t,content:n}=this.props;t(h(n)),setTimeout(l.selectContent,40,e.target)}handleCopyClick(){const{onCopyClick:e,content:t}=this.props;e(h(t))}renderContent(){const{content:e,textStyles:t,hovered:n}=this.props,r=h(e);if(!t.length)return r;const o=[];let s=0;return t.forEach(({range:e,group:t})=>{const l=Object(c.escapeHTML)(r.substring(e.start,e.end));if(e.start>s)o.push(Object(c.escapeHTML)(r.substring(s,e.start)));else if(e.start<s)return;o.push(i.h("span",{class:Object(a.default)({hovered:n===t}),"data-color-group":t},l)),s=e.end}),o.push(Object(c.escapeHTML)(r.substring(s,r.length))),o}renderTitle(){return i.h("div",{class:"contentTitle"},"Content",u&&i.h(r.default,{class:"contentCopyButton",onClick:this.handleCopyClick},i.h(s.IconCopy,null)))}render(){const{class:e,showSeparator:t}=this.props;return i.h(o.default,{class:Object(a.default)("contentSection",e),title:this.renderTitle(),showSeparator:t},i.h("p",{class:"layerContent",onCopy:this.handleContentCopy,onFocus:this.handleContentFocus,tabIndex:"1"},this.renderContent()))}}t.default=p},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1603);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1535),o=n(819),s=n(1571),a=n(228),l=n(11);n(1604);function c({name:e,url:t}){return i.h("div",{class:"linkProperty"},i.h("a",{class:"ellipsis screenLink",href:t,"data-link-type":"inApp"},e),t&&i.h("a",{class:"screenLinkIcon",href:t,"data-link-type":"inApp"},i.h(a.IconScreenLink,null)))}t.default=function(e){const{class:t,showSeparator:n,flowLink:a,layer:{rect:d,opacity:u,borderRadius:h,rotation:p,blendMode:f},flowLinkInfoDismissed:g,onHideFlowInfoClick:m}=e;return i.h(r.default,{class:Object(l.default)("infoSection",t),showSeparator:n},i.h(s.default.Group,null,i.h(s.default,{name:"X"},d.x),i.h(s.default,{name:"Y"},d.y)),i.h(s.default.Group,null,i.h(s.default,{name:"Width"},d.width),i.h(s.default,{name:"Height"},d.height)),h&&i.h(s.default,{name:"Radius"},h),u&&i.h(s.default,{name:"Opacity"},u),p&&i.h(s.default,{name:"Rotation"},p+"°"),f&&i.h(s.default,{name:"Blend Mode"},f),a&&i.h(s.default,{name:"Linked to"},i.h(c,{name:a.name,url:a.url})),a&&!g&&i.h(o.default,{class:"flowInfo",onHideClick:m},"This area is linked to another screen. To quickly view links and navigate to linked screens, hold down ",i.h("strong",null,"Shift"),"."))}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1606);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1607),o=n(1535);n(1608);class s extends i.Component{constructor(e){super(e),this.handleHoverChange=this.handleHoverChange.bind(this),this.handleHoverChangeByGroup={}}handleHoverChange(e,t){t?this.props.onHoverChange(e):this.props.onHoverChange(null)}render(){const{showSeparator:e,typefaces:t,onAddTextStyleClick:n,onRemoveTextStyleClick:s,onTextStyleNameChange:a,onColorAddClick:l,onColorRemoveClick:c,onColorNameChange:d}=this.props;return i.h("div",null,function(e){const t={};return e.sort(({range:{start:e}},{range:{start:t}})=>e-t).filter(({group:e})=>!t[e]&&(t[e]=!0,!0))}(t).map(({textStyle:t,group:u,content:h})=>{const p="default"===u;return this.handleHoverChangeByGroup[u]||(this.handleHoverChangeByGroup[u]=this.handleHoverChange.bind(this,u)),i.h(o.default,{class:"typefaceSection",showSeparator:e,key:u},i.h(r.default,{textStyle:t,colorGroup:!p&&u,snippet:h,onHoverChange:!p&&this.handleHoverChangeByGroup[u],onAddClick:n,onRemoveClick:s,onNameChange:a,onColorAddClick:l,onColorRemoveClick:c,onColorNameChange:d}))}))}}t.default=s},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(44),o=n(106),s=n(11),a=n(1236),l=n(1571),c=n(1544),d=n(1303),u=n(1538),h=n(1037),p=n(228),f=n(96);n(1608);class g extends i.Component{constructor(e){super(e),this.handleAddClick=this.handleAddClick.bind(this),this.handleRemoveClick=this.handleRemoveClick.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.state={hover:!1}}handleAddClick(){const{textStyle:{value:e},onAddClick:t}=this.props;t(e)}handleNameChange(e){const{textStyle:{id:t,name:n},onNameChange:i}=this.props,{value:r}=e.target;r?n!==r&&i(t,r):e.target.value=n}handleRemoveClick(){this.props.onRemoveClick(this.props.textStyle.id)}renderFontVariationSettings(){const{textStyle:{fontVariationSettings:e}}=this.props;return e?Object(a.enumerateFontVariationSettings)(e).map(([e,t])=>i.h(l.default,{key:e,name:a.REGISTERED_AXES[e],abbr:e},Object(o.round)(t,2))):null}render(){const{class:e,colorGroup:t,snippet:n,textStyle:{styleguideId:o,styleguideName:a,isMember:h,isOrganizationBarrel:g,id:m,added:b,name:y,color:S,fontFace:v,fontSize:C,letterSpacing:O,lineHeight:E,textAlign:T},hover:D,onColorAddClick:k,onColorRemoveClick:w,onColorNameChange:_}=this.props,{barrelType:j,barrelId:P,permissions:{canManageTextStyles:R}}=this.context,I=t?i.h("div",{class:"typefaceHeader","data-color-group":t},i.h("div",{class:"typefaceTitle"},i.h("span",null,"Typeface "),i.h("span",null,n),i.h("span",null,"”")),t&&i.h("div",{class:"colorGroup"})):i.h("div",{class:"typefaceHeader"},i.h("div",{class:"typefaceTitle"},i.h("span",null,"Typeface"))),A=!R||b&&o!==P,x=i.h(c.default,{onAddClick:this.handleAddClick,onRemoveClick:this.handleRemoveClick,resourceAdded:b,isMember:h,isOrganizationBarrel:g,styleguideId:o,styleguideName:a,canManageResource:R,type:c.default.TYPE.TEXT_STYLE,disabled:A}),N=j===f.default.STYLEGUIDE?"styleguide":"project-styleguide",L=Object(r.urlResolve)(N+"-textstyles",{url:{bid:P},query:{tsid:m}});return i.h("div",{class:Object(s.default)("typeface",e,{hover:D})},I,b?[i.h("div",{key:"textStyleName-"+m,class:"textStyleName"},i.h(d.default,{class:"textStyleNameInput",value:y,blurOnEnter:!0,disabled:A,onBlur:this.handleNameChange,ellipsized:!0}),i.h("div",{class:"buttonSpacer"},x),i.h("a",{href:L,class:"goToResource","data-link-type":"inApp"},i.h(p.IconGoTo,{width:"18",height:"18"}))),i.h("div",{key:"layerFontFace-"+m,class:"layerFontFace"},i.h("span",{class:"ellipsis"},v))]:i.h("div",{class:"layerFontFace"},i.h("span",{class:"ellipsis"},v),i.h("div",{class:"buttonSpacer"},x)),i.h(l.default.Group,null,i.h(l.default,{name:"Size"},C),void 0!==T&&i.h(l.default,{name:"Align"},T)),this.renderFontVariationSettings(),void 0!==E&&i.h(l.default,{name:"Line Height"},E),void 0!==O&&i.h(l.default,{name:"Letter Spacing"},O),S&&i.h(u.default,{color:S,initialHover:D,onNameChange:_,onAddClick:k,onRemoveClick:w}))}}const m=Object(h.default)(g);t.default=m},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1610);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(293),o=n(1540),s=n(1037);n(1611);const a=Object(s.default)((function(e){const{color:{id:t,name:n,added:r,colorString:s,opacity:a,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u},canManageColors:h,onNameChange:p,onAddClick:f,onRemoveClick:g,hover:m}=e;return i.h("div",{class:"gradientColor"},i.h(o.default,{class:"gradientColorInfo",added:r,hover:m,id:t,name:n,colorString:s,opacity:a,styleguideId:l,styleguideName:c,isMember:d,isOrganizationBarrel:u,canManageColors:h,editable:r&&h,onAddClick:f,onRemoveClick:g,onNameChange:p}))}));class l extends i.Component{constructor(e){super(e),this.handleColorStopMouseEnter=this.handleColorStopMouseEnter.bind(this),this.handleColorStopMouseLeave=this.handleColorStopMouseLeave.bind(this),this.state={colorStop:null}}handleColorStopMouseEnter(e){const t=e.target.closest(".colorStop"),{top:n,left:i}=t.getBoundingClientRect();this.setState({activeColorStop:{value:t.dataset.pos,x:`calc(${Math.trunc(i-4)}px - 100%)`,y:Math.trunc(n-5)+"px"}})}handleColorStopMouseLeave(){this.setState({activeColorStop:null})}render(){const{gradient:{colorStops:e,gradientStyle:t},onColorAddClick:n,onColorRemoveClick:o,onColorNameChange:s}=this.props,{activeColorStop:l}=this.state,{permissions:{canManageColors:c}}=this.context;return i.h("div",{class:"layerGradient"},i.h("div",{class:"gradientPreview",style:{backgroundImage:t}},e.map(({color:{colorStyle:e},position:t},n)=>{const r=t>0&&t<1,o={top:Math.trunc(100*t)+"%",color:e};return i.h("div",{class:"colorStop",key:n,style:o,"data-pos":t,onMouseEnter:r?this.handleColorStopMouseEnter:null,onMouseLeave:r?this.handleColorStopMouseLeave:null})})),i.h("div",{class:"gradientColors"},e.map(({color:e},t)=>{const{id:r,value:l}=e;return i.h(a,{key:t,color:e,canManageColors:c,onNameChange:function(e){s(r,e)},onAddClick:function(){n(l)},onRemoveClick:function(){o(r)}})})),l&&i.h(r.default,null,i.h("div",{class:"colorStopPosition",style:{transform:`translate3d(${l.x}, ${l.y}, 0`}},l.value)))}}t.default=l},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1613);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1538),o=n(1609);n(1614);t.default=function(e){const{border:{color:t,gradient:n,position:s,thickness:a},disabled:l,onColorAddClick:c,onColorRemoveClick:d,onColorNameChange:u}=e;return i.h("div",{class:"layerBorder"},i.h("div",{class:"borderInfo"},s,", ",a),t?i.h(r.default,{color:t,disabled:l,onAddClick:c,onRemoveClick:d,onNameChange:u}):i.h(o.default,{gradient:n,disabled:l,onColorAddClick:c,onColorRemoveClick:d,onColorNameChange:u}))}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1616);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1538),o=n(1571);n(1617);t.default=function(e){const{shadow:{blurRadius:t,color:n,offsetX:s,offsetY:a,spread:l,type:c},disabled:d,onColorRemoveClick:u,onColorAddClick:h,onColorNameChange:p}=e;return i.h("div",{class:"layerShadow"},i.h("div",{class:"shadowType"},c),i.h(o.default.Group,null,i.h(o.default,{name:"X"},s),i.h(o.default,{name:"Y"},a)),i.h(o.default.Group,null,i.h(o.default,{name:"Blur"},t),i.h(o.default,{name:"Spread"},l)),i.h(r.default,{color:n,disabled:d,onAddClick:h,onRemoveClick:u,onNameChange:p}))}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1619);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1);n(1620);t.default=function(e){const{blur:{radius:t,type:n}}=e;return i.h("div",{class:"layerBlur"},i.h("div",{class:"blurInfo"},n,", ",t))}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1622);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(228);n(1623);t.default=function(){return i.h("div",{class:"noComponent"},i.h("span",{class:"description ellipsis"},"Not a part of a component yet."),i.h("a",{href:"https://blog.zeplin.io/introducing-zeplin-2-0-components-and-a-ton-more-goodies-7c09dacc1f48",target:"_blank"},i.h(r.IconInfo,{width:"21",height:"21"})))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1626);class o extends i.Component{constructor(e){super(e),this.generateLayerCode=this.generateLayerCode.bind(this),this.handleCopyClick=this.handleCopyClick.bind(this),this.renderExtensionCode=this.renderExtensionCode.bind(this)}generateLayerCode(e,t){const{layer:n,version:i}=this.props;return e.layer(t,n,i).then(e=>{if(!e)return;const t={name:"layer"};return"string"==typeof e?t.code=e:Object.assign(t,e),t})}handleCopyClick(e,t){const{onCopyClick:n}=this.props;n(e,"layer",t)}renderExtensionCode(e){const{onSettingsClick:t,class:n}=this.props;return i.h(r.ExtensionCode,{snippets:e,onCopyClick:this.handleCopyClick,onSettingsClick:t,class:n})}render(){const{layer:e}=this.props;return i.h(r.default,{id:e.id,generateCode:this.generateLayerCode,render:this.renderExtensionCode})}}t.default=o},function(e,t,n){"use strict";n.r(t);var i=n(1627);n.d(t,"default",(function(){return i.default}));var r=n(1629);n.d(t,"ExtensionCode",(function(){return r.default}));var o=n(1637);n.d(t,"ResizableExtensionCode",(function(){return o.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(62),a=n(337),l=n(666),c=n(658),d=n(342),u=n(346),h=n(345),p=n(334);n(1628);class f extends i.Component{constructor(...e){var t,n,i;super(...e),i={snippets:{}},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}static calculateState(){const{extensions:e,enabledExtensions:t}=c.ExtensionsStore.getState(),{loading:n,barrelType:i,barrelId:r}=d.BarrelStore.getState();if(n)return{loading:n};const o=d.BarrelHelpers.getBarrel({bid:r}),{styleguides:s}=u.StyleguidesDataStore.getState();return{loading:n,barrel:o,styleguides:s,barrelType:i,extensions:e,enabledExtensions:t}}static getStores(){return[c.ExtensionsStore,d.BarrelStore,h.ProjectsDataStore,u.StyleguidesDataStore]}async generateCode(e,t){const{generateCode:n}=this.props;try{const i=await n(e,t);return{[e.id]:{snippets:i?[i]:[],title:e.name}}}catch(i){return null}}async generateCodeSnippets(){const{onGenerateCode:e}=this.props,{barrel:t,styleguides:n,barrelType:i,extensions:r,enabledExtensions:o}=this.state,s=Object(l.transformBarrelToObject)(t,i,n),a=r.filter(e=>e.loaded&&o.includes(e.id));try{const t=(await Promise.all(a.map(e=>this.generateCode(e,s)))).filter(Boolean);if(e){e(t.some(e=>Object.keys(e).some(t=>e[t].snippets.length)))}this.setState({snippets:Object.assign({},...t)})}catch(c){}}componentDidMount(){this.generateCodeSnippets()}componentDidUpdate(e,t){const{extensions:n,enabledExtensions:i}=this.state;!Object(a.default)(e,this.props)&&Object(s.arrayEqual)(t.extensions,n,(e,t)=>e===t)&&Object(s.arrayEqual)(t.enabledExtensions,i,(e,t)=>e===t)||this.generateCodeSnippets()}render(){const{render:e}=this.props,{loading:t,snippets:n}=this.state;return t?null:e(n)}}f.propTypes={generateCode:o.a.func.isRequired,onGenerateCode:o.a.func,id:o.a.string,render:o.a.func.isRequired},t.default=Object(p.default)(f,{pure:!1})},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1630);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11),o=n(56),s=n(1631);const a=Object(o.canCopy)();class l extends i.Component{shouldComponentUpdate(e,t){const n=Object.keys(this.props.snippets),i=Object.keys(e.snippets);return!(n.length===i.length&&!i.some(e=>!n.includes(e)))||i.some(t=>{const{snippets:n}=this.props.snippets[t],{snippets:i}=e.snippets[t];return n.length!==i.length||i.some((e,t)=>n[t].language!==e.language||n[t].code!==e.code)})}render(){const{snippets:e,onCopyClick:t,onSettingsClick:n,class:o}=this.props,l=Object.keys(e).map(r=>{const{snippets:o,title:l}=e[r];return o.length?i.h(s.default,{class:"extensionCode",key:r,extensionId:r,copyEnabled:a,onCopyClick:t,onSettingsClick:n,snippets:o,title:l,asyncHighlight:!1}):null}).filter(Boolean);if(l.length)return i.h("div",{class:Object(r.default)("extensionCodePanel",o)},l)}}t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1632);n.d(t,"Gutter",(function(){return i.Gutter})),t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(340),o=n(11),s=n(1633);n.d(t,"Gutter",(function(){return s.default}));var a=n(9),l=n(1580),c=n(228);n(1636);class d extends r.default{constructor(e){super(e),this.handleCopyClick=this.handleCopyClick.bind(this),this.handleSettingsClick=this.handleSettingsClick.bind(this),this.exportHandlers=new WeakMap}handleCopyClick(){const{extensionId:e,snippets:t,onCopyClick:n}=this.props;n(t.map(e=>e.code).join("\n\n"),e)}handleSettingsClick(e){e.stopPropagation();const{onSettingsClick:t,extensionId:n}=this.props;t(n)}bindExportHandler(e){let t=this.exportHandlers.get(e);return t||(t=()=>this.props.onExportClick(e.name),this.exportHandlers.set(e,t),t)}render(){const{asyncHighlight:e,class:t,copyEnabled:n,exportEnabled:r,snippets:d,title:u}=this.props,h=d.map(t=>i.h("div",{key:t.name,class:"snippet"},r&&t.exportable&&i.h(a.default,{class:"exportButton",onClick:this.bindExportHandler(t)},i.h(c.IconDownload,{color:"#C1BEC1"})),i.h(l.default,{lineIndicator:!0,lang:t.language,content:t.code,asyncHighlight:e})));return i.h("div",{class:Object(o.default)("codePanel",t)},i.h(s.default,null),i.h("div",{class:"title"},i.h("h3",null,u),n&&i.h(a.default,{class:"copyButton",onClick:this.handleCopyClick},i.h(c.IconCopy,{color:"#C1BEC1"})),i.h(a.default,{class:"settingsButton",onClick:this.handleSettingsClick},i.h(c.IconSettings,{color:"#C1BEC1"}))),h)}}t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1634);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1);n(1635);t.default=function(){return i.h("div",{class:"codePanelGutter"})}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1638);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1629),o=n(1639),s=n(1631),a=n(11),l=n(24);n(1642);class c extends i.Component{constructor(e){super(e),this.handleResize=this.handleResize.bind(this)}handleResize(e){const{bottom:t}=this.nodeRefs.base.getBoundingClientRect(),n=Math.min(this.props.maxResizeHeight,Math.max(this.props.minResizeHeight,t-e));this.props.onResize(n)}render(){const{class:e,height:t,minHeight:n,maxHeight:c,onCopyClick:d,onSettingsClick:u,codeGap:h,snippets:p}=this.props;return Object.keys(p).some(e=>p[e].snippets.length)?i.h("div",{class:Object(a.default)("resizableExtensionCodePanel",e),ref:Object(l.default)(this,"base"),style:{height:t,minHeight:n,maxHeight:c}},i.h(o.default,{onResize:this.handleResize}),i.h(r.default,{onCopyClick:d,onSettingsClick:u,snippets:p}),i.h("div",{class:"availableSpace",style:{height:h}},i.h(s.Gutter,null))):null}}t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1640);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1631);n(1641);class o extends i.Component{constructor(e){super(e),this.handleResizerMouseDown=this.handleResizerMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this)}handleResizerMouseDown(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(e.preventDefault(),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp))}handleMouseMove(e){e.preventDefault(),this.props.onResize(e.clientY)}handleMouseUp(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)}componentWillUnmount(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)}render(){return i.h("div",{class:"extensionCodeResizer",onMouseDown:this.handleResizerMouseDown},i.h(r.Gutter,null),i.h("div",{class:"resizerIcon"}))}}t.default=o},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1645);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(334),o=n(342),s=n(635),a=n(680),l=n(345),c=n(346),d=n(349),u=n(1646),h=n(1659),p=n(1665),f=n(1671),g=n(62),m=n(44),b=n(18),y=n(19),S=n(40),v=n(1677);n(1678);function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends i.Component{constructor(...e){super(...e),O(this,"handleClick",e=>{const{id:t,selected:n,onChange:i}=this.props;e.target.checked&&e.target.checked!==n&&i(t)})}render(){const{id:e,selected:t,title:n}=this.props,r=`ic${Object(y.uppercaseFirst)(e)}Tab${t?"Selected":""}`;return i.h("label",{class:"noSelect",title:n},i.h("input",{type:"radio",name:"resourceTab",value:e,checked:t,onClick:this.handleClick}),i.h("img",{alt:n,src:Object(b.imageUrl)(`img/${r}.png`),srcset:Object(b.srcset)(Object(b.imageUrl)(`img/${r}.png`))}))}}class T extends i.Component{constructor(...e){super(...e),O(this,"handleDescriptionChange",e=>{const{screenId:t,screen:{description:n}}=this.state;e!==n&&s.ScreenActions.updateDescription({sid:t,description:e,syncWithApi:!0})}),O(this,"handleManageTagsClick",()=>{const{screenId:e}=this.state;s.ScreenActions.openTagManager(e)}),O(this,"handleDownloadAssetClick",(e,t)=>{const{screen:{name:n},version:i}=this.state,{screenContainerRef:r}=this.context;o.BarrelActions.downloadAsset({containerName:n,version:i,assetId:e,format:t,toastContainer:r()})}),O(this,"handleDownloadSelectedAssetClick",e=>{const{screen:{name:t},version:n}=this.state,{screenContainerRef:i}=this.context;o.BarrelActions.downloadMultipleAsset({containerName:t,version:n,assetList:e,toastContainer:i()})})}static getStores(){return[a.AppStore,o.BarrelStore,s.ScreenStore,s.DotsStore,l.ProjectsDataStore,c.StyleguidesDataStore,d.UserStore]}static calculateState(){const{loading:e,barrelId:t,assetDensityScalePrefs:n,assetNamingConvention:i,densityMismatchWarningHidden:r,noResourceInfoDismissed:d,sourceFileInfoHidden:u,showOptimizedSVG:h}=o.BarrelStore.getState();if(e)return{loading:!0};const{loadingSnapshot:p,screenId:f,loadingVersions:b,versionId:y,latestVersionSelected:v,selectedSidebarTab:C,layoutGridEnabled:O,sourceFiles:E}=s.ScreenStore.getState();if(b&&!v)return{loading:!0};const{statusFilter:T,colorFilter:D}=s.DotsStore.getState(),{type:k,densityScale:w}=o.BarrelHelpers.getBarrel(),_=o.BarrelHelpers.findUser(),j=o.BarrelHelpers.isUserRestricted(),P=s.ScreenHelpers.getScreen(),R=s.ScreenHelpers.getSectionOfScreen(),I=s.ScreenHelpers.getVersion({sid:f,vid:y}),{density:A,densityScale:x=Object(g.getDensityScale)(A)}=I.snapshot,N=x!==w&&!r,L=E[y],U=o.BarrelHelpers.getStyleguidesData({barrelStore:o.BarrelStore,styleguidesDataStore:c.StyleguidesDataStore,projectsDataStore:l.ProjectsDataStore}),{shortlinks:M}=a.AppStore.getState(),B=v?"":"&vid="+y,z=`${S.ZPL_PROTOCOL}//screen?pid=${t}&sid=${f}${B}`,F=v?Object(m.urlResolve)("project-screen",{url:{pid:t,sid:f}}):Object(m.urlResolve)("project-screen-version",{url:{pid:t,sid:f,vid:y}});return{loading:!1,barrelUser:_,userRestricted:j,platform:k,assetDensityScalePrefs:n,assetNamingConvention:i,showDensityMismatchWarning:N,noResourceInfoDismissed:d,sourceFileInfoHidden:u,showOptimizedSVG:h,styleguidesData:U,loadingSnapshot:p,screenId:f,screen:P,section:R,latestVersionSelected:v,version:I,selectedTab:C,layoutGridEnabled:O,appUri:z,webUrl:F in M?M[F]:null,sourceFile:L,noteStatusFilter:T,noteColorFilter:D}}renderTabs(){const{selectedTab:e}=this.state;return i.h("div",{class:"resourceTabs"},s.TABS.map(({id:t,title:n})=>i.h(E,{id:t,key:t,title:n,selected:e===t,onChange:s.ScreenActions.changeSidebarTab})))}renderInfoTab(){const{formatter:e,onCopy:t,onCopyCode:n,onRequestOrgInviteClick:r}=this.props,{loading:a,screenId:l,screen:c,section:d,latestVersionSelected:h,version:p,layoutGridEnabled:f,noResourceInfoDismissed:g,sourceFileInfoHidden:m,appUri:b,webUrl:y,sourceFile:S,userRestricted:O}=this.state;if(a||!c||!p)return null;const E=Object(v.transformInfo)(c,p),T=O&&!g;return i.h(u.default,C({latestVersionSelected:h,appUri:b,webUrl:y,formatter:e,layoutGridEnabled:f,showNoResourceInfo:T,sourceFileInfoHidden:m,screenId:l,sectionId:d&&d._id,onCopyCode:n,onCopyScreenLink:t,sourceFile:S,onGridToggleChange:s.ScreenActions.toggleLayoutGrid,onDescriptionChange:this.handleDescriptionChange,onManageTagsClick:this.handleManageTagsClick,onSourceFileClick:s.ScreenActions.openSourceFile,onSourceFolderClick:s.ScreenActions.openSourceFolder,onRequestOrgInviteClick:r,onHideNoResourceInfoClick:o.BarrelActions.dismissNoResourceInfo,onHideSourceFileInfoClick:o.BarrelActions.hideSourceFileInfo},E))}renderColorsTab(){const{formatter:e,onAddColorClick:t,onColorNameChange:n,onRemoveColorClick:r,onRequestOrgInviteClick:o}=this.props,{loadingSnapshot:s,userRestricted:a,version:l,styleguidesData:c}=this.state,d=Object(v.transformColors)(l,e,c);return i.h(h.default,C({loading:s,restricted:a,onRequestOrgInviteClick:o,onAddColorClick:t,onColorNameChange:n,onRemoveColorClick:r},d))}renderAssetsTab(){const{formatter:e,onRequestOrgInviteClick:t}=this.props,{loadingSnapshot:n,userRestricted:r,platform:s,version:a,assetDensityScalePrefs:l,assetNamingConvention:c,showDensityMismatchWarning:d,showOptimizedSVG:u}=this.state,h=Object(v.transformAssets)(a,e,s);return i.h(p.default,C({restricted:r,formatter:e,showDensityMismatchWarning:d,assetDensityScalePrefs:l,namingConvention:c,showOptimizedSVG:u,loading:n,projectType:s,onRequestOrgInviteClick:t,onHideDensityMismatchWarningClick:o.BarrelActions.hideDensityMismatchWarning,onAssetDensityOptionChange:o.BarrelActions.changeAssetDensityScalePref,onNamingConventionChange:o.BarrelActions.changeAssetNamingConvention,onShowOptimizedSVGChange:o.BarrelActions.toggleSVGOptimization,onDownloadClick:this.handleDownloadAssetClick,onDownloadSelectedClick:this.handleDownloadSelectedAssetClick},h))}renderNotesTab(){const{barrelUser:e,screen:t,noteStatusFilter:n,noteColorFilter:r}=this.state;return i.h(f.default,{dots:t.dots,statusFilter:n,colorFilter:r,barrelUser:e,onFilterChange:s.ScreenActions.changeDotFilter,onNoteClick:s.ScreenActions.selectDot,onAddNoteClick:s.ScreenActions.enableNoteMode})}renderContent(){const{selectedTab:e}=this.state,t=s.TABS.reduce((e,t)=>(e[t.id]=t.id,e),{});switch(e){case t.colors:return this.renderColorsTab();case t.assets:return this.renderAssetsTab();case t.notes:return this.renderNotesTab();case t.info:default:return this.renderInfoTab()}}render(){return i.h("div",{class:"resourceView"},this.renderTabs(),i.h("div",{class:"resourceContent"},this.renderContent()))}}t.default=Object(r.default)(T)},function(e,t,n){"use strict";n.r(t);var i=n(1647);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1648),o=n(9),s=n(1649),a=n(1391),l=n(969),c=n(630),d=n(819),u=n(1535),h=n(1652),p=n(1655),f=n(1087),g=n(228),m=n(44),b=n(11),y=n(1033),S=n(18),v=n(1368),C=n(64),O=n(658);n(1658);class E extends i.Component{getGridData(){const{grid:{horizontal:e,vertical:t}}=this.props,n={};if(t){const{columnWidth:e,gutterWidth:i,guttersOnOutside:r,numberOfCols:o}=t,s=Math.min(230*e/(e+i),206);Object.assign(n,{vertical:!0,columnWidth:e,gutterWidth:i,vizColumnWidth:Math.floor(s),vizGutterWidth:Math.ceil(230-s),totalWidth:o*e+(o-!r)*i,numberOfCols:o})}if(e){const{rowHeight:t,gutterHeight:i}=e,r=Math.min(48*t/(t+i),32);Object.assign(n,{horizontal:!0,rowHeight:t,gutterHeight:i,vizRowHeight:Math.floor(r),vizGutterHeight:Math.ceil(48-r)})}return n}render(){const{formatter:e}=this.props,{vertical:t,columnWidth:n,gutterWidth:r,vizColumnWidth:o,vizGutterWidth:s,totalWidth:a,numberOfCols:l,horizontal:c,rowHeight:d,gutterHeight:u,vizRowHeight:h,vizGutterHeight:p}=this.getGridData();return i.h("div",{class:Object(b.default)("layoutGrid",{vertical:t,horizontal:c})},i.h("table",null,i.h("tr",null,i.h("td",{class:"gridColumnWidth"},e.length(n)),i.h("td",{class:"gridGutterWidth"},e.length(r)),i.h("td",null)),i.h("tr",null,i.h("td",{class:"gridColumn",style:{width:o+"px"}}),i.h("td",{class:"verticalGutter",style:{width:s+"px"}}),i.h("td",{class:"gridRowHeight",style:{height:h+"px"}},e.length(d))),i.h("tr",null,i.h("td",{class:"horizontalGutter"}),i.h("td",null),i.h("td",{class:"gridGutterHeight",style:{height:p+"px"}},e.length(u)))),i.h("div",{class:"gridProperty"},i.h("span",{class:"name"},"Total width:"),i.h("span",{class:"value"},e.length(a))),i.h("div",{class:"gridProperty"},i.h("span",{class:"name"},"# of columns:"),i.h("span",{class:"value"},l)))}}class T extends i.Component{constructor(e){super(e),this.handleDescriptionSubmit=this.handleDescriptionSubmit.bind(this),this.handleRequestInviteClick=this.handleRequestInviteClick.bind(this),this.handleSourceFileClick=this.handleSourceFileClick.bind(this),this.handleSourceFolderClick=this.handleSourceFolderClick.bind(this)}handleDescriptionSubmit(e){const{screenId:t,onDescriptionChange:n,description:i}=this.props;e!==i&&n(t,e)}handleRequestInviteClick(e){e.preventDefault(),this.props.onRequestOrgInviteClick()}handleSourceFileClick(){const{sourceFile:e,onSourceFileClick:t}=this.props;e&&t(e.file)}handleSourceFolderClick(){const{sourceFile:e,onSourceFolderClick:t}=this.props;e&&t(e.file)}renderNoResourceInfo(){const{showNoResourceInfo:e,onHideNoResourceInfoClick:t}=this.props;return e?i.h(d.default,{class:"noResourceInfo",onHideClick:t},"This project belongs to an organization but looks like you're not a member. If you're a developer or a designer and want to access these resources, please ",i.h("a",{href:"#",onClick:this.handleRequestInviteClick},"request an invite")," from admins!"):null}renderTags(){const{tags:e,onManageTagsClick:t}=this.props,{barrelId:n,barrelUser:{role:r},permissions:{canManageScreens:s}}=this.context,a=e.map(e=>{const t=Object(m.urlResolve)("project-dashboard",{url:{pid:n},query:{tag:[e]}});return i.h("a",{key:e,href:t,class:"tagLink","data-link-type":"inApp"},e)}),l=Object(C.getOS)()===C.OS.MAC?"⌥T":"Alt+T";return i.h("div",{class:"tags"},a,i.h(c.default,{content:s?"Manage tags":Object(y.default)(r,"organize screens using tags")},i.h(o.default,{class:"manageTagsButton",onClick:t,disabled:!s},i.h(g.IconGear,null),i.h("span",{class:"label"},"Manage"),i.h("span",{class:"shortcut"},l))))}renderLayoutGrid(){const{grid:e,formatter:t,layoutGridEnabled:n,onGridToggleChange:r}=this.props;if(!e)return null;const o=i.h("div",{class:"gridsTitle"},"Grids",i.h(l.default,{checked:n,onChange:r}));return i.h(u.default,{title:o,showSeparator:!0},i.h(E,{grid:e,formatter:t}))}renderSourceFile(){const{sourceFile:e,sourceFileInfoHidden:t,onHideSourceFileInfoClick:n}=this.props;if(!e)return null;const r=t?null:i.h(d.default,{class:"sourceFileHint",onHideClick:n},"This is only visible to you, to quickly jump to your design file.");return i.h(u.default,{title:"File",showSeparator:!0},i.h("div",{class:"sourceFileInfo"},i.h("div",{class:"sourceFileLocation"},i.h("div",{class:"sourceFileName ellipsis",title:e.name,onClick:this.handleSourceFileClick},e.name),i.h("div",{class:"sourceFilePath",title:e.dir,onClick:this.handleSourceFolderClick},e.pathParts.join(" ▸ "))),i.h(o.default,{class:"openFile",onClick:this.handleSourceFileClick},this.renderSourceFileIcons())),r)}renderSourceFileIcons(){const{source:e}=this.props;return"psd"===e?[i.h("img",{key:"ps",src:Object(S.imageUrl)("img/icFilePhotoshop.png"),srcset:Object(S.srcset)(Object(S.imageUrl)("img/icFilePhotoshop.png"))}),i.h("img",{key:"psPressed",src:Object(S.imageUrl)("img/icFilePhotoshopPressed.png"),srcset:Object(S.srcset)(Object(S.imageUrl)("img/icFilePhotoshopPressed.png"))})]:"xd"===e?[i.h("img",{key:"xd",src:Object(S.imageUrl)("img/icFileXD.png"),srcset:Object(S.srcset)(Object(S.imageUrl)("img/icFileXD.png"))}),i.h("img",{key:"xdPressed",src:Object(S.imageUrl)("img/icFileXDPressed.png"),srcset:Object(S.srcset)(Object(S.imageUrl)("img/icFileXDPressed.png"))})]:void 0}renderJiraAttachmentsWithSections(e){return e?i.h(u.default,{class:"jiraIntegrationContainer",showSeparator:!0},e):null}render(){const{authors:e,description:t,latestVersionSelected:n,showNoResourceInfo:o,appUri:l,webUrl:c,screen:d,screenId:g,sectionId:m,version:b,onCopyCode:y,onCopyScreenLink:S,onDescriptionChange:C}=this.props,{permissions:{canManageScreens:E}}=this.context;return i.h(h.default,{class:"infoTab"},this.renderNoResourceInfo(),i.h(u.default,{showSeparator:o},e.map(({fullName:t,username:n,avatar:r={},versions:o,lastUpdated:s})=>i.h(p.default,{key:n,avatar:r,fullName:t,username:n,versionCount:o,authorCount:e.length,lastUpdated:s}))),i.h(f.default,{class:"jiraIntegration",wrappingFn:this.renderJiraAttachmentsWithSections,items:[{itemType:"screen",itemId:g,label:"Attached to "},{itemType:"section",itemId:m,label:"Section attached to "}]}),i.h(u.default,{title:"Share "+(n?"screen":"version"),showSeparator:!0},i.h("div",{class:"shareViewWrapper"},i.h(s.default,{webUrl:c,appUri:l,onCopy:S}))),i.h(u.default,{title:"Description",showSeparator:!0},i.h(a.default,{class:"descriptionInput",value:t,placeholder:E?"Got any notes?":"No description yet",readOnly:!E,submitOnBlur:!0,onSubmit:C,autoEdit:!0,formatter:v.formatTextArea,showEmojiAutoComplete:!0,maxLength:1024})),i.h(u.default,{title:"Tags",showSeparator:!0},this.renderTags()),this.renderLayoutGrid(),this.renderSourceFile(),i.h(r.default,{class:"codeSection",screen:d,version:b,onCopyClick:y,onSettingsClick:O.ExtensionsActions.openSettings}))}}T.defaultProps={authors:[]},t.default=T},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1626);class o extends i.Component{constructor(e){super(e),this.generateScreenCode=this.generateScreenCode.bind(this),this.handleCopyClick=this.handleCopyClick.bind(this),this.renderExtensionCode=this.renderExtensionCode.bind(this)}generateScreenCode(e,t){const{screen:n,version:i}=this.props;return e.screen(t,i,n).then(e=>{if(!e)return;const t={name:"screen"};return"string"==typeof e?t.code=e:Object.assign(t,e),t})}handleCopyClick(e,t){const{onCopyClick:n}=this.props;n(e,"screen",t)}renderExtensionCode(e){const{onSettingsClick:t,class:n}=this.props;return i.h(r.ExtensionCode,{snippets:e,onCopyClick:this.handleCopyClick,onSettingsClick:t,class:n})}render(){const{screen:e,version:t}=this.props;return t.snapshot.layers?i.h(r.default,{id:e._id,generateCode:this.generateScreenCode,render:this.renderExtensionCode}):null}}t.default=o},function(e,t,n){"use strict";n.r(t);var i=n(1650);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(56),o=n(9),s=n(630),a=n(228);n(1651);function l(e){const{host:t,pathname:n}=new URL(e);return`${t}${n}`}function c(e){const t=window.getSelection().toString().trim();return t&&t!==e}class d extends i.Component{constructor(e){super(e),this.handleCopyAppUri=this.handleCopyAppUri.bind(this),this.handleCopyAppUriClick=this.handleCopyAppUriClick.bind(this),this.handleCopyWebUrl=this.handleCopyWebUrl.bind(this),this.handleCopyWebUrlClick=this.handleCopyWebUrlClick.bind(this)}copyLink(e){const{webUrl:t,appUri:n,onCopy:i}=this.props;i("web"===e?t:n)}handleCopyAppUriClick(){this.copyLink("app")}handleCopyWebUrlClick(){this.copyLink("web")}handleCopyAppUri(e){c(this.props.appUri)||(e.preventDefault(),this.copyLink("app"),Object(r.selectContent)(e.target))}handleCopyWebUrl(e){c(l(this.props.webUrl))||(e.preventDefault(),this.copyLink("web"),Object(r.selectContent)(e.target))}render(){const{webUrl:e,appUri:t}=this.props;return i.h("div",{class:"shareView"},i.h("div",{class:"shareLink"},i.h("span",{class:"linkType"},"Web:"),e?[i.h("span",{key:"webUrl",class:"link"},i.h(s.default,{content:"Click to copy"},i.h("div",{class:"ellipsis",onCopy:this.handleCopyWebUrl,onFocus:this.handleCopyWebUrl,tabIndex:"1"},l(e)))),i.h("div",{key:"webUrlShareButtons",class:"shareButtons"},i.h(s.default,{targetClass:"shareButton",content:"Copy web link"},i.h(o.default,{onClick:this.handleCopyWebUrlClick},i.h(a.IconCopy,null))))]:i.h("span",{class:"fetching"},"Fetching…")),i.h("div",{class:"shareLink"},i.h("span",{class:"linkType"},"App:"),i.h("span",{class:"link"},i.h(s.default,{content:"Click to copy"},i.h("div",{class:"ellipsis",onCopy:this.handleCopyAppUri,onFocus:this.handleCopyAppUri,tabIndex:"1"},t))),i.h("div",{class:"shareButtons"},i.h(s.default,{targetClass:"shareButton",content:"Open in App"},i.h("a",{href:t},i.h(a.IconShare,null))),i.h(s.default,{targetClass:"shareButton",content:"Copy app URI"},i.h(o.default,{onClick:this.handleCopyAppUriClick},i.h(a.IconCopy,null))))))}}t.default=d},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1653);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11);n(1654);t.default=function(e){const{class:t,children:n,afterContent:o,title:s,onClick:a}=e;return i.h("div",{class:Object(r.default)("resourceTab",t),onClick:a},s&&i.h("div",{class:"title"},i.h("h1",null,s)),i.h("div",{class:"tabContent"},n),o)}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1656);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(513),o=n(517);n(1657);t.default=function(e){const{avatar:t,fullName:n,username:s,versionCount:a,authorCount:l,lastUpdated:c}=e;return i.h("div",{class:"versionAuthor"},i.h(r.default,{src:t.src,srcset:t.srcset,class:"userImageFrame",width:"28",height:"28"}),i.h("div",{class:"authorAndCount"},i.h("span",{class:"author ellipsis",title:n||s},n||s),(l>1||a>1)&&i.h("span",null,", ",a," version",a>1?"s":"")),i.h(o.default,{type:"time-ago",format:"micro",class:"date",datetime:c}))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1660);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1535),o=n(1652),s=n(1538),a=n(1661),l=n(18);n(1664);class c extends i.Component{constructor(e){super(e),this.handleRequestInviteClick=this.handleRequestInviteClick.bind(this)}handleRequestInviteClick(e){e.preventDefault(),this.props.onRequestOrgInviteClick()}render(){const{backgroundColor:e,screenColors:t,loading:n,restricted:c,onAddColorClick:d,onRemoveColorClick:u,onColorNameChange:h}=this.props;let p;return n?p=i.h(r.default,null,i.h(a.default,null)):c?p=i.h(r.default,null,i.h("div",{class:"restricted"},i.h("h2",null,"Limited access"),i.h("p",null,"This project belongs to an organization but looks like you're not a member. If you're a developer or a designer and want to access these resources, please ",i.h("a",{href:"#",onClick:this.handleRequestInviteClick},"request an invite")," from admins!"))):e||t.length?(p=[],e&&p.push(i.h(r.default,{title:"Background color"},i.h(s.default,{onAddClick:d,onRemoveClick:u,onNameChange:h,color:e}))),t.length>0&&p.push(i.h(r.default,{title:"Colors",showSeparator:p.length>0},t.map(e=>i.h(s.default,{key:e.colorStyle,onAddClick:d,onRemoveClick:u,onNameChange:h,color:e}))))):p=i.h(r.default,null,i.h("div",{class:"noColors"},i.h("h2",null,"No colors. ",i.h("img",{width:"24",height:"24",src:Object(l.imageUrl)("img/emjPalette.png"),srcset:Object(l.srcset)(Object(l.imageUrl)("img/emjPalette.png")),alt:"🎨",title:"🎨"})),i.h("p",null,"All the colors used in the screen will be listed here."),i.h("p",null,"Could this be a bitmap? ",i.h("a",{href:"https://support.zeplin.io/quick-start/exporting-designs-from-sketch"},"Learn more")," about exporting designs."))),i.h(o.default,{class:"colorsTab",title:"Colors"},p)}}t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1662);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11),o=n(24);n(1663);class s extends i.Component{constructor(e){super(e),this.handleOnePeriod=this.handleOnePeriod.bind(this)}handleOnePeriod(){this.iteration=(this.iteration+1)%this.flipPeriod,this.nodeRefs.base.classList.toggle("flip",0===this.iteration)}componentDidMount(){this.props.randomFlipLastShape&&(this.iteration=1,this.flipPeriod=Math.floor(5*Math.random())+1,this.intervalId=setInterval(this.handleOnePeriod,1260))}componentWillUnmount(){this.intervalId&&clearInterval(this.intervalId)}render(){const{shapes:e=[]}=this.props;return i.h("div",{ref:Object(o.default)(this,"base"),class:"tabLoading loadingShapes"},i.h("div",{class:Object(r.default)("loadingShape","yellow",e[0]||"circle")}),i.h("div",{class:Object(r.default)("loadingShape","lightOrange",e[1]||"circle")}),i.h("div",{class:Object(r.default)("loadingShape","orange",e[2]||"circle")}),i.h("div",{class:Object(r.default)("loadingShape","peach",e[3]||"circle")}),i.h("div",{class:Object(r.default)("loadingShape","green",e[4]||"circle")}),i.h("div",{class:Object(r.default)("loadingShape","turquoise",e[5]||"circle")}),i.h("div",{class:Object(r.default)("loadingShape","cornflowerBlue",e[6]||"circle")}))}}t.default=s},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1666);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1667),o=n(1652),s=n(1661),a=n(9),l=n(1558),c=n(1560),d=n(1562),u=n(1565),h=n(1568),p=n(1535),f=n(228),g=n(24),m=n(11),b=n(465),y=n(56),S=n(64),v=n(140);n(1670);const C=Object(y.canDownload)();class O extends i.Component{constructor(e){super(e),this.createFormatSelectHandler=this.createFormatSelectHandler.bind(this),this.handleEntryClick=this.handleEntryClick.bind(this),this.handleDoubleClick=this.handleDoubleClick.bind(this)}handleDoubleClick(){this.props.onDblClick()}handleEntryClick(e){const{onClick:t}=this.props;e.stopPropagation(),t(e)}createFormatSelectHandler(e){const{onFormatChange:t}=this.props;return n=>{n.stopPropagation(),t(e)}}render(){const{name:e,size:t,formats:n,selectedFormat:r,light:o,previewImages:s}=this.props;return i.h("div",{class:Object(m.default)("assetEntry","noSelect",{selected:!!r}),onClick:this.handleEntryClick,onDblClick:this.handleDoubleClick},i.h(u.default,{class:"preview",light:o,images:s}),i.h("div",{class:"entryInfo"},i.h("div",{class:"name ellipsis"},e),i.h("div",{class:"size ellipsis"},t&&`${t.width} × ${t.height}`)),r&&i.h("div",null,Object.keys(n).sort(b.sortFormats).map(e=>i.h(a.default,{key:e,class:Object(m.default)("exportType",{selected:r===e}),onClick:this.createFormatSelectHandler(e)},e))))}}function E(e,t){return n=>t(e,n)}function T(e,t){return n=>t(e,n)}function D(e){return Object.keys(e).sort().join("&")}class k extends i.Component{constructor(e){super(e),this.createDownloadClickHandler=this.createDownloadClickHandler.bind(this),this.clearAssetSelection=this.clearAssetSelection.bind(this),this.showSettingsMenu=this.showSettingsMenu.bind(this),this.hideSettingsMenu=this.hideSettingsMenu.bind(this),this.handleDownloadSelectedClick=this.handleDownloadSelectedClick.bind(this),this.handleRequestInviteClick=this.handleRequestInviteClick.bind(this),this.handleAssetClick=this.handleAssetClick.bind(this),this.handleAssetFormatChange=this.handleAssetFormatChange.bind(this),this.getPreferredFormatObjectForAsset=this.getPreferredFormatObjectForAsset.bind(this),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.state={shiftPressed:!1,cmdPressed:!1,lastSelectedAssetIndex:0,assetFormatPreference:{},assetSelections:{}}}clearAssetSelection(){this.setState({assetSelections:{},lastSelectedAssetIndex:0})}getPreferredFormatObjectForAsset(e){const{assetFormatPreference:t}=this.state,n=t[D(e.formats)]||"png";return{[e.id]:n}}hideSettingsMenu(){this.setState({settingsOpen:!1})}showSettingsMenu(){this.setState({settingsOpen:!0})}handleAssetClick(e,t){const{lastSelectedAssetIndex:n,assetSelections:i}=this.state,{assets:r}=this.props;if(t.shiftKey){const t=Math.min(n,e),o=Math.max(n,e),s=r.slice(t,o+1),a=function(e,t,n){const i=Object.assign({},e);for(let r=n-1;r>=0;r--){const e=t[r].id;if(!i[e])break;delete i[e]}for(let r=n;r<t.length;r++){const e=t[r].id;if(!i[e])break;delete i[e]}return i}(i,r,n),l=s.reduce((e,t)=>Object.assign(e,this.getPreferredFormatObjectForAsset(t)),a);return void this.setState(e=>({assetSelections:l}))}const o=this.getPreferredFormatObjectForAsset(r[e]);if(Object(S.cmdKey)(t)){const t=r[e].id;if(t in i){const e=Object.assign({},i);delete e[t],this.setState({assetSelections:Object.assign({},e)})}else this.setState({assetSelections:Object.assign({},i,o),lastSelectedAssetIndex:e})}else this.setState(t=>({assetSelections:o,lastSelectedAssetIndex:e}))}handleAssetFormatChange(e,t){const{assetSelections:n,assetFormatPreference:i}=this.state,{assets:r}=this.props,o=r[e],s=Object.assign({},n,{[o.id]:t});this.setState({assetSelections:s,assetFormatPreference:Object.assign({},i,{[D(o.formats)]:t})})}handleDocumentClick(e){this.nodeRefs&&this.nodeRefs.individualAssets&&!this.nodeRefs.individualAssets.contains(e.target)&&this.clearAssetSelection()}handleDocumentKeydown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&this.clearAssetSelection()}handleDownloadSelectedClick(e){e.stopPropagation();const{onDownloadSelectedClick:t}=this.props,{assetSelections:n}=this.state,i=Object.keys(n).map(e=>({assetId:e,format:n[e]}));i.length&&t(i)}handleRequestInviteClick(e){e.preventDefault(),this.props.onRequestOrgInviteClick()}createDownloadClickHandler(e,t){const{onDownloadClick:n}=this.props;return()=>{n(e,t)}}componentDidMount(){v.userPrefs.get("assetFormatPreference").then(e=>{e&&this.setState({assetFormatPreference:e})}),document.addEventListener("keydown",this.handleDocumentKeydown),document.addEventListener("click",this.handleDocumentClick)}componentDidUpdate(e,{assetSelections:t,assetFormatPreference:n}){const{assetSelections:i,assetFormatPreference:r}=this.state,o=Object.keys(t).length,s=Object.keys(i).length;n!==r&&function(e){v.userPrefs.set("assetFormatPreference",e)}(r),0===o&&s>0?document.body.classList.add("supportButtonHidden"):o>0&&0===s&&document.body.classList.remove("supportButtonHidden")}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeydown),document.removeEventListener("click",this.handleDocumentClick)}renderExportGroups(){const{assets:e,assetDensityScalePrefs:t,showOptimizedSVG:n}=this.props,r={};let o=!1;for(let i of e)Object.keys(i.formats).forEach(e=>{r[e]=(r[e]||[]).concat(i.formats[e].variants)}),i.formats.svg&&!i.formats.svg.diff&&(o=!0);return Object.keys(r).sort(b.sortFormats).map(e=>i.h(d.default,{key:e,format:e,variants:r[e],assetDensityScalePrefs:t,hideOptimization:"svg"===e&&(!n||o),onDownloadClick:this.createDownloadClickHandler("all",e)}))}renderIndividuals(){const{assets:e,namingConvention:t}=this.props,{assetSelections:n}=this.state;return e.map((e,r)=>{const o=this.getPreferredFormatObjectForAsset(e);return i.h(O,{key:e.id,name:Object(b.getExportName)(e,t),formats:e.formats,light:e.light,size:e.size,selectedFormat:n[e.id],previewImages:e.previewImages,onDblClick:this.createDownloadClickHandler(e.id,o[e.id]),onClick:E(r,this.handleAssetClick),onFormatChange:T(r,this.handleAssetFormatChange)})})}render(){const{assets:e,source:t="sketch",loading:n,restricted:d,showDensityMismatchWarning:u,assetDensityScalePrefs:b,namingConvention:y,showOptimizedSVG:S,projectType:v,onHideDensityMismatchWarningClick:O,onAssetDensityOptionChange:E,onNamingConventionChange:T,onShowOptimizedSVGChange:D}=this.props,{assetSelections:k,settingsOpen:w}=this.state,_=i.h("div",{class:"assetsTitle"},"Assets",i.h(h.default,{open:w,onClose:this.hideSettingsMenu,onAssetDensityOptionChange:E,onNamingConventionChange:T,onShowOptimizedSVGChange:D,projectType:v,settings:{assetDensityScalePrefs:b,namingConvention:y,showOptimizedSVG:S},target:i.h(a.default,{class:Object(m.default)("assetSettingsButton",{active:w}),onClick:this.showSettingsMenu},i.h(f.IconSettings,null))}));let j;return j=n?i.h(s.default,{shapes:["square","circle","triangleUp","circle","square","pentagon","triangleDown"],randomFlipLastShape:!0}):d?i.h(p.default,{class:"restricted"},i.h("h1",null,"Limited access"),i.h("p",null,"This project belongs to an organization but looks like you're not a member. If you're a developer or a designer and want to access these resources, please ",i.h("a",{href:"#",onClick:this.handleRequestInviteClick},"request an invite")," from admins!")):e.length?[i.h(p.default,{class:"allAssets",key:"allAssets"},!C&&i.h(c.default,{class:"warningBox"}),u&&i.h(l.default,{class:"warningBox",onHideClick:O}),i.h("h2",{class:"title"},"Download all assets"),this.renderExportGroups()),i.h(p.default,{title:"Download individual assets",key:"individualAssets",showSeparator:!0},i.h("div",{class:"individualAssets",ref:Object(g.default)(this,"individualAssets")},this.renderIndividuals()),i.h("div",{class:"spacer"}))]:i.h(p.default,null,i.h(r.default,{source:t})),i.h(o.default,{onClick:this.handleDocumentClick,title:_,class:"assetsTab",afterContent:Object.keys(k).length>0&&i.h(a.default,{class:"downloadSelected noSelect",onClick:this.handleDownloadSelectedClick},"Download selected assets")},j)}}t.default=k},function(e,t,n){"use strict";n.r(t);var i=n(1668);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(18);n(1669);t.default=function(e){return i.h("div",{class:"noScreenAssets"},i.h("h1",null,"Rock paper scissors",i.h("img",{src:r.imageUrl("img/emjAssetVictory.png"),srcset:r.srcset(r.imageUrl("img/emjAssetVictory.png")),alt:"✌",class:"victory"}),i.h("img",{src:r.imageUrl("img/emjScissors.png"),srcset:r.srcset(r.imageUrl("img/emjScissors.png")),alt:"✂",class:"scissors"})),function(e){switch(e){default:case"sketch":return i.h("div",{class:"info sketchFile"},i.h("p",null,i.h("strong",null,"Set layers as exportable or draw slices")," in Sketch and Zeplin will generate assets and list them here."),i.h("img",{src:r.imageUrl("img/icSketchSampleAsset.svg"),class:"sampleAsset"}),i.h("img",{src:r.imageUrl("img/icSketchMakeExportable.png"),srcset:r.srcset(r.imageUrl("img/icSketchMakeExportable.png")),class:"exportableAsset"}),i.h("p",null,"or"),i.h("img",{src:r.imageUrl("img/icSketchDrawSlices.svg"),class:"sliceAsset"}),i.h("p",null,"If you want to be a pro, check out how it works from ",i.h("a",{href:"https://blog.zeplin.io/exporting-assets-in-zeplin-50b8b4a56b05",target:"_blank"},"here.")));case"psd":return i.h("div",{class:"info psdFile"},i.h("p",null,i.h("strong",null,"Mark layers as assets")," in Photoshop, from Zeplin’s panel and Zeplin will generate assets and list them here."),i.h("img",{src:r.imageUrl("img/icPhotoshopSampleAsset.svg"),class:"sampleAsset"}),i.h("img",{src:r.imageUrl("img/icPhotoshopMakeExportable.png"),srcset:r.srcset(r.imageUrl("img/icPhotoshopMakeExportable.png")),class:"exportableAsset"}),i.h("p",null,"If you want to be a pro, check out how it works from ",i.h("a",{href:"https://blog.zeplin.io/photoshop-open-beta-now-3f8f502fc4de",target:"_blank"},"here.")));case"figma":return i.h("div",{class:"info"},i.h("p",null,i.h("strong",null,"Set layers as exportable")," in Figma and Zeplin will generate assets and list them here."),i.h("img",{src:r.imageUrl("img/icFigmaSampleAsset.svg"),class:"sampleAsset"}),i.h("img",{src:r.imageUrl("img/icFigmaMakeExportable.png"),srcset:r.srcset(r.imageUrl("img/icFigmaMakeExportable.png")),class:"exportableAsset"}));case"xd":return i.h("div",{class:"info"},i.h("p",null,i.h("strong",null,"Mark layers for export")," in Adobe XD from the layer list, Zeplin will generate assets and list them here."),i.h("img",{src:r.imageUrl("img/icXDSampleAsset.svg"),class:"sampleAsset"}),i.h("img",{src:r.imageUrl("img/icXDMakeExportable.png"),srcset:r.srcset(r.imageUrl("img/icXDMakeExportable.png")),class:"exportableAsset"}))}}(e.source))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1672);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(9),o=n(776),s=n(1535),a=n(1652),l=n(313),c=n(1673),d=n(11),u=n(19),h=n(114),p=n(18),f=n(64);n(1676);const g=["open","mentioned","resolved"];function m({color:e,count:t,status:n}){return i.h("div",{class:"statusFilterLabel"},e&&i.h("div",{class:Object(d.default)("color",e)}),i.h("span",null,t>0?t:"No"," ",Object(u.uppercaseFirst)(n)))}class b extends i.Component{constructor(e){super(e),this.handleStatusChange=this.handleStatusChange.bind(this),this.colorClickHandlers=h.colorNames.map(e=>()=>{this.handleColorClick(e)})}handleColorClick(e){const{statusFilter:t,colorFilter:n,onFilterChange:i}=this.props;i(t,n===e?null:e)}handleStatusChange(e){const{statusFilter:t,colorFilter:n,onFilterChange:i}=this.props;t!==e&&i(e,n)}render(){const{statusFilter:e,colorFilter:t,dotCount:n}=this.props;return i.h(o.default,{top:22,onChange:this.handleStatusChange},g.map(r=>i.h(o.default.Item,{label:i.h(m,{color:t,count:n,status:r}),value:r,selected:e===r,key:r},i.h("span",{class:"noteStatusFilterItem"},Object(u.uppercaseFirst)(r)," notes"))),i.h("div",{class:"noteFilterSeperator"}),i.h("div",{class:"noteColorFilter"},h.colorNames.map((e,n)=>i.h("div",{key:e,class:Object(d.default)("noteColorFilterItem",e,{selected:e===t}),onClick:this.colorClickHandlers[n]}))))}}class y extends i.Component{renderShortcutImage(){return i.h("div",{class:"shortcuts"},Object(f.getOS)()===f.OS.MAC?i.h("img",{class:"dotMacShortcut",src:Object(p.imageUrl)("img/icDotMacShortcut.svg")}):i.h("img",{class:"dotWinShortcut",src:Object(p.imageUrl)("img/icDotWinShortcut.png"),srcset:Object(p.srcset)(Object(p.imageUrl)("img/icDotWinShortcut.png"))}))}renderEmptyState(){const{dots:e,statusFilter:t,onAddNoteClick:n}=this.props;return e.length?"open"===t?i.h("div",{class:"empty open"},i.h("h1",null,"No open notes"),i.h("p",null,"Add notes by clicking on a design while holding down the ",Object(f.getOS)()===f.OS.MAC?"Command":"Ctrl"," key."),this.renderShortcutImage(),i.h("p",null,"The first one is on us:"),i.h(r.default,{class:"addFirstNoteButton",onClick:n},"Add Note")):"resolved"===t?i.h("div",{class:"empty resolved"},i.h("h1",null,"No resolved notes"),i.h("p",null,"Looks like things are going pretty hectic these days ",i.h("img",{src:Object(p.imageUrl)("img/emjSweatTears.png"),srcset:Object(p.srcset)(Object(p.imageUrl)("img/emjSweatTears.png"))})),i.h("p",null,"You can resolve notes from the first comment or by right clicking on a note.")):"mentioned"===t?i.h("div",{class:"empty mentioned"},i.h("h1",null,"No mentioned notes"),i.h("p",null,"Looks like you’re not mentioned in any notes. Relax and grab a coffee—or tea, if that’s what you’re into.")):void 0:i.h("div",{class:"empty noDots"},i.h("h1",null,"What a quiet team!",i.h("img",{src:Object(p.imageUrl)("img/icQuietMaymus.png"),srcset:Object(p.srcset)(Object(p.imageUrl)("img/icQuietMaymus.png"))})),i.h("p",null,"Looks like you didn’t add any notes yet. When you do, they’ll be listed here."),i.h("p",null,"Add notes by clicking on a design while holding down the ",Object(f.getOS)()===f.OS.MAC?"Command":"Ctrl"," key."),this.renderShortcutImage(),i.h("p",null,"The first one is on us:"),i.h(r.default,{class:"addFirstNoteButton",onClick:n},"Add Note"))}renderTab(e,t){return i.h(a.default,{class:"notesTab",title:e},i.h(s.default,null,t))}render(){const{dots:e,statusFilter:t,colorFilter:n,barrelUser:r,onNoteClick:o,onFilterChange:s}=this.props;if(!e)return this.renderTab("Notes",i.h("div",{class:"loadingDots"},i.h(l.default,{asset:"img/icDotsLoading.png"}),i.h("div",null,"Loading notes…")));const a=e.filter(e=>Object(h.checkFilter)(e,t,n,r.user)),d=e.length?i.h("div",{class:"notesTitle"},"Notes",i.h(b,{dotCount:a.length,colorFilter:n,statusFilter:t,onFilterChange:s})):"Notes";let u;return a.length?(u=a.map(({_id:e,color:t,comments:n,name:r})=>i.h(c.default,{key:e,color:Object(h.getColorName)(t),id:e,comments:n,name:r,onNoteClick:o})),u.push(i.h("div",{class:"endingMark"},"~"))):u=this.renderEmptyState(),this.renderTab(d,u)}}t.default=y},function(e,t,n){"use strict";n.r(t);var i=n(1674);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(513),o=n(517),s=n(11),a=n(24),l=n(56),c=n(610),d=n(612);n(1675);function u(e){const t=new Date(e.updated),n=new Date(e.created);return t-n>3e5?t:n}function h(e,t){if(e.length===t)return`${t} more ${t>1?"replies":"reply"}`;const n=e.slice(0,e.length-t);return t>0?`${n.join(", ")} and ${t} more also replied`:1===n.length?n[0]+" also replied":`${n.slice(0,-1).join(", ")} and ${n[n.length-1]} also replied`}const p=document.createElement("canvas").getContext("2d");function f(e){return p.measureText(e)}function g({content:e=""}){const t=[d.CustomRules.SPOTIFY,d.CustomRules.YOUTUBE,d.MarkdownRules.IMAGE,d.MarkdownRules.CHECKBOX,d.MarkdownRules.TABLE,d.MarkdownRules.HEADING];return i.h("div",{class:"content"},i.h(c.default,{disabledFeatures:t},e))}p.font="italic 12px Roboto";class m extends i.Component{constructor(e){super(e),this.hiddenAuthorCount=0,this.otherAuthorNames=[],this.handleClick=this.handleClick.bind(this)}adjustOtherAuthors(){const{comments:e}=this.props,{repliesSummary:t}=this.nodeRefs||{},n=this.otherAuthorNames.length;if(e.length<3||!t||!n)return;const i=t.offsetWidth;let r=h(this.otherAuthorNames,this.hiddenAuthorCount);for(;f(r).width>i&&this.hiddenAuthorCount<=n;)this.hiddenAuthorCount++,r=h(this.otherAuthorNames,this.hiddenAuthorCount);t.textContent=r}handleClick(e){if(e.button!==Zeplin.MOUSE_BUTTON.LEFT||"a"===e.target.tagName.toLowerCase())return;const{id:t,comments:n,onNoteClick:i}=this.props;i(t,n.length>1?n[n.length-1]._id:null)}componentDidMount(){this.adjustOtherAuthors()}componentDidUpdate(){this.adjustOtherAuthors()}renderOtherReplies(){const{comments:e}=this.props,t=e.map(e=>e.author||{username:"Anonymous"}),[n]=t,o=t[e.length-1],s=new Set([n.username,o.username]),c=[];t.forEach(e=>{s.has(e.username)||(s.add(e.username),c.push(e))});const d=e.length-2,u=c.filter(e=>!!e._id).length;let p;return c.sort(({_id:e},{_id:t})=>e?t?0:-1:1),this.otherAuthorNames=c.map(e=>e.username),this.hiddenAuthorCount=c.length-u,p=u&&this.otherAuthorNames.length?h(this.otherAuthorNames,this.hiddenAuthorCount):d>1?d+" more replies":"1 more reply",i.h("div",{class:"otherReplies"},i.h("div",{class:"avatars"},c.map(e=>{const{src:t}=Object(l.getUserAvatar)(e);return i.h(r.default,{class:"authorAvatar",src:t,width:"16",height:"16"})})),i.h("div",{class:"summary",ref:Object(a.default)(this,"repliesSummary")},p))}render(){const{color:e,comments:t,name:n}=this.props,[a]=t;if(!a)return null;const c=t.length>1?t[t.length-1]:null,{author:d={username:"Anonymous"},note:h}=a,{author:p={username:"Anonymous"},note:f}=c||{};return i.h("div",{class:Object(s.default)("dotEntry",e),onClick:this.handleClick},i.h("div",{class:"comment"},i.h("h4",null,i.h("div",{class:"commentHeader"},i.h(r.default,{src:Object(l.getUserAvatar)(d).src,width:"24",height:"24"}),i.h("div",{class:"author ellipsis"},d.fullName||d.username),i.h(o.default,{type:"time-ago",format:"micro",class:"time",datetime:u(a)})),i.h("div",{class:"number"},n)),i.h(g,{content:h})),t.length>2&&this.renderOtherReplies(),c&&i.h("div",{class:"comment"},i.h("h4",null,i.h("img",{class:"replyArrow",src:"/img/icDotReply.svg"}),i.h(r.default,{src:Object(l.getUserAvatar)(p).src,width:"24",height:"24"}),i.h("div",{class:"author ellipsis"},p.username),i.h(o.default,{type:"time-ago",format:"micro",class:"time",datetime:u(c)})),i.h(g,{content:f})))}}t.default=m},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t),n.d(t,"transformInfo",(function(){return o})),n.d(t,"transformColors",(function(){return s})),n.d(t,"transformAssets",(function(){return a}));var i=n(20),r=n(1532);function o(e,t={}){const{description:n,tags:i=[],versions:o}=e,{snapshot:{grid:s,source:a}={}}=t;return{authors:Object(r.transformAuthors)(o),description:n,grid:s,source:a,tags:i,version:t,screen:e}}function s(e,t,n){const o=new Set,s={screenColors:[]};function a(e){const i=Object(r.transformColor)(e,t,n);o.has(i.colorStyle)||(s.screenColors.push(i),o.add(i.colorStyle))}const{snapshot:l}=e;return l.backgroundColor&&(s.backgroundColor=Object(r.transformColor)(new i.default(l.backgroundColor),t,n)),l.layers?(l.layers.forEach((function e(t){"group"===t.type&&(t.layers.forEach(e),"bottom"!==t.interactionLevel&&"top"!==t.interactionLevel)||("text"===t.type&&t.textStyles&&t.textStyles.forEach(e=>{e.style.color&&a(new i.default(e.style.color))}),t.fills.forEach(e=>{switch(e.fillType){default:case"color":a(new i.default(e.color));break;case"gradient":e.gradient.colorStops.forEach(e=>{a(new i.default(e.color))})}}))})),s):s}function a(e,t,n){const{snapshot:{assets:i,source:o}}=e;return{assets:i?i.map(e=>Object(r.transformAsset)(e,t,n)).filter(Boolean):[],source:o}}},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1682);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(96),o=n(62),s=n(44),a=n(697),l=n(1250),c=n(24),d=n(61),u=n(64),h=n(353),p=n(1683),f=n(1811),g=n(683),m=n(345),b=n(346),y=n(721),S=n(759),v=n(342),C=n(473),O=n(349),E=n(334);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends i.Component{constructor(...e){super(...e),w(this,"handleBaseRef",e=>{Object(c.default)(this,"styleguide")(e),this.props.baseRef(e)}),w(this,"handleSectionNavigatorClick",(e,t)=>{const{barrel:{id:n}}=this.state,i=`${this.slugPrefix()}-${e.toLowerCase()}`;h.default.history.replace(Object(s.urlResolve)(i,{url:{bid:n},query:{seid:t}}))}),w(this,"handleStyleguideLink",e=>{const{barrel:t}=this.state;S.ProjectActions.linkProjectToStyleguideRequest({project:t,styleguide:e,syncWithApi:!0})}),w(this,"handleStyleguideUnlink",e=>{const{barrel:{_id:t}}=this.state;S.ProjectActions.unlinkProjectFromStyleguide({pid:t,styleguide:e,syncWithApi:!0})}),w(this,"handleExportClick",(e,t,n)=>{v.BarrelActions.exportCode({resourceType:e,exportObjects:t,extension:n})}),w(this,"handleKeyDown",e=>{const{connectedComponentsDevModeEnabled:t}=this.state;Object(u.cmdKey)(e)&&e.altKey&&e.keyCode===Zeplin.KEY_CODE.KeyL&&(e.preventDefault(),Object(d.default)({text:t?"Local configuration disabled!":"Local configuration enabled!",container:this.nodeRefs.styleguide}),t?v.BarrelActions.disableDevMode():v.BarrelActions.enableDevMode())})}static calculateState(){const e=v.BarrelStore.getState(),{loading:t}=e,n=k(e,["loading"]);if(t)return{loading:!0};const{loadingJoin:i,organizationId:r,barrelType:o,showSlackReconnectionAuntie:s,linkingProjectToStyleguide:a,connectedComponentsDevModeEnabled:l}=n,c=v.BarrelHelpers.getBarrel(),d=v.BarrelHelpers.findUser(),{userId:u,paymentPlan:h}=O.UserStore.getState(),p=c.users.some(({user:e})=>e._id===u);if(c.partial||!p)return{loading:t,loadingJoin:i,barrel:c,isUserJoined:p};const f=g.StyleguideStore.getState(),{suggestedResourcesByBarrel:S}=y.VersionImportsStore.getState(),E=C.OrganizationHelpers.getOrganizationStyleguides(r),T=v.BarrelHelpers.isUserRestricted(),w=v.BarrelHelpers.getStyleguidesData({barrelStore:v.BarrelStore,styleguidesDataStore:b.StyleguidesDataStore,projectsDataStore:m.ProjectsDataStore});return D(D({loading:!1},f),{},{barrel:c,barrelUser:d,isUserJoined:p,suggestedResourcesByBarrel:S,userId:u,paymentPlan:h,currentOrganizationStyleguides:E,userRestricted:T,organizationId:r,barrelType:o,showSlackReconnectionAuntie:s,linkingProjectToStyleguide:a,connectedComponentsDevModeEnabled:l,styleguidesData:w})}static getStores(){return[g.StyleguideStore,y.VersionImportsStore,O.UserStore,v.BarrelStore,m.ProjectsDataStore,b.StyleguidesDataStore,C.OrganizationStore,O.UserStore]}slugPrefix(){const{barrelType:e}=this.state;return e===r.default.PROJECT?"project-styleguide":"styleguide"}componentDidMount(){const{userRestricted:e}=this.state;e||document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}getChildContext(){const{loading:e,userId:t,paymentPlan:n,organizationId:i,barrelType:r,barrel:s,barrelUser:a,isUserJoined:l}=this.state;if(e||s.partial||!l)return{};const{id:c,type:d,densityScale:u,dimensionSuffix:h,styleguideLink:p}=s;return{densityScale:u,dimensionSuffix:h,barrelType:r,barrelId:c,projectId:c,projectType:d,barrelUser:a,organizationId:i,userRole:a.role,hasLinkedStyleguide:!!p,currentUserId:t,currentUserPaymentPlan:n,permissions:{canManageProject:o.permissions.canUpdateProject(a),canManageStyleguide:o.permissions.canUpdateStyleguide(a),canManageColors:o.permissions.canManageColors(a),canManageScreens:o.permissions.canManageColors(a),canManageTextStyles:o.permissions.canManageTextStyles(a),canManageSpacings:o.permissions.canManageSpacings(a),canManageRemSettings:o.permissions.canManageRemSettings(a)}}}render(){const{loading:e,loadingJoin:t,barrel:n,barrelUser:r,isUserJoined:o,showSlackReconnectionAuntie:s}=this.state;if(e)return null;if(n.partial||!o)return i.h(f.default,{styleguide:n,loadingJoin:t,onJoin:v.BarrelActions.join});const{barrelType:c,leftSidebarWidth:d,rightSidebarWidth:u,selectedStyleguideSection:h,selectedNavigatorId:m,highlightedColors:b,highlightedTextStyles:y,highlightedSpacingTokens:S,scrolledSection:C,highlightScrolledSection:O,sortType:E,filterValue:T,moveResourcesPopup:D,selectionComponentId:k,selection:w,suggestedResourcesByBarrel:_,showSuggestedResourcesBadge:j,currentOrganizationStyleguides:P,linkingProjectToStyleguide:R,styleguidesData:I}=this.state,A=new l.default(n),{barrelId:x,component:N}=Object(a.findComponentById)(I,k);let L=w;return!L&&N&&(L=N),i.h(p.default,{baseRef:this.handleBaseRef,linkingProjectToStyleguide:R,styleguidesData:I,barrelType:c,barrel:n,barrelUser:r,currentOrganizationStyleguides:P,leftSidebarWidth:d,rightSidebarWidth:u,selectedStyleguideSection:h,selectedNavigatorId:m,scrolledSection:C,highlightScrolledSection:O,highlightedColors:b,highlightedTextStyles:y,highlightedSpacingTokens:S,selectionStyleguideId:x,selectionComponent:N,selection:L,sortType:E,filterValue:T,formatter:A,showSlackReconnectionAuntie:s,suggestedResources:_[n.id],showSuggestedResourcesBadge:j,onLeftSidebarRelease:g.StyleguideActions.changeLeftSidebarWidth,onSectionNavigatorClick:this.handleSectionNavigatorClick,onStyleguideLink:this.handleStyleguideLink,onStyleguideUnlink:this.handleStyleguideUnlink,moveResourcesPopup:D,onExportClick:this.handleExportClick})}}t.default=Object(E.default)(_,{pure:!1})},function(e,t,n){"use strict";n.r(t);var i=n(1684);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return w}));var i=n(1),r=n(62),o=n(24),s=n(11),a=n(342),l=n(1370),c=n(1685),d=n(1692),u=n(1715),h=n(1736),p=n(1747),f=n(1772),g=n(9),m=n(582),b=n(1204),y=n(1799),S=n(1805),v=n(1082);n(1810);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){return e.map(({_id:e,idPath:n,name:i,componentSections:r=[]})=>({id:e,idPath:n,styleguideId:t,title:i,content:i,children:T(r,t)}))}function D(e){return 0===e.length?[]:e[0].idPath}function k({children:e,baseRef:t,compact:n,overlapped:r}){const o=Object(s.default)("sidebarBottom",{compact:n,overlapped:r});return i.h("div",{class:o,ref:t},i.toChildArray(e).map(e=>"string"==typeof e?e:i.cloneElement(e,{compact:n})))}class w extends i.Component{constructor(...e){super(...e),E(this,"state",{linkToStyleguidePopupVisible:!1,targetLinkButton:null}),E(this,"openLinkPopup",e=>{this.setState({linkToStyleguidePopupVisible:!0,targetLinkButton:e.target})}),E(this,"openLinkPopupAtTargetNode",e=>{this.setState({linkToStyleguidePopupVisible:!0,targetLinkButton:e.target})}),E(this,"closeLinkToStyleguidePopup",()=>{this.setState({linkToStyleguidePopupVisible:!1,targetLinkButton:null})}),E(this,"getScrollableDropContainers",()=>{const e=[];if(this.nodeRefs){const{leftSidebarContent:t,componentsContainer:n}=this.nodeRefs;t&&e.push(t),n&&e.push(n)}return e.length>0?e:null}),E(this,"handleComponentToSectionNodeDrop",(e,t,n)=>{const i=e[e.length-1],r=e.slice(0,-1);if(r.join()===t.join())return;const o=[{coid:i,csid:r,tcsid:t,sourceIndex:n}];a.BarrelActions.updateComponentsOrder({components:o,syncWithApi:!0})}),E(this,"handleLinkStyleguideSelect",e=>{const{onStyleguideLink:t}=this.props;t(e)}),E(this,"handleRepeatedClick",()=>{const{selectedStyleguideSection:e,onSectionNavigatorClick:t}=this.props;this.componentRefs[e].goToTop(),"components"===e&&t(e,null)}),E(this,"handleResize",()=>{requestAnimationFrame(()=>{const e=this.nodeRefs.sidebarBottom,t=this.nodeRefs.sidebar,n=this.nodeRefs.styleguideSections.scrollHeight>t.clientHeight-e.clientHeight;this.setState({sidebarContentOverlapped:n,sidebarBottomHeight:n?e.clientHeight:0})})}),E(this,"renderAbout",()=>i.h(d.default,{ref:Object(o.default)(this,"about","componentRefs"),onSectionNavigatorClick:this.props.onSectionNavigatorClick}))}componentDidMount(){this.nodeRefs.sidebarBottom&&(window.addEventListener("resize",this.handleResize),this.handleResize())}componentWillReceiveProps(e){const{linkingProjectToStyleguide:t}=e,{linkingProjectToStyleguide:n}=this.props;n&&!t&&this.closeLinkToStyleguidePopup()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),document.body.classList.remove("dragging")}renderStyleguideSections(){const{barrelType:e,styleguidesData:t,selectedStyleguideSection:n,selectedNavigatorId:s,onSectionNavigatorClick:a,suggestedResources:l={colors:[],textStyles:[]},showSuggestedResourcesBadge:d}=this.props,u=t.map(({id:e,name:t,colors:n=[],textStyles:i=[],spacingSections:o=[],componentSections:s=[]})=>({id:e,styleguideId:e,idPath:D(s),name:t,has:{colors:!!n.length,textStyles:!!i.length,spacing:!!o.flatMap(({spacingTokens:e})=>e).length,components:!!Object(r.collectComponents)(s).length},componentTree:T(s.slice(1),e)})),h={colors:!!l.colors.length&&"colors"!==n&&d.colors,textStyles:!!l.textStyles.length&&"textStyles"!==n&&d.colors};return i.h(c.default,{baseRef:Object(o.default)(this,"styleguideSections"),barrelType:e,styleguideData:u,selectedStyleguideSection:n,selectedNavigatorId:s,onRepeatedClick:this.handleRepeatedClick,onSectionNavigatorClick:a,onComponentToSectionNodeDrop:this.handleComponentToSectionNodeDrop,showBadge:h})}renderColorPalette(){const{onExportClick:e}=this.props;return i.h(u.default,{ref:Object(o.default)(this,"colors","componentRefs"),onLinkStyleguide:this.openLinkPopupAtTargetNode,onExportClick:e})}renderTextStyleCatalog(){const{onExportClick:e}=this.props;return i.h(h.default,{ref:Object(o.default)(this,"textStyles","componentRefs"),onLinkStyleguide:this.openLinkPopupAtTargetNode,onExportClick:e})}renderSpacings(){const{barrel:e,styleguidesData:t,onExportClick:n}=this.props,r=t.reduce((t,n)=>{let i=n;if(n.id!==e.id&&(i=O(O({},n),{},{spacingSections:n.spacingSections.filter(({spacingTokens:e})=>e.length)})),i.spacingSections.length){const{id:e,name:n,type:r,spacingSections:o,remPreferences:s,dimensionSuffix:a}=i;t.push({id:e,name:n,platform:r,spacingSections:o,remPreferences:s,dimensionSuffix:a})}return t},[]),{remPreferences:s,parentStyleguideToInheritRemPreferences:a}=t[0];return i.h(p.default,{ref:Object(o.default)(this,"spacing","componentRefs"),remPreferences:s,parentStyleguideToInheritRemPreferences:a,spacingSectionsData:r,onExportClick:n})}renderComponents(){const{onExportClick:e}=this.props;return i.h(f.default,{ref:Object(o.default)(this,"components","componentRefs"),baseRef:Object(o.default)(this,"componentsContainer"),onLinkStyleguide:this.openLinkPopupAtTargetNode,onExportClick:e})}renderSection(){let{selectedStyleguideSection:e}=this.props;switch(e=e.toLowerCase(),e){case"about":default:return this.renderAbout();case"colors":return this.renderColorPalette();case"textstyles":return this.renderTextStyleCatalog();case"spacing":return this.renderSpacings();case"components":return this.renderComponents()}}renderSidebarBottom(){const{permissions:{canManageProject:e},organizationId:t}=this.context,{barrel:n,barrelType:r,currentOrganizationStyleguides:s,onStyleguideUnlink:a}=this.props;if("styleguide"===r)return null;let l;const c=n.styleguideLink;if(c){const{styleguide:e,status:t}=c,r=function(e,t=[]){return t.find(({_id:t})=>t===e._id)||e}(e,s);l=i.h(y.default,{key:"info",barrelName:n.name,linkedStyleguide:r,linkStatus:t,onUnlink:a})}else{if("user"!==t&&!e)return null;l=i.h(g.default,{class:"linkToStyleguideButton ellipsis",onClick:this.openLinkPopup,primary:!0},"Link to Styleguide")}const{sidebarContentOverlapped:d}=this.state;return i.h(k,{baseRef:Object(o.default)(this,"sidebarBottom"),overlapped:d},l)}renderLinkToStyleguidePopup(){const{currentUserId:e,organizationId:t}=this.context,{linkToStyleguidePopupVisible:n,targetLinkButton:r}=this.state,{barrel:o,currentOrganizationStyleguides:s,linkingProjectToStyleguide:a}=this.props;if(!n)return null;const l=o.users.find(e=>"owner"===e.role),c=s.filter(e=>["base",o.type].includes(e.type)&&"active"===e.status);let d=i.h(b.default,{onSelect:this.handleLinkStyleguideSelect,styleguides:c,selected:a,loading:!!a});return"user"===t?l.user._id!==e?d=i.h(b.NoStyleguidesForNonOwnerUser,{projectOwnerName:l.user.username}):c.length||(d=i.h(b.NoStyleguides,null)):c.length||(d=i.h(b.NoStyleguides,{hasOrganization:!0})),i.h(m.default,{targetNode:r,onClose:this.closeLinkToStyleguidePopup,left:12,centerY:!0,stickToEdge:!0,content:d,showAnchor:!0,open:!0})}render(){const{leftSidebarWidth:e,onLeftSidebarRelease:t,baseRef:n}=this.props,{sidebarBottomHeight:s}=this.state,a=this.context.permissions.canManageStyleguide;return i.h(v.default,{scrollableDropContainers:this.getScrollableDropContainers,disabled:!a,itemsClass:"styleguide",baseRef:n,enableDropOntoMultipleTargets:!0},i.h(l.default,{class:"styleguideLeftSidebar",baseRef:Object(o.default)(this,"sidebar"),contentRef:Object(o.default)(this,"leftSidebarContent"),minWidth:100,paddingBottom:s,initialWidth:e,resizingSide:"right",collapsed:!1,onClick:r.stopPropagation,onRelease:t},this.renderStyleguideSections(),this.renderSidebarBottom()),this.renderSection(),this.renderLinkToStyleguidePopup(),i.h(S.default,null))}}},function(e,t,n){"use strict";n.r(t);var i=n(1686);n.d(t,"default",(function(){return i.default})),n.d(t,"sections",(function(){return i.sections}))},function(e,t,n){"use strict";n.r(t),n.d(t,"sections",(function(){return s})),n.d(t,"default",(function(){return a}));var i=n(1),r=n(1687),o=n(96);n(1691);const s=[{name:"About",value:"about"},{name:"Color palette",value:"colors"},{name:"Text style catalog",value:"textStyles"},{name:"Spacing and layout",value:"spacing"},{name:"Components",value:"components"}];function a(e){const{barrelType:t,styleguideData:n,selectedStyleguideSection:a,selectedNavigatorId:l,onRepeatedClick:c,onSectionNavigatorClick:d,onComponentToSectionNodeDrop:u,baseRef:h,showBadge:p}=e,f=t===o.default.PROJECT?s.slice(1):s;return i.h("div",{ref:h,class:"styleguideSections"},f.map(({name:e,value:o})=>{const s=a===o;return i.h(r.default,{key:o,barrelType:t,name:e,value:o,selected:s,selectedNavigatorId:l,styleguideData:n,onRepeatedClick:c,onSectionNavigatorClick:d,onComponentToSectionNodeDrop:u,showBadge:p[o]})}))}},function(e,t,n){"use strict";n.r(t);var i=n(1688);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var i=n(1),r=n(11),o=n(44),s=n(96),a=n(1689),l=n(1208);n(1690);class c extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleSectionNavigatorClick=this.handleSectionNavigatorClick.bind(this)}get sectionURL(){const{styleguideData:e,barrelType:t,value:n}=this.props,i=t===s.default.PROJECT?"project-styleguide-"+n.toLowerCase():"styleguide-"+n.toLowerCase();return Object(o.urlResolve)(i,{url:{bid:e[0].id}})}handleClick(){const{selected:e,id:t,value:n,onRepeatedClick:i}=this.props;e&&i(t,n)}handleSectionNavigatorClick(e){const{value:t,onSectionNavigatorClick:n}=this.props;n(t,e)}renderInstances(){const{value:e,selected:t,styleguideData:n,selectedNavigatorId:r,onComponentToSectionNodeDrop:o}=this.props;if(1===n.length&&"components"!==e)return null;let s,a="";switch(e){case"colors":case"textStyles":case"spacing":s=n.filter(({has:{[e]:t}})=>t).map(({id:e,name:t})=>({id:e,title:t,content:t,class:"styleguideRootNode",children:[]}));break;case"components":1===n.length?s=n[0].componentTree:(a="linkedStyleguideTree",s=n.filter(({has:{[e]:t}})=>t).map(({id:e,idPath:t,styleguideId:n,name:i,componentTree:r})=>({id:e,idPath:t,styleguideId:n,title:i,content:i,class:"styleguideRootNode",children:r})));break;default:return null}return i.h(l.default,{class:["styleguideTree",a],nodeClass:"styleguideNode",nodePadding:10,dragDropEnabled:"components"===e,tree:s,selectedNodeId:t?r:null,onNodeSelect:this.handleSectionNavigatorClick,onComponentToSectionNodeDrop:o})}render(){const{name:e,value:t,selected:n,showBadge:o}=this.props;return i.h("div",{class:Object(r.default)("styleguideSection",{selected:n,showBadge:o}),onClick:this.handleClick},i.h("a",{href:this.sectionURL,"data-link-type":"inApp"},i.h(a.default,{type:t,selected:n}),i.h("span",{class:"name noSelect ellipsis",title:e},e),o&&i.h("div",{class:"badge"})),this.renderInstances())}}},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(228);t.default=function({type:e,selected:t}){const n=t?"#fff":"var(--gandalf)";switch(e){case"about":return i.h(r.IconInfo,{color:n});case"colors":return i.h(r.IconColor,{width:"22",height:"24",color:n});case"textStyles":return i.h(r.IconTextStyle,{width:"22",height:"24",color:n});case"spacing":return i.h(r.IconSpacing,{color:n});case"components":return i.h(r.IconComponent,{color:n});default:return null}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1693);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(334),o=n(24),s=n(342),a=n(345),l=n(346),c=n(683),d=n(759),u=n(473),h=n(62),p=n(349),f=n(1694);function g(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends i.Component{constructor(...e){super(...e),m(this,"state",{editing:!1}),m(this,"goToTop",()=>{if(!this.nodeRefs)return;const{about:e}=this.nodeRefs;e.scrollTop=0}),m(this,"handleStyleguideTutorialHideClick",()=>{p.UserActions.hideStyleguideTutorial()}),m(this,"handleSectionNavigatorClick",e=>{const{onSectionNavigatorClick:t}=this.props;"about"===e&&this.handleEditDescription(),t(e)}),m(this,"handleEditDescription",()=>{this.setState({editing:!0})}),m(this,"handleUpdateDescription",e=>{this.setState({editing:!1});const{barrelId:t,barrelType:n}=this.state;s.BarrelActions.updateDescription({bid:t,barrelType:n,description:e,syncWithApi:!0})}),m(this,"handleCancelDescription",()=>{this.setState({editing:!1})}),m(this,"handleLinkProject",e=>{const{barrel:t,currentOrganizationProjects:n}=this.state,i=n.find(t=>t._id===e);d.ProjectActions.linkProjectToStyleguideRequest({project:i,styleguide:t})}),m(this,"handleUnlinkProject",e=>{const{barrel:t}=this.state;d.ProjectActions.unlinkProjectFromStyleguide({pid:e,styleguide:t,syncWithApi:!0})})}static getStores(){return[s.BarrelStore,c.StyleguideStore,l.StyleguidesDataStore,a.ProjectsDataStore,u.OrganizationStore,p.UserStore]}static calculateState(){const e=s.BarrelStore.getState(),{loading:t}=e,n=g(e,["loading"]),{shouldDisplayStyleguideTutorial:i}=p.UserStore.getState();if(t)return{loading:!0};const{barrelId:r,barrelType:o,organizationId:d,showSlackReconnectionAuntie:f}=n,m=s.BarrelHelpers.getBarrel(),b=s.BarrelHelpers.findUser(),{rightSidebarWidth:y}=c.StyleguideStore.getState(),S=u.OrganizationHelpers.getOrganizationProjects(d)||[],[{colors:v}]=s.BarrelHelpers.getStyleguidesData({barrelStore:s.BarrelStore,styleguidesDataStore:l.StyleguidesDataStore,projectsDataStore:a.ProjectsDataStore});return{loading:!1,barrel:m,barrelId:r,barrelType:o,organizationId:d,showSlackReconnectionAuntie:f,sidebarWidth:y,currentOrganizationProjects:S,colors:v,shouldDisplayStyleguideTutorial:i,permissions:{canManageProject:h.permissions.canUpdateProject(b),canManageStyleguide:h.permissions.canUpdateStyleguide(b)}}}getChildContext(){const{colors:e,permissions:t}=this.state;return{permissions:t,projectColors:e}}render(){const{loading:e,barrel:t,organizationId:n,showSlackReconnectionAuntie:r,sidebarWidth:s,currentOrganizationProjects:a,editing:l,shouldDisplayStyleguideTutorial:d,permissions:u}=this.state;return e?null:i.h(f.default,{nodeRef:Object(o.default)(this,"about"),barrel:t,organizationId:n,editing:l,showSlackReconnectionAuntie:r,sidebarWidth:s,shouldDisplayStyleguideTutorial:d,onStyleguideTutorialHideClick:this.handleStyleguideTutorialHideClick,onSectionNavigatorClick:this.handleSectionNavigatorClick,onEditDescription:this.handleEditDescription,onUpdateDescription:this.handleUpdateDescription,onCancelDescription:this.handleCancelDescription,onSidebarRelease:c.StyleguideActions.changeRightSidebarWidth,onLinkProject:this.handleLinkProject,onUnlinkProject:this.handleUnlinkProject,currentOrganizationProjects:a,permissions:u})}}t.default=Object(r.default)(b)},function(e,t,n){"use strict";n.r(t);var i=n(1695);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11),o=n(1364),s=n(9),a=n(1696),l=n(1699),c=n(1098),d=n(1702),u=n(1708),h=n(582),p=n(1711),f=n(24);n(1714);class g extends i.Component{constructor(e){super(e),this.openLinkPopup=this.openLinkPopup.bind(this),this.openLinkPopupAtTargetNode=this.openLinkPopupAtTargetNode.bind(this),this.closeLinkToProjectPopup=this.closeLinkToProjectPopup.bind(this),this.state={linkToProjectPopupVisible:!1,targetLinkButton:null}}openLinkPopup(){this.setState({linkToProjectPopupVisible:!0})}openLinkPopupAtTargetNode(e){this.setState({linkToProjectPopupVisible:!0,targetLinkButton:e.target})}closeLinkToProjectPopup(){this.setState({linkToProjectPopupVisible:!1})}componentDidUpdate({barrel:{linkedProjects:{length:e}}}){const{barrel:{linkedProjects:{length:t}},editing:n}=this.props;(0===e&&1===t||1===e&&0===t)&&this.forceUpdate(),n&&setTimeout(()=>this.nodeRefs.styleguideDescription.scrollIntoView(),4)}renderDescription(){const{barrel:{description:e},editing:t,onEditDescription:n,onUpdateDescription:r,onCancelDescription:o,permissions:{canManageProject:s}}=this.props;return e||t?i.h(c.default,{ref:Object(f.default)(this,"styleguideDescription"),value:e,editing:t,readOnly:!s,onEdit:n,onUpdate:r,onCancel:o}):i.h(a.default,{class:"styleguideDescriptionEmptyState",type:a.default.TYPE.DESCRIPTION,onButtonClick:n})}renderLinkToProjectPopup(){const{linkToProjectPopupVisible:e,targetLinkButton:t}=this.state;if(!e)return null;const{organizationId:n,currentOrganizationProjects:r,onLinkProject:o,barrel:{_id:s,type:a,users:l,linkedProjects:c},permissions:{canManageStyleguide:d}}=this.props,p=r.filter(e=>{const t="base"===a||e.type===a;if("user"===n){const n=e.users.find(e=>"owner"===e.role);if(!n)return!1;const i=l.find(e=>"owner"===e.role).user._id===n.user._id;return"active"===e.status&&t&&i}return"active"===e.status&&t&&d}),f=c.length>0?this.nodeRefs.inlineLinkButton:t;return i.h(h.default,{targetNode:f,onClose:this.closeLinkToProjectPopup,content:i.h(u.default,{organizationId:n,currentStyleguide:s,onSelect:o,projects:p}),left:12,faceTop:!0,centerY:!0,stickToEdge:!0,showAnchor:!0,open:!0})}renderLinkedProjects(){const{barrel:{linkedProjects:e},onUnlinkProject:t,permissions:{canManageProject:n}}=this.props;let r;return r=e.length?i.h("div",{key:"linkedProjects",class:"linkedProjects"},e.map(({_id:e,name:n,type:r,updated:o})=>i.h(l.default,{key:e,id:e,name:n,type:r,updated:o,onUnlinkProject:t}))):i.h(a.default,{key:"linkedProjectsEmptyState",type:"linkedProjects",class:"linkedProjectsEmptyState",onButtonClick:this.openLinkPopupAtTargetNode}),[i.h(d.default,{key:"styleguideHeader"},"Linked projects",e.length>0&&n&&i.h(s.default,{baseRef:Object(f.default)(this,"inlineLinkButton"),class:"headerButton",onClick:this.openLinkPopup},"Link to projects")),r]}renderSidebar(){const{sidebarWidth:e,onSidebarRelease:t}=this.props;return i.h(o.default,{width:e,onRelease:t})}render(){const{nodeRef:e,shouldDisplayStyleguideTutorial:t,onStyleguideTutorialHideClick:n,onSectionNavigatorClick:o}=this.props;return i.h(i.Fragment,null,i.h("div",{class:Object(r.default)("styleguideContainerContent","aboutContent",{styleguideTutorialVisible:t}),ref:e},t&&i.h("div",{class:"styleguideTutorialContainer"},i.h(p.default,{hideButtonText:"Got it!",onHideClick:n,onSectionNavigatorClick:o})),this.renderDescription(),this.renderLinkedProjects()),this.renderSidebar(),this.renderLinkToProjectPopup())}}g.defaultProps={editing:!1},t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(1697);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(9),o=n(313),s=n(228),a=n(11),l=n(65);n(1698);const c=Object.freeze({description:{emoji:"📝"},linkedProjects:{emoji:"🔗"},colors:{emoji:"🎨",addIcon:i.h(s.IconColor,{type:"add"}),exampleAddImg:"imgColorFromLayer"},textStyles:{emoji:"✏️",addIcon:i.h(s.IconTextStyle,{type:"add"}),exampleAddImg:"imgTextStyleFromLayer"},components:{emoji:"🍡"}});function d(e,{singular:t=!1}={}){const n=e.replace(/[A-Z]/g,e=>" "+e.toLowerCase());return t?n.slice(0,-1):n}class u extends i.Component{constructor(e){super(e),this.handleLinkButtonClick=this.handleLinkButtonClick.bind(this)}handleLinkButtonClick(e){const{onButtonClick:t}=this.props;t(e)}renderDescription(){const{barrelType:e}=this.context,{type:t}=this.props;switch(t){case"description":return"You can enter Zeplin flavored markdown description and tell the story of the styleguide.";case"linkedProjects":return"You can link this styleguide to multiple projects to reference the same colors, text styles, and components.";case"components":return`Components are re-usable elements used throughout designs, crucial piece of your design system. Store, organize and showcase ${e} components here.`;default:return`You can organize and showcase your ${e} ${d(t)} here.`}}renderFromStyleguide(){const{type:e}=this.props,{permissions:{canManageProject:t},hasLinkedStyleguide:n,barrelType:o}=this.context;return t&&!n&&"project"===o?i.h("li",null,i.h("h3",null,"From a Styleguide (Recommended)"),i.h("p",null,"Use ",d(e)," from a Styleguide by linking your project."),i.h(r.default,{onClick:this.handleLinkButtonClick,primary:!0},"Link to Styleguide")):null}renderFromLayers(){const{type:e}=this.props;if("components"===e)return null;const{addIcon:t,exampleAddImg:n}=c[e];return i.h("li",null,i.h("h3",null,"From Layers"),i.h("p",null,"Select a layer and click ",t," next to the ",d(e,{singular:!0}),"."),i.h(o.default,{asset:`img/${n}.png`}))}renderFromDesignTools(){const{type:e}=this.props;return l.default.isWindowsApp?i.h(i.Fragment,null,i.h("li",null,i.h("h3",null,"From Figma"),i.h("p",null,"Select a master component frame and press ⌥E or select “File > Export” from the menu."),i.h(o.default,{asset:"img/icComponentsHintFigma.png"})),i.h("li",null,i.h("h3",null,"From Adobe XD"),i.h("p",null,"Select a component in “Pasteboard”, or a layer inside it. Press ⌥⌘E or select “File > Export > Zeplin” from the menu."),i.h(o.default,{asset:"img/icComponentsHintAdobeXD.png"}))):i.h("li",null,i.h("h3",null,"From Design Tools"),i.h("p",null,i.h("a",{href:"https://support.zeplin.io/quick-start/downloading-mac-and-windows-apps",target:"_blank"},"Download desktop app")," to export ",d(e)," from design tools."))}renderBody(){const{type:e,onButtonClick:t}=this.props,{permissions:{canManageProject:n}}=this.context;return"description"===e?n?i.h(r.default,{primary:!0,class:"addDescriptionButton",onClick:t},"Add description"):null:"linkedProjects"===e?n?i.h(r.default,{class:"linkProjectButton",onClick:this.handleLinkButtonClick,primary:!0},"Link to projects"):null:i.h("ul",null,this.renderFromStyleguide(),this.renderFromLayers(),this.renderFromDesignTools())}render(){const{class:e,type:t,before:n}=this.props,{emoji:r}=c[t];return i.h("div",{class:"emptyStateContainer"},i.h("div",{class:"emptyStateBefore"},n),i.h("div",{class:Object(a.default)("emptyState",e)},i.h("h2",null,"No ",d(t)," yet. ",r),i.h("p",null,this.renderDescription()),this.renderBody()))}}u.TYPE=Object.freeze({DESCRIPTION:"description",COLORS:"colors",TEXT_STYLES:"textStyles",COMPONENTS:"components"}),t.default=u},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1700);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(517),o=n(1013),s=n(1057),a=n(289),l=n(62),c=n(44),d=n(24);n(1701);class u extends i.Component{constructor(e){super(e),this.handleOptionsClick=this.handleOptionsClick.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.handleUnlinkProject=this.handleUnlinkProject.bind(this),this.openUnlinkDialog=this.openUnlinkDialog.bind(this),this.closeUnlinkDialog=this.closeUnlinkDialog.bind(this),this.state={contextMenu:null}}openUnlinkDialog(){this.setState({unlinkDialogVisible:!0})}closeUnlinkDialog(){this.setState({unlinkDialogVisible:!1})}handleContextMenu(e){e.preventDefault(),this.setState({contextMenu:{origin:{x:e.clientX,y:e.clientY}}})}handleContextMenuClose(){this.setState({contextMenu:null})}handleOptionsClick(e){e.preventDefault(),e.stopPropagation();const t=this.nodeRefs.optionsButton.getBoundingClientRect();this.setState({contextMenu:{origin:{x:t.left+24,y:t.top-24}}})}handleUnlinkProject(){const{id:e,onUnlinkProject:t}=this.props;t(e)}renderContextMenu(){const{contextMenu:{origin:e}}=this.state;return i.h(s.default.withAutoPosition,{autoPosition:{menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:e},onClose:this.handleContextMenuClose},i.h(s.default.Item,{onClick:this.openUnlinkDialog},"Unlink project"))}renderUnlinkDialog(){const{unlinkDialogVisible:e}=this.state;if(!e)return null;const{name:t}=this.props;return i.h(a.BasicDialog,{positiveButtonText:"UNLINK",onPositiveButtonClick:this.handleUnlinkProject,onClose:this.closeUnlinkDialog,negativeButtonText:"CANCEL",hideNegativeButton:!1,message:`Unlink “${t}”?`})}render(){const{permissions:{canManageProject:e}}=this.context,{contextMenu:t}=this.state,{id:n,name:s,type:a,updated:u}=this.props;return i.h("div",{class:"linkedProject noSelect",ref:Object(d.default)(this,"base")},t&&this.renderContextMenu(),e&&i.h(o.default,{class:"optionsButton",baseRef:Object(d.default)(this,"optionsButton"),onClick:this.handleOptionsClick}),i.h("a",{href:Object(c.urlResolve)("project",{url:{bid:n}}),onContextMenu:e?this.handleContextMenu:null,"data-link-type":"inApp"},i.h("div",{class:"linkedProjectName ellipsis",title:s},s),i.h("div",{class:"projectInfo"},i.h("span",null,Object(l.getPlatformString)(a)),i.h(r.default,{type:"time-ago",format:"micro",datetime:u}))),this.renderUnlinkDialog())}}t.default=u},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1703);n.d(t,"default",(function(){return i.default}));var r=n(1705);n.d(t,"ContextMenuButton",(function(){return r.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(1),r=n(24);n(1704);class o extends i.Component{highlight(){const{scroll:e,highlight:t,onScroll:n}=this.props;e&&this.nodeRefs.base.scrollIntoView(),t&&this.nodeRefs.base.animate([{backgroundColor:"var(--cornflower-blue-20pc)"},{backgroundColor:"transparent"}],{duration:2500,easing:"cubic-bezier(1, 0, 0.4, 0)"}),e&&n&&n()}componentDidMount(){this.highlight()}componentDidUpdate(){this.highlight()}render(){const{children:e}=this.props;return i.h("h2",{class:"styleguideHeader",ref:Object(r.default)(this,"base")},e)}}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1706);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1057),o=n(228),s=n(11);n(1707);class a extends i.Component{constructor(e){super(e),this.state={contextMenu:null},this.handleClick=this.handleClick.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this)}handleClick(e){this.setState({contextMenu:{x:e.clientX,y:e.clientY}})}handleContextMenuClose(){this.setState({contextMenu:null})}render(){const{menuItems:e,baseRef:t,keepActive:n}=this.props,{contextMenu:a}=this.state;return i.h("div",{class:"styleguideContextMenuButtonWrapper",ref:t},i.h("button",{class:Object(s.default)("styleguideContextMenuButton",{active:!!a||n}),onClick:this.handleClick},i.h(o.IconMenu,null)),a&&i.h(r.default,{class:"styleguideContextMenu",onClose:this.handleContextMenuClose},e))}}t.default=a},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1709);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1047),o=n(62),s=n(44),a=n(18),l=n(11),c=n(137);n(1710);const d="Add",u="Done",h="Spinner",p="Retry",f="linking",g="linked";function m({selected:e,iconType:t}){const n=Object(a.imageUrl)(`img/icInvite${t}${e?"Selected":""}.svg`);return i.h("img",{class:"invite"+t,src:n})}class b extends i.Component{constructor(...e){super(...e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"handleClick",()=>{const{onActionButtonClick:e,value:t,linked:n,linking:i}=this.props;i||n||e(t)})}render(){const{selected:e,projectName:t,projectType:n,status:r}=this.props,s=r===g,a=r===f,c=!s&&!a&&r,b=Object(l.default)("projectListItem",{selected:e,linking:a}),y=Object(o.getPlatformString)(n),S=`${t} - ${y}`;let v;return v=s?u:a?h:c?p:d,i.h("div",{title:S,class:b},i.h("div",{class:"projectInfo"},i.h("div",{class:"title ellipsis"},t,", ",i.h("span",{class:"projectType"},y)),c&&i.h("p",{class:"error"},c.title)),i.h("button",{onClick:this.handleClick,disabled:s||a},i.h(m,{iconType:v,selected:e})))}}class y extends i.Component{constructor(e){super(e),this.renderProjectListItem=this.renderProjectListItem.bind(this),this.renderProjectListItemContent=this.renderProjectListItemContent.bind(this),this.handleSelect=this.handleSelect.bind(this)}handleSelect(e){const{onSelect:t,currentStyleguide:n}=this.props;this.setState({[e]:f}),Object(c.updateProjectStyleguideLink)(e,n).then(()=>{mixpanel.master.track("Linked styleguide to project"),this.setState({[e]:g}),t(e)}).catch(t=>{this.setState({[e]:t})})}renderProjectListItemContent({_id:e,name:t,type:n},r){return i.h(b,{onActionButtonClick:this.handleSelect,value:e,selected:r,projectName:t,projectType:n,status:this.state[e]})}renderProjectListItem(e){return i.h(r.default.ListItem,{class:"selectableListItem noSelect",value:e._id,item:e,renderItem:this.renderProjectListItemContent,disabled:!0})}renderProjects(e){return[i.h("p",{key:"description"},"Select one or more projects to link to this Styleguide, to reference the same colors, text styles and components."),i.h("div",{key:"projects",class:"projects"},i.h(r.default,{class:"projectsList",onSelect:this.handleSelect},e.map(this.renderProjectListItem)))]}renderNoProjects(){const{projects:e,organizationId:t}=this.props;let n="No projects to link yet",r="";return e.length>0?(n="No unlinked projects",r=i.h("p",null,"Looks like all projects are linked to a styleguide, you're well organized. 😎")):r="user"!==t?i.h("p",null,"Looks like there’s no organization project yet, ",i.h("a",{href:Object(s.urlResolve)("projects"),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),"."):i.h("p",null,"Looks like you don’t have any projects yet, ",i.h("a",{href:Object(s.urlResolve)("projects"),class:"emptyCreateButton","data-link-type":"inApp"},"go ahead and create one"),"."),i.h("div",{class:"noProjects"},i.h("h3",null,n),r)}render(){const{projects:e,class:t}=this.props,n=e.filter(e=>Object.keys(this.state).includes(e._id)||!e.styleguideLink),r=Object(l.default)("linkToProjectPopup",t);return i.h("div",{class:r},n.length>0?this.renderProjects(n):this.renderNoProjects())}}t.default=y},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1712);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(819),o=n(1685),s=n(1689),a=n(65);n(1713);const l={about:i.h("svg",{width:"11",height:"42",viewBox:"0 0 11 42"},i.h("path",{fill:"#FDBD39","fill-rule":"evenodd",d:"M5.43 2.508c3.108.335 2.84 4.661 2.082 6.789-.81 2.27-2.142 4.38-2.59 6.782-.506 2.705.177 5.634 2.234 7.243-1.197 1.974-.789 4.44-.789 6.84 0 3.018-.68 8.225-5.198 8.513-1.553.1-1.564 2.6 0 2.5 3.585-.228 5.29-1.849 6.828-5.234.713-1.567.88-3.725.815-5.436-.085-2.213-.756-5.022 1.096-6.645.744-.652.258-1.808-.536-2.09-5.487-1.938.57-10.645 1.046-14.016.5-3.551-1.292-7.348-4.988-7.746-1.553-.167-1.542 2.334 0 2.5z"})),colorsAndTextStyles:i.h("svg",{width:"16",height:"94",viewBox:"0 0 16 94"},i.h("path",{fill:"#FDBD39","fill-rule":"evenodd",d:"M15.88 41.779c.41-.927-.273-2.184-1.383-1.837-4.605 1.44-7.613-4.125-7.615-8.077-.002-4.217 1.715-8.225 2.302-12.364C10.191 12.414 7.675 5.308 2.646.357 1.51-.761-.224 1.005.914 2.125c3.419 3.365 5.588 7.797 5.998 12.65.414 4.896-1.545 9.437-2.237 14.201-.538 3.71-.08 7.27 2.229 10.29 1.528 1.997 3.638 3.318 5.972 3.399-3.04 7.761-4.26 16.156-3.275 24.5.578 4.882 2.287 10.182.037 14.88-1.882 3.928-5.654 6.546-9.088 8.94-1.294.903-.07 3.07 1.237 2.159 3.234-2.256 6.556-4.629 8.842-7.94 2.501-3.623 2.863-7.784 2.314-12.076-.659-5.14-1.48-10.07-1.107-15.281.399-5.556 1.802-10.995 4.044-16.068"})),spacing:i.h("svg",{width:"10",height:"41",viewBox:"0 0 10 41"},i.h("path",{fill:"#FDBD39","fill-rule":"evenodd",d:"M5.172 2.497c2.959.333 2.705 4.641 1.982 6.76-.77 2.26-2.04 4.36-2.467 6.752-.481 2.693.169 5.61 2.128 7.212-1.14 1.965-.75 4.422-.75 6.81 0 3.006-.65 8.19-4.952 8.477-1.48.099-1.49 2.589 0 2.49 3.414-.228 5.038-1.842 6.503-5.212.68-1.561.838-3.71.776-5.413-.08-2.204-.72-5 1.044-6.616.709-.65.246-1.8-.51-2.08-5.226-1.931.543-10.6.995-13.957.477-3.536-1.23-7.316-4.75-7.712-1.478-.166-1.468 2.324 0 2.49z"})),components:i.h("svg",{width:"9",height:"43",viewBox:"0 0 9 43"},i.h("path",{fill:"#FDBD39","fill-rule":"evenodd",d:"M8.154 18.516c.255-.523.152-1.204-.39-1.508-3.968-2.227-.622-8.267-.993-11.739C6.477 2.506 4.472-.154 1.544.007c-1.388.077-1.397 2.28 0 2.203 5.027-.276 2.328 7.582 2.172 10.188-.135 2.255.448 4.553 2.157 5.967-1.399 3.717-.594 7.596.095 11.463.678 3.816.914 9.154-3.107 11.147-1.254.622-.156 2.522 1.095 1.902 9.38-4.649.756-17.307 4.198-24.361"}))};t.default=function({hideButtonText:e,onHideClick:t,onSectionNavigatorClick:n}){return i.h(r.default,{class:"styleguideTutorial",onHideClick:t,hideButtonText:e,hideEmoji:!0},i.h("h1",null,"Welcome to the Styleguide 🍡"),i.h("p",{class:"description"},"Curate your styleguide by adding components, colors, text styles and spacing tokens. All the projects linked to this styleguide will inherit these resources automatically."),i.h("p",{class:"description"},"From the left panel:"),i.h("div",{class:"sections"},i.h("div",{class:"sectionItems"},o.sections.map(({value:e,name:t})=>i.h("div",{key:e,class:"sectionItem"},i.h(s.default,{type:e}),i.h("span",null,t)))),i.h("div",{class:"sectionItemDescriptions"},i.h("p",{class:"sectionItemDescription aboutDescription"},l.about,i.h("span",null,i.h("strong",{onClick:()=>n("about")},"Start by describing the styleguide")," to your team. View linked projects, integrations and more.")),i.h("p",{class:"sectionItemDescription colorsAndTextStylesDescription"},l.colorsAndTextStyles,i.h("span",null,i.h("strong",{onClick:()=>n("colors")},"Export colors and text styles")," from design tools ",a.default.isWindowsApp&&"using Zeplin’s desktop apps"," and access them here.")),i.h("p",{class:"sectionItemDescription spacingDescription"},l.spacing,i.h("span",null,i.h("strong",{onClick:()=>n("spacing")},"Set up your spacing tokens")," here to view them while inspecting designs.")),i.h("p",{class:"sectionItemDescription componentsDescription"},l.components,i.h("span",null,i.h("strong",{onClick:()=>n("components")},"Export components")," from design tools ",a.default.isWindowsApp&&"using Zeplin’s desktop apps"," and organize them here.")))))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1716);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(42),o=n(24),s=n(62),a=n(44),l=n(342),c=n(683),d=n(721),u=n(346),h=n(345),p=n(349),f=n(1057),g=n(1717),m=n(1720),b=n(1696),y=n(1370),S=n(1702),v=n(1726),C=n(1729),O=n(122),E=n(1734),T=n(334),D=n(228);n(1735);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class j extends i.Component{constructor(...e){super(...e),_(this,"state",{styleguideToShowColorEditHintBox:null}),_(this,"unsetStyleguideForColorEditHintBox",()=>{this.setState({styleguideToShowColorEditHintBox:null})}),_(this,"goToTop",()=>{if(!this.nodeRefs)return;const{colors:e}=this.nodeRefs;e.scrollTop=0}),_(this,"goToStyleguideToEdit",()=>{const{styleguideToShowColorEditHintBox:e}=this.state;location.assign(Object(a.urlResolve)("styleguide-colors",{url:{bid:e}}))}),_(this,"handleNameChange",(e,t)=>{const{colorsData:[{colors:n}]}=this.state;if(n.find(e=>e.name===t))return r.create({title:t+" already exists",message:"Please enter another name for this color.",done:{name:"GOT IT"}}),void this.forceUpdate();l.BarrelActions.updateColor({cid:e,colorData:{name:t},syncWithApi:!0})}),_(this,"handleDataChange",(e,t)=>{const{colorsData:[{colors:n}]}=this.state,i=w(w({},n.find(t=>t.id===e)),t);if(n.find(e=>e.equals(i)))return r.create({title:"Color with this value already exists",message:"Please enter another value for this color.",done:{name:"GOT IT"}}),void this.forceUpdate();l.BarrelActions.updateColor({cid:e,colorData:t,syncWithApi:!0})}),_(this,"handleDelete",e=>{l.BarrelActions.removeColor({cid:e,syncWithApi:!0})}),_(this,"handleAddSuggestedColor",e=>{const{barrel:t}=this.state;l.BarrelActions.addColor({color:e.name?w(w({},e),{},{name:e.formatName(t.type)}):e,syncWithApi:!0})}),_(this,"handleAddAllColors",()=>{const{barrel:{type:e},suggestedColors:t}=this.state,n=t.map(t=>t.name?w(w({},t),{},{name:t.formatName(e)}):t);l.BarrelActions.addMultipleColors({colors:n,syncWithApi:!0})}),_(this,"handleHideSuggestedColors",()=>{const{barrel:{id:e},suggestedColors:t}=this.state;c.StyleguideActions.hideSuggestedColors(e,t)}),_(this,"handleMoveColorsToClick",e=>{e.stopPropagation();const{colorsData:[{colors:t}]}=this.state;c.StyleguideActions.openMoveResourcesPopup({resourceType:O.RESOURCE_TYPE.COLORS,resources:t,targetNode:this.nodeRefs.contextMenuButton})}),_(this,"handleDeleteAllMenuItemClick",e=>{e.stopPropagation(),r.create({title:"Delete all colors?",message:"Deleted colors cannot be restored",done:{name:"DELETE",cb(){l.BarrelActions.removeAllColors({syncWithApi:!0})}},cancel:{name:"KEEP"}})})}static getStores(){return[l.BarrelStore,c.StyleguideStore,h.ProjectsDataStore,u.StyleguidesDataStore,d.VersionImportsStore,p.UserStore]}static calculateState(){const{loading:e,barrelId:t}=l.BarrelStore.getState();if(e)return{loading:!0};const n=l.BarrelHelpers.getBarrel(),i=l.BarrelHelpers.findUser(),{moveResourcesPopup:r,scrolledSection:o,highlightScrolledSection:a,highlightedColors:p,rightSidebarWidth:f}=c.StyleguideStore.getState(),{role:g}=i,{suggestedResourcesByBarrel:m}=d.VersionImportsStore.getState(),b=l.BarrelHelpers.getStyleguidesData({barrelStore:l.BarrelStore,styleguidesDataStore:u.StyleguidesDataStore,projectsDataStore:h.ProjectsDataStore}),{colors:y=[]}=m[t]||{};let S=b.filter(({colors:{length:e}=[]})=>e).map(({id:e,name:t,colors:n})=>({id:e,name:t,colors:n}));!S.some(e=>e.id===t)&&y.length&&(S=[{id:t,name:"Local Styleguide",colors:[]},...S]);const v=s.permissions.canManageColors(i);return{loading:!1,barrel:n,barrelUser:i,barrelId:t,userRole:g,moveResourcesPopup:r,scrolledSection:o,highlightScrolledSection:a,styleguidesData:b,colorsData:S,suggestedColors:y,highlightedColors:p,sidebarWidth:f,canManageColors:v}}setStyleguideForColorEditHintBox(e){this.setState({styleguideToShowColorEditHintBox:e})}renderSuggestedColors(){const{suggestedColors:e}=this.state;return e.length?i.h(C.default,{colors:e,onHideClick:this.handleHideSuggestedColors,onAdd:this.handleAddSuggestedColor,onAddAll:this.handleAddAllColors}):null}renderStyleguideHeaderEnd({id:e,name:t}){const{barrel:n,barrelUser:r,moveResourcesPopup:s,canManageColors:l}=this.state,c=s&&s.resourceType===O.RESOURCE_TYPE.COLORS,d=e!==n.id?i.h("a",{href:Object(a.urlResolve)("styleguide-colors",{url:{bid:e}}),class:"headerButton",title:"Go to "+t,"data-link-type":"inApp","data-back":n.name},i.h(D.IconGoTo,null)):null,u=Object(E.default)(n,r),h=[u&&i.h(f.default.Item,{key:"Move colors to styleguide",onClick:this.handleMoveColorsToClick},"Move colors to styleguide…"),u&&l&&i.h(f.default.ItemDivider,{key:"warningDivider"}),l&&i.h(f.default.Item,{warning:!0,key:"Delete all colors",onClick:this.handleDeleteAllMenuItemClick},"Delete all colors")].filter(Boolean),p=e===n.id&&h.length>0?i.h(S.ContextMenuButton,{baseRef:Object(o.default)(this,"contextMenuButton"),keepActive:c,menuItems:h}):null;return d||p?i.h("div",null,p,d):null}renderColorPalettes(){const{barrelId:e,userRole:t,colorsData:n,styleguideToShowColorEditHintBox:r,scrolledSection:o,highlightScrolledSection:s,suggestedColors:a,highlightedColors:l,canManageColors:d}=this.state,{onLinkStyleguide:u}=this.props;return n&&n.length?n.map(({id:n,name:a,colors:u})=>{const h=n===e,p=r===n&&!h;return i.h(i.Fragment,{key:"fragmentColorPalette-"+n},i.h(S.default,{key:"styleguideHeader-"+n,scroll:o===n,highlight:o===n&&s,onScroll:c.StyleguideActions.sectionScrolled},a,this.renderStyleguideHeaderEnd({id:n,name:a})),p&&i.h(v.default,{key:"hintbox",styleguideSectionToEdit:"colors",styleguideName:a,onGoToStyleguide:this.goToStyleguideToEdit,onHideClick:this.unsetStyleguideForColorEditHintBox}),h&&this.renderSuggestedColors(),i.h(m.default,{key:"colorPalette-"+n,colors:u,highlightedColors:l,userRole:t,readOnly:!d,onHover:c.StyleguideActions.unhighlightColor,onAttemptToChange:h?null:this.setStyleguideForColorEditHintBox.bind(this,n),onNameChange:this.handleNameChange,onDataChange:this.handleDataChange,onDelete:this.handleDelete}))}):i.h(b.default,{type:b.default.TYPE.COLORS,before:!!a.length&&i.h("div",{class:"emptyStateSuggestedColors"},i.h(S.default,null,"Local Styleguide"),this.renderSuggestedColors()),onButtonClick:u})}renderSidebar(){const{onExportClick:e}=this.props,{sidebarWidth:t}=this.state;return i.h(y.default,{minWidth:280,initialWidth:t,onClick:s.stopPropagation,onRelease:c.StyleguideActions.changeRightSidebarWidth},i.h(g.default,{type:"color",onExportClick:e}))}render(){const{loading:e}=this.state;return e?null:i.h(i.Fragment,null,i.h("div",{class:"styleguideContainerContent colorPaletteContent",ref:Object(o.default)(this,"colors")},this.renderColorPalettes()),this.renderSidebar())}}t.default=Object(T.default)(j)},function(e,t,n){"use strict";n.r(t);var i=n(1718);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(334),o=n(342),s=n(658),a=n(346),l=n(345),c=n(9),d=n(1631),u=n(44),h=n(19),p=n(666);n(1719);function f({organizationId:e,hasExtensions:t,onManageExtensionsClick:n}){return i.h("div",{class:"emptyStyleguideCodePanel"},t?[i.h("h2",{key:"emptyStyleguideHeader"},"No extension snippets ⚗️"),i.h("p",{key:"emptyStyleguideParagraph"},"Looks like you don’t have any extensions that generate Styleguide code snippets. Extensions are built by the community, generating code snippets from designs.",i.h("br",null),i.h("br",null),"Manage and enable the ones that fit your workflow."),i.h(c.default,{key:"emptyStyleguideButton",onClick:n,class:"manageExtensions"},"Manage extensions")]:[i.h("h2",{key:"emptyStyleguideHeader"},"No extensions ⚗️"),i.h("p",{key:"emptyStyleguideParagraph"},"Looks like you don’t have any extensions on this project. Extensions are built by the community, generating code snippets from designs.",i.h("br",null),i.h("br",null),"Browse and pick the ones that fit your workflow."),i.h("a",{key:"emptyStyleguideButton",href:Object(u.getExtensionWebsiteUrl)({organizationId:e}),target:"_blank",rel:"noopener"},"Explore extensions")])}class g extends i.Component{constructor(e){super(e),this.exportCode=this.exportCode.bind(this),this.openSettings=this.openSettings.bind(this)}exportCode(){const{extensionId:e,onExportClick:t}=this.props;t(e)}openSettings(){const{extensionId:e,onSettingsClick:t}=this.props;t({extensionId:e})}render(){const{snippets:e,title:t}=this.props;return i.h(d.default,{class:"styleguideCode",copyEnabled:!1,exportEnabled:!0,onExportClick:this.exportCode,onSettingsClick:this.openSettings,snippets:e,title:t,asyncHighlight:!0})}}class m extends i.Component{constructor(e){super(e),this.exportCode=this.exportCode.bind(this),this.state={codeSnippets:null}}exportCode(e){const{barrel:t,barrelType:n,styleguides:i,type:r,extensions:o,onExportClick:s}=this.props,a=Object(p.transformBarrelToObject)(t,n,i),l=o.find(t=>t.id===e);l&&l[`exportStyleguide${Object(h.uppercaseFirst)(r)}s`](a).then(t=>s(r,t,e))}generateCodeSnippets(e){if(!e.length)return void this.setState({codeSnippets:{}});const{type:t,barrel:n,barrelType:i,styleguides:r}=this.props,o=Object(p.transformBarrelToObject)(n,i,r);Promise.all(e.map(e=>function(e,t,n){return e[`styleguide${Object(h.uppercaseFirst)(t)}s`](n).then(n=>{if(!n)return;const i={name:t};return"string"==typeof n?i.code=n:Object.assign(i,n),i.exportable=e.hasMethod(`exportStyleguide${Object(h.uppercaseFirst)(t)}s`)||e.hasMethod(`export${Object(h.uppercaseFirst)(t)}s`)||e.hasMethod("export"+Object(h.uppercaseFirst)(t)),[i]}).catch(e=>{}).then((t=[])=>({[e.id]:{snippets:t,title:e.name}}))}(e,t,o))).then(e=>{this.setState({codeSnippets:Object.assign({},...e)})})}componentDidMount(){const{extensions:e}=this.props;this.generateCodeSnippets(e)}componentWillReceiveProps(e){const{extensions:t}=e;this.generateCodeSnippets(t)}shouldComponentUpdate(e,t){const{codeSnippets:n}=this.state;return n!==t.codeSnippets&&(!n||!t.codeSnippets||(Object.keys(n).length!==Object.keys(t.codeSnippets).length||Object.keys(n).some(e=>{const{snippets:i}=n[e],{snippets:r}=t.codeSnippets[e];return!(!r&&!i)&&(!r||!i||(i.length!==r.length||i.some((e,t)=>r[t].language!==e.language||r[t].code!==e.code)))})))}render(){const{extensions:e,hasExtensions:t,onManageExtensions:n,organizationId:r}=this.props,{codeSnippets:o}=this.state;if(!o)return;const s=e.map(e=>{const{snippets:t,title:r}=o[e.id];return t.length?i.h(g,{key:e.id,snippets:t,title:r,extensionId:e.id,onExportClick:this.exportCode,onSettingsClick:n}):null}).filter(Boolean);return e.length&&s.length?i.h("div",{class:"styleguideCodePanel"},s):i.h(f,{hasExtensions:t,organizationId:r,onManageExtensionsClick:n})}}class b extends i.Component{static calculateState(){const{loading:e,barrelType:t,organizationId:n}=o.BarrelStore.getState();if(e)return{loading:e};const i=o.BarrelHelpers.getBarrel(),{styleguides:r}=a.StyleguidesDataStore.getState(),{loading:l,extensions:c,enabledExtensions:d}=s.ExtensionsStore.getState(),u=c.filter(e=>e.loaded&&d.includes(e.id));return{loading:e,barrel:i,styleguides:r,barrelType:t,loadingExtensions:l,hasExtensions:c.length>0,extensions:u,organizationId:n}}static getStores(){return[o.BarrelStore,s.ExtensionsStore,l.ProjectsDataStore,a.StyleguidesDataStore]}render(){const{type:e,title:t,onExportClick:n}=this.props,{loading:r,barrel:o,barrelType:a,styleguides:l,loadingExtensions:c,hasExtensions:d,extensions:u,organizationId:h}=this.state;if(!r&&!c)return i.h(m,{type:e,title:t,barrel:o,barrelType:a,styleguides:l,hasExtensions:d,extensions:u,organizationId:h,onExportClick:n,onManageExtensions:s.ExtensionsActions.openSettings})}}t.default=Object(r.default)(b)},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1721);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(1),r=n(1722);n(1725);function o(e){const{colors:t,highlightedColors:n,readOnly:o,userRole:s,onHover:a,onAttemptToChange:l,onNameChange:c,onDataChange:d,onDelete:u}=e;return i.h("div",{class:"colorPalette"},t.map(e=>{const t=n[0]===e.id,h=t||n.includes(e.id);return i.h(r.default,{color:e,key:e.id,readOnly:o,userRole:s,scrollIntoView:t,highlight:h,onHover:a,onAttemptToChange:l,onNameChange:c,onDataChange:d,onDelete:u})}))}},function(e,t,n){"use strict";n.r(t);var i=n(1723);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(20),o=n(42),s=n(1542),a=n(630),l=n(228),c=n(1033),d=n(62),u=(n(1724),n(24)),h=n(11);function p(e){return!!/[0-9]{1,3}/.test(e)&&parseInt(e,10)<=100}function f(e){return/[A-Fa-f0-9]{6}/.test(e)}class g extends i.Component{constructor(e){super(e),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleNameChange=this.handleNameChange.bind(this),this.handleHexChange=this.handleHexChange.bind(this),this.handleOpacityChange=this.handleOpacityChange.bind(this),this.handleDelete=this.handleDelete.bind(this)}scrollIntoView(){const{scrollIntoView:e}=this.props;e&&this.nodeRefs.base.scrollIntoView()}handleMouseEnter(){const{color:{id:e},highlight:t,onHover:n}=this.props;t&&n({cid:e})}handleDelete(){const{color:{name:e,id:t},onDelete:n,onAttemptToChange:i}=this.props;i?i():o.create({message:`Remove “${e}”?`,done:{name:"REMOVE",cb:()=>{n(t)}},cancel:{name:"KEEP"}})}handleHexChange(e){const{color:{id:t},onDataChange:n}=this.props,{r:i,g:o,b:s}=r.default.fromHex("#"+e);n(t,{r:i,g:o,b:s})}handleNameChange(e){const{color:{id:t},onNameChange:n}=this.props;n(t,e)}handleOpacityChange(e){const{color:{id:t},onDataChange:n}=this.props;n(t,{a:parseInt(e,10)/100})}componentDidMount(){this.scrollIntoView()}componentDidUpdate(){this.scrollIntoView()}render(){const{color:e,userRole:t,readOnly:n,highlight:r,onAttemptToChange:o}=this.props,{projectType:g}=this.context,m=e.name,b=e.hexBase(),y=Math.round(100*e.a),S=e.toRGBString(),v=e.toRGBAString(),C=Object(h.default)("colorCell",{highlight:r});let O=i.h("div",{class:C,ref:Object(u.default)(this,"base"),onMouseEnter:this.handleMouseEnter},i.h("div",{class:"colorPreview",style:{backgroundColor:v}},!n&&i.h("button",{type:"button",onClick:this.handleDelete},i.h(l.IconDelete,null))),i.h("div",{class:"colorInformation"},i.h("div",{class:"colorNameContainer"},i.h(s.default,{class:"colorName",spellCheck:"false",filterRegex:d.colorNameRegex[g],prefix:"#",maxLength:36,ellipsized:!0,initialValue:m,disabled:n,blurOnEnter:!0,onAttemptToChange:o,onBlur:this.handleNameChange})),i.h("div",{class:"colorValueContainer"},i.h(s.default,{class:"colorHex",maxLength:6,spellCheck:"false",filterRegex:/([^a-fA-F0-9])/g,prefix:"#",validator:f,initialValue:b,disabled:n,blurOnEnter:!0,onAttemptToChange:o,onBlur:this.handleHexChange}),i.h(s.default,{class:"colorAlpha",maxLength:3,filterRegex:/([^0-9])/g,suffix:"%",validator:p,initialValue:y,disabled:n,blurOnEnter:!0,onAttemptToChange:o,onBlur:this.handleOpacityChange})),i.h("div",{class:"colorRGB"},S)));return n&&(O=i.h(a.default,{content:Object(c.default)(t,"edit colors")},O)),O}}t.default=g},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1727);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(819);n(1728);t.default=function(e){const{styleguideName:t,onGoToStyleguide:n,onHideClick:o,styleguideSectionToEdit:s}=e;return i.h(r.default,{class:"styleguideEditHintBox",onActionClick:n,actionContent:"Go to Styleguide",onHideClick:o,hideButtonText:"Got it!"},"Go to “",t,"” to edit ",s,", since it’s a linked styleguide.")}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1730);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(1731),a=n(20);n(1733);function l({name:e,color:t,onClick:n}){return i.h("button",{class:"colorItem",onClick:n},i.h("div",{class:"colorPreview",style:{backgroundColor:t}}),i.h("span",{class:"name"},e))}function c(e){const{onAddAll:t,onAdd:n,onHideClick:r,colors:o}=e,a=o.length>1;return i.h(s.default,{class:"candidateColorsHintBox",onActionButtonClick:t,onHideClick:r,actionButtonText:a?"Add All Colors":"Add Color",hideButtonText:a?"Ignore these colors!":"Ignore the color!",emoji:"👩‍🎨",title:`Found ${a?o.length+" colors":"a color"} during the last export, want to add ${a?"them":"it"}?`,description:a?"Click to add them individually or select “Add All Colors”.":"Click the color below or select “Add Color” to add it."},i.h("div",{class:"colorsContainer"},o.map(e=>{const t=e.toHexString();return i.h(l,{key:e.id,name:e.name||t,color:t,onClick:()=>n(e)})})))}c.propTypes={colors:o.a.arrayOf(o.a.instanceOf(a.default)).isRequired,onHideClick:o.a.func.isRequired,onAdd:o.a.func.isRequired,onAddAll:o.a.func},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(819),a=n(9),l=n(11);n(1732);function c(e){const{onHideClick:t,onActionButtonClick:n,hideButtonText:r,actionButtonText:o,emoji:c,title:d,description:u,children:h,class:p}=e,f=Object(l.default)("genericStyleguideHintBox",p);return i.h(s.default,{class:f,onHideClick:t,hideButtonText:r,hideEmoji:!0},i.h("div",{class:"hintBoxContainer"},i.h("span",{class:"emoji"},c),i.h("div",{class:"text"},i.h("h5",null,d),i.h("p",null,u)),n&&i.h(a.default,{class:"actionButton",onClick:n,primary:!0},o)),h)}c.propTypes={onHideClick:o.a.func.isRequired,hideButtonText:o.a.string.isRequired,onActionButtonClick:o.a.func,actionButtonText:o.a.string,emoji:o.a.string.isRequired,title:o.a.string.isRequired,description:o.a.string.isRequired},t.default=c},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var i=n(62);function r(e,t){if(Object(i.isOrganizationProject)(e))return i.permissions.canMoveResources(t);const n=e.users.find(e=>"owner"===e.role);return"free"===n.user.paymentPlan?t.user._id===n.user._id:i.permissions.canMoveResources(t)}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1737);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(42),o=n(24),s=n(62),a=n(44),l=n(1734),c=n(1250),d=n(342),u=n(683),h=n(346),p=n(345),f=n(721),g=n(349),m=n(1057),b=n(1696),y=n(1370),S=n(1702),v=n(1738),C=n(1717),O=n(1726),E=n(1743),T=n(122),D=n(334),k=n(228);n(1746);function w(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class j extends i.Component{constructor(...e){super(...e),_(this,"state",{styleguideToShowTextStyleEditHintBox:null}),_(this,"unsetStyleguideForTextStyleEditHintBox",()=>{this.setState({styleguideToShowTextStyleEditHintBox:null})}),_(this,"goToStyleguideToEdit",()=>{const{styleguideToShowTextStyleEditHintBox:e}=this.state;location.assign(Object(a.urlResolve)("styleguide-textstyles",{url:{bid:e}}))}),_(this,"goToTop",()=>{if(!this.nodeRefs)return;const{textStyles:e}=this.nodeRefs;e.scrollTop=0}),_(this,"handleColorDelete",e=>{d.BarrelActions.updateTextStyle({tsid:e,textStyleData:{color:null},syncWithApi:!0})}),_(this,"handleDelete",e=>{d.BarrelActions.removeTextStyle({tsid:e,syncWithApi:!0})}),_(this,"handleHideSuggestedTextStyles",()=>{const{barrelId:e,suggestedTextStyles:t}=this.state;u.StyleguideActions.hideSuggestedTextStyles(e,t)}),_(this,"handleNameChange",(e,t)=>{const{textStylesData:[{textStyles:n}]}=this.state;if(n.some(e=>e.name===t))return r.create({title:t+" already exists",message:"Please enter another name for this text style.",done:{name:"GOT IT"}}),void this.forceUpdate();d.BarrelActions.updateTextStyle({tsid:e,textStyleData:{name:t},syncWithApi:!0})}),_(this,"handleAddTextStyle",e=>{d.BarrelActions.addTextStyle({textStyle:e,syncWithApi:!0})}),_(this,"handleAddAllTextStyles",()=>{const{suggestedTextStyles:e}=this.state;d.BarrelActions.addMultipleTextStyles({textStyles:e,syncWithApi:!0})}),_(this,"handleMoveTextStylesToClick",e=>{e.stopPropagation();const{textStylesData:[{textStyles:t}]}=this.state;u.StyleguideActions.openMoveResourcesPopup({resourceType:T.RESOURCE_TYPE.TEXT_STYLES,resources:t,targetNode:this.nodeRefs.contextMenuButton})}),_(this,"handleDeleteAllMenuItemClick",e=>{e.stopPropagation(),r.create({title:"Delete all text styles?",message:"Deleted text styles cannot be restored",done:{name:"DELETE",cb(){d.BarrelActions.removeAllTextStyles({syncWithApi:!0})}},cancel:{name:"KEEP"}})})}static getStores(){return[d.BarrelStore,u.StyleguideStore,p.ProjectsDataStore,h.StyleguidesDataStore,f.VersionImportsStore,g.UserStore]}static calculateState(){const{loading:e,barrelId:t}=d.BarrelStore.getState();if(e)return{loading:!0};const n=d.BarrelHelpers.getBarrel(),i=d.BarrelHelpers.findUser(),{rightSidebarWidth:r,highlightedTextStyles:o,scrolledSection:a,highlightScrolledSection:l,moveResourcesPopup:g}=u.StyleguideStore.getState(),{suggestedResourcesByBarrel:m}=f.VersionImportsStore.getState(),{textStyles:b=[]}=m[t]||{},{role:y}=i,S=new c.default(n);let v=d.BarrelHelpers.getStyleguidesData({barrelStore:d.BarrelStore,styleguidesDataStore:h.StyleguidesDataStore,projectsDataStore:p.ProjectsDataStore}).filter(({textStyles:{length:e}=[]})=>e).map(e=>{let{componentSections:t}=e;return w(e,["componentSections"])});!v.some(e=>e.id===t)&&b.length&&(v=[{id:t,name:"Local Styleguide",textStyles:[],colors:[]},...v]);const C=s.permissions.canManageTextStyles(i);return{barrel:n,barrelId:t,barrelUser:i,userRole:y,sidebarWidth:r,highlightedTextStyles:o,scrolledSection:a,highlightScrolledSection:l,moveResourcesPopup:g,suggestedTextStyles:b,formatter:S,textStylesData:v,canManageTextStyles:C}}setStyleguideForTextStyleEditHintBox(e){this.setState({styleguideToShowTextStyleEditHintBox:e})}renderSuggestedTextStyles(){const{suggestedTextStyles:e,formatter:t}=this.state;return e.length?i.h(E.default,{textStyles:e,formatter:t,onHideClick:this.handleHideSuggestedTextStyles,onAdd:this.handleAddTextStyle,onAddAll:this.handleAddAllTextStyles}):null}renderStyleguideHeaderEnd({id:e,name:t}){const{barrel:n,barrelId:r,barrelUser:s,moveResourcesPopup:c,canManageTextStyles:d}=this.state,u=c&&c.resourceType===T.RESOURCE_TYPE.TEXT_STYLES,h=e!==r?i.h("a",{href:Object(a.urlResolve)("styleguide-textstyles",{url:{bid:e}}),class:"headerButton",title:"Go to "+t,"data-link-type":"inApp","data-back":n.name},i.h(k.IconGoTo,null)):null,p=Object(l.default)(n,s),f=[p&&i.h(m.default.Item,{key:"Move text styles to styleguide",onClick:this.handleMoveTextStylesToClick},"Move text styles to styleguide…"),p&&d&&i.h(m.default.ItemDivider,{key:"warningDivider"}),d&&i.h(m.default.Item,{warning:!0,key:"Delete all text styles",onClick:this.handleDeleteAllMenuItemClick},"Delete all text styles")].filter(Boolean),g=e===r&&f.length>0?i.h(S.ContextMenuButton,{baseRef:Object(o.default)(this,"contextMenuButton"),keepActive:u,menuItems:f}):null;return h||g?i.h("div",null,g,h):null}renderTextStyleCatalogs(){const{barrelId:e,userRole:t,textStylesData:n,scrolledSection:r,highlightScrolledSection:o,highlightedTextStyles:s,suggestedTextStyles:a,formatter:l,styleguideToShowTextStyleEditHintBox:c,canManageTextStyles:d}=this.state,{onLinkStyleguide:h}=this.props;if(!n||!n.length)return i.h(b.default,{type:b.default.TYPE.TEXT_STYLES,before:!!a.length&&i.h("div",{class:"emptyStateSuggestedTextStyles"},i.h(S.default,null,"Local Styleguide"),this.renderSuggestedTextStyles()),onButtonClick:h});const p=n.map(e=>{let{textStyles:t}=e;return w(e,["textStyles"])});return n.map(({id:n,name:a,type:h,densityScale:f,remPreferences:g,textStyles:m})=>{const b=n===e,y=c===n&&!b;return i.h(i.Fragment,{key:"textStyleCatalog-"+n},i.h(S.default,{scroll:r===n,highlight:r===n&&o,onScroll:u.StyleguideActions.sectionScrolled},a,this.renderStyleguideHeaderEnd({id:n,name:a})),y&&i.h(O.default,{styleguideSectionToEdit:"text styles",styleguideName:a,onGoToStyleguide:this.goToStyleguideToEdit,onHideClick:this.unsetStyleguideForTextStyleEditHintBox}),b&&this.renderSuggestedTextStyles(),i.h(v.default,{platform:h,densityScale:f,remPreferences:g,textStyles:m,colorsData:p,highlightedTextStyles:s,userRole:t,readOnly:!d,formatter:l,onHover:u.StyleguideActions.unhighlightTextStyle,onAttemptToChange:!b&&this.setStyleguideForTextStyleEditHintBox.bind(this,n),onNameChange:this.handleNameChange,onColorDelete:this.handleColorDelete,onDelete:this.handleDelete}))})}renderSidebar(){const{onExportClick:e}=this.props,{sidebarWidth:t}=this.state;return i.h(y.default,{minWidth:280,initialWidth:t,onClick:s.stopPropagation,onRelease:u.StyleguideActions.changeRightSidebarWidth},i.h(C.default,{type:"textStyle",onExportClick:e}))}render(){const{loading:e}=this.state;return e?null:i.h(i.Fragment,null,i.h("div",{class:"styleguideContainerContent textStyleCatalogContent",ref:Object(o.default)(this,"textStyles")},this.renderTextStyleCatalogs()),this.renderSidebar())}}t.default=Object(D.default)(j)},function(e,t,n){"use strict";n.r(t);var i=n(1739);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(1),r=n(1740),o=n(1532);function s(e){const{platform:t,densityScale:n,remPreferences:s,formatter:a,textStyles:l,colorsData:c,highlightedTextStyles:d,readOnly:u,userRole:h,onHover:p,onAttemptToChange:f,onNameChange:g,onColorDelete:m,onDelete:b}=e;return i.h("div",{class:"textStyleCatalog"},l.map((e,l)=>{const{id:y,color:S}=e,v=d[0]===y,C=v||d.includes(y),O=S&&Object(o.transformColor)(S,a,c);return i.h(r.default,{key:e.id,platform:t,densityScale:n,remPreferences:s,readOnly:u,userRole:h,formatter:a,textStyle:e,textStyleColor:O,tabIndex:l+1,scrollIntoView:v,highlight:C,onHover:p,onAttemptToChange:f,onNameChange:g,onColorDelete:m,onDelete:b})}))}},function(e,t,n){"use strict";n.r(t);var i=n(1741);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11),o=n(24),s=n(1033),a=n(42),l=n(228),c=n(9),d=n(536),u=n(630),h=n(1236),p=n(106);n(1742);class f extends i.Component{constructor(e){super(e),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleNameBlur=this.handleNameBlur.bind(this),this.handleColorDelete=this.handleColorDelete.bind(this)}generateFontStyle(){const{textStyle:{scaledFontSize:e,fontWeight:t,fontStyle:n}}=this.props;return{fontSize:e+"px",fontWeight:t,fontStyle:n}}scrollIntoView(){const{scrollIntoView:e}=this.props;e&&this.nodeRefs.base.scrollIntoView()}handleMouseEnter(){const{textStyle:{id:e},highlight:t,onHover:n}=this.props;t&&n({tsid:e})}handleColorDelete(){const{textStyle:{id:e,name:t},onColorDelete:n,onAttemptToChange:i}=this.props;i?i():a.create({message:`Delete color of "${t}"?`,done:{name:"DELETE",cb(){n(e)}},cancel:{name:"CANCEL"}})}handleDelete(){const{textStyle:{id:e,name:t},onDelete:n,onAttemptToChange:i}=this.props;i?i():a.create({title:`Delete "${t}"?`,message:"Deleted text styles cannot be restored.",done:{name:"DELETE",cb(){n(e)}},cancel:{name:"CANCEL"}})}handleNameBlur({discard:e,value:t}){const{textStyle:{id:n,name:i},onNameChange:r}=this.props;e||i===t||r(n,t)}componentDidMount(){this.scrollIntoView()}componentDidUpdate(){this.scrollIntoView()}renderMainInfo(){const{platform:e,densityScale:t,remPreferences:n,formatter:r,textStyle:o}=this.props,{content:s,fontSize:a}=Object(h.getMainInfo)(o),l="web"===e&&"enabled"===n.status&&n.useForFontSizes;return[i.h("span",{key:s,title:s,class:"ellipsis"},s),", "+(l?Object(p.toRemSize)(a/t,n.remRootFontSize):r.textLength(a))]}renderColor(){const{textStyleColor:e}=this.props;return e?i.h("div",{class:"colorContainer"},i.h("span",{class:"colorPreview",style:{backgroundColor:e.colorStyle}}),i.h("span",{class:"color ellipsis"},e.added?"#"+e.name:e.colorString),i.h(c.default,{class:"deleteColor",onClick:this.handleColorDelete},i.h(l.IconDelete,null))):null}render(){const{readOnly:e,userRole:t,formatter:n,textStyle:a,tabIndex:p,highlight:f,onAttemptToChange:g}=this.props;let m=i.h(d.default,{class:"name",fontStyle:this.generateFontStyle(),onBlur:this.handleNameBlur,onAttemptToChange:g,value:a.name,minLength:"1",maxLength:"100",required:!0,readOnly:e,tabIndex:p,ellipsized:!0});e&&(m=i.h(u.default,{content:Object(s.default)(t,"edit text styles")},m));const b=Object(r.default)("textStyleRow",{readOnly:e,highlight:f});return i.h("div",{class:b,ref:Object(o.default)(this,"base"),onMouseEnter:this.handleMouseEnter},i.h("div",{class:"nameContainer"},m),i.h("div",{class:"info"},i.h("div",{class:"mainInfo"},i.h("div",{class:"style"},this.renderMainInfo()),this.renderColor()),i.h("div",{class:"extraInfo ellipsis"},Object(h.getExtraInfo)(n,a))),i.h(c.default,{class:"deleteTextStyle",onClick:this.handleDelete},i.h(l.IconDelete,null)))}}t.default=f},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1744);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(1731),a=n(1236);n(1745);function l({name:e,info:t,subInfo:n,color:r,onClick:o}){return i.h("button",{class:"textStyleItem",onClick:o},i.h("div",{class:"name ellipsis"},e),i.h("div",{class:"infoContainer"},i.h("div",{class:"mainInfo"},i.h("div",{class:"info ellipsis"},t),r&&i.h("span",{class:"colorPreview",style:{backgroundColor:r}})),n&&i.h("div",{class:"subInfo ellipsis"},n)))}function c(e){const{onAddAll:t,onAdd:n,onHideClick:r,textStyles:o,formatter:c}=e,d=o.length>1;return i.h(s.default,{class:"candidateTextStylesHintBox",onActionButtonClick:t,onHideClick:r,actionButtonText:d?"Add All Text Styles":"Add Text Style",hideButtonText:d?"Ignore these text styles!":"Ignore the text style!",emoji:"👩‍🏫",title:`Found ${d?o.length+" text styles":"a text style"} during the last export, want to add ${d?"them":"it"}?`,description:d?"Click to add them individually or select “Add All Text Styles”.":"Click the text style below or select “Add Text Style” to add it."},i.h("div",{class:"textStylesContainer"},o.map(e=>{const t=e.name,{content:r,fontSize:o}=Object(a.getMainInfo)(e),s=[r,c.textLength(o)].join(", "),d=e.color&&e.color.toHexString(),u=Object(a.getExtraInfo)(c,e);return i.h(l,{key:e.id,id:t,name:t,info:s,subInfo:u,color:d,onClick:()=>n(e)})})))}c.propTypes={textStyles:o.a.array.isRequired,onHideClick:o.a.func.isRequired,onAdd:o.a.func.isRequired,onAddAll:o.a.func},t.default=c},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1748);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(334),a=n(42),l=n(24),c=n(62),d=n(44),u=n(345),h=n(346),p=n(342),f=n(683),g=n(349),m=n(1749),b=n(1750),y=n(1370),S=n(1751),v=n(1717),C=n(1702),O=n(1759),E=n(228);n(1771);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w extends i.Component{constructor(...e){super(...e),k(this,"goToTop",()=>{this.nodeRefs&&(this.nodeRefs.spacingSections.scrollTop=0)}),k(this,"handleCreateSection",()=>{p.BarrelActions.addSpacingSection({spacingSection:{name:"Layout",description:"Add your spacing documentation here, _using markdown_."},syncWithApi:!0})}),k(this,"handleUpdateSection",e=>{p.BarrelActions.updateSpacingSection(D(D({},e),{},{syncWithApi:!0})),e.updatedSpacingSection.hasOwnProperty("description")&&g.UserActions.stopPromotingSpacingSectionDescriptionEditButton()}),k(this,"handleDeleteSection",e=>{p.BarrelActions.removeSpacingSection({ssid:e,syncWithApi:!0})}),k(this,"handleCreateToken",e=>{const t=this.localStyleguideSpacingSections.find(({_id:t})=>t===e),n=t.spacingTokens.find(({_id:e})=>e===t.baseTokenId),i=this.localStyleguideSpacingTokens.map(({token:e})=>e),r=D({_id:b.CANDIDATE_SPACING_TOKEN},Object(m.generateInitialPayloadForSpacingToken)(t.spacingTokens,i,n&&n.value));p.BarrelActions.addSpacingToken({ssid:e,spacingToken:r})}),k(this,"handleUpdateToken",(e,t)=>{const{ssid:n,sptid:i,updatedSpacingToken:r}=e,{token:o,value:s}=r,{spacingSectionsData:l}=this.props,{barrel:c}=this.state,d=l.find(({id:e})=>e===c.id).spacingSections.find(({_id:e})=>e===n),u=this.localStyleguideSpacingTokens.some(e=>e.token===o&&e._id!==i),h=d.spacingTokens.some(e=>e.value===s);let f=d.spacingTokens.find(({_id:e})=>e===i),g=!0;if(f){if(""===o||""===s?g=!1:u?(g=!1,a.create({title:o+" already exists",message:"Please enter another name for the spacing token.",done:{name:"GOT IT"}})):h&&(g=!1,a.create({title:`${s}${t} already exists`,message:"Please enter another value for the spacing token.",done:{name:"GOT IT"}})),i===b.CANDIDATE_SPACING_TOKEN){this.handleDeleteToken({ssid:n,sptid:i});let e=f;return delete e._id,g&&(e=D(D({},e),{},{token:o})),void p.BarrelActions.addSpacingToken({ssid:n,spacingToken:e,syncWithApi:!0})}g&&p.BarrelActions.updateSpacingToken(D(D({},e),{},{syncWithApi:!0}))}}),k(this,"handleDeleteToken",e=>{p.BarrelActions.removeSpacingToken(D(D({},e),{},{syncWithApi:e.sptid!==b.CANDIDATE_SPACING_TOKEN}))}),k(this,"handleRemPreferencesUpdate",e=>{p.BarrelActions.updateRemPreferences(D(D({},e),{},{syncWithApi:!0}))})}static calculateState(){const{loading:e}=p.BarrelStore.getState();if(e)return{loading:!0};const t=p.BarrelHelpers.getBarrel(),n=p.BarrelHelpers.findUser(),{scrolledSection:i,highlightScrolledSection:r,highlightedSpacingTokens:o,rightSidebarWidth:s}=f.StyleguideStore.getState(),{shouldPromoteSpacingSectionDescriptionEditButton:a}=g.UserStore.getState();return{loading:!1,barrel:t,barrelUser:n,scrolledSection:i,highlightScrolledSection:r,highlightedSpacingTokens:o,sidebarWidth:s,shouldPromoteSpacingSectionDescriptionEditButton:a}}static getStores(){return[p.BarrelStore,f.StyleguideStore,u.ProjectsDataStore,h.StyleguidesDataStore,g.UserStore]}get localStyleguideSpacingSections(){const{spacingSectionsData:e}=this.props,{barrel:t}=this.state;return e.find(({id:e})=>e===t.id).spacingSections}get localStyleguideSpacingTokens(){return this.localStyleguideSpacingSections.flatMap(e=>e.spacingTokens)}renderSpacingSections(){const{spacingSectionsData:e}=this.props,{barrel:t,barrelUser:n,scrolledSection:r,highlightScrolledSection:o,highlightedSpacingTokens:s,shouldPromoteSpacingSectionDescriptionEditButton:a}=this.state;return e.map(({id:e,name:l,spacingSections:c,dimensionSuffix:u})=>{const h=e===t.id;return i.h(i.Fragment,{key:"spacingTokens-"+e},i.h(C.default,{scroll:r===e,highlight:r===e&&o,onScroll:f.StyleguideActions.sectionScrolled},l,!h&&i.h("a",{href:Object(d.urlResolve)("styleguide-spacing",{url:{bid:e}}),class:"headerButton",title:"Go to "+l,"data-link-type":"inApp","data-back":t.name},i.h(E.IconGoTo,null))),c.map(e=>i.h(O.default,{key:"spacingSection-"+e._id,section:e,highlightedSpacingTokens:s,barrelUser:n,shouldDisplayDeleteButton:c.length>1,shouldDisplayCreateButton:!c.some(e=>0===e.spacingTokens.length),isLocalStyleguide:h,shouldPromoteDescriptionEditButton:a,dimensionSuffix:u,onSpacingTokenRowHover:f.StyleguideActions.unhighlightSpacingToken,onCreateSection:this.handleCreateSection,onUpdateSection:this.handleUpdateSection,onDeleteSection:this.handleDeleteSection,onCreateToken:this.handleCreateToken,onUpdateToken:this.handleUpdateToken,onDeleteToken:this.handleDeleteToken})))})}renderSidebar(){const{remPreferences:e,parentStyleguideToInheritRemPreferences:t,onExportClick:n}=this.props,{barrel:{type:r},sidebarWidth:o}=this.state;return i.h(y.default,{class:"spacingsSidebar",minWidth:280,initialWidth:o,onClick:c.stopPropagation,onRelease:f.StyleguideActions.changeRightSidebarWidth},"web"===r&&i.h(S.default,{remPreferences:e,parentStyleguideToInheritRemPreferences:t,onUpdate:this.handleRemPreferencesUpdate}),i.h(v.default,{type:"spacing",onExportClick:n}))}render(){const{loading:e}=this.state;return e?null:i.h(i.Fragment,null,i.h("div",{class:"styleguideContainerContent spacingsContent",ref:Object(l.default)(this,"spacingSections")},this.renderSpacingSections()),this.renderSidebar())}}w.propTypes={remPreferences:o.a.object.isRequired,parentStyleguideToInheritRemPreferences:o.a.object.isRequired,spacingSectionsData:o.a.array.isRequired,onExportClick:o.a.func.isRequired},t.default=Object(s.default)(w,{withProps:!0})},function(e,t,n){"use strict";n.r(t),n.d(t,"generateInitialPayloadForSpacingToken",(function(){return s}));const i=/\d+$/,r=/\w+$/,o={SHORT:["xxs","xs","s","m","l","xl","xxl"],LONG:["xxsmall","xsmall","small","medium","large","xlarge","xxlarge"]};function s(e,t,n){const s=e.length,a=e[s-1],l=n||4,c={token:"spacing-xxs",value:4,color:{r:153,g:102,b:204,a:.2}};if(s){const t=e[0].value?0:1;let n,i,r=0,o=0;for(let a=1;a<s;a++){let t=e[a].value-e[a-1].value;r!==a-1||n&&n!==t||(n=t,r++),a>=2&&t===e[a-2].value&&o++}i=1===s?a.value||4:r===s-1?n:o===s-2-t?e[s-2].value:l-a.value%l,c.value=a.value+i}if(t.length){const e=a?a.token:c.token,n=e.match(r);let s,l=!1;if(n){const i=e.slice(0,n.index),r=n[0];let a;if(o.SHORT.includes(r)?a="SHORT":o.LONG.includes(r)&&(a="LONG"),a){let e=o[a].indexOf(r);for(;!l&&e+1<o[a].length;)e++,s=`${i}${o[a][e]}`,l=!t.includes(s)}}if(!l){const n=e.match(i);let r,o;for(n?(r=e.slice(0,n.index),o=parseInt(n[0],10)):(r=e,o=1);!l;)o++,s=r.endsWith("-")?r:r+"-",s+=o,l=!t.includes(s)}c.token=s}return c}},function(e,t,n){"use strict";n.r(t),n.d(t,"CANDIDATE_SPACING_TOKEN",(function(){return i}));const i="CANDIDATE_SPACING_TOKEN"},function(e,t,n){"use strict";n.r(t);var i=n(1752);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(42),a=n(11),l=n(337),c=n(1631),d=n(158),u=n(819),h=n(1753);n(1758);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends i.Component{constructor(...e){super(...e),g(this,"handleEnableStatusChange",()=>{const{remPreferences:e,onUpdate:t}=this.props,{useForFontSizes:n,useForMeasurements:i}=e,r=n||i;t({updatedRemPreferences:{status:r?"disabled":"enabled",useForFontSizes:!r,useForMeasurements:!r}})}),g(this,"handleUseForFontSizeChange",()=>{const{remPreferences:e,onUpdate:t}=this.props,{useForFontSizes:n,useForMeasurements:i}=e,r=!n;t({updatedRemPreferences:{status:r||i?"enabled":"disabled",useForFontSizes:r}})}),g(this,"handleUseForMeasurementsChange",()=>{const{remPreferences:e,onUpdate:t}=this.props,{useForFontSizes:n,useForMeasurements:i}=e,r=!i;t({updatedRemPreferences:{status:n||r?"enabled":"disabled",useForMeasurements:r}})}),g(this,"handleRootFontSizeChange",e=>{const{remPreferences:t,onUpdate:n}=this.props,{status:i,remRootFontSize:r}=t;if(""!==e)if(0===e)s.create({title:"Invalid root font size",message:"Since rem is a relative unit, root font size should be greater than 0.",done:{name:"GOT IT"}});else if(e!==r){n({updatedRemPreferences:{status:i,remRootFontSize:e}})}}),g(this,"handleRevertClick",()=>{const{parentStyleguideToInheritRemPreferences:e,onUpdate:t}=this.props;t({updatedRemPreferences:f(f({},e.remPreferences),{},{status:"linked"})})})}render(){const{permissions:{canManageRemSettings:e}}=this.context,{remPreferences:t,parentStyleguideToInheritRemPreferences:n}=this.props,{remRootFontSize:r,useForFontSizes:o,useForMeasurements:s}=t,p=o||s,f=!e||!p,g=n&&Object(l.default)(n.remPreferences,t),m=Object(a.default)("styleguideRemSettings codePanel",{enabled:p,permitted:e});return i.h("div",{class:m},i.h(c.Gutter,null),i.h("div",{class:"title"},i.h("h3",null,"rem")),i.h("label",{class:"label mainCheckboxLabel"},i.h(d.default,{class:Object(a.default)({enabled:p}),checked:p,disabled:!e,onChange:this.handleEnableStatusChange}),i.h("span",{class:"checkboxText"},"Use “rem” unit")),i.h("label",{class:"label"},i.h(d.default,{class:Object(a.default)({enabled:o}),checked:o,disabled:f,onChange:this.handleUseForFontSizeChange}),i.h("span",{class:"checkboxText"},"Use for font size")),i.h("label",{class:"label"},i.h(d.default,{class:Object(a.default)({enabled:s}),checked:s,disabled:f,onChange:this.handleUseForMeasurementsChange}),i.h("span",{class:"checkboxText"},"Use for measurements")),i.h("label",{class:"label rootFontSizeLabel"},i.h("span",null,"Root font size:"),i.h(h.default,{value:r,onBlur:this.handleRootFontSizeChange,suffix:"px",isDisabled:f})),g&&e&&i.h("div",{class:"hintBoxContainer"},i.h(u.default,{actionContent:"Revert",onActionClick:this.handleRevertClick},`This styleguide has overridden the rem settings from the parent styleguide "${n.name}".`)))}}m.propTypes={remPreferences:o.a.object.isRequired,parentStyleguideToInheritRemPreferences:o.a.object,onUpdate:o.a.func.isRequired},t.default=m},function(e,t,n){"use strict";n.r(t);var i=n(1754);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(1755);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=/^-?\d*[.]?\d*$/,c=/^0+/;class d extends i.Component{constructor(...e){super(...e),a(this,"normalizeValue",(e,t)=>{let n=e;return""!==n&&(n=l.test(e)?e.replace(c,""):t,(!n||n<0)&&(n=0)),n}),a(this,"handleKeyDown",(e,t)=>{if(e.keyCode===Zeplin.KEY_CODE.ArrowUp){e.preventDefault();return(""===t?0:parseFloat(t))+1}if(e.keyCode===Zeplin.KEY_CODE.ArrowDown){e.preventDefault();const n=t-1;return n<0?0:n}return t}),a(this,"handleBlur",e=>{const{onBlur:t}=this.props;t(""===e?e:parseFloat(e))})}render(){const{value:e,placeholder:t,suffix:n,isDisabled:r}=this.props;return i.h(s.default,{value:e,suffix:n,placeholder:t,isDisabled:r,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,normalizeValue:this.normalizeValue})}}d.propTypes={value:o.a.number,onBlur:o.a.func.isRequired,placeholder:o.a.string,suffix:o.a.string,isDisabled:o.a.bool},t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1756);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(24),a=n(56);n(1757);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(...e){super(...e),l(this,"state",{value:this.props.value,isFocused:!1}),l(this,"highlight",()=>{Object(a.highlightInput)(this.nodeRefs.input)}),l(this,"setValueToStateFromProps",()=>{this.setState({value:this.props.value})}),l(this,"handleKeyDown",e=>{const{onKeyDown:t,onEscape:n}=this.props;if(e.keyCode===Zeplin.KEY_CODE.ESC){if(e.preventDefault(),n)return void n();this.setValueToStateFromProps(),e.target.blur()}else e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.preventDefault(),e.target.blur());t&&this.setState({value:t(e,this.state.value)})}),l(this,"handleBlur",()=>{const{onBlur:e}=this.props;e(this.state.value),this.setState({isFocused:!1})}),l(this,"handleFocus",()=>{this.setState({isFocused:!0})}),l(this,"handleInput",e=>{const{normalizeValue:t}=this.props,{value:n}=this.state,{value:i}=e.target;this.setState({value:t?t(i,n):i})})}componentDidUpdate(){const{value:e,isFocused:t}=this.state;t||e===this.props.value||this.setValueToStateFromProps()}render(){const{placeholder:e,suffix:t,isDisabled:n}=this.props,{value:r}=this.state;return i.h("label",{class:"styleguideFormInputContainer ellipsis"},i.h("div",{class:"styleguideFormInputContent"},i.h("span",{class:"mirror ellipsis"},r),i.h("input",{ref:Object(s.default)(this,"input"),class:"styleguideFormInput ellipsis",placeholder:e,type:"text",minlength:"1",maxlength:"100",value:r,disabled:n,onKeyDown:this.handleKeyDown,onInput:this.handleInput,onBlur:this.handleBlur,onFocus:this.handleFocus})),t)}}c.propTypes={value:o.a.oneOfType([o.a.string,o.a.number]),onBlur:o.a.func.isRequired,onEscape:o.a.oneOfType([o.a.func,o.a.bool]),normalizeValue:o.a.func,onKeyDown:o.a.func,placeholder:o.a.string,suffix:o.a.string,isDisabled:o.a.bool},t.default=c},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1760);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(24),a=n(11),l=n(536),c=n(1098),d=n(1761),u=n(9),h=n(1057),p=n(228);n(1770);class f extends i.Component{constructor(e){super(e),this.handleUpdateName=this.handleUpdateName.bind(this),this.handleEditDescription=this.handleEditDescription.bind(this),this.handleUpdateDescription=this.handleUpdateDescription.bind(this),this.handleCancelDescription=this.handleCancelDescription.bind(this),this.handleUpdateBaseToken=this.handleUpdateBaseToken.bind(this),this.handleDeleteSection=this.handleDeleteSection.bind(this),this.handleCreateToken=this.handleCreateToken.bind(this),this.handleUpdateToken=this.handleUpdateToken.bind(this),this.handleDeleteToken=this.handleDeleteToken.bind(this),this.handleContextMenuButtonClick=this.handleContextMenuButtonClick.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.state={isEditingDescription:!1,isContextMenuOpen:!1,shouldFocusOnTokenName:!1}}get isEditable(){const{isLocalStyleguide:e}=this.props,{permissions:{canManageSpacings:t}}=this.context;return e&&t}handleUpdateName({discard:e,value:t}){const{section:n,onUpdateSection:i}=this.props,{_id:r,name:o}=n;e||t===o||i({ssid:r,updatedSpacingSection:{name:t}})}handleEditDescription(){this.setState({isEditingDescription:!0})}handleUpdateDescription(e){const{section:t,onUpdateSection:n}=this.props,{_id:i,description:r}=t;this.setState({isEditingDescription:!1}),e!==r&&n({ssid:i,updatedSpacingSection:{description:e}})}handleCancelDescription(){this.setState({isEditingDescription:!1})}handleUpdateBaseToken(e){const{section:t,onUpdateSection:n}=this.props;n({ssid:t._id,updatedSpacingSection:{baseTokenId:e}})}handleDeleteSection(){const{onDeleteSection:e,section:t}=this.props;e(t._id)}handleCreateToken(){const{section:e,onCreateToken:t}=this.props;t(e._id)}handleUpdateToken(e,t,n=null){const{section:i,onUpdateToken:r}=this.props;r({ssid:i._id,sptid:e,updatedSpacingToken:t},n)}handleDeleteToken(e){const{section:{_id:t},onDeleteToken:n}=this.props;n({ssid:t,sptid:e})}handleContextMenuButtonClick(){this.setState({isContextMenuOpen:!0})}handleContextMenuClose(){this.setState({isContextMenuOpen:!1})}componentDidUpdate(e){const{shouldFocusOnTokenName:t}=this.state;this.props.section.spacingTokens.length>e.section.spacingTokens.length?this.setState({shouldFocusOnTokenName:this.isEditable}):t&&this.setState({shouldFocusOnTokenName:!1})}renderContextMenu(){const{contextMenuButtonContainer:e}=this.nodeRefs,{shouldDisplayDeleteButton:t,shouldDisplayCreateButton:n,onCreateSection:r}=this.props,o=e.getBoundingClientRect(),s=[];return n&&(s.push(i.h(h.default.Item,{key:"create",onClick:r},"Create new section")),t&&s.push(i.h(h.default.ItemDivider,{key:"warningDivider"}))),t&&s.push(i.h(h.default.Item,{key:"remove",onClick:this.handleDeleteSection,warning:!0},"Delete section")),i.h(h.default.withAutoPosition,{autoPosition:{sidebar:".spacingsSidebar",menuContainer:e,clickOrigin:{x:o.right-o.width,y:o.top}},onClose:this.handleContextMenuClose},s)}render(){const{section:e,highlightedSpacingTokens:t,barrelUser:n,shouldDisplayDeleteButton:r,shouldDisplayCreateButton:o,isLocalStyleguide:h,shouldPromoteDescriptionEditButton:f,dimensionSuffix:g,onSpacingTokenRowHover:m}=this.props,{name:b,description:y,baseTokenId:S,spacingTokens:v}=e,{isEditingDescription:C,isContextMenuOpen:O,shouldFocusOnTokenName:E}=this.state;return i.h("div",{class:"spacingSection"},i.h("div",{class:"nameContainer"},i.h(l.default,{value:b,required:!0,readOnly:!this.isEditable,onBlur:this.handleUpdateName}),this.isEditable&&(o||r)&&i.h("div",{ref:Object(s.default)(this,"contextMenuButtonContainer"),class:"contextMenuButtonContainer"},i.h(u.default,{class:Object(a.default)("contextMenuButton",{active:O}),onClick:this.handleContextMenuButtonClick},i.h(p.IconMenu,null),O&&this.renderContextMenu()))),i.h(c.default,{value:y,placeholder:"No description yet",editing:C,readOnly:!this.isEditable,shouldPromoteEditButton:f,onEdit:this.handleEditDescription,onUpdate:this.handleUpdateDescription,onCancel:this.handleCancelDescription}),i.h(d.default,{tokens:v,highlightedSpacingTokens:t,baseTokenId:S,dimensionSuffix:g,barrelUser:n,isLocalStyleguide:h,shouldFocusOnName:E,onSpacingTokenRowHover:m,onUpdateBaseToken:this.handleUpdateBaseToken,onCreateToken:this.handleCreateToken,onUpdateToken:this.handleUpdateToken,onDeleteToken:this.handleDeleteToken}))}}f.propTypes={section:o.a.object.isRequired,highlightedSpacingTokens:o.a.array.isRequired,barrelUser:o.a.object.isRequired,shouldDisplayDeleteButton:o.a.bool.isRequired,shouldDisplayCreateButton:o.a.bool.isRequired,isLocalStyleguide:o.a.bool.isRequired,shouldPromoteDescriptionEditButton:o.a.bool.isRequired,dimensionSuffix:o.a.string.isRequired,onSpacingTokenRowHover:o.a.func.isRequired,onCreateSection:o.a.func.isRequired,onUpdateSection:o.a.func.isRequired,onDeleteSection:o.a.func.isRequired,onCreateToken:o.a.func.isRequired,onUpdateToken:o.a.func.isRequired,onDeleteToken:o.a.func.isRequired},t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(1762);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(11),a=n(9),l=n(630),c=n(1763),d=n(1033);n(1769);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const h=[{token:"spacing-xs",value:4},{token:"spacing-s",value:8},{token:"spacing-m",value:12}];class p extends i.Component{get isThereAnyToken(){const{tokens:e}=this.props;return Boolean(e&&e.length)}get tokensToRender(){return this.isThereAnyToken?this.props.tokens:h}get baseToken(){const{tokens:e,baseTokenId:t}=this.props;return t&&e.find(e=>e._id===t)||h[1]}get createTokenButtonText(){return this.isThereAnyToken?"+ Add token":"+ Add first token"}renderTokens(){const{highlightedSpacingTokens:e,dimensionSuffix:t,isLocalStyleguide:n,shouldFocusOnName:r,onSpacingTokenRowHover:o,onUpdateBaseToken:s,onUpdateToken:a,onDeleteToken:l}=this.props;return this.tokensToRender.map((d,u)=>{const{_id:h,token:p,value:f}=d;return i.h(c.default,{key:`spacingTokenTableRow-${p}-${f}-${h}`,isEmpty:!this.isThereAnyToken,shouldHighlight:e.includes(h),shouldFocusOnName:r&&u===this.tokensToRender.length-1,tokenData:d,baseToken:this.baseToken,dimensionSuffix:t,isLocalStyleguide:n,onHover:o,onUpdateBaseToken:s,onUpdateToken:a,onDeleteToken:l})})}renderCreateButton(){const{isLocalStyleguide:e,onCreateToken:t}=this.props,{permissions:{canManageSpacings:n}}=this.context,r={};return this.isThereAnyToken?r.ninja=!0:(r.primary=!0,r.disabled=!n),e?i.h(a.default,u({class:"createButton",onClick:t},r),this.createTokenButtonText):null}renderCreateButtonWithOrWithoutTooltip(){const{permissions:{canManageSpacings:e}}=this.context,{isLocalStyleguide:t}=this.props;if(e)return this.renderCreateButton();const{barrelUser:n}=this.props;return t&&!this.isThereAnyToken?i.h(l.default,{targetClass:"createButtonTooltip",content:Object(d.default)(n.role,"add spacing tokens")},this.renderCreateButton()):null}render(){return i.h("div",{class:Object(s.default)("spacingTokenTable",{empty:!this.isThereAnyToken})},i.h("div",{class:"header"},i.h("div",{class:"headerCell"},"Token"),i.h("div",{class:"headerCell"},"Value"),i.h("div",{class:"headerCell"},"Ratio"),i.h("div",{class:"headerCell"},"Example")),this.renderTokens(),this.renderCreateButtonWithOrWithoutTooltip())}}p.propTypes={tokens:o.a.array.isRequired,highlightedSpacingTokens:o.a.array.isRequired,baseTokenId:o.a.string,dimensionSuffix:o.a.string.isRequired,barrelUser:o.a.object.isRequired,isLocalStyleguide:o.a.bool.isRequired,shouldFocusOnName:o.a.bool.isRequired,onSpacingTokenRowHover:o.a.func.isRequired,onUpdateBaseToken:o.a.func.isRequired,onCreateToken:o.a.func.isRequired,onUpdateToken:o.a.func.isRequired,onDeleteToken:o.a.func.isRequired},t.default=p},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(24),a=n(106),l=n(20),c=n(11),d=n(1755),u=n(1753),h=n(1764),p=n(582),f=n(9),g=n(1057),m=n(228),b=n(1750);n(1768);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends i.Component{constructor(...e){super(...e),y(this,"state",{isColorPickerPopoverOpen:!1,isContextMenuOpen:!1,colorPickerPopoverLeft:0}),y(this,"calculateRatio",e=>Object(a.round)(e/this.props.baseToken.value,3)),y(this,"handleMouseEnter",()=>{const{tokenData:{_id:e},shouldHighlight:t,onHover:n}=this.props;t&&n(e)}),y(this,"handleTokenNameInputBlur",e=>{const{onUpdateToken:t,tokenData:n}=this.props,{_id:i,token:r}=n;e===r&&i!==b.CANDIDATE_SPACING_TOKEN||t(i,{token:e})}),y(this,"handleTokenNameInputEscape",()=>{const{onDeleteToken:e,tokenData:t}=this.props,{_id:n}=t;n===b.CANDIDATE_SPACING_TOKEN&&e(n)}),y(this,"handleTokenValueInputBlur",e=>{const{onUpdateToken:t,tokenData:n,dimensionSuffix:i}=this.props,{_id:r,value:o}=n;e!==o&&t(r,{value:e},i)}),y(this,"handleTokenColorChange",e=>{const{onUpdateToken:t,tokenData:n}=this.props,{_id:i,color:r}=n;new l.default(r).equals(e)||t(i,{color:e})}),y(this,"handleColorPickerPopoverOpen",()=>{const{exampleContainer:e}=this.nodeRefs,t=e.getBoundingClientRect();this.setState({isColorPickerPopoverOpen:!0,colorPickerPopoverLeft:-t.width/2})}),y(this,"handleColorPickerPopoverClose",()=>{this.setState({isColorPickerPopoverOpen:!1})}),y(this,"handleContextMenuButtonClick",()=>{this.setState({isContextMenuOpen:!0})}),y(this,"handleContextMenuClose",()=>{this.setState({isContextMenuOpen:!1})}),y(this,"handleUpdateBaseToken",()=>{const{tokenData:e,onUpdateBaseToken:t}=this.props;t(e._id)}),y(this,"handleDeleteToken",()=>{const{onDeleteToken:e,tokenData:t}=this.props;e(t._id)})}get isEditable(){const{isEmpty:e,isLocalStyleguide:t}=this.props,{permissions:{canManageSpacings:n}}=this.context;return t&&n&&!e}componentDidUpdate(){this.props.shouldFocusOnName&&this.nodeRefs.spacingTokenTableRowNameInput.highlight()}renderExampleWithOrWithoutPopover(){if(!this.isEditable)return this.renderExample();const{isColorPickerPopoverOpen:e,colorPickerPopoverLeft:t}=this.state;return i.h(p.default,{open:e,onOpen:this.handleColorPickerPopoverOpen,onClose:this.handleColorPickerPopoverClose,content:this.renderColorPickerPopoverContent(),contentClass:"spacingTokenTableRowColorPickerPopoverContent",left:t,centerY:!0,faceTop:!0,stickToEdge:!0},this.renderExample())}renderColorPickerPopoverContent(){const{tokenData:e}=this.props;return i.h(h.default,{selected:e.color,onChange:this.handleTokenColorChange})}renderExample(){const{tokenData:e}=this.props,{value:t,color:n}=e,r={width:t+"px",height:t+"px",backgroundColor:n&&new l.default(n).toRGBAString()};return i.h("div",{class:"exampleContainer",ref:Object(s.default)(this,"exampleContainer")},i.h("div",{class:"example",style:r},t>180&&i.h("a",{class:"oversizeExampleWarningText",target:"_blank",href:"https://zpl.io/notactualsize"},"*Not actual size")))}renderContextMenu(e){const{baseToken:t}=this.props,{contextMenuButton:n}=this.nodeRefs,r=n.getBoundingClientRect();return i.h(g.default.withAutoPosition,{autoPosition:{sidebar:".spacingsSidebar",menuContainer:n,clickOrigin:{x:r.left+24,y:r.top-24}},onClose:this.handleContextMenuClose},e!==t._id&&[i.h(g.default.Item,{key:"chooseAsBaseToken",onClick:this.handleUpdateBaseToken},'Choose as "base"'),i.h(g.default.ItemDivider,{key:"warningDivider"})],i.h(g.default.Item,{key:"remove",onClick:this.handleDeleteToken,warning:!0},"Delete token"))}render(){const{isEmpty:e,shouldHighlight:t,tokenData:n,dimensionSuffix:r}=this.props,{isColorPickerPopoverOpen:o,isContextMenuOpen:a}=this.state,{_id:l,token:h,value:p}=n,g=this.calculateRatio(p),y=Object(c.default)("spacingTokenTableRow",{empty:e,highlight:t,readOnly:!this.isEditable,colorPickerPopoverOpen:o,contextMenuOpen:a});return i.h("div",{class:y,onMouseEnter:this.handleMouseEnter},i.h("div",{class:"cell inputCell"},i.h(d.default,{ref:Object(s.default)(this,"spacingTokenTableRowNameInput"),value:h,onBlur:this.handleTokenNameInputBlur,onEscape:l===b.CANDIDATE_SPACING_TOKEN&&this.handleTokenNameInputEscape,isDisabled:!this.isEditable})),i.h("div",{class:"cell inputCell"},i.h(u.default,{value:p,onBlur:this.handleTokenValueInputBlur,suffix:r,isDisabled:!this.isEditable})),i.h("div",{class:"cell ratioCell ellipsis"},g&&g!==1/0?g:"-"),i.h("div",{class:"cell exampleCell"},p?this.renderExampleWithOrWithoutPopover():"👻"),this.isEditable&&i.h(f.default,{baseRef:Object(s.default)(this,"contextMenuButton"),class:"contextMenuButton",onClick:this.handleContextMenuButtonClick},i.h(m.IconMenu,null),a&&this.renderContextMenu(l)))}}S.propTypes={isEmpty:o.a.bool.isRequired,shouldHighlight:o.a.bool.isRequired,shouldFocusOnName:o.a.bool.isRequired,isLocalStyleguide:o.a.bool.isRequired,tokenData:o.a.object.isRequired,baseToken:o.a.object.isRequired,dimensionSuffix:o.a.string.isRequired,onHover:o.a.func.isRequired,onUpdateBaseToken:o.a.func.isRequired,onUpdateToken:o.a.func.isRequired,onDeleteToken:o.a.func.isRequired},t.default=S},function(e,t,n){"use strict";n.r(t);var i=n(1765);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(20),a=n(11),l=n(1766);n(1767);class c extends i.Component{constructor(e){super(e),this.handleKeyDown=this.handleKeyDown.bind(this),this.state={focusedColorIndex:null}}handleKeyDown(e){const{onChange:t}=this.props,{focusedColorIndex:n}=this.state;let i=n||0;switch(e.keyCode){case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),n>=6&&(i=n-6);break;case Zeplin.KEY_CODE.ArrowRight:e.preventDefault(),n%6<5&&n<l.colorOptions.length-1&&(i=n+1);break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),n<l.colorOptions.length-6&&(i=n+6);break;case Zeplin.KEY_CODE.ArrowLeft:e.preventDefault(),n%6>0&&(i=n-1);break;case Zeplin.KEY_CODE.ENTER:e.preventDefault(),t(l.colorOptions[i])}this.setState({focusedColorIndex:i})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderColorCells(){const{selected:e,onChange:t}=this.props,{focusedColorIndex:n}=this.state;return l.colorOptions.map((r,o)=>{const l=Object(a.default)("colorPickerCell",{selected:new s.default(e).equals(r),focused:n===o}),c=new s.default(r).toRGBAString();return i.h("div",{key:c,class:l,style:{backgroundColor:c},onClick:()=>t(r)})})}render(){return i.h("div",{class:"spacingTokenTableRowColorPicker"},i.h("p",{class:"description"},"Select a color to use while displaying the spacing tokens on the layer detail. Overlays will be transparent."),i.h("div",{class:"colorPickerContainer"},this.renderColorCells()))}}c.propTypes={selected:o.a.string,onChange:o.a.func.isRequired},t.default=c},function(e,t,n){"use strict";n.r(t),n.d(t,"colorOptions",(function(){return i}));const i=[{r:255,g:128,b:128,a:.2},{r:255,g:179,b:102,a:.2},{r:230,g:230,b:46,a:.2},{r:149,g:230,b:69,a:.2},{r:102,g:204,b:102,a:.2},{r:36,g:179,b:107,a:.2},{r:71,g:179,b:179,a:.2},{r:82,g:143,b:204,a:.2},{r:89,g:89,b:179,a:.2},{r:153,g:102,b:204,a:.2},{r:204,g:143,b:204,a:.2},{r:255,g:179,b:217,a:.2}]},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1773);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(96),o=n(62),s=n(24),a=n(44),l=n(697),c=n(11),d=n(19),u=n(143),h=n(1250),p=n(654),f=n(1734),g=n(137),m=n(122),b=n(683),y=n(342),S=n(346),v=n(345),C=n(349),O=n(334),E=n(1774),T=n(1787),D=n(1696),k=n(1165),w=n(1314),_=n(1702),j=n(1726),P=n(228);n(1798);function R(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const A=[{label:"Sort by Sections",dropdownLabel:"Sections",value:"default"},{label:"Sort by Last updated",dropdownLabel:"Last updated",value:"lastUpdated"},{label:"Sort from A-Z",dropdownLabel:"A-Z",value:"name"}];const x=o.sortBy.date.bind(null,["latestVersion","created"]);function N(e){const t={};return function e(t,n){t.forEach(t=>{t.components.forEach(e=>{const t=Object(o.getTimeSlot)(new Date(e.latestVersion.created));t in n||(n[t]=[]),n[t].push(e)}),e(t.componentSections,n)})}(e,t),Object.keys(t).map(e=>({_id:e,name:Object(d.uppercaseFirst)(e),components:t[e].sort(x),componentSections:[]}))}function L(e,t){switch(t){case"default":default:return e;case"lastUpdated":return N(e);case"name":return function(e){return[{_id:"sortedByName",name:"sortedByName",components:Object(o.collectComponents)(e).sort(o.sortBy.name),componentSections:[]}]}(e)}}class U extends i.Component{constructor(...e){super(...e),I(this,"state",{componentContextMenu:{},styleguideToShowComponentEditHintBox:null}),I(this,"visibleComponents",new Set),I(this,"openComponentContextMenu",(e,t,n)=>{const{canManageStyleguide:i,barrelId:r}=this.state;i&&(n.preventDefault(),r!==e?this.setState({styleguideToShowComponentEditHintBox:e}):this.setState({componentContextMenu:{coid:t,clickOrigin:{x:n.clientX,y:n.clientY}}}))}),I(this,"closeComponentContextMenu",()=>{this.setState({componentContextMenu:{}})}),I(this,"unsetStyleguideForComponentEditHintBox",()=>{this.setState({styleguideToShowComponentEditHintBox:null})}),I(this,"deselectComponent",()=>{const{selection:e}=this.state;e&&this.handleComponentSelect(null,null)}),I(this,"goToTop",()=>{if(!this.nodeRefs)return;const{components:e}=this.nodeRefs;e.scrollTop=0}),I(this,"goToStyleguideToEdit",()=>{const{styleguideToShowComponentEditHintBox:e}=this.state;location.assign(Object(a.urlResolve)("styleguide-components",{url:{bid:e}}))}),I(this,"handleMoveSectionClick",({section:e,targetNode:t})=>{b.StyleguideActions.openMoveResourcesPopup({resourceType:m.RESOURCE_TYPE.COMPONENTS,resources:[e],targetNode:t})}),I(this,"handleComponentDrop",({mirrorPosition:e,sourceStyleguideId:t,sourceIdPath:n,sourceIndex:i,targetStyleguideId:r,targetIdPath:s,targetIndex:a})=>{const{barrelId:l}=this.state,c=s[s.length-1],d=this.getComponentRef(c).getBoundingClientRect(),u=e.left>d.left+d.width/2;let h=a;if(n.slice(0,-1).join()===s.slice(0,-1).join()){if(i>a&&u?h=a+1:i<a&&!u&&(h=a-1),i===h)return}else u&&(h=a+1);if(t===r&&Object(o.arrayEqual)(n,s,(e,t)=>e===t)&&i===h)return;if(l!==t||l!==r)return void this.setAndFocusToStyleguideForComponentEditHintBox(t);const p=[{coid:n[n.length-1],csid:n.slice(0,-1),tcsid:s.slice(0,-1),sourceIndex:i,to:h}];y.BarrelActions.updateComponentsOrder({components:p,syncWithApi:!0})}),I(this,"handleSectionOrGroupDrop",({sourceIndex:e,sourceIdPath:t,targetSectionIdPath:n,sourceStyleguideId:i,targetStyleguideId:r,to:o})=>{const{barrelId:s}=this.state;if(s!==i||s!==r)return void this.setAndFocusToStyleguideForComponentEditHintBox(i);const a={csid:t,sourceIndex:e,to:o};n&&(a.tcsid=n),y.BarrelActions.updateComponentSectionsOrder({componentSections:[a],syncWithApi:!0})}),I(this,"handleComponentToSectionOrGroupDrop",({sourceIdPath:e,sourceIndex:t,targetIdPath:n,to:i,sourceStyleguideId:r,targetStyleguideId:o})=>{const{barrelId:s}=this.state;if(s!==r||s!==o)return void this.setAndFocusToStyleguideForComponentEditHintBox(r);const a=[{coid:e[e.length-1],csid:e.slice(0,-1),tcsid:n,sourceIndex:t,to:i}];y.BarrelActions.updateComponentsOrder({components:a,syncWithApi:!0})}),I(this,"handleComponentSelect",(e,t)=>{const{barrel:{id:n},selection:i}=this.state,r=e?t:null;if(!i&&!r||i&&r&&i._id===r._id)return;let o;b.StyleguideActions.changeSelection({selectionComponentId:e,selection:r}),e&&(o={coid:e}),window.history.replaceState({},"Components - Styleguide - Zeplin",Object(a.urlResolve)(this.slugPrefix()+"-components",{url:{bid:n},query:o}))}),I(this,"handleComponentsVisible",e=>{const{barrel:t,barrelUser:n,organizationTransitionFinished:i}=this.state;if("pawn"===n.role&&i)return e.forEach(e=>{delete e.latestVersion.snapshot.layers,delete e.latestVersion.snapshot.assets}),void b.StyleguideActions.componentSnapshotsReady();Promise.all(e.filter(e=>!e.latestVersion.snapshot.layers).map(e=>Object(g.fetchSnapshot)(e.latestVersion.fullSnapshotUrl).then(n=>(Object(p.preprocessLayers)(n.layers),e.latestVersion.snapshot=n,n.assets.map(i=>Object(p.addAssetStats)(t.id,e._id,n,i)))))).then(e=>{b.StyleguideActions.componentSnapshotsReady()})}),I(this,"handleFilter",e=>{b.StyleguideActions.changeFilterValue(e)}),I(this,"handleSort",e=>{const{sortType:t}=this.state;t!==e&&b.StyleguideActions.changeSortType(e)}),I(this,"observeComponent",e=>{this.getIntersectionObserver().observe(e)}),I(this,"unobserveComponent",e=>{this.getIntersectionObserver().unobserve(e)}),I(this,"getComponentRef",e=>this.nodeRefs&&this.nodeRefs["styleguideComponent-"+e]),I(this,"handleComponentRef",(e,t)=>{t&&Object(s.default)(this,"styleguideComponent-"+e)(t)}),I(this,"handleBaseRef",e=>{Object(s.default)(this,"components")(e),this.props.baseRef(e)})}static getStores(){return[y.BarrelStore,b.StyleguideStore,S.StyleguidesDataStore,v.ProjectsDataStore,C.UserStore]}static calculateState(){const e=y.BarrelStore.getState(),{loading:t}=e,n=R(e,["loading"]);if(t)return{loading:!0};const{barrelId:i,barrelType:r,organizationTransitionFinished:s}=n,{moveResourcesPopup:a,scrolledSection:c,highlightScrolledSection:d,selectionComponentId:u,selection:p,sortType:f,filterValue:g,rightSidebarWidth:m}=b.StyleguideStore.getState(),C=y.BarrelHelpers.getBarrel(),O=y.BarrelHelpers.findUser(),E=new h.default(C),T=y.BarrelHelpers.getStyleguidesData({barrelStore:y.BarrelStore,styleguidesDataStore:S.StyleguidesDataStore,projectsDataStore:v.ProjectsDataStore}),{barrelId:D,component:k}=Object(l.findComponentById)(T,u);let w=p;return!w&&k&&(w=k),{loading:!1,barrel:C,barrelId:i,barrelUser:O,barrelType:r,organizationTransitionFinished:s,moveResourcesPopup:a,scrolledSection:c,highlightScrolledSection:d,selectionComponentId:u,sidebarWidth:m,sortType:f,filterValue:g,canManageStyleguide:o.permissions.canUpdateStyleguide(O),selection:w,selectionStyleguideId:D,selectionComponent:k,formatter:E,styleguidesData:T}}setAndFocusToStyleguideForComponentEditHintBox(e){this.setState({styleguideToShowComponentEditHintBox:e});const t=this.nodeRefs["styleguideHeader-"+e];setTimeout(()=>t.nodeRefs.base.scrollIntoView({behavior:"smooth"}))}get componentCount(){const{styleguidesData:e}=this.state;return e.reduce((e,{componentSections:t})=>e+Object(o.collectComponents)(t).length,0)}processComponents(e){const{sortType:t,filterValue:n}=this.state;return n?function(e,t){const n=Object(o.collectComponents)(e),i=new WeakMap(n.map(e=>[e,Object(u.calculateMatchingScore)(t,e.name)])),r=n.filter(e=>i.get(e));return r.length?[{_id:"filtered",name:"filtered",components:r.sort((e,t)=>{const n=i.get(t)-i.get(e);return n||o.sortBy.name(e,t)}),componentSections:[]}]:[]}(e,n):L(e,t)}getIntersectionObserver(){if(this.observer)return this.observer;const{styleguidesData:e}=this.state;return this.observer=new IntersectionObserver(t=>{t.forEach(t=>{const n=t.target.dataset.id,{component:i}=Object(l.findComponentById)(e,n);i&&(t.isIntersecting?this.visibleComponents.add(i):this.visibleComponents.delete(i))}),window.clearTimeout(this.renderTimeout),this.renderTimeout=window.setTimeout(e=>{this.handleComponentsVisible([...this.visibleComponents])},80)},{root:this.nodeRefs.components}),this.observer}slugPrefix(){const{barrelType:e}=this.state;return e===r.default.PROJECT?"project-styleguide":"styleguide"}componentDidMount(){const{selectionComponent:e}=this.state;e&&setTimeout(()=>{document.addEventListener("click",this.deselectComponent)},4)}componentDidUpdate(){const{selectionComponent:e}=this.state;e?document.addEventListener("click",this.deselectComponent):document.removeEventListener("click",this.deselectComponent)}componentWillUnmount(){this.getIntersectionObserver().disconnect(),document.removeEventListener("click",this.deselectComponent)}renderComponents(){const{barrel:e,barrelId:t,barrelUser:n,moveResourcesPopup:r,scrolledSection:l,highlightScrolledSection:c,selection:d,selectionComponent:u,sortType:h,filterValue:p,styleguidesData:g,styleguideToShowComponentEditHintBox:m,componentContextMenu:y}=this.state,{onLinkStyleguide:S}=this.props;if(!this.componentCount)return i.h(D.default,{type:D.default.TYPE.COMPONENTS,onButtonClick:S});const v=g.map(({id:e,name:t,componentSections:n})=>{const i=this.processComponents(n);return{id:e,name:t,componentCount:Object(o.collectComponents)(i).length,componentSections:i}}),C=v.reduce((e,{componentCount:t})=>e+t,0),O="lastUpdated"===h,T="default"!==h,R="lastUpdated"!==h||!!p,I=u&&u._id;return i.h("div",{class:"componentsDragDropItems"},i.h(k.default,{class:"componentsFilterSortView",inputPlaceholder:"Search for a component",placeholderWidth:160,sortOptions:A,sortOptionsClass:"componentsSortOptions",selectedSortTypes:[h],filterValue:p,onSort:this.handleSort,onFilter:this.handleFilter}),C?v.map(({id:o,name:u,componentCount:h,componentSections:g})=>{if(!h)return null;const S=o===t,v=S?null:i.h("a",{href:Object(a.urlResolve)("styleguide-components",{url:{bid:o}}),class:"headerButton",title:"Go to "+u,"data-link-type":"inApp","data-back":e.name},i.h(P.IconGoTo,null));return[i.h(_.default,{ref:Object(s.default)(this,"styleguideHeader-"+o),key:"styleguideHeader-"+o,scroll:l===o,highlight:l===o&&c,onScroll:b.StyleguideActions.sectionScrolled},u,v),m===o&&!S&&i.h(j.default,{key:"hintbox",styleguideSectionToEdit:"components",styleguideName:u,onGoToStyleguide:this.goToStyleguideToEdit,onHideClick:this.unsetStyleguideForComponentEditHintBox}),i.h("div",{key:"components-"+o,class:"componentSections"},g.map((s,a)=>{const u=r&&r.data&&r.data._id===s._id;return i.h(E.default,{key:s.key||s._id,styleguideId:o,index:a,data:s,handleComponentRef:this.handleComponentRef,getComponentRef:this.getComponentRef,barrelThumbnail:e.thumbnail,scrolledSection:l,highlightScrolledSection:c,actionsDisabled:O,selectionComponentId:I,selection:d,visibleComponents:this.visibleComponents,defaultSection:!a&&R,readOnly:T,filterValue:p,onSelect:this.handleComponentSelect,componentContextMenu:y,optionsActive:u,showMoveSectionAction:o===t&&Object(f.default)(e,n),onMoveSectionClick:this.handleMoveSectionClick,onComponentDidMount:this.observeComponent,onComponentDidUnmount:this.unobserveComponent,onComponentContextMenu:this.openComponentContextMenu,onCloseComponentContextMenu:this.closeComponentContextMenu,onComponentDrop:this.handleComponentDrop,onSectionOrGroupDrop:this.handleSectionOrGroupDrop,onComponentToSectionOrGroupDrop:this.handleComponentToSectionOrGroupDrop})}))]}):i.h(w.default,{text:"No components with this name 🤷‍♀️"}))}renderSidebar(){const{loading:e}=this.state;if(e)return null;const{sidebarWidth:t,formatter:n,selectionStyleguideId:r,selectionComponent:o,selection:s,styleguidesData:a}=this.state,{onExportClick:l}=this.props;return i.h(T.default,{componentCount:this.componentCount,selectionStyleguideId:r,selectionComponent:o,selection:s,formatter:n,width:t,styleguidesData:a,onCloseClick:this.deselectComponent,onExportClick:l})}render(){const{loading:e,componentContextMenu:t}=this.state;if(e)return null;const n=Object(c.default)("styleguideContainerContent","componentsContent",{componentContextMenuOpen:!!t.coid});return i.h(i.Fragment,null,i.h("div",{class:n,ref:this.handleBaseRef},this.renderComponents()),this.renderSidebar())}}t.default=Object(O.default)(U)},function(e,t,n){"use strict";n.r(t);var i=n(1775);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1075),o=n(1078),s=n(1776),a=n(1778),l=n(1112),c=n(342),d=n(346),u=n(345),h=n(683),p=n(24),f=n(19),g=n(97),m=n(334);n(1786);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends i.Component{constructor(...e){super(...e),b(this,"state",{addingDescription:!1,collapsed:!1}),b(this,"highlightDescription",()=>{this.componentRefs.section.highlightDescription()}),b(this,"highlightName",()=>{this.componentRefs.section.highlightName()}),b(this,"handleAddDescriptionClick",()=>{this.setState({addingDescription:!0})}),b(this,"handleGroupNameChange",(e,t)=>{c.BarrelActions.updateComponentSection({csids:e,componentSectionData:{name:t},syncWithApi:!0})}),b(this,"handleNameBlur",({discard:e,value:t})=>{const{data:{_id:n,name:i}}=this.props;e||i===t||(n!==g.TEMPORARY_COMPONENT_SECTION_ID?c.BarrelActions.updateComponentSection({csids:[n],componentSectionData:{name:t},syncWithApi:!0}):this.highlightName())}),b(this,"handleDescriptionBlur",({discard:e,value:t})=>{this.state.addingDescription&&this.setState({addingDescription:!1});const{data:{_id:n,description:i}}=this.props;e||i===t||c.BarrelActions.updateComponentSection({csids:[n],componentSectionData:{description:t},syncWithApi:!0})}),b(this,"handleCopyWebLink",()=>{const{data:{_id:e}}=this.props;c.BarrelActions.copyComponentSectionWebLink({seid:e})}),b(this,"handleCopyAppURI",()=>{const{data:{_id:e}}=this.props;c.BarrelActions.copyComponentSectionAppURI({cseid:e})}),b(this,"handleCreateSection",(e,t)=>{const{index:n}=this.props,i={index:n+1,name:"Untitled Section",components:[{coid:e[e.length-1],csid:e.slice(0,-1),index:t}]};c.BarrelActions.addComponentSection({csids:[],componentSection:i,syncWithApi:!0})}),b(this,"handleCreateGroup",(e,t,n)=>{const i={index:n||0,name:"Untitled Group",components:[{coid:e[e.length-1],csid:e.slice(0,-1),index:t}]},r=e.slice(0,1);c.BarrelActions.addComponentSection({csids:r,componentSection:i,syncWithApi:!0})}),b(this,"handleSetAsThumbnail",e=>{c.BarrelActions.updateThumbnail({thumbnail:e,syncWithApi:!0})}),b(this,"handleDeleteSection",()=>{const{data:{_id:e},index:t}=this.props;c.BarrelActions.mergeComponentSection({csids:[e],index:t,syncWithApi:!0})}),b(this,"handleComponentContextMenu",(e,t)=>{const{onComponentContextMenu:n,styleguideId:i}=this.props;n(i,e,t)}),b(this,"handleMoveSectionClick",e=>{e.stopPropagation();const{onMoveSectionClick:t,data:n}=this.props,{sectionOptionsButton:i}=this.nodeRefs;t({section:n,targetNode:i})}),b(this,"handleExpand",()=>{this.setState({collapsed:!1})}),b(this,"handleCollapse",()=>{this.setState({collapsed:!0})})}static getStores(){return[c.BarrelStore,h.StyleguideStore,d.StyleguidesDataStore,u.ProjectsDataStore]}static calculateState(){const{loading:e,barrelId:t,barrelType:n}=c.BarrelStore.getState();return e?{loading:!0}:{loading:!1,barrelId:t,barrelType:n,styleguidesData:c.BarrelHelpers.getStyleguidesData({barrelStore:c.BarrelStore,styleguidesDataStore:d.StyleguidesDataStore,projectsDataStore:u.ProjectsDataStore})}}handleDeleteComponent(e){const{_id:t,idPath:n}=e;c.BarrelActions.removeComponent({csids:n.slice(0,n.length-1),coid:t,syncWithApi:!0})}componentDidMount(){this.props.data.newSection&&this.highlightName()}componentDidUpdate(e,t){!t.addingDescription&&this.state.addingDescription&&this.highlightDescription()}renderComponentGroups(){const{data:{componentSections:e},styleguideId:t,selectionComponentId:n,selection:r,visibleComponents:o,filterValue:a,barrelThumbnail:l,scrolledSection:d,highlightScrolledSection:u,handleComponentRef:p,getComponentRef:f,onSelect:g,componentContextMenu:m,onComponentDidMount:b,onComponentDidUnmount:y,onCloseComponentContextMenu:S,onComponentDrop:v,onSectionOrGroupDrop:C,onComponentToSectionOrGroupDrop:O}=this.props,{styleguidesData:E,collapsed:T}=this.state;return!T&&e&&e.length?i.h("div",{class:"componentGroups"},e.map((e,T)=>i.h(s.default,{key:e.key||e._id,styleguideId:t,index:T,data:e,styleguidesData:E,barrelThumbnail:l,onComponentDidMount:b,onComponentDidUnmount:y,visibleComponents:o,filterValue:a,selectionComponentId:n,selection:r,scroll:d===e._id,highlight:d===e._id&&u,handleComponentRef:p,getComponentRef:f,onNameChange:this.handleGroupNameChange,onSelect:g,onScroll:h.StyleguideActions.sectionScrolled,componentContextMenu:m,onCreateSection:this.handleCreateSection,onCreateGroup:this.handleCreateGroup,onSetAsThumbnail:this.handleSetAsThumbnail,onDeleteComponent:this.handleDeleteComponent,onDeleteGroup:c.BarrelActions.mergeComponentSection,onComponentContextMenu:this.handleComponentContextMenu,onCloseComponentContextMenu:S,onComponentDrop:v,onSectionOrGroupDrop:C,onComponentToSectionOrGroupDrop:O}))):null}renderComponents(){const{data:{components:e},styleguideId:t,selectionComponentId:n,selection:r,visibleComponents:o,filterValue:s,barrelThumbnail:l,defaultSection:c,handleComponentRef:d,getComponentRef:u,onSelect:h,componentContextMenu:{coid:p,clickOrigin:f},onComponentDidMount:g,onComponentDidUnmount:m,onCloseComponentContextMenu:b,onComponentDrop:y}=this.props,{styleguidesData:S,collapsed:v}=this.state;if(v||!e||!e.length)return null;const C=e.map((v,C)=>{const O=e[C-1],E=e[C+1];return i.h(a.default,{styleguideId:t,key:v._id,leftComponentId:O&&O._id,rightComponentId:E&&E._id,index:C,data:v,styleguidesData:S,barrelThumbnail:l,visible:o.has(v),filterValue:s,selection:r,containsSelection:r&&n===v._id,inDefaultSection:c,handleComponentRef:d,getComponentRef:u,onMount:g,onUnmount:m,onSelect:h,contextMenu:p===v._id?f:null,onCreateSection:this.handleCreateSection,onCreateGroup:this.handleCreateGroup,onSetAsThumbnail:this.handleSetAsThumbnail,onDelete:this.handleDeleteComponent,onContextMenu:this.handleComponentContextMenu,onCloseContextMenu:b,onDrop:y})});return i.h("div",{class:"components"},C)}renderContent(){return i.h("div",{class:"componentSectionContent"},this.renderComponents(),this.renderComponentGroups())}renderOptionsMenu(){const{readOnly:e,data:{description:t},showMoveSectionAction:n}=this.props,o=t?i.h(r.default.Item,{onClick:this.highlightDescription},"Edit description"):i.h(r.default.Item,{onClick:this.handleAddDescriptionClick},"Add description");return i.h(r.default,null,!e&&[o,i.h(r.default.Item,{onClick:this.highlightName},"Rename section"),i.h(r.default.ItemDivider,null)],i.h(r.default.Item,{onClick:this.handleCopyWebLink},"Copy web link"),i.h(r.default.Item,{onClick:this.handleCopyAppURI},"Copy App URI"),i.h(r.default.ItemDivider,null),!e&&[n&&i.h(r.default.Item,{key:"moveSection",onClick:this.handleMoveSectionClick},"Move section to styleguide…"),i.h(r.default.Item,{key:"deleteSection",warning:!0,onClick:this.handleDeleteSection},"Delete section")])}render(){const{loading:e,addingDescription:t,collapsed:n}=this.state;if(e)return null;const{data:{componentSections:r,components:s,name:a,description:c,_id:d},index:u,styleguideId:g,defaultSection:m,readOnly:b,actionsDisabled:y,scrolledSection:S,highlightScrolledSection:v,optionsActive:C,onSectionOrGroupDrop:O,onComponentToSectionOrGroupDrop:E}=this.props,T=r.reduce((e,t)=>e+t.components.length,s.length),D=Object(f.pluralize)(T,"component")+" collapsed",k=this.renderContent(),w=this.renderOptionsMenu(),_=t?l.DEFAULT_DESCRIPTION:c,j=S===d,P=j&&v;return i.h(o.DragDropComponentSection,{type:l.STYLEGUIDE_COMPONENT_SECTION,id:d,optionsButtonRef:Object(p.default)(this,"sectionOptionsButton"),index:u,styleguideId:g,componentRef:Object(p.default)(this,"section","componentRefs"),collapsed:n,empty:0===T,componentCount:T,componentGroupsCount:r.length,name:a,headerClass:"componentSectionHeader",description:_,countInfoText:D,optionsMenu:w,defaultSection:m,actionsDisabled:y,readOnly:b,topPadding:136,scroll:j,highlight:P,optionsActive:C,draggable:!0,onNameBlur:this.handleNameBlur,onDescriptionBlur:this.handleDescriptionBlur,onScroll:h.StyleguideActions.sectionScrolled,onCollapse:this.handleCollapse,onExpand:this.handleExpand,onSectionOrGroupDrop:O,onComponentToSectionOrGroupDrop:E},k)}}t.default=Object(m.default)(y)},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1082),o=n(24),s=n(1777);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c="GroupHeader",d="StyleguideComponent",u=Object(r.DropTarget)({acceptsItemType:c,onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top-t.dragOffset.top,left:t.mirrorPosition.left-t.dragOffset.left},t.draggingItemType)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceIndex:t.dragData.index,sourceIdPath:t.dragData.idPath,sourceStyleguideId:t.dragData.styleguideId},t.draggingItemType)})(s.default);class h extends i.Component{constructor(...e){super(...e),l(this,"state",{targetPosition:"",groupHeaderHover:!1}),l(this,"calculateMoveIndex",(e,t,n)=>{const{index:i}=this.props,{targetPosition:r}=this.state,o="bottom"===r;if(t!==n)return o?i+1:i;let s=i;return e>i&&o?s=i+1:e<i&&!o&&(s=i-1),s}),l(this,"setTargetPosition",e=>{const{targetPosition:t}=this.state,{base:n}=this.nodeRefs,i=function(e,t,n){const i=n?43:0,r=e.top+(e.height-i)/2;return t.top>=r}(n.getBoundingClientRect(),e,t)?"bottom":"top";t!==i&&this.setState({targetPosition:i})}),l(this,"unsetTargetPosition",()=>{this.state.targetPosition&&this.setState({targetPosition:""})}),l(this,"dropGroupHeader",(e,t,n)=>{if(""===this.state.targetPosition)return;const{data:{idPath:i},styleguideId:r,onSectionOrGroupDrop:o}=this.props,s=t[0],a=i[0],l=this.calculateMoveIndex(e,s,a);r===n&&s===a&&e===l||o({sourceIndex:e,sourceIdPath:t,targetSectionIdPath:i.slice(0,-1),sourceStyleguideId:n,targetStyleguideId:r,to:l})}),l(this,"dropComponent",(e,t,n)=>{const{data:{idPath:i,components:r},styleguideId:o,onComponentToSectionOrGroupDrop:s}=this.props;s({sourceIdPath:t,sourceIndex:e,targetIdPath:i,sourceStyleguideId:n,targetStyleguideId:o,to:r.length})}),l(this,"handleDragHover",(e,t)=>{t!==c?this.state.groupHeaderHover||this.setState({groupHeaderHover:!0}):this.setTargetPosition(e)}),l(this,"handleDragHoverOut",e=>{e!==c?this.state.groupHeaderHover&&this.setState({groupHeaderHover:!1}):this.unsetTargetPosition()}),l(this,"handleDrop",({sourceIndex:e,sourceIdPath:t,sourceStyleguideId:n},i)=>{i===c?this.dropGroupHeader(e,t,n):i===d&&this.dropComponent(e,t,n)})}render(){const{groupHeaderHover:e,targetPosition:t}=this.state,{dragDisabled:n}=this.context;return i.h(u,a({},this.props,{baseRef:Object(o.default)(this,"base"),groupHeaderHover:e,targetPosition:t,draggable:!n,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut,onDrop:this.handleDrop}))}}t.default=h},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11),o=n(24),s=n(1778),a=n(1784);n(1785);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(...e){super(...e),l(this,"state",{collapsed:!1,menuShown:!1}),l(this,"hideOptionsMenu",()=>{this.state.menuShown&&(document.removeEventListener("click",this.hideOptionsMenu,!0),this.setState({menuShown:!1}))}),l(this,"handleBaseRef",e=>{Object(o.default)(this,"base")(e),this.props.baseRef(e)}),l(this,"handleShowOptionsMenu",e=>{e.stopPropagation(),this.state.menuShown||(document.addEventListener("click",this.hideOptionsMenu,!0),this.setState({menuShown:!0}))}),l(this,"handleCollapseOrExpand",()=>{this.setState(e=>({collapsed:!e.collapsed}))}),l(this,"handleStartDrag",()=>{this.setState({hidden:!0,collapsed:!0,menuShown:!1})}),l(this,"handleEndDrag",()=>{this.setState({hidden:!1})}),l(this,"handleNameBlur",({discard:e,value:t})=>{const{data:{idPath:n,name:i},onNameChange:r}=this.props;e||i===t||r(n,t)}),l(this,"handleCreateGroup",(e,t)=>{const{index:n,onCreateGroup:i}=this.props;i(e,t,n+1)}),l(this,"handleDeleteGroup",()=>{const{data:{idPath:e},index:t,onDeleteGroup:n}=this.props;n({csids:e,index:t,syncWithApi:!0})})}highlight(){const{scroll:e,highlight:t,onScroll:n}=this.props;e&&(this.state.collapsed&&this.setState({collapsed:!1}),this.nodeRefs.base.scrollIntoView()),t&&this.nodeRefs&&this.nodeRefs.header&&this.nodeRefs.header.animate([{backgroundColor:"var(--cornflower-blue-15pc)"},{backgroundColor:"transparent"}],{duration:2e3,easing:"cubic-bezier(1, 0, 0.4, 0)"}),e&&n&&n()}componentDidMount(){const{data:{newSection:e}}=this.props;e&&this.componentRefs.componentName.highlight(),this.highlight()}componentDidUpdate(){this.highlight()}renderComponents(){const{data:{components:e},styleguidesData:t,styleguideId:n,visibleComponents:r,filterValue:o,barrelThumbnail:a,selectionComponentId:l,selection:c,handleComponentRef:d,getComponentRef:u,onSelect:h,componentContextMenu:{coid:p,clickOrigin:f},onCreateSection:g,onSetAsThumbnail:m,onDeleteComponent:b,onComponentDidMount:y,onComponentDidUnmount:S,onComponentContextMenu:v,onCloseComponentContextMenu:C,onComponentDrop:O}=this.props,E=e.map((E,T)=>{const D=e[T-1],k=e[T+1];return i.h(s.default,{key:E._id,styleguideId:n,index:T,leftComponentId:D&&D._id,rightComponentId:k&&k._id,data:E,styleguidesData:t,barrelThumbnail:a,visible:r.has(E),filterValue:o,selection:c,containsSelection:c&&l===E._id,handleComponentRef:d,getComponentRef:u,onSelect:h,contextMenu:p===E._id?f:null,onMount:y,onUnmount:S,onCreateSection:g,onCreateGroup:this.handleCreateGroup,onSetAsThumbnail:m,onDelete:b,onContextMenu:v,onCloseContextMenu:C,onDrop:O})});return i.h("div",{class:"components"},E)}render(){const{data:{name:e,components:t,idPath:n},index:s,styleguideId:l,draggable:c,readOnly:d,actionsDisabled:u,targetPosition:h,groupHeaderHover:p,onHover:f,onHoverOut:g,onDrop:m}=this.props,{collapsed:b,menuShown:y,hidden:S}=this.state,v=t.length;return i.h("div",{ref:this.handleBaseRef,class:Object(r.default)("componentGroup",h,{menuShown:y,hidden:S})},i.h(a.DragDropComponentGroupHeader,{baseRef:Object(o.default)(this,"header"),componentNameRef:Object(o.default)(this,"componentName","componentRefs"),index:s,idPath:n,styleguideId:l,name:e,draggable:c,readOnly:d,actionsDisabled:u,collapsed:b,hasDragHover:p,componentsCount:v,menuShown:y,onStartDrag:this.handleStartDrag,onEndDrag:this.handleEndDrag,onHover:f,onHoverOut:g,onDrop:m,onNameBlur:this.handleNameBlur,onCollapseOrExpand:this.handleCollapseOrExpand,onShowOptionsMenu:this.handleShowOptionsMenu,onDeleteGroup:this.handleDeleteGroup}),!b&&this.renderComponents())}}t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1779);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1780),o=n(1082),s=n(1490),a=n(62),l=n(18),c=n(11),d=n(24),u=n(1064);n(1783);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}const p=Object(a.pipe)(Object(o.DragSource)({itemType:"StyleguideComponent",mirrorComponent:({lightness:e,snapshot:t,name:n})=>{const r=t.width,o=t.height,a={};r<48||o<48?(a.width=r,a.height=o):a.paddingBottom=100*o/r+"%";const l=Math.max(96,12*Math.ceil(r/12)+48);return i.h("div",{class:"componentsContent componentMirror",style:`width: ${l}px`},i.h(s.default,{class:Object(c.default)("componentContent",e),snapshot:t,style:a},i.h(s.default.Image,null)),i.h("span",{class:"name ellipsis noSelect",title:n,key:"name"},n))},provideDragData:e=>{const{data:t,styleguideId:n,index:i,lightness:r}=e;return{snapshot:t.latestVersion.snapshot,styleguideId:n,name:t.name,idPath:t.idPath,index:i,lightness:r}}}),Object(o.DropTarget)({acceptsItemType:"StyleguideComponent",style:{maxWidth:"100%"},onHover:(e,t)=>e.onHover({mirrorPosition:t.mirrorPosition}),onHoverOut:e=>e.onHoverOut(),onDrop:(e,t)=>e.onDrop({mirrorPosition:t.mirrorPosition,sourceStyleguideId:t.dragData.styleguideId,sourceIdPath:t.dragData.idPath,sourceIndex:t.dragData.index,targetStyleguideId:e.styleguideId,targetIdPath:e.data.idPath,targetIndex:e.index})}))(r.default);class f extends i.Component{constructor(e){super(e),this.state={lightness:null,moveCubukPosition:"",moveCubukTop:null,moveCubukHeight:null},this.handleDragHover=this.handleDragHover.bind(this),this.handleDragHoverOut=this.handleDragHoverOut.bind(this),this.handleBaseRef=this.handleBaseRef.bind(this)}calculateCubukPosition(e,t){const{getComponentRef:n}=this.props;let i=e.height;if(t){const r=n(t).getBoundingClientRect();e.top===r.top&&(i=Math.min(e.height,r.height))}const r=Math.max(80,Math.min(240,Math.round(i-24)));return{height:r,top:Math.max(0,Math.round((i-r)/2))}}getImageProperties(){const{latestVersion:{snapshot:{url:e}}}=this.props.data;Object(l.getImageProperties)(e).then(({lightness:e})=>{this.setState({lightness:e})}).catch(()=>{this.setState({lightness:"dark"})})}handleDragHover({mirrorPosition:e}){const t=this.nodeRefs.base.getBoundingClientRect(),n=e.left>t.left+t.width/2;let i=this.props.leftComponentId;n&&(i=this.props.rightComponentId);const r=this.calculateCubukPosition(t,i);this.setState(Object(a.getStateUpdateFunction)({moveCubukPosition:n?u.CUBUK_POSITION.RIGHT:u.CUBUK_POSITION.LEFT,moveCubukHeight:r.height,moveCubukTop:r.top}))}handleDragHoverOut(){this.setState(Object(a.getStateUpdateFunction)({moveCubukPosition:"",moveCubukHeight:null,moveCubukTop:null}))}handleBaseRef(e){const{data:{_id:t},handleComponentRef:n}=this.props;Object(d.default)(this,"base")(e),n(t,e)}componentDidUpdate(){this.props.visible&&!this.state.lightness&&this.getImageProperties()}render(){const{moveCubukPosition:e,moveCubukTop:t,moveCubukHeight:n,lightness:r}=this.state;return i.h(p,h({baseRef:this.handleBaseRef,dragBaseRef:Object(d.default)(this,"dragBase"),lightness:r,moveCubukPosition:e,moveCubukTop:t,moveCubukHeight:n,onHover:this.handleDragHover,onHoverOut:this.handleDragHoverOut},this.props))}}t.default=f},function(e,t,n){"use strict";n.r(t);var i=n(1781);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11),o=n(24),s=n(62),a=n(1490),l=(n(1782),n(1057)),c=n(289),d=n(697),u=n(654),h=n(56),p=n(1061),f=n(1064);class Component extends i.Component{constructor(e){super(e),this.handleBaseRef=this.handleBaseRef.bind(this),this.handleComponentClick=this.handleComponentClick.bind(this),this.handleComponentEnter=this.handleComponentEnter.bind(this),this.handleComponentLeave=this.handleComponentLeave.bind(this),this.handleComponentContentClick=this.handleComponentContentClick.bind(this),this.handleLayerSelect=this.handleLayerSelect.bind(this),this.handleLayerEnter=this.handleLayerEnter.bind(this),this.handleLayerLeave=this.handleLayerLeave.bind(this),this.handleImageError=this.handleImageError.bind(this),this.handleContextMenu=this.handleContextMenu.bind(this),this.openDeleteComponentDialog=this.openDeleteComponentDialog.bind(this),this.closeDeleteComponentDialog=this.closeDeleteComponentDialog.bind(this),this.handleSetAsThumbnail=this.handleSetAsThumbnail.bind(this),this.handleCreateSection=this.handleCreateSection.bind(this),this.handleCreateGroup=this.handleCreateGroup.bind(this),this.handleDelete=this.handleDelete.bind(this),this.resetDistances=this.resetDistances.bind(this),this.scrollIntoView=e.containsSelection,this.layerClickHandler=Object(u.getLayerClickHandler)(),this.state={imageRequested:!1,hoveredId:null,distances:null,rulers:!1,contextMenu:null}}get isSetAsThumbnail(){const{barrelThumbnail:e,data:{latestVersion:{snapshot:{url:t}}}}=this.props;return e===t}getDistancesOrigin(){const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}},selection:i}=this.props;return e===i._id?{x:0,y:0,width:t,height:n}:i.absoluteRect}resetDistances(){null!==this.state.hoveredId&&this.setState({hoveredId:null,distances:null})}openDeleteComponentDialog(e){e.stopPropagation(),this.setState({deleteDialogVisible:!0})}closeDeleteComponentDialog(){this.setState({deleteDialogVisible:!1})}handleImageError(){this.setState({imageRequested:!1})}handleBaseRef(e){Object(o.default)(this,"base")(e),this.props.baseRef&&this.props.baseRef(e)}handleComponentClick(e){e.stopPropagation(),this.resetDistances();const{data:t,onSelect:n}=this.props;n(t._id,t)}handleComponentContentClick(e){e.stopPropagation(),this.resetDistances();const{onSelect:t}=this.props;t(null)}handleComponentEnter(){const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}}}=this.props,i=this.getDistancesOrigin();this.setState({hoveredId:e,distances:{from:i,to:{x:0,y:0,width:t,height:n}}})}handleComponentLeave(){this.resetDistances()}handleLayerEnter(e){const t=this.getDistancesOrigin();this.setState({hoveredId:e._id,distances:{from:t,to:e.absoluteRect}})}handleLayerLeave(){const{data:{_id:e,latestVersion:{snapshot:{width:t,height:n}}}}=this.props,i=this.getDistancesOrigin();this.setState({hoveredId:e,distances:{from:i,to:{x:0,y:0,width:t,height:n}}})}handleLayerSelect(e,t){const{selection:n,data:{_id:i,latestVersion:{snapshot:r}},onSelect:o}=this.props;e.stopPropagation(),this.resetDistances();const s=this.nodeRefs.snapshotDetail.getBoundingClientRect();o(i,this.layerClickHandler.getLayerToSelectFromClick({ev:e,layerData:t,snapshot:r,selectedLayer:n,snapshotDetailRect:s}))}handleContextMenu(e){const{data:{_id:t},onContextMenu:n}=this.props;n(t,e)}handleCreateSection(e){const{onCreateSection:t,index:n,data:{idPath:i}}=this.props;e.stopPropagation(),t(i,n)}handleCreateGroup(e){const{onCreateGroup:t,index:n,data:{idPath:i}}=this.props;e.stopPropagation(),t(i,n)}handleSetAsThumbnail(e){e.stopPropagation();const{data:{latestVersion:{snapshot:{url:t}}},onSetAsThumbnail:n}=this.props;n(t)}handleDelete(){const{data:e,onDelete:t}=this.props;t(e)}componentDidMount(){const{onMount:e,visible:t}=this.props;e(this.nodeRefs.base),t&&this.setState({imageRequested:!0})}componentWillReceiveProps(e){const{selection:t,data:{_id:n}}=this.props;this.setState(t=>({imageRequested:e.data._id===n&&t.imageRequested,rulers:e.containsSelection&&e.selection._id!==e.data._id})),t&&!e.selection&&this.layerClickHandler.reset()}componentDidUpdate(){const{visible:e}=this.props,{imageRequested:t}=this.state;e&&!t&&this.setState({imageRequested:!0}),this.scrollIntoView&&(this.scrollIntoView=!1,this.nodeRefs.base.scrollIntoView())}componentWillUnmount(){const{onUnmount:e}=this.props;e(this.nodeRefs.base)}renderRulers(){const{visible:e}=this.props,{imageRequested:t,rulers:n}=this.state;if(!e&&!t||!n)return null;const{selection:{absoluteRect:{x:r,y:o,width:s,height:l}}}=this.props;return i.h(a.default.Rulers,{x:r,y:o,width:s,height:l})}renderDistances(){const{visible:e}=this.props,{imageRequested:t,distances:n}=this.state;return(e||t)&&n&&n.from&&n.to?i.h(a.default.Distances.BetweenLayers,{sourceRect:n.from,destRect:n.to}):null}renderComponentLayer(){const{styleguidesData:e,data:{name:t,latestVersion:{snapshot:n}},selection:r}=this.props,{barrelId:o,barrelType:s}=this.context,l=Object(d.findComponentLayer)(n,r,e),{width:c,height:u}=n;return i.h(a.default.ComponentLayer,{barrelId:o,barrelType:s,containerName:t,componentLayer:l,containerWidth:c,containerHeight:u,onTagClick:this.resetDistances})}renderLayers(){const{data:{latestVersion:{snapshot:{layers:e=[]}}},selection:t,visible:n,containsSelection:r}=this.props,{imageRequested:o,hoveredId:s}=this.state;return(n||o)&&e.length?i.h(a.default.Layers,{layers:e,selectedLayerId:t?t._id:null,hoveredId:s,componentLayer:this.renderComponentLayer(),onLayerSelect:this.handleLayerSelect,onLayerEnter:r?this.handleLayerEnter:null,onLayerLeave:r?this.handleLayerLeave:null}):null}renderSnapshotDetail(){const{styleguidesData:e,data:{latestVersion:{snapshot:t,snapshot:{width:n,height:s}}},visible:l,lightness:c}=this.props,[{type:d,remPreferences:u}]=e,h=e.flatMap(({spacingSections:e})=>e.flatMap(e=>e.spacingTokens)),{imageRequested:p}=this.state,f=Object(r.default)("componentContent",c),g={};return n<48||s<48?(g.width=n,g.height=s):g.paddingBottom=100*s/n+"%",i.h(a.default,{class:f,snapshot:t,platform:d,spacingTokens:h,remPreferences:u,style:g,baseRef:Object(o.default)(this,"snapshotDetail")},l||p?i.h(a.default.Image,{onError:this.handleImageError}):null,this.renderRulers(),this.renderDistances(),this.renderLayers())}renderName(){const{data:{name:e},filterValue:t}=this.props,n=t?Object(h.highlightMatchedParts)(e,t,{caseInsensitive:!0}):e;return i.h("span",{class:"name ellipsis noSelect",dangerouslySetInnerHTML:{__html:n}})}renderContextMenu(){const{contextMenu:e,onCloseContextMenu:t,inDefaultSection:n}=this.props,{permissions:{canManageStyleguide:r}}=this.context;if(!e)return;const o=[i.h(l.default.Item,{key:"createSection",onClick:this.handleCreateSection},"Create section from selection"),!n&&i.h(l.default.Item,{key:"createGroup",onClick:this.handleCreateGroup},"Create group from selection"),r&&!this.isSetAsThumbnail&&i.h(l.default.Item,{key:"setThumbnail",onClick:this.handleSetAsThumbnail},"Set as thumbnail"),i.h(l.default.ItemDivider,{key:"warningDivider"}),i.h(l.default.Item,{key:"deleteComponent",onClick:this.openDeleteComponentDialog,warning:!0},"Delete component")].filter(Boolean);return i.h(l.default.withAutoPosition,{class:"componentContextMenu",onMouseDown:s.stopPropagation,autoPosition:{sidebar:".barrelContainer .styleguide .componentsContainer .sidebar.left",menuContainer:this.nodeRefs&&this.nodeRefs.base,clickOrigin:e},onClose:t},o)}renderDialogs(){const{deleteDialogVisible:e}=this.state,{data:{name:t}}=this.props;if(e)return i.h(c.BasicDialog,{title:`Delete “${t}”?`,message:"Deleted components cannot be restored.",onPositiveButtonClick:this.handleDelete,onNegativeButtonClick:this.closeDeleteComponentDialog,onClose:this.closeDeleteComponentDialog,positiveButtonText:"DELETE",negativeButtonText:"CANCEL",hideNegativeButton:!1})}render(){const{data:{_id:e,latestVersion:{snapshot:{width:t}}},selection:n,containsSelection:o,dragging:s,moveCubukPosition:a,moveCubukTop:l,moveCubukHeight:c}=this.props,d=n&&n._id,u=Object(r.default)("component",{selected:e===d,dragging:s}),h={width:(g=t,Math.max(96,12*Math.ceil(g/12)+48)+"px")};var g;const m=i.h(p.default,{top:l,height:c});return i.h("div",{class:"componentWrapper"},i.h("div",{class:"componentPaddingArea left"},a===f.CUBUK_POSITION.LEFT&&m),i.h("div",{class:u,style:h,"data-id":e,ref:this.handleBaseRef,onClick:this.handleComponentClick,onMouseEnter:o?this.handleComponentEnter:null,onMouseLeave:o?this.handleComponentLeave:null,onContextMenu:this.handleContextMenu},this.renderSnapshotDetail(),this.renderName(),this.renderContextMenu(),this.renderDialogs()),i.h("div",{class:"componentPaddingArea right"},a===f.CUBUK_POSITION.RIGHT&&m))}}t.default=Component},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t),n.d(t,"DragDropComponentGroupHeader",(function(){return y}));var i=n(1),r=n(11),o=n(62),s=n(19),a=n(24),l=n(536),c=n(1075),d=n(228),u=n(1082);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends i.Component{constructor(...e){super(...e),m(this,"state",{hasHover:!1}),m(this,"handleBaseRef",e=>{this.props.baseRef(e)}),m(this,"handleComponentNameRef",e=>{Object(a.default)(this,"nameInput","componentRefs")(e),this.props.componentNameRef(e)}),m(this,"handleMouseEnter",()=>{this.setState({hasHover:!0})}),m(this,"handleMouseLeave",()=>{this.setState({hasHover:!1})}),m(this,"handleRenameGroupName",()=>{this.componentRefs.nameInput.highlight()})}componentDidUpdate(e){if(!e.menuShown&&this.props.menuShown){const{contextMenu:e}=this.nodeRefs;!function(e){if(!e)return;const t=e.getBoundingClientRect(),n=window.innerHeight;t.bottom+12>n?e.style.top=n-t.bottom-12+"px":t.top-52-12<0&&(e.style.top=64-t.top+"px")}(e)}}renderGroupInfo(){const{name:e,draggable:t,readOnly:n,actionsDisabled:r,collapsed:o,showMoveHandle:a,componentsCount:c,onNameBlur:u}=this.props,{hasHover:h}=this.state;return i.h("div",{class:"groupInfo"},t&&(h||a)&&i.h(d.IconMoveHandle,{height:14,class:"moveHandleIcon"}),i.h(l.default,{ref:this.handleComponentNameRef,value:e,required:!0,onBlur:u,readOnly:n||r}),o&&i.h("span",{class:"countInfo noSelect"},Object(s.pluralize)(c,"component")+" collapsed"))}renderGroupActions(){const{componentsCount:e,actionsDisabled:t,onCollapseOrExpand:n,onShowOptionsMenu:s}=this.props;return i.h("div",{class:Object(r.default)("groupActions",{disabled:t})},e>0&&i.h("button",{class:"collapseButton",onMouseDown:o.stopPropagation,onClick:n},i.h(d.IconCollapse,{color:"var(--gandalf)"})),i.h("button",{class:"groupOptionsButton",onMouseDown:o.stopPropagation,onClick:s},i.h(d.IconMenu,{color:"var(--gandalf)"})))}renderMenu(){const{onDeleteGroup:e}=this.props;return i.h("div",{class:"groupContextMenuContainer",ref:Object(a.default)(this,"contextMenu")},i.h(c.default,null,i.h(c.default.Item,{onClick:this.handleRenameGroupName},"Rename group"),i.h(c.default.ItemDivider,null),i.h(c.default.Item,{warning:!0,onClick:e},"Delete group")))}render(){const{menuShown:e,collapsed:t,hasDragHover:n,class:o,width:s}=this.props;return i.h("div",{ref:this.handleBaseRef,class:Object(r.default)("componentGroupHeader",o,{collapsed:t,dragHover:n}),style:{width:s},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},i.h("div",{class:"mainInfo"},this.renderGroupInfo(),this.renderGroupActions(),e&&this.renderMenu()))}}const y=Object(o.pipe)(Object(u.DragSource)({itemType:"GroupHeader",allowX:!1,mirrorComponent:e=>{let{sourceRect:t,class:n}=e,r=g(e,["sourceRect","class"]);return i.h(b,f({},r,{width:t.width,class:"mirror noSelect",actionsDisabled:!0,showMoveHandle:!0}))},mirrorZIndex:100,onStartDrag:e=>e.onStartDrag(),onEndDrag:e=>e.onEndDrag(),provideDragData:e=>p(p({},e),{},{collapsed:!0})}),Object(u.DropTarget)({acceptsItemType:"StyleguideComponent",onHover:(e,t)=>{e.onHover({top:t.mirrorPosition.top-t.dragOffset.top,left:t.mirrorPosition.left-t.dragOffset.left},t.draggingItemType)},onHoverOut:(e,t)=>e.onHoverOut(t.draggingItemType),onDrop:(e,t)=>e.onDrop({sourceIndex:t.dragData.index,sourceIdPath:t.dragData.idPath,sourceStyleguideId:t.dragData.styleguideId},t.draggingItemType)}))(b);t.default=b},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1788);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(42),o=n(137),s=n(62),a=n(24),l=n(61),c=n(56),d=n(342),u=n(346),h=n(345),p=n(473),f=n(683),g=n(1789),m=n(1530),b=n(1370),y=n(334);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends i.Component{constructor(...e){super(...e),v(this,"state",{scrollDisabled:!1}),v(this,"enableScroll",()=>{this.setState({scrollDisabled:!1})}),v(this,"disableScroll",()=>{this.setState({scrollDisabled:!0})}),v(this,"handleAddColorClick",e=>{d.BarrelActions.addColor({color:e,syncWithApi:!0}),Object(l.default)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"componentAddColor"})}),v(this,"handleColorNameChange",(e,t)=>{const{styleguidesData:[{colors:n}]}=this.props;if(n.find(e=>e.name===t))return r.create({title:t+" already exists",message:"Please enter another name for this color.",done:{name:"GOT IT"}}),void this.forceUpdate();d.BarrelActions.updateColor({cid:e,colorData:{name:t},syncWithApi:!0})}),v(this,"handleRemoveColorClick",e=>{d.BarrelActions.removeColor({cid:e,syncWithApi:!0})}),v(this,"handleAddTextStyleClick",e=>{d.BarrelActions.addTextStyle({textStyle:e,syncWithApi:!0}),Object(l.default)({text:"Added to Styleguide!",container:this.nodeRefs.sidebar,source:"componentAddTextStyle"})}),v(this,"handleTextStyleNameChange",e=>{const{styleguidesData:[{textStyles:t}]}=this.props;if(t.some(e=>e.name===name))return r.create({title:name+" already exists",message:"Please enter another name for this text style.",done:{name:"GOT IT"}}),void this.forceUpdate();d.BarrelActions.updateTextStyle({tsid:e,textStyleData:{name:name},syncWithApi:!0})}),v(this,"handleCopy",e=>{Object(c.copyContent)({content:e,toastContainer:this.nodeRefs.sidebar})}),v(this,"handleCopyCode",(e,t,n)=>{const{projectType:i}=this.context;this.handleCopy(e),mixpanel.webapp.track("Copied extension snippet",{from:t,extension:n}),o.createIntercomUserTag(Object(s.getDeveloperString)(i))}),v(this,"handleRequestInvite",()=>{const{organizationId:e}=this.context;p.OrganizationActions.requestInvite(e,this.nodeRefs.sidebar)})}static getStores(){return[d.BarrelStore,u.StyleguidesDataStore,h.ProjectsDataStore]}static calculateState(){const{loading:e}=d.BarrelStore.getState();return e?{loading:!0}:{loading:!1,styleguidesData:d.BarrelHelpers.getStyleguidesData({barrelStore:d.BarrelStore,styleguidesDataStore:u.StyleguidesDataStore,projectsDataStore:h.ProjectsDataStore})}}getHandlers(){return{onCopy:this.handleCopy,onCopyCode:this.handleCopyCode,onAddColorClick:this.handleAddColorClick,onColorNameChange:this.handleColorNameChange,onRemoveColorClick:this.handleRemoveColorClick}}handleRemoveTextStyleClick(e){d.BarrelActions.removeTextStyle({tsid:e,syncWithApi:!0})}getChildContext(){return{enableScroll:this.enableScroll,disableScroll:this.disableScroll}}renderComponentPanel(){const{componentCount:e,selectionStyleguideId:t,selectionComponent:n,selection:r,formatter:o,onCloseClick:s}=this.props;return r?n._id===r._id?i.h(g.default,S({component:r,selectionStyleguideId:t,formatter:o},this.getHandlers(),{onCloseClick:s,onRequestInvite:this.handleRequestInvite})):i.h(m.default,S({layer:r,layerContainer:n,version:n.latestVersion,formatter:o},this.getHandlers(),{onAddTextStyleClick:this.handleAddTextStyleClick,onTextStyleNameChange:this.handleTextStyleNameChange,onRemoveTextStyleClick:this.handleRemoveTextStyleClick,onCloseClick:s})):i.h(g.default.NoSelectionState,{componentCount:e})}render(){const{width:e}=this.props,{loading:t,scrollDisabled:n}=this.state;return t?null:i.h(b.default,{baseRef:Object(a.default)(this,"sidebar"),minWidth:280,initialWidth:e,onClick:s.stopPropagation,onRelease:f.StyleguideActions.changeRightSidebarWidth,noScroll:n},this.renderComponentPanel())}}t.default=Object(y.default)(C)},function(e,t,n){"use strict";n.r(t);var i=n(1790);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(20),o=n(96),s=n(62),a=n(44),l=n(697),c=n(24),d=n(1532),u=n(106),h=n(1368),p=n(40),f=n(1655),g=n(1391),m=n(1535),b=n(1538),y=n(1649),S=n(1578),v=n(1553),C=n(1791),O=n(1571),E=n(1575),T=n(313),D=n(1794),k=n(680),w=n(342),_=n(346),j=n(345),P=n(658),R=n(334);n(1797);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class A extends i.Component{constructor(...e){super(...e),I(this,"state",{hasSnippet:!1,codeGap:null,codeHeight:null,codeMaxHeight:null,componentDetailHeight:null,componentDetailBottomPadding:null}),I(this,"handleComponentCodeResize",e=>{requestAnimationFrame(()=>{this.setState({codeGap:null,codeHeight:e,codeMaxHeight:null,componentDetailHeight:this.nodeRefs.base.clientHeight-e})})}),I(this,"handleDescriptionSubmit",e=>{const{component:{idPath:t,description:n}}=this.props;if(e===n)return;const i=[...t],r=i.pop();w.BarrelActions.updateComponent({csids:i,coid:r,componentData:{description:e},syncWithApi:!0})}),I(this,"handleAssetNameChange",(e,t)=>{const{component:{_id:n,latestVersion:{snapshot:i}}}=this.props;w.BarrelActions.changeAssetName({containerId:n,snapshot:i,assetId:e,name:t})}),I(this,"handleDownloadAssetClick",(e,t)=>{const{component:{name:n,latestVersion:i}}=this.props,{styleguideContainerRef:r}=this.context;w.BarrelActions.downloadAsset({containerName:n,version:i,assetId:e,format:t,toastContainer:r()})}),I(this,"handleGenerateSnippet",e=>{this.setState({hasSnippet:e},e=>{this.setCodePanelHeight()})}),I(this,"handleWindowResize",Object(s.debounce)(()=>{this.state.hasSnippet&&this.setCodePanelHeight()}))}static getStores(){return[k.AppStore,w.BarrelStore,_.StyleguidesDataStore,j.ProjectsDataStore]}static calculateState(e,t,n){const{component:{_id:i,name:r,latestVersion:{snapshot:{density:c,densityScale:d=Object(s.getDensityScale)(c)}}},selectionStyleguideId:u}=t,{userRole:h,permissions:{canManageScreens:f}}=n,{loading:g,barrelType:m,barrelId:b,assetDensityScalePrefs:y,assetExportTarget:S,assetNamingConvention:v,densityMismatchWarningHidden:C,noVectorAssetInfoHidden:O,showOptimizedSVG:E,connectedComponentsDevModeEnabled:T,connectedComponentsLocalWorkspace:D,connectedComponentsEditorInfo:P}=w.BarrelStore.getState();if(g)return{loading:!0};const{type:R,densityScale:I,screens:A=[]}=w.BarrelHelpers.getBarrel(),{shortlinks:x}=k.AppStore.getState(),N=m===o.default.PROJECT?"pid":"stid",L=`${p.ZPL_PROTOCOL}//components?${N}=${b}&coid=${i}`,U=m===o.default.PROJECT?"project-styleguide-components":"styleguide-components",M=Object(a.urlResolve)(U,{url:{bid:b},query:{coid:i}});return{loading:!1,platform:R,readOnly:!f||b!==u,userRestricted:"pawn"===h,assetDensityScalePrefs:y,assetExportTarget:S,assetNamingConvention:v,showDensityMismatchWarning:d!==I&&!C,noVectorAssetInfoHidden:O,showOptimizedSVG:E,appUri:L,webUrl:M in x?x[M]:null,usedScreens:Object(l.findUsedScreens)(A,r),connectedComponentsDevModeEnabled:T,connectedComponentsLocalWorkspace:D,connectedComponentsEditorInfo:P,styleguidesData:w.BarrelHelpers.getStyleguidesData({barrelStore:w.BarrelStore,styleguidesDataStore:_.StyleguidesDataStore,projectsDataStore:j.ProjectsDataStore})}}setCodePanelHeight(){if(!this.state.hasSnippet)return void this.setState({codeGap:null,codeHeight:null,codeMaxHeight:null,componentDetailHeight:null,componentDetailBottomPadding:null});const{base:e,componentDetail:t}=this.nodeRefs,n=t.scrollHeight,i=e.clientHeight;n+89>=i?this.setState({codeGap:0,codeHeight:89,codeMaxHeight:89,componentDetailHeight:i-89,componentDetailBottomPadding:36}):this.setState({codeGap:52,codeHeight:null,codeMaxHeight:i-n-36,componentDetailHeight:null,componentDetailBottomPadding:36})}componentDidMount(){window.addEventListener("resize",this.handleWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize)}render(){const{loading:e}=this.state;if(e)return null;const{component:t,formatter:n,onCopy:o,onAddColorClick:s,onColorNameChange:a,onRemoveColorClick:p,onCopyCode:T,onCloseClick:k,onRequestInvite:_}=this.props,{platform:j,readOnly:R,userRestricted:I,assetDensityScalePrefs:A,assetExportTarget:x,assetNamingConvention:N,showDensityMismatchWarning:L,noVectorAssetInfoHidden:U,showOptimizedSVG:M,appUri:B,webUrl:z,usedScreens:F,connectedComponentsDevModeEnabled:H,connectedComponentsLocalWorkspace:W,connectedComponentsEditorInfo:V,codeGap:G,codeMaxHeight:q,componentDetailHeight:$,componentDetailBottomPadding:Z,codeHeight:Y,styleguidesData:K}=this.state,{_id:J,name:X,latestVersion:Q,description:ee}=t,{snapshot:{width:te,height:ne,backgroundColor:ie,assets:re=[]}}=Q,{densityScale:oe,remPreferences:se}=K[0],{status:ae,useForMeasurements:le,remRootFontSize:ce}=se,de="web"===j&&"enabled"===ae&&le,ue=de?Object(u.toRemSize)(te/oe,ce):n.length(te),he=de?Object(u.toRemSize)(ne/oe,ce):n.length(ne),pe=Object(d.transformAuthors)([Q])[0],fe=re.find(e=>"snapshot"===e.layerId);let ge;fe&&(ge=Object(d.transformAsset)(fe,n,j));const me=Object(l.findConnectedComponentByName)(X,K,H);return i.h("div",{class:"componentDetailWrapper",ref:Object(c.default)(this,"base")},i.h("div",{class:"componentDetailContentWrapper",style:{height:$,paddingBottom:Z}},i.h("div",{class:"componentDetail",ref:Object(c.default)(this,"componentDetail")},i.h("div",{class:"withPadding"},i.h(E.default,{onCloseClick:k},X)),i.h("div",{class:"withPadding"},i.h(m.default,null,i.h(f.default,{key:pe.username,avatar:pe.avatar,username:pe.username,versionCount:pe.versions,authorCount:1,lastUpdated:pe.lastUpdated})),i.h(m.default,{title:"Description",showSeparator:!0},i.h(g.default,{class:"descriptionInput",formatter:h.formatTextArea,value:ee,placeholder:R?"No description yet":"Got any notes?",readOnly:R,submitOnBlur:!0,onSubmit:this.handleDescriptionSubmit,showEmojiAutoComplete:!0,autoEdit:!0,maxLength:1024})),i.h(m.default,{title:"Share",showSeparator:!0},i.h("div",{class:"shareViewWrapper"},i.h(y.default,{webUrl:z,appUri:B,onCopy:o})))),i.h(S.default,{connectedComponentsDevModeEnabled:H,connectedComponentsLocalWorkspace:W,connectedComponentsEditorInfo:V,componentId:J,componentName:X,connectedComponent:me,showLayerComponent:!1,userRestricted:I,onRequestInvite:_}),ge&&i.h("div",{class:"withPadding"},i.h(v.default,{showSeparator:!d.transformAsset,asset:ge,projectType:j,showDensityMismatchWarning:L,noVectorAssetInfoHidden:U,assetDensityScalePrefs:A,namingConvention:N,showOptimizedSVG:M,assetExportTarget:x,onOpenExportTargetClick:w.BarrelActions.openExportTarget,onChangeExportTargetClick:w.BarrelActions.changeExportTarget,onDownloadClick:this.handleDownloadAssetClick,onNameChange:this.handleAssetNameChange,onHideDensityMismatchWarningClick:w.BarrelActions.hideDensityMismatchWarning,onHideNoVectorAssetInfoClick:w.BarrelActions.hideNoVectorAssetInfo,onAssetDensityOptionChange:w.BarrelActions.changeAssetDensityScalePref,onNamingConventionChange:w.BarrelActions.changeAssetNamingConvention,onShowOptimizedSVGChange:w.BarrelActions.toggleSVGOptimization})),!ge&&i.h("div",{class:"withPadding"},i.h(m.default,{title:"Size",showSeparator:!!ge},i.h(O.default.Group,null,i.h(O.default,{name:"Width"},ue),i.h(O.default,{name:"Height"},he)))),ie&&i.h("div",{class:"withPadding"},i.h(m.default,{title:"Background color",showSeparator:!0},i.h(b.default,{color:Object(d.transformColor)(new r.default(ie),n,K),onNameChange:a,onAddClick:s,onRemoveClick:p}))),!!F.length&&i.h("div",{class:"withPadding"},i.h(m.default,{title:"Used in",showSeparator:!0},i.h(D.default,{componentName:X,screens:F}))))),i.h(C.default,{component:t,version:Q,codeGap:G,height:Y,maxHeight:q,minHeight:89,maxResizeHeight:window.innerHeight-60-146,minResizeHeight:89,onGenerateCode:this.handleGenerateSnippet,onResize:this.handleComponentCodeResize,onCopyClick:T,onSettingsClick:P.ExtensionsActions.openSettings}))}}A.NoSelectionState=function(e){const{componentCount:t}=e;return t?i.h("div",{class:"componentsSidebarNoSelectionState"},i.h("h2",null,t," Components ",i.h(T.default,{width:24,height:24,asset:"img/emjDango.png",alt:"🍡",title:"🍡"})),i.h("p",null,"Some say the more components you have, the cooler you are."),i.h("p",null,"You can learn more about components from ",i.h("a",{href:"https://blog.zeplin.io/introducing-zeplin-2-0-components-and-a-ton-more-goodies-7c09dacc1f48",target:"_blank"},"here"),".")):null},t.default=Object(R.default)(A,{withProps:!0,withContext:!0})},function(e,t,n){"use strict";n.r(t);var i=n(1792);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1626);n(1793);class o extends i.Component{constructor(e){super(e),this.generateComponentCode=this.generateComponentCode.bind(this),this.renderExtensionCode=this.renderExtensionCode.bind(this)}generateComponentCode(e,t){const{component:n,version:i}=this.props;return e.component(t,i,n).then(e=>{if(!e)return;const t={name:"component"};return"string"==typeof e?t.code=e:Object.assign(t,e),t})}handleCopyClick(e,t){const{onCopyClick:n}=this.props;n(e,"component",t)}renderExtensionCode(e){const{codeGap:t,height:n,minHeight:o,maxHeight:s,maxResizeHeight:a,minResizeHeight:l,onResize:c,onCopyClick:d,onSettingsClick:u}=this.props;return i.h(r.ResizableExtensionCode,{class:"componentCode",snippets:e,codeGap:t,height:n,minHeight:o,maxHeight:s,maxResizeHeight:a,minResizeHeight:l,onResize:c,onCopyClick:d,onSettingsClick:u})}render(){const{component:e,onGenerateCode:t}=this.props;return i.h(r.default,{id:e._id,generateCode:this.generateComponentCode,onGenerateCode:t,render:this.renderExtensionCode})}}t.default=o},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1795);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(44),o=n(18),s=n(20),a=n(24);n(1796);class l extends i.Component{componentDidMount(){const{observer:e}=this.props;e.observe(this.nodeRefs.base)}componentWillUnmount(){const{observer:e}=this.props;e.unobserve(this.nodeRefs.base)}render(){const{screenId:e,name:t,url:n,width:l,height:c,backgroundColor:d=s.default.NAMED_COLORS.white,componentName:u,visible:h}=this.props,{projectId:p}=this.context,{src:f,srcset:g}=Object(o.getResizedImageSources)(n,{width:132}),m=132*c/l,b=new s.default(d).toCSS(),y=Object(r.urlResolve)("project-screen",{url:{pid:p,sid:e}});return i.h("a",{ref:Object(a.default)(this,"base"),href:y,class:"usedInScreen","data-id":e,"data-link-type":"inApp","data-back":u},i.h("div",{class:"imageWrapper",style:{height:m,backgroundColor:b}},h&&i.h("img",{width:132,height:m,src:f,srcset:g,crossOrigin:"anonymous"}),i.h("div",{class:"imageFrame"})),i.h("div",{class:"screenName"},t))}}class c extends i.Component{constructor(e){super(e),this.visibleScreens=new Set,this.state={visibleScreens:new Set}}componentWillMount(){this.observer=new IntersectionObserver((e,t)=>{e.forEach(e=>{const t=e.target.dataset.id;e.isIntersecting?this.visibleScreens.add(t):this.visibleScreens.delete(t)}),window.cancelAnimationFrame(this.renderTimeout),this.renderTimeout=window.requestAnimationFrame(()=>{this.setState({visibleScreens:this.visibleScreens})})})}componentWillUnmount(){this.observer.disconnect()}render(){const{screens:e,componentName:t}=this.props,{visibleScreens:n}=this.state;return i.h("div",{class:"usedInScreens"},e.map(e=>{const{versions:[{snapshot:{url:r,width:o,height:s,backgroundColor:a}}]}=e;return i.h(l,{key:e._id,screenId:e._id,name:e.name,url:r,width:o,height:s,backgroundColor:a,componentName:t,visible:n.has(e._id),observer:this.observer})}))}}t.default=c},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1800);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1057),o=n(289),s=n(1801),a=n(228),l=n(24),c=n(44);n(1804);class d extends i.Component{constructor(e){super(e),this.handleContextMenuClick=this.handleContextMenuClick.bind(this),this.handleContextMenuClose=this.handleContextMenuClose.bind(this),this.handleUnlinkProject=this.handleUnlinkProject.bind(this),this.openUnlinkDialog=this.openUnlinkDialog.bind(this),this.closeUnlinkDialog=this.closeUnlinkDialog.bind(this),this.state={contextMenu:null,unlinkDialogVisible:!1}}openUnlinkDialog(){this.setState({unlinkDialogVisible:!0})}closeUnlinkDialog(){this.setState({unlinkDialogVisible:!1})}handleContextMenuClick(e){this.setState({contextMenu:{x:e.clientX,y:e.clientY}})}handleContextMenuClose(){this.setState({contextMenu:null})}handleUnlinkProject(){const{linkedStyleguide:e,onUnlink:t}=this.props;t(e)}renderContextMenu(){const{contextMenu:e}=this.state;return e?i.h(r.default.withAutoPosition,{autoPosition:{clickOrigin:e,menuContainer:this.nodeRefs.base},onClose:this.handleContextMenuClose},i.h(r.default.Item,{onClick:this.openUnlinkDialog},"Unlink styleguide")):null}renderUnlinkDialog(){const{unlinkDialogVisible:e}=this.state;if(!e)return null;const{linkedStyleguide:{name:t="styleguide"}}=this.props;return i.h(o.BasicDialog,{positiveButtonText:"UNLINK",onPositiveButtonClick:this.handleUnlinkProject,onClose:this.closeUnlinkDialog,negativeButtonText:"CANCEL",hideNegativeButton:!1,message:`Unlink “${t}”?`})}renderWarning(){const{linkStatus:e}=this.props;if("active"===e)return null;const t="invalid"===e?"they have different owners.":"the styleguide is archived or deleted.",n="invalid"===e?"https://zpl.io/article/transferring-styleguides":"https://zpl.io/article/archiving-styleguides";return i.h(s.default,{articleURL:n},"This project can not access the linked styleguide since ",t)}renderInfo(){const{permissions:{canManageProject:e}}=this.context,{barrelName:t,linkedStyleguide:{_id:n,name:r="a styleguide"}}=this.props,o=Object(c.urlResolve)("styleguide",{url:{bid:n}});return i.h("div",{class:"infoContainer"},i.h("div",{title:r,class:"infoLabel noSelect ellipsis"},"Linked to ",i.h("a",{href:o,"data-link-type":"inApp","data-back":t},r)),e&&i.h("button",{type:"button",onClick:this.handleContextMenuClick,ref:Object(l.default)(this,"button")},i.h(a.IconSettings,null)))}render(){return i.h("div",{class:"linkedStyleguideInfo",ref:Object(l.default)(this,"base")},this.renderInfo(),this.renderContextMenu(),this.renderUnlinkDialog(),this.renderWarning())}}t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1802);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(819);n(1803);t.default=function({articleURL:e,children:t}){return i.h(r.default,{class:"warningHintBox noSelect",type:"warning",emoji:"🚸"},i.h("p",null,t),i.h("a",{href:e,rel:"noopener noreferrer",target:"_blank"},"Learn more"))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1806);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(334),o=n(99),s=n(687),a=n(103),l=n(123),c=n(1807),d=n(1204),u=n(582),h=n(122),p=n(683),f=n(289),g=n(342),m=n(127),b=n(473);const y={[h.RESOURCE_TYPE.TEXT_STYLES]:"Text Styles",[h.RESOURCE_TYPE.COLORS]:"Colors",[h.RESOURCE_TYPE.COMPONENTS]:"Components"};function S(e){return y[e]}const v=Object.freeze({BASIC_DIALOG:"normal",COMPONENT:"component",NONE:"none"});class C extends i.Component{constructor(e){super(e),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this),this.handleStyleguideSelect=this.handleStyleguideSelect.bind(this),this.handleMove=this.handleMove.bind(this)}static getStores(){return[s.default,a.default,l.default,o.default,m.default]}static calculateState(){const{moveResourcesPopup:e}=s.default.getState(),{organizationId:t,barrelType:n,movingResourcesToStyleguide:i}=o.default.getState(),{userId:r}=m.default.getState(),a=b.OrganizationHelpers.getOrganizationStyleguides(t),l=g.BarrelHelpers.getBarrel(),c=function(e,t,n,i){if(!t||!i)return[];const r=t.users.find(e=>"owner"===e.role);return e.filter(e=>{if("active"!==e.status)return!1;if(e._id===t._id)return!1;if(i&&i.resourceType===h.RESOURCE_TYPE.COMPONENTS&&t.densityScale!==e.densityScale)return!1;if("user"===n){const t=e.users.find(e=>"owner"===e.role);return r&&t&&r.user._id===t.user._id}return!0})}(a,l,t,e);return{moveResourcesPopup:e,movingResourcesToStyleguide:i,barrel:l,moveableStyleguides:c,organizationId:t,currentUserId:r,barrelType:n}}getWarningDialogType(){const{barrel:e,moveResourcesPopup:t}=this.state;if(!t)return v.NONE;const{resourceType:n,targetStyleguide:i}=t;if(!i)return v.NONE;const r=e.type!==i.type;return n===h.RESOURCE_TYPE.COMPONENTS&&r?v.COMPONENT:v.BASIC_DIALOG}handleDocumentClick(){this.getWarningDialogType()!==v.BASIC_DIALOG&&p.StyleguideActions.closeMoveResourcesPopup()}handleDocumentKeydown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&p.StyleguideActions.closeMoveResourcesPopup()}handleStyleguideSelect(e){p.StyleguideActions.selectMoveResourcesTargetStyleguide({targetStyleguide:e})}handleMove(){const{moveResourcesPopup:{resourceType:e,resources:t,targetStyleguide:n}}=this.state;g.BarrelActions.moveResourcesRequest({resourceType:e,resources:t,targetStyleguideId:n._id})}componentDidUpdate(e,t){const{moveResourcesPopup:n}=this.state,{moveResourcesPopup:i}=t;n&&!i?(document.addEventListener("click",this.handleDocumentClick),document.addEventListener("keydown",this.handleDocumentKeydown)):!n&&i&&(document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleDocumentKeydown))}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleDocumentKeydown)}renderSelectStyleguides(){const{moveableStyleguides:e,movingResourcesToStyleguide:t,organizationId:n,currentUserId:r,barrel:o,moveResourcesPopup:s,barrelType:a}=this.state;if(!e.length){if("user"!==n)return i.h(d.NoStyleguideToMoveInOrganization,{oid:n});return r!==o.findOwner().user._id?i.h(d.NoStyleguideToMoveNonOwner,{resourceType:y[s.resourceType],barrelType:a,barrelOwnerName:o.username}):i.h(d.NoStyleguideToMove,{resourceType:y[s.resourceType]})}return i.h(d.default,{text:"Select a styleguide to move colors/text styles/components to:",loading:!!t,selected:t,onSelect:this.handleStyleguideSelect,styleguides:e})}renderMoveResourcesPopup(){const{moveResourcesPopup:e,barrel:t,barrelType:n,movingResourcesToStyleguide:r}=this.state,{targetNode:o,targetStyleguide:s}=e;let a;return a=this.getWarningDialogType()===v.COMPONENT?i.h(c.default,{loading:!!r,barrelType:n,onMove:this.handleMove,currentType:t.type,targetType:s.type}):this.renderSelectStyleguides(),i.h(u.default,{targetNode:o,content:a,top:-60,anchorTop:-4,openToLeft:!0,showAnchor:!0,open:!0})}render(){const{barrel:e,moveResourcesPopup:t}=this.state;if(!e||!t)return null;const{resourceType:n,targetStyleguide:r}=t;return i.h("div",null,this.renderMoveResourcesPopup(),this.getWarningDialogType()===v.BASIC_DIALOG&&i.h(f.BasicDialog,{positiveButtonText:"MOVE",onPositiveButtonClick:this.handleMove,negativeButtonText:"KEEP",hideNegativeButton:!1,onClose:p.StyleguideActions.deselectMoveResourcesTargetStyleguide,message:`Move ${S(n)} from "${e.name}" to "${r.name}"?`}))}}t.default=Object(r.default)(C)},function(e,t,n){"use strict";n.r(t);var i=n(1808);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(9),o=n(228),s=n(96),a=n(62);n(1809);t.default=function(e){const{onMove:t,barrelType:n,currentType:l,targetType:c,loading:d}=e;return i.h("div",{class:"moveComponentWarning"},i.h("h4",null,"☝️✂️"),i.h("p",null,"Your current ",n===s.default.PROJECT&&"local ","styleguide’s type is ",i.h("strong",null,Object(a.getPlatformString)(l)),", some of the assets"," ",i.h("strong",null,"may be missing")," if you link it to a styleguide with ",Object(a.getPlatformString)(c)," type.",i.h("br",null),i.h("br",null),"You can re-export components if you plan to link other type of projects to your styleguide."),i.h(r.default,{onClick:!d&&t,primary:!0},d?i.h(o.IconSpinner,{class:"iconSpinner",color:"#fff"}):"Move Anyway"))}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1812);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1228);n(1813);t.default=function(e){const{styleguide:t={},loading:n,loadingJoin:o,onJoin:s}=e,{_id:a,name:l,type:c,densityScale:d,users:u,colors:h,textStyles:p,componentSections:[{components:f}]=[{}]}=t;return i.h("div",{class:"styleguidePreviewPage"},n?i.h(r.StyleguidePreviewLoading,null):i.h(r.default,{showJoinButton:!0,headerSticky:!0,onJoin:function(){s({bid:a})},loadingJoin:o,name:l,type:c,densityScale:d,users:u,colors:h,textStyles:p,components:f}))}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1815);t.default=i.default},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(334),o=n(1816),s=n(342),a=n(658),l=n(349),c=n(44),d=n(62);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends i.Component{constructor(...e){super(...e),f(this,"handleAddLocal",async e=>{await e.load(),a.ExtensionsActions.add({extension:e,local:!0})}),f(this,"handleEnable",e=>{a.ExtensionsActions.enable({eid:e})}),f(this,"handleDisable",e=>{a.ExtensionsActions.disable({eid:e})}),f(this,"handleRemove",(e,{local:t=!1}={})=>{a.ExtensionsActions.remove({eid:e,local:t,syncWithApi:!0})})}static calculateState(){const{extensionId:e,extensions:t,enabledExtensions:n}=a.ExtensionsStore.getState(),i=t.map(e=>({id:e.id,default:e.default,enabled:n.includes(e.id),loaded:e.loaded,name:e.name,description:e.description,author:e.author,url:Object(c.getExtensionWebsiteUrl)({eid:e.id}),repository:e.repository,options:e.optionsSchema.map(t=>p(p({},t),{},{value:e.getOption(t.id)})),local:e.local})),{barrelId:r,barrelType:o,organizationId:l}=s.BarrelStore.getState(),u=s.BarrelHelpers.findUser();return{barrelId:r,barrelType:o,organizationId:l,selectedExtensionId:e,canRemoveExtensions:d.permissions.canRemoveExtensions(u),extensions:i,visible:!0,onUpdateOption:a.ExtensionsActions.updateOption}}static getStores(){return[s.BarrelStore,a.ExtensionsStore,l.UserStore]}render(){return i.h(o.default,u({},this.state,{onAddLocal:this.handleAddLocal,onEnable:this.handleEnable,onDisable:this.handleDisable,onRemove:this.handleRemove}))}}t.default=Object(r.default)(g)},function(e,t,n){"use strict";n.r(t);var i=n(1817);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var i=n(1),r=n(9),o=n(228),s=n(1818),a=n(1825),l=n(1828),c=n(1831),d=n(62),u=n(11),h=n(24),p=n(44),f=n(42),g=n(663),m=n(658);n(1834);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends i.Component{constructor(e){super(e),y(this,"handleAddLocal",e=>{const{extensions:t,onAddLocal:n}=this.props;g.WebappExtension.createLocal(e).then(i=>{t.some(e=>e.id===i.id)?this.setState({localExtension:i,localExtensionUrl:e}):(n(i),this.hideLocalExtensionPopup())}).catch(()=>{this.setState({localExtension:null,localExtensionUrl:e})})}),y(this,"handleUpdateOption",(e,t)=>{this.props.onUpdateOption(this.state.selectedExtensionId,e,t)}),y(this,"handleRemove",()=>{const e=this.props.extensions.find(e=>e.id===this.state.selectedExtensionId);this.setState({selectedExtensionId:null});const{barrelType:t,onRemove:n}=this.props;if(e.local)return void n(e.id,{local:!0});const i=Object(p.getExtensionWebsiteUrl)({eid:e.id});f.create({title:`Remove “${e.name}” from ${t}?`,message:`Extension will be removed for all members of this ${t}. You can add it back from <a href="${i}" target="_blank">extension page</a>.`,done:{name:"REMOVE",cb(){n(e.id)}},cancel:{name:"KEEP"}},{contentType:"html"})}),this.showSettings=this.showSettings.bind(this),this.handleBackLinkClick=this.handleBackLinkClick.bind(this),this.handleBackdropClick=this.handleBackdropClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleDocumentKeyUp=this.handleDocumentKeyUp.bind(this),this.showAddLocalExtensionPopup=this.showAddLocalExtensionPopup.bind(this),this.hideLocalExtensionPopup=this.hideLocalExtensionPopup.bind(this),this.state={selectedExtensionId:null,altPressed:!1,localExtensionPopupVisible:!1,localExtensionUrl:null,localExtension:null}}close(){m.ExtensionsActions.closeSettings()}hideLocalExtensionPopup(){this.setState({localExtensionPopupVisible:!1,localExtensionUrl:null,localExtension:null})}showAddLocalExtensionPopup(){g.WebappExtension.createLocal("http://127.0.0.1:7070").then(e=>{const t={localExtensionPopupVisible:!0};this.props.extensions.some(t=>t.id===e.id)||Object.assign(t,{localExtensionUrl:"http://127.0.0.1:7070",localExtension:e}),this.setState(t)}).catch(()=>{this.setState({localExtensionPopupVisible:!0,localExtensionUrl:null,localExtension:null})})}showSettings(e){this.setState({selectedExtensionId:e})}handleBackLinkClick(e){e.preventDefault(),this.setState({selectedExtensionId:null})}handleBackdropClick(e){e.stopPropagation(),this.close()}handleDocumentKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC?(e.stopPropagation(),this.close()):e.keyCode!==Zeplin.KEY_CODE.ALT||e.shiftKey||this.setState({altPressed:!0})}handleDocumentKeyUp(e){this.state.altPressed&&e.keyCode===Zeplin.KEY_CODE.ALT&&this.setState({altPressed:!1})}componentDidMount(){const{selectedExtensionId:e}=this.props;void 0!==e&&this.showSettings(e),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("keyup",this.handleDocumentKeyUp)}componentWillReceiveProps(e){e.selectedExtensionId!==this.props.selectedExtensionId&&void 0===e.selectedExtensionId&&this.showSettings(this.props.selectedExtensionId)}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("keyup",this.handleDocumentKeyUp)}renderContent(e){if(e)return i.h(a.default,b({onChange:this.handleUpdateOption},e));const{extensions:t,onEnable:n,onDisable:r}=this.props;return t.length?i.h(s.default,{extensions:t,onEnable:n,onDisable:r,onSettingsClick:this.showSettings}):i.h(l.default,{organizationId:this.props.organizationId})}render(){if(!this.props.visible)return;const{extensions:e,class:t,canRemoveExtensions:n,organizationId:s}=this.props,{localExtension:a,localExtensionUrl:l,localExtensionPopupVisible:f,selectedExtensionId:g,altPressed:m}=this.state,b=a&&e.some(e=>e.id===a.id),y=e.find(e=>e.id===g);return i.h("div",{class:"extensionDialogBackdrop",onClick:this.handleBackdropClick},i.h("div",{class:Object(u.default)("extensionDialog",t),onClick:d.stopPropagation,ref:Object(h.default)(this,"extensionDialog")},i.h("div",{class:"header"},y&&i.h("a",{onClick:this.handleBackLinkClick,href:"#",class:"backLink"},i.h(o.IconArrowLeft,{color:"var(--gandalf)"}),i.h("span",null,"Extensions")),i.h("h2",null,y?y.name:"Extensions"),m||f?i.h(r.default,{class:"addLocalExtension",disabled:f,onClick:this.showAddLocalExtensionPopup},"Add local extension"):i.h("a",{href:Object(p.getExtensionWebsiteUrl)({organizationId:s}),class:"explore",target:"_blank",rel:"noopener"},"Explore extensions")),i.h("div",{class:"main"},this.renderContent(y),f&&i.h(c.default,{top:this.nodeRefs.extensionDialog.getBoundingClientRect().top,initialUrl:l,alreadyAdded:b,onAdd:this.handleAddLocal,onClose:this.hideLocalExtensionPopup,extension:a})),i.h("div",{class:"footer"},y&&(y.local||n)&&i.h(r.default,{key:"remove",class:"remove",onClick:this.handleRemove},"REMOVE"),i.h(r.default,{key:"done",class:"done",onClick:this.close},"DONE"))))}}},function(e,t,n){"use strict";n.r(t);var i=n(1819);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1820),o=n(9),s=n(158),a=n(1580),l=n(228),c=n(11),d=n(18),u=n(44);n(1824);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){return i.h("div",{class:"extensionPreview"},i.h("p",null,"Extensions are built by community to generate code snippets from designs. Pick the ones that fit your workflow, or create your own and contribute. ",i.h("a",{href:Object(u.getExtensionWebsiteUrl)(),target:"_blank",rel:"noopener"},"Learn more…")),i.h("div",{class:"snippetExample"},i.h("div",{class:"sampleButtonWithArrow"},i.h("img",{src:Object(d.imageUrl)("img/icCurvedArrow.svg")}),i.h("div",{class:"sampleButton"},"Button")),i.h(a.default,{lang:"css",class:"sampleCode",content:".button-bg {\n\t\twidth: 200px;\n\t\theight: 40px;\n\t\tborder-radius: 20px;\n\t\tbackground-color: #fdbd39;\n\t\tbackground-color: var(--light-orange);\n\t\tbox-shadow: 0 0 4px 0 #2f333a;\n\t\tborder: solid 2px rgba(255, 255, 255, 0.4);\n}",asyncHighlight:!1,style:{fontSize:"12px",lineHeight:"14px"}})))}class f extends i.Component{constructor(...e){super(...e),h(this,"handleEnabledChange",e=>{(e.target.checked?this.props.onEnable:this.props.onDisable)(this.props.id)}),h(this,"handleSettingsClick",()=>{this.props.onSettingsClick(this.props.id)})}render(){const{name:e,author:t,repository:n,description:a,url:u,local:h,loaded:p,enabled:f}=this.props,g=[t.url,n];return i.h("div",{class:"extensionListItem"},h&&i.h("div",{class:"localExtensionInfo"},i.h("img",{src:Object(d.imageUrl)("img/emjConstructionTeyze.png"),srcSet:`${Object(d.imageUrl)("img/emjConstructionTeyze@2x.png")} 2x, ${Object(d.imageUrl)("img/emjConstructionTeyze@3x.png")} 3x`}),"Local extension, only visible to you."),i.h("label",null,i.h(s.default,{onChange:this.handleEnabledChange,checked:f}),i.h("div",{class:"extensionInfo"},i.h("div",null,i.h("span",{class:"name"},e),i.h("span",{class:"author"},t.displayName)),p?i.h("span",{class:"description"},a):i.h("span",{class:"error"},"Fetching extension failed"),i.h(r.default,{links:g}))),i.h("a",{class:Object(c.default)("readmeLink",{invisible:h}),href:u,target:"_blank",rel:"noopener"},i.h(l.IconReadme,null)),i.h(o.default,{class:"settingsButton",onClick:this.handleSettingsClick},i.h(l.IconSettings,null)))}}t.default=function({extensions:e,onEnable:t,onDisable:n,onSettingsClick:r}){const o=e.map(e=>{const{id:o,name:s,description:a,author:l,url:c,repository:d,enabled:u,loaded:h,local:p}=e;return i.h(f,{onEnable:t,onDisable:n,onSettingsClick:r,key:o,id:o,name:s,description:a,author:l,url:c,repository:d,enabled:u,loaded:h,local:p})});return i.h("div",{class:"barrelExtensions"},i.h(p,null),o)}},function(e,t,n){"use strict";n.r(t);var i=n(1821);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return o}));var i=n(1),r=n(1822);n(1823);function o({links:e}){const t=e.map(r.default).filter(Boolean).map(({text:e,url:t},n)=>[!!n&&" • ",i.h("a",{key:e,href:t,target:"_blank",rel:"noopener"},e)]);return i.h("span",{class:"extensionLinks"},t)}},function(e,t,n){"use strict";function i(e){try{const t=new URL(e);let n;switch(t.hostname){case"www.bitbucket.org":case"www.github.com":case"www.gitlab.com":case"bitbucket.org":case"github.com":case"gitlab.com":{const e=t.hostname.split(".");n=e[e.length-2];break}case"www.twitter.com":case"twitter.com":n=t.pathname.split("/")[1]||e.replace(/https?:\/\//,"");break;default:n=e.replace(/https?:\/\//,"")}return{url:e,text:n}}catch(t){return null}}n.r(t),n.d(t,"default",(function(){return i}))},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1826);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var i=n(1),r=n(1820),o=n(776),s=n(158),a=n(1303),l=n(228),c=n(18);n(1827);class d extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange(this.props.id,e)}render(){const{options:e,name:t,value:n}=this.props;return i.h("div",{class:"option"},i.h("span",{class:"name"},t),i.h(o.default,{onChange:this.handleChange,top:-12,left:96},function(e,t){return e.map((e,n)=>i.h(o.default.Item,{selected:e.value===t,label:e.name,value:e.value,key:e.value}))}(e,n)))}}class u extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange(this.props.id,e.target.checked)}render(){const{name:e,id:t,value:n}=this.props;return i.h("label",{class:"option"},i.h("span",{class:"name"},e),i.h(s.default,{name:t,onChange:this.handleChange,checked:n}))}}class h extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){e.target.value!==this.props.value&&this.props.onChange(this.props.id,e.target.value)}render(){const{name:e,value:t}=this.props;return i.h("label",{class:"option"},i.h("span",{class:"name"},e),i.h(a.default,{onBlur:this.handleChange,value:t,placeholder:"Let’s find a placeholder"}))}}function p(e){const{author:t,repository:n,description:o,url:s,local:a,options:p,onChange:f}=e,g=p.map(e=>{let t;switch(e.type){case"picker":t=d;break;case"switch":t=u;break;case"text":t=h;break;default:return null}return i.h(t,Object.assign(e,{onChange:f}))}).filter(Boolean),m=[t.url,n];return i.h("div",{class:"extensionSettings"},i.h("div",{class:"extensionInfo"},i.h("div",null,a&&i.h("div",{class:"localExtensionInfo"},i.h("img",{src:Object(c.imageUrl)("img/emjConstructionTeyze.png"),srcSet:`${Object(c.imageUrl)("img/emjConstructionTeyze@2x.png")} 2x, ${Object(c.imageUrl)("img/emjConstructionTeyze@3x.png")} 3x`}),"Local extension, only visible to you."),i.h("div",{class:"author"},t.displayName),i.h("div",{class:"description"},o),i.h(r.default,{links:m})),!a&&i.h("a",{class:"readmeLink",href:s,target:"_blank",rel:"noopener"},i.h(l.IconReadme,null))),g.length>0&&i.h("h3",null,"Settings"),g)}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1829);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var i=n(1),r=n(313),o=n(44);n(1830);function s({organizationId:e}){return i.h("div",{class:"noExtensions"},i.h("h2",null,"No added extensions yet ",i.h(r.default,{asset:"img/emjAlembic.png"})),i.h("p",null,"Extensions are built by the community, generating code snippets from designs.",i.h("br",null),"Looks like you don’t have any extensions enabled on this project.",i.h("br",null),i.h("br",null),"Pick the ones that fit your workflow."),i.h("a",{href:Object(o.getExtensionWebsiteUrl)({organizationId:e}),class:"explore",target:"_blank",rel:"noopener"},"Explore extensions"))}},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1832);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var i=n(1),r=n(9),o=n(1303),s=n(62),a=n(11),l=n(24),c=n(56);n(1833);class d extends i.Component{constructor(e){super(e),this.handleAddClick=this.handleAddClick.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleInputKeyDown=this.handleInputKeyDown.bind(this),this.state={urlChanged:!1,invalidUrl:!1}}focusTextInput(){const{extension:e,alreadyAdded:t,initialUrl:n}=this.props,{urlChanged:i}=this.state,{textInput:r}=this.nodeRefs;i||(n&&!e||t?Object(c.highlightInput)(r):r.focus())}setInitialUrl(){this.state.urlChanged||(this.nodeRefs.textInput.value=this.props.initialUrl)}handleAddClick(){const{textInput:e}=this.nodeRefs;let t=e.value;if(t){if(!e.checkValidity())return Object(c.wiggle)(e),Object(c.highlightInput)(e),void this.setState({invalidUrl:!0});/^https?:\/\//.test(t)||(t="http://"+t),this.props.onAdd(t)}}handleDocumentClick(e){this.nodeRefs.base.contains(e.target)||(e.preventDefault(),e.stopPropagation(),this.props.onClose())}handleDocumentKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.preventDefault(),e.stopPropagation(),this.props.onClose())}handleInputChange(){this.state.urlChanged&&!this.state.invalidUrl||this.setState({urlChanged:!0,invalidUrl:!1})}handleInputKeyDown(e){e.keyCode===Zeplin.KEY_CODE.ENTER&&(e.stopPropagation(),this.handleAddClick())}componentDidMount(){document.addEventListener("keydown",this.handleDocumentKeyDown,!0),document.addEventListener("click",this.handleDocumentClick,!0),this.focusTextInput(),this.setInitialUrl()}componentWillReceiveProps(e){this.setState({urlChanged:!1,invalidUrl:!1})}componentDidUpdate(){this.focusTextInput(),this.setInitialUrl()}componentWillUnmount(){document.removeEventListener("keydown",this.handleDocumentKeyDown,!0),document.removeEventListener("click",this.handleDocumentClick,!0)}renderInfo(){const{extension:e,alreadyAdded:t,initialUrl:n}=this.props,{urlChanged:r,invalidUrl:o}=this.state,s=n&&!e,l=r&&!o,c=s||t||o;let d;return o?d="Enter a valid URL.":t?d=`“${e.name}” is already added.`:e?d=`Found “${e.name}”.`:s&&(d="No extension found."),i.h("p",{class:Object(a.default)("info",{warning:c,invisible:l})},d)}render(){const{extension:e,alreadyAdded:t,initialUrl:n,onClose:a}=this.props,{urlChanged:c,invalidUrl:d}=this.state,u=d||!c&&(n&&!e||t);return i.h("div",{ref:Object(l.default)(this,"base"),class:"localExtensionPopup",onClick:s.stopPropagation},i.h("div",null,i.h("p",null,"Enter extension URL:"),i.h(o.default,{inputRef:Object(l.default)(this,"textInput"),type:"url",class:"localExtensionUrl",onInput:this.handleInputChange,onKeyDown:this.handleInputKeyDown,placeholder:"e.g. http://localhost:7070"}),this.renderInfo()),i.h("div",{class:"footer"},i.h(r.default,{class:"cancel",onClick:a},"CANCEL"),i.h(r.default,{class:"done",onClick:this.handleAddClick,disabled:u},"ADD")))}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1836);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(342),o=n(635),s=n(345),a=n(334),l=n(1837);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(e){super(e),c(this,"handleDocumentClick",e=>{e.button===Zeplin.MOUSE_BUTTON.LEFT&&o.ScreenActions.closeTagManager()}),c(this,"handleKeyDown",e=>{e.keyCode===Zeplin.KEY_CODE.ESC&&o.ScreenActions.closeTagManager()}),this.handleTagOperation=this.handleTagOperation.bind(this),this.handleAdd=this.handleAdd.bind(this),this.handleRemove=this.handleRemove.bind(this)}static getStores(){return[r.BarrelStore,o.ScreenStore,s.ProjectsDataStore]}static calculateState(){const{tags:e}=r.BarrelHelpers.getBarrel(),{tagManagerScreenId:t}=o.ScreenStore.getState();if(!t)return{};const{tags:n}=o.ScreenHelpers.getScreen({sid:t});return{screenId:t,tags:n,allTags:e}}handleTagOperation(e,t){const{screenId:n}=this.state;o.ScreenActions.updateTags({updates:[{_id:n,operation:t,tags:[e]}],syncWithApi:!0})}handleAdd(e){this.handleTagOperation(e,"add")}handleRemove(e){this.handleTagOperation(e,"remove")}componentDidMount(){document.addEventListener("click",this.handleDocumentClick),document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleKeyDown)}render(){const{tags:e,allTags:t}=this.state;return i.h(l.default,{tags:e,allTags:t,onAdd:this.handleAdd,onRemove:this.handleRemove,onClose:o.ScreenActions.closeTagManager})}}t.default=Object(a.default)(d)},function(e,t,n){"use strict";n.r(t);var i=n(1838);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(62),a=n(24),l=n(1839);n(1848);class c extends i.Component{constructor(e){super(e),this.state={filter:""},this.handleInputChange=this.handleInputChange.bind(this),this.handleAdd=this.handleAdd.bind(this)}handleInputChange(e){this.setState({filter:e.target.value})}handleAdd(e){const{onAdd:t}=this.props;this.setState({filter:""}),t(e)}componentDidMount(){this.nodeRefs.input.focus()}render(){const{tags:e,allTags:t,onRemove:n,onClose:r}=this.props,{filter:o}=this.state,c=o.trim(),d=t.filter(t=>!e.includes(t)).reduce((e,t)=>(t.toLowerCase().includes(o.toLowerCase())&&e.suggestionList.push({name:t}),e.shouldCreateNewTag&&t===c&&(e.shouldCreateNewTag=!1),e),{shouldCreateNewTag:!0,suggestionList:[]});return d.shouldCreateNewTag&&c&&!e.includes(c)&&d.suggestionList.push({name:c,isNew:!0}),i.h("div",{class:"tagManagerOverlay",onClick:r},i.h("div",{class:"tagManagerPopup",onClick:s.stopPropagation},i.h("input",{ref:Object(a.default)(this,"input"),value:o,class:"searchTags",placeholder:"Enter a tag",onInput:this.handleInputChange}),i.h(l.default,{tagList:e,suggestionList:d.suggestionList,onAddTag:this.handleAdd,onRemoveTag:n}),i.h("div",{class:"tagManagerCommands"},i.h("button",{class:"tagManagerDoneButton",onClick:r},"DONE"))))}}c.propTypes={tags:o.a.arrayOf(o.a.string).isRequired,allTags:o.a.arrayOf(o.a.string).isRequired,onAdd:o.a.func.isRequired,onRemove:o.a.func.isRequired,onClose:o.a.func.isRequired},c.defaultProps={tags:[],allTags:[]},t.default=c},function(e,t,n){"use strict";n.r(t);var i=n(1840);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(1841),o=n(1844),s=n(18),a=n(62),l=n(24),c=n(56);n(1847);class d extends i.Component{constructor(e){super(e),this.state={selectedSuggestionIndex:0},this.handleSuggestionMouseEnter=this.handleSuggestionMouseEnter.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}handleSuggestionMouseEnter(e){this.setState({selectedSuggestionIndex:e})}handleKeyDown(e){if(e.keyCode===Zeplin.KEY_CODE.ArrowUp){e.preventDefault();const{selectedSuggestionIndex:t}=this.state;0!==t&&this.setState({selectedSuggestionIndex:t-1})}else if(e.keyCode===Zeplin.KEY_CODE.ArrowDown){e.preventDefault();const{selectedSuggestionIndex:t}=this.state;t!==this.props.suggestionList.length-1&&this.setState({selectedSuggestionIndex:t+1})}else if(e.keyCode===Zeplin.KEY_CODE.ENTER){e.preventDefault();const{onAddTag:t,suggestionList:n}=this.props,{selectedSuggestionIndex:i}=this.state;n.length&&t(n[i].name)}}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillReceiveProps(e){Object(a.arrayEqual)(e.suggestionList,this.props.suggestionList,(e,t)=>e.name===t.name&&e.isNew===t.isNew)||this.setState({selectedSuggestionIndex:0})}componentDidUpdate(){this.nodeRefs&&this.nodeRefs.selectedSuggestion&&Object(c.scrollIfNecessary)(this.nodeRefs.selectedSuggestion.base)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}renderScreenTags(){const{tagList:e,onRemoveTag:t}=this.props;return i.h("div",{class:"screenTags"},e.map(e=>i.h(o.default,{key:e,tag:e,onRemove:t})))}renderContent(){const{suggestionList:e,tagList:t,onAddTag:n}=this.props,{selectedSuggestionIndex:o}=this.state;return i.h("div",{class:"tagList"},t.length?this.renderScreenTags():i.h("span",{class:"noTagsOnScreen"},"No tags on this screen yet, add one!"),e.map((e,t)=>{let s;return o===t&&(s=Object(l.default)(this,"selectedSuggestion")),i.h(r.default,{key:e.name,suggestionName:e.name,suggestionIndex:t,selected:o===t,isNew:e.isNew,ref:s,onClick:n,onMouseEnter:this.handleSuggestionMouseEnter})}))}renderProjectWithNoTags(){return i.h("div",{class:"tagList"},i.h("div",{class:"noTagsOrSuggestions"},i.h("img",{class:"noTagsTagIcon",src:Object(s.imageUrl)("img/icTag.svg")}),i.h("p",null,"No tag defined yet."),i.h("div",{class:"textAndIcon"},i.h("p",null,"Go ahead, add your first tag!"),i.h("img",{src:Object(s.imageUrl)("img/icDart.svg"),srcset:Object(s.srcset)(Object(s.imageUrl)("img/icDart.png"))}))))}render(){const{tagList:e,suggestionList:t}=this.props;return e.length||t.length?this.renderContent():this.renderProjectWithNoTags()}}t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(1842);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(340),o=n(9),s=n(11),a=n(18);n(1843);class l extends r.default{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this)}handleClick(){const{suggestionName:e,onClick:t}=this.props;t(e)}handleMouseEnter(){const{suggestionIndex:e,onMouseEnter:t}=this.props;t(e)}render(){const{selected:e,suggestionName:t,isNew:n}=this.props;return i.h(o.default,{class:Object(s.default)("suggestion",{isNew:n},{selected:e}),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter},n?i.h("div",{class:"createNewTag"},i.h("img",{src:Object(a.imageUrl)("img/icCreateNewTag.svg")}),i.h("span",{class:"ellipsis"},'Create new tag "',t,'"')):i.h("span",{class:"suggestionText ellipsis"},t))}}t.default=l},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1845);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(18),o=n(9);n(1846);class s extends i.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){const{tag:e,onRemove:t}=this.props;t(e)}render(){const{tag:e}=this.props;return i.h("div",{class:"manageTagsTag noSelect"},i.h("span",{class:"tagButtonText ellipsis"},e),i.h(o.default,{onClick:this.handleClick,class:"removeTagButton"},i.h("img",{src:Object(r.imageUrl)("img/icGuidelineRemove.svg")})))}}t.default=s},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1850);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(334),o=n(690),s=n(1851),a=n(695),l=n(342);class c extends i.Component{static calculateState(){const{open:e,inid:t,channelName:n,eventGroupsByInid:i,loading:r}=o.SlackPreferencesStore.getState(),{barrelType:s}=l.BarrelStore.getState(),c=i[t],d=a.eventGroupsByBarrelType[s];return{open:e,channelName:n,preferenceGroups:Object.entries(d).map(([e,t])=>({title:t.name,description:t.info,loading:r.includes(e),checked:Boolean(c&&c[e]&&c[e].length===t.events.length),eventGroup:e}))}}static getStores(){return[o.SlackPreferencesStore,l.BarrelStore]}render(){const{open:e,channelName:t,preferenceGroups:n}=this.state;return e&&i.h(s.default,{channelName:t,preferenceGroups:n,onPreferenceGroupStateChange:o.SlackPreferencesActions.updateEventGroup,onClose:o.SlackPreferencesActions.close})}}t.default=Object(r.default)(c)},function(e,t,n){"use strict";n.r(t);var i=n(1852);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(6),o=n.n(r),s=n(1853),a=(n(1856),n(24));class l extends i.Component{constructor(e){super(e),this.handleDialogContainerClick=this.handleDialogContainerClick.bind(this)}handleDialogContainerClick(e){e.stopPropagation(),this.props.onClose()}handleDialogClick(e){e.stopPropagation()}componentDidMount(){this.nodeRefs.container.scrollTop=1,this.nodeRefs.container.scrollTop=0}render(){const{channelName:e,preferenceGroups:t,onPreferenceGroupStateChange:n,onClose:r}=this.props;return i.h("div",{class:"slackPreferencesDialogContainer",onClick:this.handleDialogContainerClick},i.h("div",{class:"slackPreferencesDialog",onClick:this.handleDialogClick},i.h("div",{class:"slackPreferencesDialogHeader"},"Choose what to see in ",i.h("span",{title:e},e)),i.h("div",{ref:Object(a.default)(this,"container"),class:"slackPreferenceGroupsContainer"},t.map(({title:e,description:t,loading:r,checked:o,eventGroup:a})=>i.h(s.default,{key:a,title:e,description:t,loading:r,checked:o,onChange:n,eventGroup:a}))),i.h("div",{class:"slackPreferencesDialogFooter"},i.h("button",{class:"slackPreferencesDialogDone",onClick:r},"DONE"))))}}l.propTypes={channelName:o.a.string.isRequired,preferenceGroups:o.a.array.isRequired,onPreferenceGroupStateChange:o.a.func.isRequired,onClose:o.a.func.isRequired},t.default=l},function(e,t,n){"use strict";n.r(t);var i=n(1854);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(11),o=n(158),s=n(6),a=n.n(s);n(1855);class l extends i.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){const{onChange:t,eventGroup:n}=this.props;t(n,e.target.checked)}render(){const{title:e,description:t,loading:n,checked:s}=this.props;return i.h("label",{className:Object(r.default)("slackPreferenceGroup",{loading:n})},i.h("div",{className:"slackPreferenceGroupInfo"},i.h("div",{className:"slackPreferenceGroupName",title:e},e),i.h("div",{className:"slackPreferenceGroupDescription",title:t},t)),i.h(o.default,{class:"slackPreferenceGroupCheckbox",disabled:n,checked:s,onChange:this.handleChange}))}}l.propTypes={title:a.a.string.isRequired,description:a.a.string.isRequired,loading:a.a.bool.isRequired,checked:a.a.bool.isRequired,onChange:a.a.func.isRequired,eventGroup:a.a.string.isRequired},t.default=l},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var i=n(1859);n.d(t,"default",(function(){return i.default}))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var i=n(1),r=n(67),o=n(296),s=n(313),a=n(9),l=n(56),c=n(40),d=n(64),u=n(11);n(1860);const h="fallback",p="initial",f="downloading",g="ready";function m(){const[e,t]=Object(o.useState)(0);Object(o.useEffect)(()=>{const n=setInterval(()=>{t((e+1)%3)},1e3);return()=>clearInterval(n)});const n=""+".".repeat(e+1);return i.h(a.default,{class:"downloadingUpdates",primary:!0,disabled:!0},"Downloading",n)}function b(){const[e,t]=Object(o.useState)(function(){const e=Object(d.getAppVersion)();return!("unknown"!==e&&!e.startsWith("0")&&!e.startsWith("1"))}()?h:p);function n(){Object(l.openLink)("https://zpl.io/download-windows-64")}function b(){t(f),location.assign(c.ZPL_PROTOCOL+"//update")}function y(){t(g)}function S(){r.default.ipcRenderer.send("restart-app")}return Object(o.useEffect)(()=>(r.default.ipcRenderer.on("app-update-downloaded",y),()=>r.default.ipcRenderer.removeAllListeners("app-update-downloaded"))),i.h("main",{class:Object(u.default)("windowsAppForceUpdateNotifier",e)},e===g?i.h(s.default,{asset:"/img/imgUpdatedApp.png"}):i.h(s.default,{asset:"/img/imgUpdateApp.png"}),e===g?i.h("h1",null,"Update complete"):e===h?i.h("h1",null,"Download the new Windows app"):i.h("h1",null,"Unbox the new Windows app"),e===g?i.h("p",null,"Congratulations—you can now take advantage of the new, faster Windows app."):e===h?i.h("p",null,"We've built a better and faster Windows app, please download to continue."):i.h("p",null,"We've built a better and faster Windows app, please install the update to continue."),function(){switch(e){case p:return i.h(a.default,{primary:!0,onClick:b},"Install update");case f:return i.h(m,null);case g:return i.h(a.default,{primary:!0,onClick:S},"Relaunch app");default:return i.h(a.default,{primary:!0,onClick:n},"Download new Windows app")}}(),i.h("p",null,"Ping us at ",i.h("a",{href:"mailto:support@zeplin.io"},"support@zeplin.io")," if you have any questions."))}},function(e,t){},function(e,t){}]);
//# sourceMappingURL=maps/app.map.js